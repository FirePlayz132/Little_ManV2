(function ($hx_exports, $global) { "use strict"; var $hx_script = (function (exports, global) { (function ($hx_exports, $global) { "use strict";
$hx_exports["lime"] = $hx_exports["lime"] || {};
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var Achievements = function() { };
$hxClasses["Achievements"] = Achievements;
Achievements.__name__ = "Achievements";
Achievements.unlockAchievement = function(name) {
	Achievements.achievementsMap.h[name] = true;
	flixel_FlxG.sound.play(Paths.sound("confirmMenu"),0.7);
};
Achievements.isAchievementUnlocked = function(name) {
	if(Object.prototype.hasOwnProperty.call(Achievements.achievementsMap.h,name) && Achievements.achievementsMap.h[name]) {
		return true;
	}
	return false;
};
Achievements.getAchievementIndex = function(name) {
	var _g = 0;
	var _g1 = Achievements.achievementsStuff.length;
	while(_g < _g1) {
		var i = _g++;
		if(Achievements.achievementsStuff[i][2] == name) {
			return i;
		}
	}
	return -1;
};
Achievements.loadAchievements = function() {
	if(flixel_FlxG.save.data != null) {
		if(flixel_FlxG.save.data.achievementsMap != null) {
			Achievements.achievementsMap = flixel_FlxG.save.data.achievementsMap;
		}
		if(flixel_FlxG.save.data.achievementsUnlocked != null) {
			var savedStuff = flixel_FlxG.save.data.achievementsUnlocked;
			var _g = 0;
			var _g1 = savedStuff.length;
			while(_g < _g1) {
				var i = _g++;
				Achievements.achievementsMap.h[savedStuff[i]] = true;
			}
		}
		if(Achievements.henchmenDeath == 0 && flixel_FlxG.save.data.henchmenDeath != null) {
			Achievements.henchmenDeath = flixel_FlxG.save.data.henchmenDeath;
		}
	}
};
var flixel_util_IFlxDestroyable = function() { };
$hxClasses["flixel.util.IFlxDestroyable"] = flixel_util_IFlxDestroyable;
flixel_util_IFlxDestroyable.__name__ = "flixel.util.IFlxDestroyable";
flixel_util_IFlxDestroyable.__isInterface__ = true;
flixel_util_IFlxDestroyable.prototype = {
	destroy: null
	,__class__: flixel_util_IFlxDestroyable
};
var flixel_FlxBasic = function() {
	this.flixelType = 0;
	this.exists = true;
	this.alive = true;
	this.visible = true;
	this.active = true;
	this.ID = flixel_FlxBasic.idEnumerator++;
};
$hxClasses["flixel.FlxBasic"] = flixel_FlxBasic;
flixel_FlxBasic.__name__ = "flixel.FlxBasic";
flixel_FlxBasic.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_FlxBasic.prototype = {
	ID: null
	,active: null
	,visible: null
	,alive: null
	,exists: null
	,flixelType: null
	,_cameras: null
	,destroy: function() {
		this.set_exists(false);
		this._cameras = null;
	}
	,kill: function() {
		this.set_alive(false);
		this.set_exists(false);
	}
	,revive: function() {
		this.set_alive(true);
		this.set_exists(true);
	}
	,update: function(elapsed) {
	}
	,draw: function() {
	}
	,toString: function() {
		var value = this.active;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "active";
		_this.value = value;
		var value = this.visible;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "visible";
		_this1.value = value;
		var value = this.alive;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "alive";
		_this2.value = value;
		var value = this.exists;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "exists";
		_this3.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
	}
	,set_visible: function(Value) {
		return this.visible = Value;
	}
	,set_active: function(Value) {
		return this.active = Value;
	}
	,set_exists: function(Value) {
		return this.exists = Value;
	}
	,set_alive: function(Value) {
		return this.alive = Value;
	}
	,get_camera: function() {
		if(this._cameras == null || this._cameras.length == 0) {
			return flixel_FlxCamera._defaultCameras[0];
		} else {
			return this._cameras[0];
		}
	}
	,set_camera: function(Value) {
		if(this._cameras == null) {
			this._cameras = [Value];
		} else {
			this._cameras[0] = Value;
		}
		return Value;
	}
	,get_cameras: function() {
		if(this._cameras == null) {
			return flixel_FlxCamera._defaultCameras;
		} else {
			return this._cameras;
		}
	}
	,set_cameras: function(Value) {
		return this._cameras = Value;
	}
	,__class__: flixel_FlxBasic
	,__properties__: {set_cameras:"set_cameras",get_cameras:"get_cameras",set_camera:"set_camera",get_camera:"get_camera",set_exists:"set_exists",set_alive:"set_alive",set_visible:"set_visible",set_active:"set_active"}
};
var flixel_util_IFlxPooled = function() { };
$hxClasses["flixel.util.IFlxPooled"] = flixel_util_IFlxPooled;
flixel_util_IFlxPooled.__name__ = "flixel.util.IFlxPooled";
flixel_util_IFlxPooled.__isInterface__ = true;
flixel_util_IFlxPooled.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util_IFlxPooled.prototype = {
	put: null
	,_inPool: null
	,__class__: flixel_util_IFlxPooled
};
var flixel_util_IFlxPool = function() { };
$hxClasses["flixel.util.IFlxPool"] = flixel_util_IFlxPool;
flixel_util_IFlxPool.__name__ = "flixel.util.IFlxPool";
flixel_util_IFlxPool.__isInterface__ = true;
flixel_util_IFlxPool.prototype = {
	preAllocate: null
	,clear: null
	,__class__: flixel_util_IFlxPool
};
var flixel_util_FlxPool_$flixel_$math_$FlxRect = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool_flixel_math_FlxRect"] = flixel_util_FlxPool_$flixel_$math_$FlxRect;
flixel_util_FlxPool_$flixel_$math_$FlxRect.__name__ = "flixel.util.FlxPool_flixel_math_FlxRect";
flixel_util_FlxPool_$flixel_$math_$FlxRect.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool_$flixel_$math_$FlxRect.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.destroy();
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.destroy();
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool_$flixel_$math_$FlxRect
	,__properties__: {get_length:"get_length"}
};
var flixel_math_FlxRect = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._inPool = false;
	this._weak = false;
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	this.x = X1;
	this.y = Y1;
	this.width = Width1;
	this.height = Height1;
};
$hxClasses["flixel.math.FlxRect"] = flixel_math_FlxRect;
flixel_math_FlxRect.__name__ = "flixel.math.FlxRect";
flixel_math_FlxRect.__interfaces__ = [flixel_util_IFlxPooled];
flixel_math_FlxRect.__properties__ = {get_pool:"get_pool"};
flixel_math_FlxRect.get = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	return rect;
};
flixel_math_FlxRect.weak = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X = X1;
	var Y = Y1;
	var Width = Width1;
	var Height = Height1;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.x = X;
	_this.y = Y;
	_this.width = Width;
	_this.height = Height;
	var rect = _this;
	rect._inPool = false;
	var rect1 = rect;
	rect1._weak = true;
	return rect1;
};
flixel_math_FlxRect.get_pool = function() {
	return flixel_math_FlxRect._pool;
};
flixel_math_FlxRect.prototype = {
	x: null
	,y: null
	,width: null
	,height: null
	,_weak: null
	,_inPool: null
	,put: function() {
		if(!this._inPool) {
			this._inPool = true;
			this._weak = false;
			flixel_math_FlxRect._pool.putUnsafe(this);
		}
	}
	,putWeak: function() {
		if(this._weak) {
			if(!this._inPool) {
				this._inPool = true;
				this._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(this);
			}
		}
	}
	,setSize: function(Width,Height) {
		this.width = Width;
		this.height = Height;
		return this;
	}
	,setPosition: function(x,y) {
		this.x = x;
		this.y = y;
		return this;
	}
	,set: function(X,Y,Width,Height) {
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,copyFrom: function(Rect) {
		this.x = Rect.x;
		this.y = Rect.y;
		this.width = Rect.width;
		this.height = Rect.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return this;
	}
	,copyTo: function(Rect) {
		Rect.x = this.x;
		Rect.y = this.y;
		Rect.width = this.width;
		Rect.height = this.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return Rect;
	}
	,copyFromFlash: function(FlashRect) {
		this.x = FlashRect.x;
		this.y = FlashRect.y;
		this.width = FlashRect.width;
		this.height = FlashRect.height;
		return this;
	}
	,copyToFlash: function(FlashRect) {
		if(FlashRect == null) {
			FlashRect = new openfl_geom_Rectangle();
		}
		FlashRect.x = this.x;
		FlashRect.y = this.y;
		FlashRect.width = this.width;
		FlashRect.height = this.height;
		return FlashRect;
	}
	,overlaps: function(Rect) {
		var result = Rect.x + Rect.width > this.x && Rect.x < this.x + this.width && Rect.y + Rect.height > this.y && Rect.y < this.y + this.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return result;
	}
	,containsPoint: function(Point) {
		var result = flixel_math_FlxMath.pointInFlxRect(Point.x,Point.y,this);
		if(Point._weak) {
			Point.put();
		}
		return result;
	}
	,union: function(Rect) {
		var minX = Math.min(this.x,Rect.x);
		var minY = Math.min(this.y,Rect.y);
		var maxX = Math.max(this.x + this.width,Rect.x + Rect.width);
		var maxY = Math.max(this.y + this.height,Rect.y + Rect.height);
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,floor: function() {
		this.x = Math.floor(this.x);
		this.y = Math.floor(this.y);
		this.width = Math.floor(this.width);
		this.height = Math.floor(this.height);
		return this;
	}
	,ceil: function() {
		this.x = Math.ceil(this.x);
		this.y = Math.ceil(this.y);
		this.width = Math.ceil(this.width);
		this.height = Math.ceil(this.height);
		return this;
	}
	,round: function() {
		this.x = Math.round(this.x);
		this.y = Math.round(this.y);
		this.width = Math.round(this.width);
		this.height = Math.round(this.height);
		return this;
	}
	,fromTwoPoints: function(Point1,Point2) {
		var minX = Math.min(Point1.x,Point2.x);
		var minY = Math.min(Point1.y,Point2.y);
		var maxX = Math.max(Point1.x,Point2.x);
		var maxY = Math.max(Point1.y,Point2.y);
		if(Point1._weak) {
			Point1.put();
		}
		if(Point2._weak) {
			Point2.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,unionWithPoint: function(Point) {
		var minX = Math.min(this.x,Point.x);
		var minY = Math.min(this.y,Point.y);
		var maxX = Math.max(this.x + this.width,Point.x);
		var maxY = Math.max(this.y + this.height,Point.y);
		if(Point._weak) {
			Point.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,offset: function(dx,dy) {
		this.x += dx;
		this.y += dy;
		return this;
	}
	,getRotatedBounds: function(degrees,origin,newRect) {
		if(origin == null) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			origin = point1;
		}
		if(newRect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			newRect = rect;
		}
		degrees %= 360;
		if(degrees == 0) {
			if(origin._weak) {
				origin.put();
			}
			var X = this.x;
			var Y = this.y;
			var Width = this.width;
			var Height = this.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			newRect.x = X;
			newRect.y = Y;
			newRect.width = Width;
			newRect.height = Height;
			return newRect;
		}
		if(degrees < 0) {
			degrees += 360;
		}
		var radians = Math.PI / 180 * degrees;
		var cos = Math.cos(radians);
		var sin = Math.sin(radians);
		var left = -origin.x;
		var top = -origin.y;
		var right = -origin.x + this.width;
		var bottom = -origin.y + this.height;
		if(degrees < 90) {
			newRect.x = this.x + origin.x + cos * left - sin * bottom;
			newRect.y = this.y + origin.y + sin * left + cos * top;
		} else if(degrees < 180) {
			newRect.x = this.x + origin.x + cos * right - sin * bottom;
			newRect.y = this.y + origin.y + sin * left + cos * bottom;
		} else if(degrees < 270) {
			newRect.x = this.x + origin.x + cos * right - sin * top;
			newRect.y = this.y + origin.y + sin * right + cos * bottom;
		} else {
			newRect.x = this.x + origin.x + cos * left - sin * top;
			newRect.y = this.y + origin.y + sin * right + cos * top;
		}
		var newHeight = Math.abs(cos * this.height) + Math.abs(sin * this.width);
		newRect.width = Math.abs(cos * this.width) + Math.abs(sin * this.height);
		newRect.height = newHeight;
		if(origin._weak) {
			origin.put();
		}
		return newRect;
	}
	,destroy: function() {
	}
	,equals: function(rect) {
		var result = Math.abs(this.x - rect.x) <= 0.0000001 && Math.abs(this.y - rect.y) <= 0.0000001 && Math.abs(this.width - rect.width) <= 0.0000001 && Math.abs(this.height - rect.height) <= 0.0000001;
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		return result;
	}
	,intersection: function(rect,result) {
		if(result == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect1 = _this;
			rect1._inPool = false;
			result = rect1;
		}
		var x0 = this.x < rect.x ? rect.x : this.x;
		var x1 = this.x + this.width > rect.x + rect.width ? rect.x + rect.width : this.x + this.width;
		if(x1 <= x0) {
			if(rect._weak) {
				if(!rect._inPool) {
					rect._inPool = true;
					rect._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(rect);
				}
			}
			return result;
		}
		var y0 = this.y < rect.y ? rect.y : this.y;
		var y1 = this.y + this.height > rect.y + rect.height ? rect.y + rect.height : this.y + this.height;
		if(y1 <= y0) {
			if(rect._weak) {
				if(!rect._inPool) {
					rect._inPool = true;
					rect._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(rect);
				}
			}
			return result;
		}
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		var X = x0;
		var Y = y0;
		var Width = x1 - x0;
		var Height = y1 - y0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		result.x = X;
		result.y = Y;
		result.width = Width;
		result.height = Height;
		return result;
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		var value = this.width;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "w";
		_this2.value = value;
		var value = this.height;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "h";
		_this3.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
	}
	,get_left: function() {
		return this.x;
	}
	,set_left: function(Value) {
		this.width -= Value - this.x;
		return this.x = Value;
	}
	,get_right: function() {
		return this.x + this.width;
	}
	,set_right: function(Value) {
		this.width = Value - this.x;
		return Value;
	}
	,get_top: function() {
		return this.y;
	}
	,set_top: function(Value) {
		this.height -= Value - this.y;
		return this.y = Value;
	}
	,get_bottom: function() {
		return this.y + this.height;
	}
	,set_bottom: function(Value) {
		this.height = Value - this.y;
		return Value;
	}
	,get_isEmpty: function() {
		if(this.width != 0) {
			return this.height == 0;
		} else {
			return true;
		}
	}
	,__class__: flixel_math_FlxRect
	,__properties__: {get_isEmpty:"get_isEmpty",set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}
};
var flixel_FlxObject = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = 0;
	var Y1 = 0;
	var Width1 = 0;
	var Height1 = 0;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	this._rect = rect;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._point = point;
	this.path = null;
	this.collisonXDrag = true;
	this.allowCollisions = 4369;
	this.wasTouching = 0;
	this.touching = 0;
	this.health = 1;
	this.maxAngular = 10000;
	this.angularDrag = 0;
	this.angularAcceleration = 0;
	this.angularVelocity = 0;
	this.elasticity = 0;
	this.mass = 1;
	this.immovable = false;
	this.moves = true;
	this.angle = 0;
	this.pixelPerfectPosition = true;
	this.y = 0;
	this.x = 0;
	flixel_FlxBasic.call(this);
	this.set_x(X);
	this.set_y(Y);
	this.set_width(Width);
	this.set_height(Height);
	this.initVars();
};
$hxClasses["flixel.FlxObject"] = flixel_FlxObject;
flixel_FlxObject.__name__ = "flixel.FlxObject";
flixel_FlxObject.separate = function(Object1,Object2) {
	var separatedX = flixel_FlxObject.separateX(Object1,Object2);
	var separatedY = flixel_FlxObject.separateY(Object1,Object2);
	if(!separatedX) {
		return separatedY;
	} else {
		return true;
	}
};
flixel_FlxObject.updateTouchingFlags = function(Object1,Object2) {
	var touchingX = flixel_FlxObject.updateTouchingFlagsX(Object1,Object2);
	var touchingY = flixel_FlxObject.updateTouchingFlagsY(Object1,Object2);
	if(!touchingX) {
		return touchingY;
	} else {
		return true;
	}
};
flixel_FlxObject.computeOverlapX = function(Object1,Object2,checkMaxOverlap) {
	if(checkMaxOverlap == null) {
		checkMaxOverlap = true;
	}
	var overlap = 0;
	var obj1delta = Object1.x - Object1.last.x;
	var obj2delta = Object2.x - Object2.last.x;
	if(obj1delta != obj2delta) {
		var obj1deltaAbs = obj1delta > 0 ? obj1delta : -obj1delta;
		var obj2deltaAbs = obj2delta > 0 ? obj2delta : -obj2delta;
		var _this = flixel_FlxObject._firstSeparateFlxRect;
		var X = Object1.x - (obj1delta > 0 ? obj1delta : 0);
		var Y = Object1.last.y;
		var Width = Object1.get_width() + obj1deltaAbs;
		var Height = Object1.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj1rect = _this;
		var _this = flixel_FlxObject._secondSeparateFlxRect;
		var X = Object2.x - (obj2delta > 0 ? obj2delta : 0);
		var Y = Object2.last.y;
		var Width = Object2.get_width() + obj2deltaAbs;
		var Height = Object2.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj2rect = _this;
		if(obj1rect.x + obj1rect.width > obj2rect.x && obj1rect.x < obj2rect.x + obj2rect.width && obj1rect.y + obj1rect.height > obj2rect.y && obj1rect.y < obj2rect.y + obj2rect.height) {
			var maxOverlap = checkMaxOverlap ? obj1deltaAbs + obj2deltaAbs + flixel_FlxObject.SEPARATE_BIAS : 0;
			if(obj1delta > obj2delta) {
				overlap = Object1.x + Object1.get_width() - Object2.x;
				if(checkMaxOverlap && overlap > maxOverlap || (Object1.allowCollisions & 16) == 0 || (Object2.allowCollisions & 1) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 16;
					Object2.touching |= 1;
				}
			} else if(obj1delta < obj2delta) {
				overlap = Object1.x - Object2.get_width() - Object2.x;
				if(checkMaxOverlap && -overlap > maxOverlap || (Object1.allowCollisions & 1) == 0 || (Object2.allowCollisions & 16) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 1;
					Object2.touching |= 16;
				}
			}
		}
	}
	return overlap;
};
flixel_FlxObject.separateX = function(Object1,Object2) {
	var obj1immovable = Object1.immovable;
	var obj2immovable = Object2.immovable;
	if(obj1immovable && obj2immovable) {
		return false;
	}
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.separateX);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.separateX,true);
	}
	var overlap = flixel_FlxObject.computeOverlapX(Object1,Object2);
	if(overlap != 0) {
		var obj1v = Object1.velocity.x;
		var obj2v = Object2.velocity.x;
		if(!obj1immovable && !obj2immovable) {
			overlap *= 0.5;
			Object1.set_x(Object1.x - overlap);
			Object2.set_x(Object2.x + overlap);
			var obj1velocity = Math.sqrt(obj2v * obj2v * Object2.mass / Object1.mass) * (obj2v > 0 ? 1 : -1);
			var obj2velocity = Math.sqrt(obj1v * obj1v * Object1.mass / Object2.mass) * (obj1v > 0 ? 1 : -1);
			var average = (obj1velocity + obj2velocity) * 0.5;
			obj1velocity -= average;
			obj2velocity -= average;
			Object1.velocity.set_x(average + obj1velocity * Object1.elasticity);
			Object2.velocity.set_x(average + obj2velocity * Object2.elasticity);
		} else if(!obj1immovable) {
			Object1.set_x(Object1.x - overlap);
			Object1.velocity.set_x(obj2v - obj1v * Object1.elasticity);
		} else if(!obj2immovable) {
			Object2.set_x(Object2.x + overlap);
			Object2.velocity.set_x(obj1v - obj2v * Object2.elasticity);
		}
		return true;
	}
	return false;
};
flixel_FlxObject.updateTouchingFlagsX = function(Object1,Object2) {
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.updateTouchingFlagsX);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.updateTouchingFlagsX,true);
	}
	return flixel_FlxObject.computeOverlapX(Object1,Object2,false) != 0;
};
flixel_FlxObject.computeOverlapY = function(Object1,Object2,checkMaxOverlap) {
	if(checkMaxOverlap == null) {
		checkMaxOverlap = true;
	}
	var overlap = 0;
	var obj1delta = Object1.y - Object1.last.y;
	var obj2delta = Object2.y - Object2.last.y;
	if(obj1delta != obj2delta) {
		var obj1deltaAbs = obj1delta > 0 ? obj1delta : -obj1delta;
		var obj2deltaAbs = obj2delta > 0 ? obj2delta : -obj2delta;
		var _this = flixel_FlxObject._firstSeparateFlxRect;
		var X = Object1.x;
		var Y = Object1.y - (obj1delta > 0 ? obj1delta : 0);
		var Width = Object1.get_width();
		var Height = Object1.get_height() + obj1deltaAbs;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj1rect = _this;
		var _this = flixel_FlxObject._secondSeparateFlxRect;
		var X = Object2.x;
		var Y = Object2.y - (obj2delta > 0 ? obj2delta : 0);
		var Width = Object2.get_width();
		var Height = Object2.get_height() + obj2deltaAbs;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj2rect = _this;
		if(obj1rect.x + obj1rect.width > obj2rect.x && obj1rect.x < obj2rect.x + obj2rect.width && obj1rect.y + obj1rect.height > obj2rect.y && obj1rect.y < obj2rect.y + obj2rect.height) {
			var maxOverlap = checkMaxOverlap ? obj1deltaAbs + obj2deltaAbs + flixel_FlxObject.SEPARATE_BIAS : 0;
			if(obj1delta > obj2delta) {
				overlap = Object1.y + Object1.get_height() - Object2.y;
				if(checkMaxOverlap && overlap > maxOverlap || (Object1.allowCollisions & 4096) == 0 || (Object2.allowCollisions & 256) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 4096;
					Object2.touching |= 256;
				}
			} else if(obj1delta < obj2delta) {
				overlap = Object1.y - Object2.get_height() - Object2.y;
				if(checkMaxOverlap && -overlap > maxOverlap || (Object1.allowCollisions & 256) == 0 || (Object2.allowCollisions & 4096) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 256;
					Object2.touching |= 4096;
				}
			}
		}
	}
	return overlap;
};
flixel_FlxObject.separateY = function(Object1,Object2) {
	var obj1immovable = Object1.immovable;
	var obj2immovable = Object2.immovable;
	if(obj1immovable && obj2immovable) {
		return false;
	}
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.separateY);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.separateY,true);
	}
	var overlap = flixel_FlxObject.computeOverlapY(Object1,Object2);
	if(overlap != 0) {
		var obj1delta = Object1.y - Object1.last.y;
		var obj2delta = Object2.y - Object2.last.y;
		var obj1v = Object1.velocity.y;
		var obj2v = Object2.velocity.y;
		if(!obj1immovable && !obj2immovable) {
			overlap *= 0.5;
			Object1.set_y(Object1.y - overlap);
			Object2.set_y(Object2.y + overlap);
			var obj1velocity = Math.sqrt(obj2v * obj2v * Object2.mass / Object1.mass) * (obj2v > 0 ? 1 : -1);
			var obj2velocity = Math.sqrt(obj1v * obj1v * Object1.mass / Object2.mass) * (obj1v > 0 ? 1 : -1);
			var average = (obj1velocity + obj2velocity) * 0.5;
			obj1velocity -= average;
			obj2velocity -= average;
			Object1.velocity.set_y(average + obj1velocity * Object1.elasticity);
			Object2.velocity.set_y(average + obj2velocity * Object2.elasticity);
		} else if(!obj1immovable) {
			Object1.set_y(Object1.y - overlap);
			Object1.velocity.set_y(obj2v - obj1v * Object1.elasticity);
			if(Object1.collisonXDrag && Object2.active && Object2.moves && obj1delta > obj2delta) {
				Object1.set_x(Object1.x + (Object2.x - Object2.last.x));
			}
		} else if(!obj2immovable) {
			Object2.set_y(Object2.y + overlap);
			Object2.velocity.set_y(obj1v - obj2v * Object2.elasticity);
			if(Object2.collisonXDrag && Object1.active && Object1.moves && obj1delta < obj2delta) {
				Object2.set_x(Object2.x + (Object1.x - Object1.last.x));
			}
		}
		return true;
	}
	return false;
};
flixel_FlxObject.updateTouchingFlagsY = function(Object1,Object2) {
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.updateTouchingFlagsY);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.updateTouchingFlagsY,true);
	}
	return flixel_FlxObject.computeOverlapY(Object1,Object2,false) != 0;
};
flixel_FlxObject.__super__ = flixel_FlxBasic;
flixel_FlxObject.prototype = $extend(flixel_FlxBasic.prototype,{
	x: null
	,y: null
	,width: null
	,height: null
	,pixelPerfectRender: null
	,pixelPerfectPosition: null
	,angle: null
	,moves: null
	,immovable: null
	,scrollFactor: null
	,velocity: null
	,acceleration: null
	,drag: null
	,maxVelocity: null
	,last: null
	,mass: null
	,elasticity: null
	,angularVelocity: null
	,angularAcceleration: null
	,angularDrag: null
	,maxAngular: null
	,health: null
	,touching: null
	,wasTouching: null
	,allowCollisions: null
	,collisonXDrag: null
	,path: null
	,_point: null
	,_rect: null
	,initVars: function() {
		this.flixelType = 1;
		var X = this.x;
		var Y = this.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.last = point;
		var X = 1;
		var Y = 1;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.scrollFactor = point;
		this.pixelPerfectPosition = flixel_FlxObject.defaultPixelPerfectPosition;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,initMotionVars: function() {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,destroy: function() {
		flixel_FlxBasic.prototype.destroy.call(this);
		this.velocity = flixel_util_FlxDestroyUtil.put(this.velocity);
		this.acceleration = flixel_util_FlxDestroyUtil.put(this.acceleration);
		this.drag = flixel_util_FlxDestroyUtil.put(this.drag);
		this.maxVelocity = flixel_util_FlxDestroyUtil.put(this.maxVelocity);
		this.scrollFactor = flixel_util_FlxDestroyUtil.put(this.scrollFactor);
		this.last = flixel_util_FlxDestroyUtil.put(this.last);
		this._point = flixel_util_FlxDestroyUtil.put(this._point);
		this._rect = flixel_util_FlxDestroyUtil.put(this._rect);
	}
	,update: function(elapsed) {
		this.last.set(this.x,this.y);
		if(this.path != null && this.path.active) {
			this.path.update(elapsed);
		}
		if(this.moves) {
			this.updateMotion(elapsed);
		}
		this.wasTouching = this.touching;
		this.touching = 0;
	}
	,updateMotion: function(elapsed) {
		var velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.angularVelocity,this.angularAcceleration,this.angularDrag,this.maxAngular,elapsed) - this.angularVelocity);
		this.angularVelocity += velocityDelta;
		this.set_angle(this.angle + this.angularVelocity * elapsed);
		this.angularVelocity += velocityDelta;
		velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.velocity.x,this.acceleration.x,this.drag.x,this.maxVelocity.x,elapsed) - this.velocity.x);
		var fh = this.velocity;
		fh.set_x(fh.x + velocityDelta);
		var delta = this.velocity.x * elapsed;
		var fh = this.velocity;
		fh.set_x(fh.x + velocityDelta);
		this.set_x(this.x + delta);
		velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.velocity.y,this.acceleration.y,this.drag.y,this.maxVelocity.y,elapsed) - this.velocity.y);
		var fh = this.velocity;
		fh.set_y(fh.y + velocityDelta);
		delta = this.velocity.y * elapsed;
		var fh = this.velocity;
		fh.set_y(fh.y + velocityDelta);
		this.set_y(this.y + delta);
	}
	,draw: function() {
	}
	,overlaps: function(ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.overlapsCallback),group,0,0,InScreenSpace,Camera);
		}
		if(ObjectOrGroup.flixelType == 3) {
			var tilemap = ObjectOrGroup;
			return tilemap.overlaps(this,InScreenSpace,Camera);
		}
		var object = ObjectOrGroup;
		if(!InScreenSpace) {
			if(object.x + object.get_width() > this.x && object.x < this.x + this.get_width() && object.y + object.get_height() > this.y) {
				return object.y < this.y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var objectScreenPos = object.getScreenPosition(null,Camera);
		this.getScreenPosition(this._point,Camera);
		if(objectScreenPos.x + object.get_width() > this._point.x && objectScreenPos.x < this._point.x + this.get_width() && objectScreenPos.y + object.get_height() > this._point.y) {
			return objectScreenPos.y < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,overlapsCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		return this.overlaps(ObjectOrGroup,InScreenSpace,Camera);
	}
	,overlapsAt: function(X,Y,ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.overlapsAtCallback),group,X,Y,InScreenSpace,Camera);
		}
		if(ObjectOrGroup.flixelType == 3) {
			var tilemap = ObjectOrGroup;
			return tilemap.overlapsAt(tilemap.x - (X - this.x),tilemap.y - (Y - this.y),this,InScreenSpace,Camera);
		}
		var object = ObjectOrGroup;
		if(!InScreenSpace) {
			if(object.x + object.get_width() > X && object.x < X + this.get_width() && object.y + object.get_height() > Y) {
				return object.y < Y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var objectScreenPos = object.getScreenPosition(null,Camera);
		this.getScreenPosition(this._point,Camera);
		if(objectScreenPos.x + object.get_width() > this._point.x && objectScreenPos.x < this._point.x + this.get_width() && objectScreenPos.y + object.get_height() > this._point.y) {
			return objectScreenPos.y < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,overlapsAtCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		return this.overlapsAt(X,Y,ObjectOrGroup,InScreenSpace,Camera);
	}
	,overlapsPoint: function(point,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		if(!InScreenSpace) {
			if(point.x >= this.x && point.x < this.x + this.get_width() && point.y >= this.y) {
				return point.y < this.y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var xPos = point.x - Camera.scroll.x;
		var yPos = point.y - Camera.scroll.y;
		this.getScreenPosition(this._point,Camera);
		if(point._weak) {
			point.put();
		}
		if(xPos >= this._point.x && xPos < this._point.x + this.get_width() && yPos >= this._point.y) {
			return yPos < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,inWorldBounds: function() {
		var tmp;
		if(this.x + this.get_width() > flixel_FlxG.worldBounds.x) {
			var _this = flixel_FlxG.worldBounds;
			tmp = this.x < _this.x + _this.width;
		} else {
			tmp = false;
		}
		if(tmp && this.y + this.get_height() > flixel_FlxG.worldBounds.y) {
			var _this = flixel_FlxG.worldBounds;
			return this.y < _this.y + _this.height;
		} else {
			return false;
		}
	}
	,getScreenPosition: function(point,Camera) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		point.set(this.x,this.y);
		if(this.pixelPerfectPosition) {
			point.set_x(Math.floor(point.x));
			point.set_y(Math.floor(point.y));
		}
		var X = Camera.scroll.x * this.scrollFactor.x;
		var Y = Camera.scroll.y * this.scrollFactor.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		point.set_x(point.x - X);
		point.set_y(point.y - Y);
		return point;
	}
	,getPosition: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x,this.y);
	}
	,getMidpoint: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x + this.get_width() * 0.5,this.y + this.get_height() * 0.5);
	}
	,getHitbox: function(rect) {
		if(rect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect1 = _this;
			rect1._inPool = false;
			rect = rect1;
		}
		var X = this.x;
		var Y = this.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		rect.x = X;
		rect.y = Y;
		rect.width = Width;
		rect.height = Height;
		return rect;
	}
	,reset: function(X,Y) {
		this.touching = 0;
		this.wasTouching = 0;
		this.setPosition(X,Y);
		this.last.set(this.x,this.y);
		this.velocity.set();
		this.revive();
	}
	,isOnScreen: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		this.getScreenPosition(this._point,Camera);
		var point = this._point;
		var width = this.get_width();
		var height = this.get_height();
		if(height == null) {
			height = 0;
		}
		if(width == null) {
			width = 0;
		}
		var contained = point.x + width > Camera.viewOffsetX && point.x < Camera.viewOffsetWidth && point.y + height > Camera.viewOffsetY && point.y < Camera.viewOffsetHeight;
		if(point._weak) {
			point.put();
		}
		return contained;
	}
	,isPixelPerfectRender: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		if(this.pixelPerfectRender == null) {
			return Camera.pixelPerfectRender;
		} else {
			return this.pixelPerfectRender;
		}
	}
	,isTouching: function(Direction) {
		return (this.touching & Direction) > 0;
	}
	,justTouched: function(Direction) {
		if((this.touching & Direction) > 0) {
			return (this.wasTouching & Direction) <= 0;
		} else {
			return false;
		}
	}
	,hurt: function(Damage) {
		this.health -= Damage;
		if(this.health <= 0) {
			this.kill();
		}
	}
	,screenCenter: function(axes) {
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			this.set_x((flixel_FlxG.width - this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			this.set_y((flixel_FlxG.height - this.get_height()) / 2);
		}
		return this;
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(X);
		this.set_y(Y);
	}
	,setSize: function(Width,Height) {
		this.set_width(Width);
		this.set_height(Height);
	}
	,getBoundingBox: function(camera) {
		this.getScreenPosition(this._point,camera);
		var _this = this._rect;
		var X = this._point.x;
		var Y = this._point.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		this._rect = camera.transformRect(this._rect);
		if(this.isPixelPerfectRender(camera)) {
			var _this = this._rect;
			_this.x = Math.floor(_this.x);
			_this.y = Math.floor(_this.y);
			_this.width = Math.floor(_this.width);
			_this.height = Math.floor(_this.height);
		}
		return this._rect;
	}
	,getRotatedBounds: function(newRect) {
		if(newRect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			newRect = rect;
		}
		var X = this.x;
		var Y = this.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		newRect.x = X;
		newRect.y = Y;
		newRect.width = Width;
		newRect.height = Height;
		return newRect.getRotatedBounds(this.angle,null,newRect);
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		var value = this.get_width();
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "w";
		_this2.value = value;
		var value = this.get_height();
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "h";
		_this3.value = value;
		var value = this.visible;
		var _this4 = flixel_util_LabelValuePair._pool.get();
		_this4.label = "visible";
		_this4.value = value;
		var value = this.velocity;
		var _this5 = flixel_util_LabelValuePair._pool.get();
		_this5.label = "velocity";
		_this5.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3,_this4,_this5]);
	}
	,set_x: function(NewX) {
		return this.x = NewX;
	}
	,set_y: function(NewY) {
		return this.y = NewY;
	}
	,set_width: function(Width) {
		return this.width = Width;
	}
	,set_height: function(Height) {
		return this.height = Height;
	}
	,get_width: function() {
		return this.width;
	}
	,get_height: function() {
		return this.height;
	}
	,get_solid: function() {
		return (this.allowCollisions & 4369) > 0;
	}
	,set_solid: function(Solid) {
		this.set_allowCollisions(Solid ? 4369 : 0);
		return Solid;
	}
	,set_angle: function(Value) {
		return this.angle = Value;
	}
	,set_moves: function(Value) {
		return this.moves = Value;
	}
	,set_immovable: function(Value) {
		return this.immovable = Value;
	}
	,set_pixelPerfectRender: function(Value) {
		return this.pixelPerfectRender = Value;
	}
	,set_allowCollisions: function(Value) {
		return this.allowCollisions = Value;
	}
	,set_path: function(path) {
		if(this.path == path) {
			return path;
		}
		if(this.path != null) {
			this.path.object = null;
		}
		if(path != null) {
			path.object = this;
		}
		return this.path = path;
	}
	,__class__: flixel_FlxObject
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{set_path:"set_path",set_allowCollisions:"set_allowCollisions",set_solid:"set_solid",get_solid:"get_solid",set_immovable:"set_immovable",set_moves:"set_moves",set_angle:"set_angle",set_pixelPerfectRender:"set_pixelPerfectRender",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",set_x:"set_x"})
});
var flixel_FlxSprite = function(X,Y,SimpleGraphic) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._facingFlip = new haxe_ds_IntMap();
	this._angleChanged = true;
	this._cosAngle = 1;
	this._sinAngle = 0;
	this._facingVerticalMult = 1;
	this._facingHorizontalMult = 1;
	this.useColorTransform = false;
	this.color = 16777215;
	this.flipY = false;
	this.flipX = false;
	this.facing = 16;
	this.alpha = 1.0;
	this.bakedRotationAngle = 0;
	this.numFrames = 0;
	this.frameHeight = 0;
	this.frameWidth = 0;
	this.dirty = true;
	this.antialiasing = false;
	this.useFramePixels = true;
	flixel_FlxObject.call(this,X,Y);
	this.set_useFramePixels(flixel_FlxG.renderBlit);
	if(SimpleGraphic != null) {
		this.loadGraphic(SimpleGraphic);
	}
};
$hxClasses["flixel.FlxSprite"] = flixel_FlxSprite;
flixel_FlxSprite.__name__ = "flixel.FlxSprite";
flixel_FlxSprite.__super__ = flixel_FlxObject;
flixel_FlxSprite.prototype = $extend(flixel_FlxObject.prototype,{
	animation: null
	,framePixels: null
	,useFramePixels: null
	,antialiasing: null
	,dirty: null
	,frame: null
	,frameWidth: null
	,frameHeight: null
	,numFrames: null
	,frames: null
	,graphic: null
	,bakedRotationAngle: null
	,alpha: null
	,facing: null
	,flipX: null
	,flipY: null
	,origin: null
	,offset: null
	,scale: null
	,blend: null
	,color: null
	,colorTransform: null
	,useColorTransform: null
	,clipRect: null
	,shader: null
	,_frame: null
	,_frameGraphic: null
	,_facingHorizontalMult: null
	,_facingVerticalMult: null
	,_flashPoint: null
	,_flashRect: null
	,_flashRect2: null
	,_flashPointZero: null
	,_matrix: null
	,_halfSize: null
	,_sinAngle: null
	,_cosAngle: null
	,_angleChanged: null
	,_facingFlip: null
	,initVars: function() {
		flixel_FlxObject.prototype.initVars.call(this);
		this.animation = new flixel_animation_FlxAnimationController(this);
		this._flashPoint = new openfl_geom_Point();
		this._flashRect = new openfl_geom_Rectangle();
		this._flashRect2 = new openfl_geom_Rectangle();
		this._flashPointZero = new openfl_geom_Point();
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.offset = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.origin = point;
		var X = 1;
		var Y = 1;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.scale = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this._halfSize = point;
		this._matrix = new flixel_math_FlxMatrix();
		this.colorTransform = new openfl_geom_ColorTransform();
	}
	,destroy: function() {
		flixel_FlxObject.prototype.destroy.call(this);
		this.animation = flixel_util_FlxDestroyUtil.destroy(this.animation);
		this.offset = flixel_util_FlxDestroyUtil.put(this.offset);
		this.origin = flixel_util_FlxDestroyUtil.put(this.origin);
		this.scale = flixel_util_FlxDestroyUtil.put(this.scale);
		this._halfSize = flixel_util_FlxDestroyUtil.put(this._halfSize);
		this.framePixels = flixel_util_FlxDestroyUtil.dispose(this.framePixels);
		this._flashPoint = null;
		this._flashRect = null;
		this._flashRect2 = null;
		this._flashPointZero = null;
		this._matrix = null;
		this.colorTransform = null;
		this.set_blend(null);
		this.set_frames(null);
		this.set_graphic(null);
		this._frame = flixel_util_FlxDestroyUtil.destroy(this._frame);
		this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
		this.shader = null;
	}
	,clone: function() {
		return new flixel_FlxSprite().loadGraphicFromSprite(this);
	}
	,loadGraphicFromSprite: function(Sprite) {
		this.set_frames(Sprite.frames);
		this.bakedRotationAngle = Sprite.bakedRotationAngle;
		if(this.bakedRotationAngle > 0) {
			this.set_width(Sprite.get_width());
			this.set_height(Sprite.get_height());
			this.centerOffsets();
		}
		this.set_antialiasing(Sprite.antialiasing);
		this.animation.copyFrom(Sprite.animation);
		this.graphicLoaded();
		this.set_clipRect(Sprite.clipRect);
		return this;
	}
	,loadGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		var graph = flixel_FlxG.bitmap.add(Graphic,Unique,Key);
		if(graph == null) {
			return this;
		}
		if(Width == 0) {
			Width = Animated ? graph.height : graph.width;
			if(Width > graph.width) {
				Width = graph.width;
			}
		}
		if(Height == 0) {
			Height = Animated ? Width : graph.height;
			if(Height > graph.height) {
				Height = graph.height;
			}
		}
		if(Animated) {
			var X = Width;
			var Y = Height;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			this.set_frames(flixel_graphics_frames_FlxTileFrames.fromGraphic(graph,point));
		} else {
			this.set_frames(graph.get_imageFrame());
		}
		return this;
	}
	,loadRotatedGraphic: function(Graphic,Rotations,Frame,AntiAliasing,AutoBuffer,Key) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Frame == null) {
			Frame = -1;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		var brushGraphic = flixel_FlxG.bitmap.add(Graphic,false,Key);
		if(brushGraphic == null) {
			return this;
		}
		var brush = brushGraphic.bitmap;
		var key = brushGraphic.key;
		if(Frame >= 0) {
			var brushSize = brush.height;
			var framesNum = brush.width / brushSize | 0;
			if(framesNum <= Frame) {
				Frame %= framesNum;
			}
			key += ":" + Frame;
			var full = brush;
			brush = new openfl_display_BitmapData(brushSize,brushSize,true,0);
			this._flashRect.setTo(Frame * brushSize,0,brushSize,brushSize);
			brush.copyPixels(full,this._flashRect,this._flashPointZero);
		}
		key += ":" + Rotations + ":" + (AutoBuffer == null ? "null" : "" + AutoBuffer);
		var tempGraph = flixel_FlxG.bitmap._cache.h[key];
		if(tempGraph == null) {
			var bitmap = flixel_util_FlxBitmapDataUtil.generateRotations(brush,Rotations,AntiAliasing,AutoBuffer);
			tempGraph = flixel_graphics_FlxGraphic.fromBitmapData(bitmap,false,key);
		}
		var max = brush.height > brush.width ? brush.height : brush.width;
		if(AutoBuffer) {
			max = max * 1.5 | 0;
		}
		var X = max;
		var Y = max;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.set_frames(flixel_graphics_frames_FlxTileFrames.fromGraphic(tempGraph,point));
		if(AutoBuffer) {
			this.set_width(brush.width);
			this.set_height(brush.height);
			this.centerOffsets();
		}
		this.bakedRotationAngle = 360 / Rotations;
		this.animation.createPrerotated();
		return this;
	}
	,loadRotatedFrame: function(Frame,Rotations,AntiAliasing,AutoBuffer) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		var key = Frame.parent.key;
		if(Frame.name != null) {
			key += ":" + Frame.name;
		} else {
			var _this = Frame.frame;
			var value = _this.x;
			var _this1 = flixel_util_LabelValuePair._pool.get();
			_this1.label = "x";
			_this1.value = value;
			var value = _this.y;
			var _this2 = flixel_util_LabelValuePair._pool.get();
			_this2.label = "y";
			_this2.value = value;
			var value = _this.width;
			var _this3 = flixel_util_LabelValuePair._pool.get();
			_this3.label = "w";
			_this3.value = value;
			var value = _this.height;
			var _this = flixel_util_LabelValuePair._pool.get();
			_this.label = "h";
			_this.value = value;
			key += ":" + flixel_util_FlxStringUtil.getDebugString([_this1,_this2,_this3,_this]);
		}
		var graphic = flixel_FlxG.bitmap._cache.h[key];
		if(graphic == null) {
			graphic = flixel_graphics_FlxGraphic.fromBitmapData(Frame.paint(),false,key);
		}
		return this.loadRotatedGraphic(graphic,Rotations,-1,AntiAliasing,AutoBuffer);
	}
	,makeGraphic: function(Width,Height,Color,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Color == null) {
			Color = -1;
		}
		var graph = flixel_FlxG.bitmap.create(Width,Height,Color,Unique,Key);
		this.set_frames(graph.get_imageFrame());
		return this;
	}
	,graphicLoaded: function() {
	}
	,resetSize: function() {
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
	}
	,resetFrameSize: function() {
		if(this.frame != null) {
			this.frameWidth = this.frame.sourceSize.x | 0;
			this.frameHeight = this.frame.sourceSize.y | 0;
		}
		this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
	}
	,resetSizeFromFrame: function() {
		this.set_width(this.frameWidth);
		this.set_height(this.frameHeight);
	}
	,resetFrame: function() {
		this.set_frame(this.frame);
	}
	,setGraphicSize: function(Width,Height) {
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Width <= 0 && Height <= 0) {
			return;
		}
		var newScaleX = Width / this.frameWidth;
		var newScaleY = Height / this.frameHeight;
		this.scale.set(newScaleX,newScaleY);
		if(Width <= 0) {
			this.scale.set_x(newScaleY);
		} else if(Height <= 0) {
			this.scale.set_y(newScaleX);
		}
	}
	,updateHitbox: function() {
		this.set_width(Math.abs(this.scale.x) * this.frameWidth);
		this.set_height(Math.abs(this.scale.y) * this.frameHeight);
		this.offset.set(-0.5 * (this.get_width() - this.frameWidth),-0.5 * (this.get_height() - this.frameHeight));
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
	}
	,resetHelpers: function() {
		if(this.frame != null) {
			this.frameWidth = this.frame.sourceSize.x | 0;
			this.frameHeight = this.frame.sourceSize.y | 0;
		}
		this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
		this.set_width(this.frameWidth);
		this.set_height(this.frameHeight);
		this._flashRect2.x = 0;
		this._flashRect2.y = 0;
		if(this.graphic != null) {
			this._flashRect2.width = this.graphic.width;
			this._flashRect2.height = this.graphic.height;
		}
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
		if(flixel_FlxG.renderBlit) {
			this.dirty = true;
			this.updateFramePixels();
		}
	}
	,update: function(elapsed) {
		flixel_FlxObject.prototype.update.call(this,elapsed);
		this.updateAnimation(elapsed);
	}
	,updateAnimation: function(elapsed) {
		this.animation.update(elapsed);
	}
	,checkEmptyFrame: function() {
		if(this._frame == null) {
			this.loadGraphic("flixel/images/logo/default.png");
		}
	}
	,draw: function() {
		this.checkEmptyFrame();
		if(this.alpha == 0 || this._frame.type == 2) {
			return;
		}
		if(this.dirty) {
			this.calcFrame(this.useFramePixels);
		}
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(!camera.visible || !camera.exists || !this.isOnScreen(camera)) {
				continue;
			}
			this.getScreenPosition(this._point,camera).subtractPoint(this.offset);
			if(this.isSimpleRender(camera)) {
				this.drawSimple(camera);
			} else {
				this.drawComplex(camera);
			}
		}
	}
	,drawSimple: function(camera) {
		if(this.isPixelPerfectRender(camera)) {
			var _this = this._point;
			_this.set_x(Math.floor(_this.x));
			_this.set_y(Math.floor(_this.y));
		}
		var _this = this._point;
		var FlashPoint = this._flashPoint;
		if(FlashPoint == null) {
			FlashPoint = new openfl_geom_Point();
		}
		FlashPoint.x = _this.x;
		FlashPoint.y = _this.y;
		camera.copyPixels(this._frame,this.framePixels,this._flashRect,this._flashPoint,this.colorTransform,this.blend,this.antialiasing);
	}
	,drawComplex: function(camera) {
		var doFlipX = this.flipX != this._frame.flipX;
		var doFlipY = this.flipY != this._frame.flipY;
		this._frame.prepareMatrix(this._matrix,0,this.animation._curAnim != null ? doFlipX != this.animation._curAnim.flipX : doFlipX,this.animation._curAnim != null ? doFlipY != this.animation._curAnim.flipY : doFlipY);
		this._matrix.translate(-this.origin.x,-this.origin.y);
		this._matrix.scale(this.scale.x,this.scale.y);
		if(this.bakedRotationAngle <= 0) {
			if(this._angleChanged) {
				var radians = this.angle * (Math.PI / 180);
				this._sinAngle = Math.sin(radians);
				this._cosAngle = Math.cos(radians);
				this._angleChanged = false;
			}
			if(this.angle != 0) {
				var _this = this._matrix;
				var cos = this._cosAngle;
				var sin = this._sinAngle;
				var a1 = _this.a * cos - _this.b * sin;
				_this.b = _this.a * sin + _this.b * cos;
				_this.a = a1;
				var c1 = _this.c * cos - _this.d * sin;
				_this.d = _this.c * sin + _this.d * cos;
				_this.c = c1;
				var tx1 = _this.tx * cos - _this.ty * sin;
				_this.ty = _this.tx * sin + _this.ty * cos;
				_this.tx = tx1;
			}
		}
		var _this = this._point;
		var X = this.origin.x;
		var Y = this.origin.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.set_x(_this.x + X);
		_this.set_y(_this.y + Y);
		this._matrix.translate(this._point.x,this._point.y);
		if(this.isPixelPerfectRender(camera)) {
			this._matrix.tx = Math.floor(this._matrix.tx);
			this._matrix.ty = Math.floor(this._matrix.ty);
		}
		camera.drawPixels(this._frame,this.framePixels,this._matrix,this.colorTransform,this.blend,this.antialiasing,this.shader);
	}
	,stamp: function(Brush,X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		Brush.drawFrame();
		if(this.graphic == null || Brush.graphic == null) {
			throw haxe_Exception.thrown("Cannot stamp to or from a FlxSprite with no graphics.");
		}
		var bitmapData = Brush.framePixels;
		if(this.isSimpleRenderBlit()) {
			this._flashPoint.x = X + this.frame.frame.x;
			this._flashPoint.y = Y + this.frame.frame.y;
			this._flashRect2.width = bitmapData.width;
			this._flashRect2.height = bitmapData.height;
			this.graphic.bitmap.copyPixels(bitmapData,this._flashRect2,this._flashPoint,null,null,true);
			this._flashRect2.width = this.graphic.bitmap.width;
			this._flashRect2.height = this.graphic.bitmap.height;
		} else {
			this._matrix.identity();
			this._matrix.translate(-Brush.origin.x,-Brush.origin.y);
			this._matrix.scale(Brush.scale.x,Brush.scale.y);
			if(Brush.angle != 0) {
				this._matrix.rotate(Brush.angle * (Math.PI / 180));
			}
			this._matrix.translate(X + this.frame.frame.x + Brush.origin.x,Y + this.frame.frame.y + Brush.origin.y);
			var brushBlend = Brush.blend;
			this.graphic.bitmap.draw(bitmapData,this._matrix,null,brushBlend,null,Brush.antialiasing);
		}
		if(flixel_FlxG.renderBlit) {
			this.dirty = true;
			this.calcFrame();
		}
	}
	,drawFrame: function(Force) {
		if(Force == null) {
			Force = false;
		}
		if(flixel_FlxG.renderBlit) {
			if(Force || this.dirty) {
				this.dirty = true;
				this.calcFrame();
			}
		} else {
			this.dirty = true;
			this.calcFrame(true);
		}
	}
	,centerOffsets: function(AdjustPosition) {
		if(AdjustPosition == null) {
			AdjustPosition = false;
		}
		this.offset.set_x((this.frameWidth - this.get_width()) * 0.5);
		this.offset.set_y((this.frameHeight - this.get_height()) * 0.5);
		if(AdjustPosition) {
			this.set_x(this.x + this.offset.x);
			this.set_y(this.y + this.offset.y);
		}
	}
	,centerOrigin: function() {
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
	}
	,replaceColor: function(Color,NewColor,FetchPositions) {
		if(FetchPositions == null) {
			FetchPositions = false;
		}
		var positions = flixel_util_FlxBitmapDataUtil.replaceColor(this.graphic.bitmap,Color,NewColor,FetchPositions);
		if(positions != null) {
			this.dirty = true;
		}
		return positions;
	}
	,setColorTransform: function(redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset) {
		if(alphaOffset == null) {
			alphaOffset = 0;
		}
		if(blueOffset == null) {
			blueOffset = 0;
		}
		if(greenOffset == null) {
			greenOffset = 0;
		}
		if(redOffset == null) {
			redOffset = 0;
		}
		if(alphaMultiplier == null) {
			alphaMultiplier = 1.0;
		}
		if(blueMultiplier == null) {
			blueMultiplier = 1.0;
		}
		if(greenMultiplier == null) {
			greenMultiplier = 1.0;
		}
		if(redMultiplier == null) {
			redMultiplier = 1.0;
		}
		var color = flixel_util_FlxColor._new();
		var Alpha = 1;
		if(Alpha == null) {
			Alpha = 1;
		}
		var Value = Math.round(redMultiplier * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(greenMultiplier * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(blueMultiplier * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		this.set_color(color & 16777215);
		this.set_alpha(alphaMultiplier);
		flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier);
		flixel_util_FlxColorTransformUtil.setOffsets(this.colorTransform,redOffset,greenOffset,blueOffset,alphaOffset);
		this.useColorTransform = this.alpha != 1 || this.color != 16777215 || flixel_util_FlxColorTransformUtil.hasRGBOffsets(this.colorTransform);
		this.dirty = true;
	}
	,updateColorTransform: function() {
		if(this.colorTransform == null) {
			this.colorTransform = new openfl_geom_ColorTransform();
		}
		this.useColorTransform = this.alpha != 1 || this.color != 16777215;
		if(this.useColorTransform) {
			flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,(this.color >> 16 & 255) / 255,(this.color >> 8 & 255) / 255,(this.color & 255) / 255,this.alpha);
		} else {
			flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,1,1,1,1);
		}
		this.dirty = true;
	}
	,pixelsOverlapPoint: function(point,Mask,Camera) {
		if(Mask == null) {
			Mask = 255;
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		this.getScreenPosition(this._point,Camera);
		this._point.subtractPoint(this.offset);
		this._flashPoint.x = point.x - Camera.scroll.x - this._point.x;
		this._flashPoint.y = point.y - Camera.scroll.y - this._point.y;
		if(point._weak) {
			point.put();
		}
		if(this._flashPoint.x < 0 || this._flashPoint.x > this.frameWidth || this._flashPoint.y < 0 || this._flashPoint.y > this.frameHeight) {
			return false;
		} else {
			var frameData = this.updateFramePixels();
			var pixelColor = frameData.getPixel32(this._flashPoint.x | 0,this._flashPoint.y | 0);
			return (pixelColor >> 24 & 255) * this.alpha >= Mask;
		}
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
		this.checkEmptyFrame();
		if(flixel_FlxG.renderTile && !RunOnCpp) {
			return;
		}
		this.updateFramePixels();
	}
	,updateFramePixels: function() {
		if(this._frame == null || !this.dirty) {
			return this.framePixels;
		}
		if(flixel_FlxG.renderTile && this._frameGraphic != null) {
			this.dirty = false;
			return this.framePixels;
		}
		var doFlipX = this.flipX != this._frame.flipX;
		var doFlipX1 = this.animation._curAnim != null ? doFlipX != this.animation._curAnim.flipX : doFlipX;
		var doFlipY = this.flipY != this._frame.flipY;
		var doFlipY1 = this.animation._curAnim != null ? doFlipY != this.animation._curAnim.flipY : doFlipY;
		if(!doFlipX1 && !doFlipY1 && this._frame.type == 0) {
			this.framePixels = this._frame.paint(this.framePixels,this._flashPointZero,false,true);
		} else {
			this.framePixels = this._frame.paintRotatedAndFlipped(this.framePixels,this._flashPointZero,0,doFlipX1,doFlipY1,false,true);
		}
		if(this.useColorTransform) {
			this.framePixels.colorTransform(this._flashRect,this.colorTransform);
		}
		if(flixel_FlxG.renderTile && this.useFramePixels) {
			this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
			this._frameGraphic = flixel_graphics_FlxGraphic.fromBitmapData(this.framePixels,false,null,false);
			this._frame = this._frameGraphic.get_imageFrame().get_frame().copyTo(this._frame);
		}
		this.dirty = false;
		return this.framePixels;
	}
	,getGraphicMidpoint: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x + this.frameWidth * 0.5,this.y + this.frameHeight * 0.5);
	}
	,isOnScreen: function(camera) {
		if(camera == null) {
			camera = flixel_FlxG.camera;
		}
		var rect = this.getScreenBounds(this._rect,camera);
		var contained = rect.x + rect.width > camera.viewOffsetX && rect.x < camera.viewOffsetWidth && rect.y + rect.height > camera.viewOffsetY && rect.y < camera.viewOffsetHeight;
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		return contained;
	}
	,isSimpleRender: function(camera) {
		if(flixel_FlxG.renderTile) {
			return false;
		}
		return this.isSimpleRenderBlit(camera);
	}
	,isSimpleRenderBlit: function(camera) {
		var result = (this.angle == 0 || this.bakedRotationAngle > 0) && this.scale.x == 1 && this.scale.y == 1 && this.blend == null;
		result = result && (camera != null ? this.isPixelPerfectRender(camera) : this.pixelPerfectRender);
		return result;
	}
	,getRotatedBounds: function(newRect) {
		if(newRect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			newRect = rect;
		}
		var X = this.x;
		var Y = this.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		newRect.x = X;
		newRect.y = Y;
		newRect.width = Width;
		newRect.height = Height;
		return newRect.getRotatedBounds(this.angle,this.origin,newRect);
	}
	,getScreenBounds: function(newRect,camera) {
		if(newRect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			newRect = rect;
		}
		if(camera == null) {
			camera = flixel_FlxG.camera;
		}
		newRect.x = this.x;
		newRect.y = this.y;
		if(this.pixelPerfectPosition) {
			newRect.x = Math.floor(newRect.x);
			newRect.y = Math.floor(newRect.y);
			newRect.width = Math.floor(newRect.width);
			newRect.height = Math.floor(newRect.height);
		}
		var X = this.origin.x * this.scale.x;
		var Y = this.origin.y * this.scale.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var scaledOrigin = point1;
		newRect.x += -(camera.scroll.x * this.scrollFactor.x | 0) - this.offset.x + this.origin.x - scaledOrigin.x;
		newRect.y += -(camera.scroll.y * this.scrollFactor.y | 0) - this.offset.y + this.origin.y - scaledOrigin.y;
		if(this.isPixelPerfectRender(camera)) {
			newRect.x = Math.floor(newRect.x);
			newRect.y = Math.floor(newRect.y);
			newRect.width = Math.floor(newRect.width);
			newRect.height = Math.floor(newRect.height);
		}
		var Height = this.frameHeight * Math.abs(this.scale.y);
		newRect.width = this.frameWidth * Math.abs(this.scale.x);
		newRect.height = Height;
		return newRect.getRotatedBounds(this.angle,scaledOrigin,newRect);
	}
	,setFacingFlip: function(Direction,FlipX,FlipY) {
		this._facingFlip.h[Direction] = { x : FlipX, y : FlipY};
	}
	,setFrames: function(Frames,saveAnimations) {
		if(saveAnimations == null) {
			saveAnimations = true;
		}
		if(saveAnimations) {
			var animations = this.animation._animations;
			var reverse = false;
			var index = 0;
			var frameIndex = this.animation.frameIndex;
			var currName = null;
			if(this.animation._curAnim != null) {
				reverse = this.animation._curAnim.reversed;
				index = this.animation._curAnim.curFrame;
				currName = this.animation._curAnim.name;
			}
			this.animation._animations = null;
			this.set_frames(Frames);
			this.set_frame(this.frames.frames[frameIndex]);
			this.animation._animations = animations;
			if(currName != null) {
				this.animation.play(currName,false,reverse,index);
			}
		} else {
			this.set_frames(Frames);
		}
		return this;
	}
	,get_pixels: function() {
		if(this.graphic == null) {
			return null;
		} else {
			return this.graphic.bitmap;
		}
	}
	,set_pixels: function(Pixels) {
		var key = flixel_FlxG.bitmap.findKeyForBitmap(Pixels);
		if(key == null) {
			key = flixel_FlxG.bitmap.getUniqueKey();
			this.set_graphic(flixel_FlxG.bitmap.add(Pixels,false,key));
		} else {
			this.set_graphic(flixel_FlxG.bitmap._cache.h[key]);
		}
		this.set_frames(this.graphic.get_imageFrame());
		return Pixels;
	}
	,set_frame: function(Value) {
		this.frame = Value;
		if(this.frame != null) {
			if(this.frame != null) {
				this.frameWidth = this.frame.sourceSize.x | 0;
				this.frameHeight = this.frame.sourceSize.y | 0;
			}
			this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
			this._flashRect.x = 0;
			this._flashRect.y = 0;
			this._flashRect.width = this.frameWidth;
			this._flashRect.height = this.frameHeight;
			this.dirty = true;
		} else if(this.frames != null && this.frames.frames != null && this.numFrames > 0) {
			this.frame = this.frames.frames[0];
			this.dirty = true;
		} else {
			return null;
		}
		if(flixel_FlxG.renderTile) {
			this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
		}
		if(this.clipRect != null) {
			this._frame = this.frame.clipTo(this.clipRect,this._frame);
		} else {
			this._frame = this.frame.copyTo(this._frame);
		}
		return this.frame;
	}
	,set_facing: function(Direction) {
		var flip = this._facingFlip.h[Direction];
		if(flip != null) {
			this.set_flipX(flip.x);
			this.set_flipY(flip.y);
		}
		return this.facing = Direction;
	}
	,set_alpha: function(Alpha) {
		if(this.alpha == Alpha) {
			return Alpha;
		}
		var lowerBound = Alpha < 0 ? 0 : Alpha;
		this.alpha = lowerBound > 1 ? 1 : lowerBound;
		this.updateColorTransform();
		return this.alpha;
	}
	,set_color: function(Color) {
		if(this.color == Color) {
			return Color;
		}
		this.color = Color;
		this.updateColorTransform();
		return this.color;
	}
	,set_angle: function(Value) {
		var newAngle = this.angle != Value;
		var ret = flixel_FlxObject.prototype.set_angle.call(this,Value);
		if(newAngle) {
			this._angleChanged = true;
			this.animation.update(0);
		}
		return ret;
	}
	,updateTrig: function() {
		if(this._angleChanged) {
			var radians = this.angle * (Math.PI / 180);
			this._sinAngle = Math.sin(radians);
			this._cosAngle = Math.cos(radians);
			this._angleChanged = false;
		}
	}
	,set_blend: function(Value) {
		return this.blend = Value;
	}
	,set_graphic: function(Value) {
		var oldGraphic = this.graphic;
		if(this.graphic != Value && Value != null) {
			Value.set_useCount(Value.get_useCount() + 1);
		}
		if(oldGraphic != null && oldGraphic != Value) {
			oldGraphic.set_useCount(oldGraphic.get_useCount() - 1);
		}
		return this.graphic = Value;
	}
	,set_clipRect: function(rect) {
		if(rect != null) {
			rect.x = Math.round(rect.x);
			rect.y = Math.round(rect.y);
			rect.width = Math.round(rect.width);
			rect.height = Math.round(rect.height);
			this.clipRect = rect;
		} else {
			this.clipRect = null;
		}
		if(this.frames != null) {
			this.set_frame(this.frames.frames[this.animation.frameIndex]);
		}
		return rect;
	}
	,set_frames: function(Frames) {
		if(this.animation != null) {
			this.animation.destroyAnimations();
		}
		if(Frames != null) {
			this.set_graphic(Frames.parent);
			this.frames = Frames;
			this.set_frame(this.frames.frames[0]);
			this.numFrames = this.frames.frames.length;
			this.resetHelpers();
			this.bakedRotationAngle = 0;
			this.animation.set_frameIndex(0);
			this.graphicLoaded();
		} else {
			this.frames = null;
			this.set_frame(null);
			this.set_graphic(null);
		}
		return Frames;
	}
	,set_flipX: function(Value) {
		if(flixel_FlxG.renderTile) {
			this._facingHorizontalMult = Value ? -1 : 1;
		}
		this.dirty = this.flipX != Value || this.dirty;
		return this.flipX = Value;
	}
	,set_flipY: function(Value) {
		if(flixel_FlxG.renderTile) {
			this._facingVerticalMult = Value ? -1 : 1;
		}
		this.dirty = this.flipY != Value || this.dirty;
		return this.flipY = Value;
	}
	,set_antialiasing: function(value) {
		return this.antialiasing = value;
	}
	,set_useFramePixels: function(value) {
		if(flixel_FlxG.renderTile) {
			if(value != this.useFramePixels) {
				this.useFramePixels = value;
				this.set_frame(this.frame);
				if(value) {
					this.updateFramePixels();
				}
			}
			return value;
		} else {
			this.useFramePixels = true;
			return true;
		}
	}
	,checkFlipX: function() {
		var doFlipX = this.flipX != this._frame.flipX;
		if(this.animation._curAnim != null) {
			return doFlipX != this.animation._curAnim.flipX;
		}
		return doFlipX;
	}
	,checkFlipY: function() {
		var doFlipY = this.flipY != this._frame.flipY;
		if(this.animation._curAnim != null) {
			return doFlipY != this.animation._curAnim.flipY;
		}
		return doFlipY;
	}
	,__class__: flixel_FlxSprite
	,__properties__: $extend(flixel_FlxObject.prototype.__properties__,{set_clipRect:"set_clipRect",set_color:"set_color",set_blend:"set_blend",set_flipY:"set_flipY",set_flipX:"set_flipX",set_facing:"set_facing",set_alpha:"set_alpha",set_graphic:"set_graphic",set_frames:"set_frames",set_frame:"set_frame",set_pixels:"set_pixels",get_pixels:"get_pixels",set_antialiasing:"set_antialiasing",set_useFramePixels:"set_useFramePixels"})
});
var AttachedAchievement = function(x,y,name) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	flixel_FlxSprite.call(this,x,y);
	this.changeAchievement(name);
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["AttachedAchievement"] = AttachedAchievement;
AttachedAchievement.__name__ = "AttachedAchievement";
AttachedAchievement.__super__ = flixel_FlxSprite;
AttachedAchievement.prototype = $extend(flixel_FlxSprite.prototype,{
	sprTracker: null
	,tag: null
	,changeAchievement: function(tag) {
		this.tag = tag;
		this.reloadAchievementImage();
	}
	,reloadAchievementImage: function() {
		if(Achievements.isAchievementUnlocked(this.tag)) {
			this.loadGraphic(Paths.getPath("images/" + "achievementgrid" + ".png","IMAGE",null),true,150,150);
			this.animation.add("icon",[Achievements.getAchievementIndex(this.tag)],0,false,false);
			this.animation.play("icon");
		} else {
			this.loadGraphic(Paths.getPath("images/" + "lockedachievement" + ".png","IMAGE",null));
		}
		this.scale.set(0.7,0.7);
		this.updateHitbox();
	}
	,update: function(elapsed) {
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x - 130,this.sprTracker.y + 25);
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,__class__: AttachedAchievement
});
var flixel_group_FlxTypedSpriteGroup = function(X,Y,MaxSize) {
	if(MaxSize == null) {
		MaxSize = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._skipTransformChildren = false;
	this.directAlpha = false;
	flixel_FlxSprite.call(this,X,Y);
	this.group = new flixel_group_FlxTypedGroup(MaxSize);
	this._sprites = this.group.members;
};
$hxClasses["flixel.group.FlxTypedSpriteGroup"] = flixel_group_FlxTypedSpriteGroup;
flixel_group_FlxTypedSpriteGroup.__name__ = "flixel.group.FlxTypedSpriteGroup";
flixel_group_FlxTypedSpriteGroup.__super__ = flixel_FlxSprite;
flixel_group_FlxTypedSpriteGroup.prototype = $extend(flixel_FlxSprite.prototype,{
	transformChildren_flixel_math_FlxRect: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_flash_display_BlendMode: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_flixel_math_FlxPoint: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_flixel_FlxCamera: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Array_flixel_FlxCamera: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,multiTransformChildren_Float: function(FunctionArray,ValueArray) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var numProps = FunctionArray.length;
		if(numProps > ValueArray.length) {
			return;
		}
		var lambda;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists) {
				var _g2 = 0;
				var _g3 = numProps;
				while(_g2 < _g3) {
					var i = _g2++;
					lambda = FunctionArray[i];
					lambda(sprite,ValueArray[i]);
				}
			}
		}
	}
	,transformChildren_Int: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Float: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Bool: function(Function1,Value) {
		if(this._skipTransformChildren || this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,group: null
	,directAlpha: null
	,_skipTransformChildren: null
	,_sprites: null
	,initVars: function() {
		this.flixelType = 4;
		this.offset = new flixel_math_FlxCallbackPoint($bind(this,this.offsetCallback));
		this.origin = new flixel_math_FlxCallbackPoint($bind(this,this.originCallback));
		this.scale = new flixel_math_FlxCallbackPoint($bind(this,this.scaleCallback));
		this.scrollFactor = new flixel_math_FlxCallbackPoint($bind(this,this.scrollFactorCallback));
		this.scale.set(1,1);
		this.scrollFactor.set(1,1);
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,destroy: function() {
		this.offset = flixel_util_FlxDestroyUtil.destroy(this.offset);
		this.origin = flixel_util_FlxDestroyUtil.destroy(this.origin);
		this.scale = flixel_util_FlxDestroyUtil.destroy(this.scale);
		this.scrollFactor = flixel_util_FlxDestroyUtil.destroy(this.scrollFactor);
		this.group = flixel_util_FlxDestroyUtil.destroy(this.group);
		this._sprites = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,clone: function() {
		var newGroup = new flixel_group_FlxTypedSpriteGroup(this.x,this.y,this.group.maxSize);
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				newGroup.add(sprite.clone());
			}
		}
		return newGroup;
	}
	,isOnScreen: function(Camera) {
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible && sprite.isOnScreen(Camera)) {
				return true;
			}
		}
		return false;
	}
	,overlapsPoint: function(point,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var result = false;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible) {
				result = result || sprite.overlapsPoint(point,InScreenSpace,Camera);
			}
		}
		return result;
	}
	,pixelsOverlapPoint: function(point,Mask,Camera) {
		if(Mask == null) {
			Mask = 255;
		}
		var result = false;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible) {
				result = result || sprite.pixelsOverlapPoint(point,Mask,Camera);
			}
		}
		return result;
	}
	,update: function(elapsed) {
		this.group.update(elapsed);
		if(this.moves) {
			this.updateMotion(elapsed);
		}
	}
	,draw: function() {
		this.group.draw();
	}
	,replaceColor: function(Color,NewColor,FetchPositions) {
		if(FetchPositions == null) {
			FetchPositions = false;
		}
		var positions = null;
		if(FetchPositions) {
			positions = [];
		}
		var spritePositions;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				spritePositions = sprite.replaceColor(Color,NewColor,FetchPositions);
				if(FetchPositions) {
					positions = positions.concat(spritePositions);
				}
			}
		}
		return positions;
	}
	,add: function(Sprite) {
		this.preAdd(Sprite);
		return this.group.add(Sprite);
	}
	,insert: function(Position,Sprite) {
		this.preAdd(Sprite);
		return this.group.insert(Position,Sprite);
	}
	,preAdd: function(Sprite) {
		var sprite = Sprite;
		sprite.set_x(sprite.x + this.x);
		sprite.set_y(sprite.y + this.y);
		sprite.set_alpha(sprite.alpha * this.alpha);
		var _this = sprite.scrollFactor;
		var point = this.scrollFactor;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		sprite.set_cameras(this._cameras);
		if(this.clipRect != null) {
			var ClipRect = this.clipRect;
			if(ClipRect == null) {
				sprite.set_clipRect(null);
			} else {
				var X = ClipRect.x - sprite.x + this.x;
				var Y = ClipRect.y - sprite.y + this.y;
				var Width = ClipRect.width;
				var Height = ClipRect.height;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				sprite.set_clipRect(rect);
			}
		}
	}
	,recycle: function(ObjectClass,ObjectFactory,Force,Revive) {
		if(Revive == null) {
			Revive = true;
		}
		if(Force == null) {
			Force = false;
		}
		return this.group.recycle(ObjectClass,ObjectFactory,Force,Revive);
	}
	,remove: function(Sprite,Splice) {
		if(Splice == null) {
			Splice = false;
		}
		var sprite = Sprite;
		sprite.set_x(sprite.x - this.x);
		sprite.set_y(sprite.y - this.y);
		sprite.set_cameras(null);
		return this.group.remove(Sprite,Splice);
	}
	,replace: function(OldObject,NewObject) {
		return this.group.replace(OldObject,NewObject);
	}
	,sort: function(Function1,Order) {
		if(Order == null) {
			Order = -1;
		}
		var Order1 = Order;
		if(Order1 == null) {
			Order1 = -1;
		}
		var _g = Function1;
		var a1 = Order1;
		var tmp = function(a2,a3) {
			return _g(a1,a2,a3);
		};
		this.group.members.sort(tmp);
	}
	,getFirstAvailable: function(ObjectClass,Force) {
		if(Force == null) {
			Force = false;
		}
		return this.group.getFirstAvailable(ObjectClass,Force);
	}
	,getFirstNull: function() {
		return this.group.getFirstNull();
	}
	,getFirstExisting: function() {
		return this.group.getFirstExisting();
	}
	,getFirstAlive: function() {
		return this.group.getFirstAlive();
	}
	,getFirstDead: function() {
		return this.group.getFirstDead();
	}
	,countLiving: function() {
		return this.group.countLiving();
	}
	,countDead: function() {
		return this.group.countDead();
	}
	,getRandom: function(StartIndex,Length) {
		if(Length == null) {
			Length = 0;
		}
		if(StartIndex == null) {
			StartIndex = 0;
		}
		return this.group.getRandom(StartIndex,Length);
	}
	,iterator: function(filter) {
		return new flixel_group_FlxTypedGroupIterator(this.group.members,filter);
	}
	,forEach: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEach(Function1,Recurse);
	}
	,forEachAlive: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachAlive(Function1,Recurse);
	}
	,forEachDead: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachDead(Function1,Recurse);
	}
	,forEachExists: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachExists(Function1,Recurse);
	}
	,forEachOfType: function(ObjectClass,Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachOfType(ObjectClass,Function1,Recurse);
	}
	,clear: function() {
		this.group.clear();
	}
	,kill: function() {
		this._skipTransformChildren = true;
		flixel_FlxSprite.prototype.kill.call(this);
		this._skipTransformChildren = false;
		this.group.kill();
	}
	,revive: function() {
		this._skipTransformChildren = true;
		flixel_FlxSprite.prototype.revive.call(this);
		this._skipTransformChildren = false;
		this.group.revive();
	}
	,reset: function(X,Y) {
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				sprite.reset(sprite.x + X - this.x,sprite.y + Y - this.y);
			}
		}
		this._skipTransformChildren = true;
		this.touching = 0;
		this.wasTouching = 0;
		this.set_x(X);
		this.set_y(Y);
		this.velocity.set();
		flixel_FlxSprite.prototype.revive.call(this);
		this._skipTransformChildren = false;
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var dx = X - this.x;
		var dy = Y - this.y;
		this.multiTransformChildren_Float([$bind(this,this.xTransform),$bind(this,this.yTransform)],[dx,dy]);
		this._skipTransformChildren = true;
		this.set_x(X);
		this.set_y(Y);
		this._skipTransformChildren = false;
	}
	,set_camera: function(Value) {
		if(this.get_camera() != Value) {
			this.transformChildren_flixel_FlxCamera($bind(this,this.cameraTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_camera.call(this,Value);
	}
	,set_cameras: function(Value) {
		if(this.get_cameras() != Value) {
			this.transformChildren_Array_flixel_FlxCamera($bind(this,this.camerasTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_cameras.call(this,Value);
	}
	,set_exists: function(Value) {
		if(this.exists != Value) {
			this.transformChildren_Bool($bind(this,this.existsTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_exists.call(this,Value);
	}
	,set_visible: function(Value) {
		if(this.exists && this.visible != Value) {
			this.transformChildren_Bool($bind(this,this.visibleTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_visible.call(this,Value);
	}
	,set_active: function(Value) {
		if(this.exists && this.active != Value) {
			this.transformChildren_Bool($bind(this,this.activeTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_active.call(this,Value);
	}
	,set_alive: function(Value) {
		if(this.alive != Value) {
			this.transformChildren_Bool($bind(this,this.aliveTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_alive.call(this,Value);
	}
	,set_x: function(Value) {
		if(this.exists && this.x != Value) {
			this.transformChildren_Float($bind(this,this.xTransform),Value - this.x);
		}
		return this.x = Value;
	}
	,set_y: function(Value) {
		if(this.exists && this.y != Value) {
			this.transformChildren_Float($bind(this,this.yTransform),Value - this.y);
		}
		return this.y = Value;
	}
	,set_angle: function(Value) {
		if(this.exists && this.angle != Value) {
			this.transformChildren_Float($bind(this,this.angleTransform),Value - this.angle);
		}
		return this.angle = Value;
	}
	,set_alpha: function(Value) {
		var lowerBound = Value < 0 ? 0 : Value;
		Value = lowerBound > 1 ? 1 : lowerBound;
		if(this.exists && this.alpha != Value) {
			var factor = this.alpha > 0 ? Value / this.alpha : 0;
			if(!this.directAlpha && this.alpha != 0) {
				this.transformChildren_Float($bind(this,this.alphaTransform),factor);
			} else {
				this.transformChildren_Float($bind(this,this.directAlphaTransform),Value);
			}
		}
		return this.alpha = Value;
	}
	,set_facing: function(Value) {
		if(this.exists && this.facing != Value) {
			this.transformChildren_Int($bind(this,this.facingTransform),Value);
		}
		return this.facing = Value;
	}
	,set_flipX: function(Value) {
		if(this.exists && this.flipX != Value) {
			this.transformChildren_Bool($bind(this,this.flipXTransform),Value);
		}
		return this.flipX = Value;
	}
	,set_flipY: function(Value) {
		if(this.exists && this.flipY != Value) {
			this.transformChildren_Bool($bind(this,this.flipYTransform),Value);
		}
		return this.flipY = Value;
	}
	,set_moves: function(Value) {
		if(this.exists && this.moves != Value) {
			this.transformChildren_Bool($bind(this,this.movesTransform),Value);
		}
		return this.moves = Value;
	}
	,set_immovable: function(Value) {
		if(this.exists && this.immovable != Value) {
			this.transformChildren_Bool($bind(this,this.immovableTransform),Value);
		}
		return this.immovable = Value;
	}
	,set_solid: function(Value) {
		if(this.exists && (this.allowCollisions & 4369) > 0 != Value) {
			this.transformChildren_Bool($bind(this,this.solidTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_solid.call(this,Value);
	}
	,set_color: function(Value) {
		if(this.exists && this.color != Value) {
			this.transformChildren_Int($bind(this,this.gColorTransform),Value);
		}
		return this.color = Value;
	}
	,set_blend: function(Value) {
		if(this.exists && this.blend != Value) {
			this.transformChildren_flash_display_BlendMode($bind(this,this.blendTransform),Value);
		}
		return this.blend = Value;
	}
	,set_clipRect: function(rect) {
		if(this.exists) {
			this.transformChildren_flixel_math_FlxRect($bind(this,this.clipRectTransform),rect);
		}
		return flixel_FlxSprite.prototype.set_clipRect.call(this,rect);
	}
	,set_pixelPerfectRender: function(Value) {
		if(this.exists && this.pixelPerfectRender != Value) {
			this.transformChildren_Bool($bind(this,this.pixelPerfectTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_pixelPerfectRender.call(this,Value);
	}
	,set_width: function(Value) {
		return Value;
	}
	,get_width: function() {
		if(this.group.length == 0) {
			return 0;
		}
		var minX = Infinity;
		var maxX = -Infinity;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			var minMemberX = member.x;
			var maxMemberX = minMemberX + member.get_width();
			if(maxMemberX > maxX) {
				maxX = maxMemberX;
			}
			if(minMemberX < minX) {
				minX = minMemberX;
			}
		}
		return maxX - minX;
	}
	,set_height: function(Value) {
		return Value;
	}
	,get_height: function() {
		if(this.group.length == 0) {
			return 0;
		}
		var minY = Infinity;
		var maxY = -Infinity;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			var minMemberY = member.y;
			var maxMemberY = minMemberY + member.get_height();
			if(maxMemberY > maxY) {
				maxY = maxMemberY;
			}
			if(minMemberY < minY) {
				minY = minMemberY;
			}
		}
		return maxY - minY;
	}
	,get_length: function() {
		return this.group.length;
	}
	,get_maxSize: function() {
		return this.group.maxSize;
	}
	,set_maxSize: function(Size) {
		return this.group.set_maxSize(Size);
	}
	,get_members: function() {
		return this.group.members;
	}
	,xTransform: function(Sprite,X) {
		Sprite.set_x(Sprite.x + X);
	}
	,yTransform: function(Sprite,Y) {
		Sprite.set_y(Sprite.y + Y);
	}
	,angleTransform: function(Sprite,Angle) {
		Sprite.set_angle(Sprite.angle + Angle);
	}
	,alphaTransform: function(Sprite,Alpha) {
		if(Sprite.alpha != 0 || Alpha == 0) {
			Sprite.set_alpha(Sprite.alpha * Alpha);
		} else {
			Sprite.set_alpha(1 / Alpha);
		}
	}
	,directAlphaTransform: function(Sprite,Alpha) {
		Sprite.set_alpha(Alpha);
	}
	,facingTransform: function(Sprite,Facing) {
		Sprite.set_facing(Facing);
	}
	,flipXTransform: function(Sprite,FlipX) {
		Sprite.set_flipX(FlipX);
	}
	,flipYTransform: function(Sprite,FlipY) {
		Sprite.set_flipY(FlipY);
	}
	,movesTransform: function(Sprite,Moves) {
		Sprite.set_moves(Moves);
	}
	,pixelPerfectTransform: function(Sprite,PixelPerfect) {
		Sprite.set_pixelPerfectRender(PixelPerfect);
	}
	,gColorTransform: function(Sprite,Color) {
		Sprite.set_color(Color);
	}
	,blendTransform: function(Sprite,Blend) {
		Sprite.set_blend(Blend);
	}
	,immovableTransform: function(Sprite,Immovable) {
		Sprite.set_immovable(Immovable);
	}
	,visibleTransform: function(Sprite,Visible) {
		Sprite.set_visible(Visible);
	}
	,activeTransform: function(Sprite,Active) {
		Sprite.set_active(Active);
	}
	,solidTransform: function(Sprite,Solid) {
		Sprite.set_solid(Solid);
	}
	,aliveTransform: function(Sprite,Alive) {
		Sprite.set_alive(Alive);
	}
	,existsTransform: function(Sprite,Exists) {
		Sprite.set_exists(Exists);
	}
	,cameraTransform: function(Sprite,Camera) {
		Sprite.set_camera(Camera);
	}
	,camerasTransform: function(Sprite,Cameras) {
		Sprite.set_cameras(Cameras);
	}
	,offsetTransform: function(Sprite,Offset) {
		var _this = Sprite.offset;
		_this.set_x(Offset.x);
		_this.set_y(Offset.y);
		if(Offset._weak) {
			Offset.put();
		}
	}
	,originTransform: function(Sprite,Origin) {
		var _this = Sprite.origin;
		_this.set_x(Origin.x);
		_this.set_y(Origin.y);
		if(Origin._weak) {
			Origin.put();
		}
	}
	,scaleTransform: function(Sprite,Scale) {
		var _this = Sprite.scale;
		_this.set_x(Scale.x);
		_this.set_y(Scale.y);
		if(Scale._weak) {
			Scale.put();
		}
	}
	,scrollFactorTransform: function(Sprite,ScrollFactor) {
		var _this = Sprite.scrollFactor;
		_this.set_x(ScrollFactor.x);
		_this.set_y(ScrollFactor.y);
		if(ScrollFactor._weak) {
			ScrollFactor.put();
		}
	}
	,clipRectTransform: function(Sprite,ClipRect) {
		if(ClipRect == null) {
			Sprite.set_clipRect(null);
		} else {
			var X = ClipRect.x - Sprite.x + this.x;
			var Y = ClipRect.y - Sprite.y + this.y;
			var Width = ClipRect.width;
			var Height = ClipRect.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			Sprite.set_clipRect(rect);
		}
	}
	,offsetCallback: function(Offset) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.offsetTransform),Offset);
	}
	,originCallback: function(Origin) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.originTransform),Origin);
	}
	,scaleCallback: function(Scale) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.scaleTransform),Scale);
	}
	,scrollFactorCallback: function(ScrollFactor) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.scrollFactorTransform),ScrollFactor);
	}
	,loadGraphicFromSprite: function(Sprite) {
		return this;
	}
	,loadGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		return this;
	}
	,loadRotatedGraphic: function(Graphic,Rotations,Frame,AntiAliasing,AutoBuffer,Key) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Frame == null) {
			Frame = -1;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		return this;
	}
	,makeGraphic: function(Width,Height,Color,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Color == null) {
			Color = -1;
		}
		return this;
	}
	,set_pixels: function(Value) {
		return Value;
	}
	,set_frame: function(Value) {
		return Value;
	}
	,get_pixels: function() {
		return null;
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
	}
	,resetHelpers: function() {
	}
	,stamp: function(Brush,X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
	}
	,set_frames: function(Frames) {
		return Frames;
	}
	,updateColorTransform: function() {
	}
	,__class__: flixel_group_FlxTypedSpriteGroup
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_maxSize:"set_maxSize",get_maxSize:"get_maxSize",get_length:"get_length",get_members:"get_members"})
});
var AchievementObject = function(name,camera) {
	this.onFinish = null;
	var _gthis = this;
	flixel_group_FlxTypedSpriteGroup.call(this,this.x,this.y);
	ClientPrefs.saveSettings();
	var id = Achievements.getAchievementIndex(name);
	var achievementBG = new flixel_FlxSprite(60,50).makeGraphic(420,120,-16777216);
	achievementBG.scrollFactor.set();
	var achievementIcon = new flixel_FlxSprite(achievementBG.x + 10,achievementBG.y + 10).loadGraphic(Paths.getPath("images/" + "achievementgrid" + ".png","IMAGE",null),true,150,150);
	achievementIcon.animation.add("icon",[id],0,false,false);
	achievementIcon.animation.play("icon");
	achievementIcon.scrollFactor.set();
	achievementIcon.setGraphicSize(achievementIcon.get_width() * 0.66666666666666663 | 0);
	achievementIcon.updateHitbox();
	achievementIcon.set_antialiasing(ClientPrefs.globalAntialiasing);
	var achievementName = new flixel_text_FlxText(achievementIcon.x + achievementIcon.get_width() + 20,achievementIcon.y + 16,280,Achievements.achievementsStuff[id][0],16);
	achievementName.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"left");
	achievementName.scrollFactor.set();
	var achievementText = new flixel_text_FlxText(achievementName.x,achievementName.y + 32,280,Achievements.achievementsStuff[id][1],16);
	achievementText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"left");
	achievementText.scrollFactor.set();
	this.add(achievementBG);
	this.add(achievementName);
	this.add(achievementText);
	this.add(achievementIcon);
	var cam = flixel_FlxCamera._defaultCameras;
	if(camera != null) {
		cam = [camera];
	}
	this.set_alpha(0);
	achievementBG.set_cameras(cam);
	achievementName.set_cameras(cam);
	achievementText.set_cameras(cam);
	achievementIcon.set_cameras(cam);
	this.alphaTween = flixel_tweens_FlxTween.tween(this,{ alpha : 1},0.5,{ onComplete : function(twn) {
		_gthis.alphaTween = flixel_tweens_FlxTween.tween(_gthis,{ alpha : 0},0.5,{ startDelay : 2.5, onComplete : function(twn) {
			_gthis.alphaTween = null;
			_gthis.remove(_gthis);
			if(_gthis.onFinish != null) {
				_gthis.onFinish();
			}
		}});
	}});
};
$hxClasses["AchievementObject"] = AchievementObject;
AchievementObject.__name__ = "AchievementObject";
AchievementObject.__super__ = flixel_group_FlxTypedSpriteGroup;
AchievementObject.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	onFinish: null
	,alphaTween: null
	,destroy: function() {
		if(this.alphaTween != null) {
			this.alphaTween.cancel();
		}
		flixel_group_FlxTypedSpriteGroup.prototype.destroy.call(this);
	}
	,__class__: AchievementObject
});
var Alphabet = function(x,y,text,bold,typed,typingSpeed,textSize) {
	if(textSize == null) {
		textSize = 1;
	}
	if(typingSpeed == null) {
		typingSpeed = 0.05;
	}
	if(typed == null) {
		typed = false;
	}
	if(bold == null) {
		bold = false;
	}
	if(text == null) {
		text = "";
	}
	this.LONG_TEXT_ADD = -24;
	this.typeTimer = null;
	this.consecutiveSpaces = 0;
	this.dialogueSound = null;
	this.curRow = 0;
	this.xPos = 0;
	this.loopNum = 0;
	this.typingSpeed = 0.05;
	this.typed = false;
	this.finishedText = false;
	this.lettersArray = [];
	this.isBold = false;
	this.splitWords = [];
	this.xPosResetted = false;
	this.yMulti = 1;
	this._finalText = "";
	this.text = "";
	this.textSize = 1.0;
	this.isMenuItem = false;
	this.yAdd = 0;
	this.xAdd = 0;
	this.yMult = 120;
	this.targetY = 0;
	this.forceX = -Infinity;
	this.paused = false;
	this.delay = 0.05;
	flixel_group_FlxTypedSpriteGroup.call(this,x,y);
	this.forceX = -Infinity;
	this.textSize = textSize;
	this._finalText = text;
	this.text = text;
	this.typed = typed;
	this.isBold = bold;
	if(text != "") {
		if(typed) {
			this.startTypedText(typingSpeed);
		} else {
			this.addText();
		}
	} else {
		this.finishedText = true;
	}
};
$hxClasses["Alphabet"] = Alphabet;
Alphabet.__name__ = "Alphabet";
Alphabet.__super__ = flixel_group_FlxTypedSpriteGroup;
Alphabet.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	delay: null
	,paused: null
	,forceX: null
	,targetY: null
	,yMult: null
	,xAdd: null
	,yAdd: null
	,isMenuItem: null
	,textSize: null
	,text: null
	,_finalText: null
	,yMulti: null
	,lastSprite: null
	,xPosResetted: null
	,splitWords: null
	,isBold: null
	,lettersArray: null
	,finishedText: null
	,typed: null
	,typingSpeed: null
	,changeText: function(newText,newTypingSpeed) {
		if(newTypingSpeed == null) {
			newTypingSpeed = -1;
		}
		var _g = 0;
		var _g1 = this.lettersArray.length;
		while(_g < _g1) {
			var i = _g++;
			var letter = this.lettersArray[0];
			letter.destroy();
			this.remove(letter);
			HxOverrides.remove(this.lettersArray,letter);
		}
		this.lettersArray = [];
		this.splitWords = [];
		this.loopNum = 0;
		this.xPos = 0;
		this.curRow = 0;
		this.consecutiveSpaces = 0;
		this.xPosResetted = false;
		this.finishedText = false;
		this.lastSprite = null;
		var lastX = this.x;
		this.set_x(0);
		this._finalText = newText;
		this.text = newText;
		if(newTypingSpeed != -1) {
			this.typingSpeed = newTypingSpeed;
		}
		if(this.text != "") {
			if(this.typed) {
				this.startTypedText(this.typingSpeed);
			} else {
				this.addText();
			}
		} else {
			this.finishedText = true;
		}
		this.set_x(lastX);
	}
	,addText: function() {
		this.doSplitWords();
		var xPos = 0;
		var _g = 0;
		var _g1 = this.splitWords;
		while(_g < _g1.length) {
			var character = _g1[_g];
			++_g;
			var spaceChar = character == " " || this.isBold && character == "_";
			if(spaceChar) {
				this.consecutiveSpaces++;
			}
			var isNumber = AlphaCharacter.numbers.indexOf(character) != -1;
			var isSymbol = AlphaCharacter.symbols.indexOf(character) != -1;
			var isAlphabet = AlphaCharacter.alphabet.indexOf(character.toLowerCase()) != -1;
			if((isAlphabet || isSymbol || isNumber) && (!this.isBold || !spaceChar)) {
				if(this.lastSprite != null) {
					xPos = this.lastSprite.x + this.lastSprite.get_width();
				}
				if(this.consecutiveSpaces > 0) {
					xPos += 40 * this.consecutiveSpaces * this.textSize;
				}
				this.consecutiveSpaces = 0;
				var letter = new AlphaCharacter(xPos,0,this.textSize);
				if(this.isBold) {
					if(isNumber) {
						letter.createBoldNumber(character);
					} else if(isSymbol) {
						letter.createBoldSymbol(character);
					} else {
						letter.createBoldLetter(character);
					}
				} else if(isNumber) {
					letter.createNumber(character);
				} else if(isSymbol) {
					letter.createSymbol(character);
				} else {
					letter.createLetter(character);
				}
				this.add(letter);
				this.lettersArray.push(letter);
				this.lastSprite = letter;
			}
		}
	}
	,doSplitWords: function() {
		this.splitWords = this._finalText.split("");
	}
	,loopNum: null
	,xPos: null
	,curRow: null
	,dialogueSound: null
	,consecutiveSpaces: null
	,typeTimer: null
	,startTypedText: function(speed) {
		var _gthis = this;
		this._finalText = this.text;
		this.doSplitWords();
		if(speed <= 0) {
			while(!this.finishedText) this.timerCheck();
			if(this.dialogueSound != null) {
				var _this = this.dialogueSound;
				_this.cleanup(_this.autoDestroy,true);
			}
			this.dialogueSound = flixel_FlxG.sound.play(Paths.sound("dialogue"));
		} else {
			this.typeTimer = new flixel_util_FlxTimer().start(0.1,function(tmr) {
				_gthis.typeTimer = new flixel_util_FlxTimer().start(speed,function(tmr) {
					_gthis.timerCheck(tmr);
				},0);
			});
		}
	}
	,LONG_TEXT_ADD: null
	,timerCheck: function(tmr) {
		var autoBreak = false;
		var tmp;
		if(!(this.loopNum <= this.splitWords.length - 2 && this.splitWords[this.loopNum] == "\\" && this.splitWords[this.loopNum + 1] == "n")) {
			autoBreak = true;
			tmp = autoBreak && this.xPos >= flixel_FlxG.width * 0.65 && this.splitWords[this.loopNum] == " ";
		} else {
			tmp = true;
		}
		if(tmp) {
			if(autoBreak) {
				if(tmr != null) {
					tmr.loops -= 1;
				}
				this.loopNum += 1;
			} else {
				if(tmr != null) {
					tmr.loops -= 2;
				}
				this.loopNum += 2;
			}
			this.yMulti += 1;
			this.xPosResetted = true;
			this.xPos = 0;
			this.curRow += 1;
			if(this.curRow == 2) {
				this.set_y(this.y + this.LONG_TEXT_ADD);
			}
		}
		if(this.loopNum <= this.splitWords.length && this.splitWords[this.loopNum] != null) {
			var spaceChar = this.splitWords[this.loopNum] == " " || this.isBold && this.splitWords[this.loopNum] == "_";
			if(spaceChar) {
				this.consecutiveSpaces++;
			}
			var isNumber = AlphaCharacter.numbers.indexOf(this.splitWords[this.loopNum]) != -1;
			var isSymbol = AlphaCharacter.symbols.indexOf(this.splitWords[this.loopNum]) != -1;
			var isAlphabet = AlphaCharacter.alphabet.indexOf(this.splitWords[this.loopNum].toLowerCase()) != -1;
			if((isAlphabet || isSymbol || isNumber) && (!this.isBold || !spaceChar)) {
				if(this.lastSprite != null && !this.xPosResetted) {
					this.lastSprite.updateHitbox();
					this.xPos += this.lastSprite.get_width() + 3;
				} else {
					this.xPosResetted = false;
				}
				if(this.consecutiveSpaces > 0) {
					this.xPos += 20 * this.consecutiveSpaces * this.textSize;
				}
				this.consecutiveSpaces = 0;
				var letter = new AlphaCharacter(this.xPos,55 * this.yMulti,this.textSize);
				letter.row = this.curRow;
				if(this.isBold) {
					if(isNumber) {
						letter.createBoldNumber(this.splitWords[this.loopNum]);
					} else if(isSymbol) {
						letter.createBoldSymbol(this.splitWords[this.loopNum]);
					} else {
						letter.createBoldLetter(this.splitWords[this.loopNum]);
					}
				} else if(isNumber) {
					letter.createNumber(this.splitWords[this.loopNum]);
				} else if(isSymbol) {
					letter.createSymbol(this.splitWords[this.loopNum]);
				} else {
					letter.createLetter(this.splitWords[this.loopNum]);
				}
				letter.set_x(letter.x + 90);
				if(tmr != null) {
					if(this.dialogueSound != null) {
						var _this = this.dialogueSound;
						_this.cleanup(_this.autoDestroy,true);
					}
					this.dialogueSound = flixel_FlxG.sound.play(Paths.sound("dialogue"));
				}
				this.add(letter);
				this.lastSprite = letter;
			}
		}
		this.loopNum++;
		if(this.loopNum >= this.splitWords.length) {
			if(tmr != null) {
				this.typeTimer = null;
				tmr.cancel();
				tmr.destroy();
			}
			this.finishedText = true;
		}
	}
	,update: function(elapsed) {
		if(this.isMenuItem) {
			var scaledY = flixel_math_FlxMath.remapToRange(this.targetY,0,1,0,1.3);
			var lerpVal = Math.max(0,Math.min(1,elapsed * 9.6));
			var a = this.y;
			this.set_y(a + lerpVal * (scaledY * this.yMult + flixel_FlxG.height * 0.48 + this.yAdd - a));
			if(this.forceX != -Infinity) {
				this.set_x(this.forceX);
			} else {
				var a = this.x;
				this.set_x(a + lerpVal * (this.targetY * 20 + 90 + this.xAdd - a));
			}
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,killTheTimer: function() {
		if(this.typeTimer != null) {
			this.typeTimer.cancel();
			this.typeTimer.destroy();
		}
		this.typeTimer = null;
	}
	,__class__: Alphabet
});
var AlphaCharacter = function(x,y,textSize) {
	this.textSize = 1;
	this.row = 0;
	flixel_FlxSprite.call(this,x,y);
	var library = null;
	var tex = flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "alphabet" + ".png","IMAGE",library),Paths.getPath("images/" + "alphabet" + ".xml","TEXT",library));
	this.set_frames(tex);
	this.setGraphicSize(this.get_width() * textSize | 0);
	this.updateHitbox();
	this.textSize = textSize;
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["AlphaCharacter"] = AlphaCharacter;
AlphaCharacter.__name__ = "AlphaCharacter";
AlphaCharacter.__super__ = flixel_FlxSprite;
AlphaCharacter.prototype = $extend(flixel_FlxSprite.prototype,{
	row: null
	,textSize: null
	,createBoldLetter: function(letter) {
		this.animation.addByPrefix(letter,letter.toUpperCase() + " bold",24);
		this.animation.play(letter);
		this.updateHitbox();
	}
	,createBoldNumber: function(letter) {
		this.animation.addByPrefix(letter,"bold" + letter,24);
		this.animation.play(letter);
		this.updateHitbox();
	}
	,createBoldSymbol: function(letter) {
		switch(letter) {
		case "!":
			this.animation.addByPrefix(letter,"EXCLAMATION POINT bold",24);
			break;
		case "'":
			this.animation.addByPrefix(letter,"APOSTRAPHIE bold",24);
			break;
		case "(":
			this.animation.addByPrefix(letter,"bold (",24);
			break;
		case ")":
			this.animation.addByPrefix(letter,"bold )",24);
			break;
		case ".":
			this.animation.addByPrefix(letter,"PERIOD bold",24);
			break;
		case "?":
			this.animation.addByPrefix(letter,"QUESTION MARK bold",24);
			break;
		default:
			this.animation.addByPrefix(letter,"bold " + letter,24);
		}
		this.animation.play(letter);
		this.updateHitbox();
		switch(letter) {
		case "'":
			this.set_y(this.y - 20 * this.textSize);
			break;
		case "(":
			this.set_x(this.x - 65 * this.textSize);
			this.set_y(this.y - 5 * this.textSize);
			this.offset.set_x(-58 * this.textSize);
			break;
		case ")":
			this.set_x(this.x - 20 / this.textSize);
			this.set_y(this.y - 5 * this.textSize);
			this.offset.set_x(12 * this.textSize);
			break;
		case "-":
			this.set_y(this.y + 20 * this.textSize);
			break;
		case ".":
			this.set_y(this.y + 45 * this.textSize);
			this.set_x(this.x + 5 * this.textSize);
			var fh = this.offset;
			fh.set_x(fh.x + 3 * this.textSize);
			break;
		}
	}
	,createLetter: function(letter) {
		var letterCase = "lowercase";
		if(letter.toLowerCase() != letter) {
			letterCase = "capital";
		}
		this.animation.addByPrefix(letter,letter + " " + letterCase,24);
		this.animation.play(letter);
		this.updateHitbox();
		this.set_y(110 - this.get_height());
		this.set_y(this.y + this.row * 60);
	}
	,createNumber: function(letter) {
		this.animation.addByPrefix(letter,letter,24);
		this.animation.play(letter);
		this.updateHitbox();
		this.set_y(110 - this.get_height());
		this.set_y(this.y + this.row * 60);
	}
	,createSymbol: function(letter) {
		switch(letter) {
		case "!":
			this.animation.addByPrefix(letter,"exclamation point",24);
			break;
		case "#":
			this.animation.addByPrefix(letter,"hashtag",24);
			break;
		case "'":
			this.animation.addByPrefix(letter,"apostraphie",24);
			this.set_y(this.y - 50);
			break;
		case ",":
			this.animation.addByPrefix(letter,"comma",24);
			break;
		case ".":
			this.animation.addByPrefix(letter,"period",24);
			break;
		case "?":
			this.animation.addByPrefix(letter,"question mark",24);
			break;
		default:
			this.animation.addByPrefix(letter,letter,24);
		}
		this.animation.play(letter);
		this.updateHitbox();
		this.set_y(110 - this.get_height());
		this.set_y(this.y + this.row * 60);
		switch(letter) {
		case "'":
			this.set_y(this.y - 20);
			break;
		case "-":
			this.set_y(this.y - 16);
			break;
		}
	}
	,__class__: AlphaCharacter
});
var lime_app_IModule = function() { };
$hxClasses["lime.app.IModule"] = lime_app_IModule;
lime_app_IModule.__name__ = "lime.app.IModule";
lime_app_IModule.__isInterface__ = true;
lime_app_IModule.prototype = {
	__registerLimeModule: null
	,__unregisterLimeModule: null
	,__class__: lime_app_IModule
};
var lime_app_Module = function() {
	this.onExit = new lime_app__$Event_$Int_$Void();
};
$hxClasses["lime.app.Module"] = lime_app_Module;
lime_app_Module.__name__ = "lime.app.Module";
lime_app_Module.__interfaces__ = [lime_app_IModule];
lime_app_Module.prototype = {
	onExit: null
	,__registerLimeModule: function(application) {
	}
	,__unregisterLimeModule: function(application) {
	}
	,__class__: lime_app_Module
};
var lime__$internal_backend_html5_HTML5Application = function(parent) {
	this.gameDeviceCache = new haxe_ds_IntMap();
	this.parent = parent;
	this.currentUpdate = 0;
	this.lastUpdate = 0;
	this.nextUpdate = 0;
	this.framePeriod = -1;
	lime_media_AudioManager.init();
	this.accelerometer = lime_system_Sensor.registerSensor(lime_system_SensorType.ACCELEROMETER,0);
};
$hxClasses["lime._internal.backend.html5.HTML5Application"] = lime__$internal_backend_html5_HTML5Application;
lime__$internal_backend_html5_HTML5Application.__name__ = "lime._internal.backend.html5.HTML5Application";
lime__$internal_backend_html5_HTML5Application.prototype = {
	accelerometer: null
	,currentUpdate: null
	,deltaTime: null
	,framePeriod: null
	,gameDeviceCache: null
	,hidden: null
	,lastUpdate: null
	,nextUpdate: null
	,parent: null
	,convertKeyCode: function(keyCode) {
		if(keyCode >= 65 && keyCode <= 90) {
			return keyCode + 32;
		}
		switch(keyCode) {
		case 12:
			return 1073741980;
		case 16:
			return 1073742049;
		case 17:
			return 1073742048;
		case 18:
			return 1073742050;
		case 19:
			return 1073741896;
		case 20:
			return 1073741881;
		case 33:
			return 1073741899;
		case 34:
			return 1073741902;
		case 35:
			return 1073741901;
		case 36:
			return 1073741898;
		case 37:
			return 1073741904;
		case 38:
			return 1073741906;
		case 39:
			return 1073741903;
		case 40:
			return 1073741905;
		case 41:
			return 1073741943;
		case 43:
			return 1073741940;
		case 44:
			return 1073741894;
		case 45:
			return 1073741897;
		case 46:
			return 127;
		case 91:
			return 1073742051;
		case 92:
			return 1073742055;
		case 93:
			return 1073742055;
		case 95:
			return 1073742106;
		case 96:
			return 1073741922;
		case 97:
			return 1073741913;
		case 98:
			return 1073741914;
		case 99:
			return 1073741915;
		case 100:
			return 1073741916;
		case 101:
			return 1073741917;
		case 102:
			return 1073741918;
		case 103:
			return 1073741919;
		case 104:
			return 1073741920;
		case 105:
			return 1073741921;
		case 106:
			return 1073741909;
		case 107:
			return 1073741911;
		case 108:
			return 1073741923;
		case 109:
			return 1073741910;
		case 110:
			return 1073741923;
		case 111:
			return 1073741908;
		case 112:
			return 1073741882;
		case 113:
			return 1073741883;
		case 114:
			return 1073741884;
		case 115:
			return 1073741885;
		case 116:
			return 1073741886;
		case 117:
			return 1073741887;
		case 118:
			return 1073741888;
		case 119:
			return 1073741889;
		case 120:
			return 1073741890;
		case 121:
			return 1073741891;
		case 122:
			return 1073741892;
		case 123:
			return 1073741893;
		case 124:
			return 1073741928;
		case 125:
			return 1073741929;
		case 126:
			return 1073741930;
		case 127:
			return 1073741931;
		case 128:
			return 1073741932;
		case 129:
			return 1073741933;
		case 130:
			return 1073741934;
		case 131:
			return 1073741935;
		case 132:
			return 1073741936;
		case 133:
			return 1073741937;
		case 134:
			return 1073741938;
		case 135:
			return 1073741939;
		case 144:
			return 1073741907;
		case 145:
			return 1073741895;
		case 160:
			return 94;
		case 161:
			return 33;
		case 163:
			return 35;
		case 164:
			return 36;
		case 166:
			return 1073742094;
		case 167:
			return 1073742095;
		case 168:
			return 1073742097;
		case 169:
			return 41;
		case 170:
			return 42;
		case 171:
			return 96;
		case 172:
			return 1073741898;
		case 173:
			return 45;
		case 174:
			return 1073741953;
		case 175:
			return 1073741952;
		case 176:
			return 1073742082;
		case 177:
			return 1073742083;
		case 178:
			return 1073742084;
		case 179:
			return 1073742085;
		case 180:
			return 1073742089;
		case 181:
			return 1073742086;
		case 182:
			return 1073741953;
		case 183:
			return 1073741952;
		case 186:
			return 59;
		case 187:
			return 61;
		case 188:
			return 44;
		case 189:
			return 45;
		case 190:
			return 46;
		case 191:
			return 47;
		case 192:
			return 96;
		case 193:
			return 63;
		case 194:
			return 1073741923;
		case 219:
			return 91;
		case 220:
			return 92;
		case 221:
			return 93;
		case 222:
			return 39;
		case 223:
			return 96;
		case 224:
			return 1073742051;
		case 226:
			return 92;
		}
		return keyCode;
	}
	,exec: function() {
		window.addEventListener("keydown",$bind(this,this.handleKeyEvent),false);
		window.addEventListener("keyup",$bind(this,this.handleKeyEvent),false);
		window.addEventListener("focus",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("blur",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("resize",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("beforeunload",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("devicemotion",$bind(this,this.handleSensorEvent),false);
		
			if (!CanvasRenderingContext2D.prototype.isPointInStroke) {
				CanvasRenderingContext2D.prototype.isPointInStroke = function (path, x, y) {
					return false;
				};
			}
			if (!CanvasRenderingContext2D.prototype.isPointInPath) {
				CanvasRenderingContext2D.prototype.isPointInPath = function (path, x, y) {
					return false;
				};
			}

			if ('performance' in window == false) {
				window.performance = {};
			}

			if ('now' in window.performance == false) {
				var offset = Date.now();
				if (performance.timing && performance.timing.navigationStart) {
					offset = performance.timing.navigationStart
				}
				window.performance.now = function now() {
					return Date.now() - offset;
				}
			}

			var lastTime = 0;
			var vendors = ['ms', 'moz', 'webkit', 'o'];
			for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
				window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
				window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];
			}

			if (!window.requestAnimationFrame)
				window.requestAnimationFrame = function(callback, element) {
					var currTime = new Date().getTime();
					var timeToCall = Math.max(0, 16 - (currTime - lastTime));
					var id = window.setTimeout(function() { callback(currTime + timeToCall); },
					  timeToCall);
					lastTime = currTime + timeToCall;
					return id;
				};

			if (!window.cancelAnimationFrame)
				window.cancelAnimationFrame = function(id) {
					clearTimeout(id);
				};

			window.requestAnimFrame = window.requestAnimationFrame;
		;
		this.lastUpdate = new Date().getTime();
		this.handleApplicationEvent();
		return 0;
	}
	,exit: function() {
	}
	,handleApplicationEvent: function(__) {
		var _g = 0;
		var _g1 = this.parent.__windows;
		while(_g < _g1.length) {
			var $window = _g1[_g];
			++_g;
			$window.__backend.updateSize();
		}
		this.updateGameDevices();
		this.currentUpdate = new Date().getTime();
		if(this.currentUpdate >= this.nextUpdate) {
			this.deltaTime = this.currentUpdate - this.lastUpdate;
			var _g = 0;
			var _g1 = this.parent.__windows;
			while(_g < _g1.length) {
				var $window = _g1[_g];
				++_g;
				this.parent.onUpdate.dispatch(this.deltaTime | 0);
				if($window.context != null) {
					$window.onRender.dispatch($window.context);
				}
			}
			if(this.framePeriod < 0) {
				this.nextUpdate = this.currentUpdate;
			} else {
				this.nextUpdate = this.currentUpdate - this.currentUpdate % this.framePeriod + this.framePeriod;
			}
			this.lastUpdate = this.currentUpdate;
		}
		window.requestAnimationFrame($bind(this,this.handleApplicationEvent));
	}
	,handleKeyEvent: function(event) {
		if(this.parent.__window != null) {
			var keyCode = this.convertKeyCode(event.keyCode != null ? event.keyCode : event.which);
			var modifier = (event.shiftKey ? 3 : 0) | (event.ctrlKey ? 192 : 0) | (event.altKey ? 768 : 0) | (event.metaKey ? 3072 : 0);
			if(event.type == "keydown") {
				this.parent.__window.onKeyDown.dispatch(keyCode,modifier);
				if(this.parent.__window.onKeyDown.canceled && event.cancelable) {
					event.preventDefault();
				}
			} else {
				this.parent.__window.onKeyUp.dispatch(keyCode,modifier);
				if(this.parent.__window.onKeyUp.canceled && event.cancelable) {
					event.preventDefault();
				}
			}
		}
	}
	,handleSensorEvent: function(event) {
		this.accelerometer.onUpdate.dispatch(event.accelerationIncludingGravity.x,event.accelerationIncludingGravity.y,event.accelerationIncludingGravity.z);
	}
	,handleWindowEvent: function(event) {
		if(this.parent.__window != null) {
			switch(event.type) {
			case "beforeunload":
				break;
			case "blur":
				if(!this.hidden) {
					this.parent.__window.onFocusOut.dispatch();
					this.parent.__window.onDeactivate.dispatch();
					this.hidden = true;
				}
				break;
			case "focus":
				if(this.hidden) {
					this.parent.__window.onFocusIn.dispatch();
					this.parent.__window.onActivate.dispatch();
					this.hidden = false;
				}
				break;
			case "resize":
				this.parent.__window.__backend.handleResizeEvent(event);
				break;
			case "visibilitychange":
				if(window.document.hidden) {
					if(!this.hidden) {
						this.parent.__window.onFocusOut.dispatch();
						this.parent.__window.onDeactivate.dispatch();
						this.hidden = true;
					}
				} else if(this.hidden) {
					this.parent.__window.onFocusIn.dispatch();
					this.parent.__window.onActivate.dispatch();
					this.hidden = false;
				}
				break;
			}
		}
	}
	,updateGameDevices: function() {
		var devices = lime_ui_Joystick.__getDeviceData();
		if(devices == null) {
			return;
		}
		var id;
		var gamepad;
		var joystick;
		var data;
		var cache;
		var _g = 0;
		var _g1 = devices.length;
		while(_g < _g1) {
			var i = _g++;
			id = i;
			data = devices[id];
			if(data == null) {
				continue;
			}
			if(!this.gameDeviceCache.h.hasOwnProperty(id)) {
				cache = new lime__$internal_backend_html5_GameDeviceData();
				cache.id = id;
				cache.connected = data.connected;
				var _g2 = 0;
				var _g3 = data.buttons.length;
				while(_g2 < _g3) {
					var i1 = _g2++;
					cache.buttons.push(data.buttons[i1].value);
				}
				var _g4 = 0;
				var _g5 = data.axes.length;
				while(_g4 < _g5) {
					var i2 = _g4++;
					cache.axes.push(data.axes[i2]);
				}
				if(data.mapping == "standard") {
					cache.isGamepad = true;
				}
				this.gameDeviceCache.h[id] = cache;
				if(data.connected) {
					lime_ui_Joystick.__connect(id);
					if(cache.isGamepad) {
						lime_ui_Gamepad.__connect(id);
					}
				}
			}
			cache = this.gameDeviceCache.h[id];
			joystick = lime_ui_Joystick.devices.h[id];
			gamepad = lime_ui_Gamepad.devices.h[id];
			if(data.connected) {
				var button;
				var value;
				var _g6 = 0;
				var _g7 = data.buttons.length;
				while(_g6 < _g7) {
					var i3 = _g6++;
					value = data.buttons[i3].value;
					if(value != cache.buttons[i3]) {
						if(i3 == 6) {
							joystick.onAxisMove.dispatch(data.axes.length,value);
							if(gamepad != null) {
								gamepad.onAxisMove.dispatch(4,value);
							}
						} else if(i3 == 7) {
							joystick.onAxisMove.dispatch(data.axes.length + 1,value);
							if(gamepad != null) {
								gamepad.onAxisMove.dispatch(5,value);
							}
						} else {
							if(value > 0) {
								joystick.onButtonDown.dispatch(i3);
							} else {
								joystick.onButtonUp.dispatch(i3);
							}
							if(gamepad != null) {
								switch(i3) {
								case 0:
									button = 0;
									break;
								case 1:
									button = 1;
									break;
								case 2:
									button = 2;
									break;
								case 3:
									button = 3;
									break;
								case 4:
									button = 9;
									break;
								case 5:
									button = 10;
									break;
								case 8:
									button = 4;
									break;
								case 9:
									button = 6;
									break;
								case 10:
									button = 7;
									break;
								case 11:
									button = 8;
									break;
								case 12:
									button = 11;
									break;
								case 13:
									button = 12;
									break;
								case 14:
									button = 13;
									break;
								case 15:
									button = 14;
									break;
								case 16:
									button = 5;
									break;
								default:
									continue;
								}
								if(value > 0) {
									gamepad.onButtonDown.dispatch(button);
								} else {
									gamepad.onButtonUp.dispatch(button);
								}
							}
						}
						cache.buttons[i3] = value;
					}
				}
				var _g8 = 0;
				var _g9 = data.axes.length;
				while(_g8 < _g9) {
					var i4 = _g8++;
					if(data.axes[i4] != cache.axes[i4]) {
						joystick.onAxisMove.dispatch(i4,data.axes[i4]);
						if(gamepad != null) {
							gamepad.onAxisMove.dispatch(i4,data.axes[i4]);
						}
						cache.axes[i4] = data.axes[i4];
					}
				}
			} else if(cache.connected) {
				cache.connected = false;
				lime_ui_Joystick.__disconnect(id);
				lime_ui_Gamepad.__disconnect(id);
			}
		}
	}
	,__class__: lime__$internal_backend_html5_HTML5Application
};
var lime_app_Application = function() {
	this.onCreateWindow = new lime_app__$Event_$lime_$ui_$Window_$Void();
	this.onUpdate = new lime_app__$Event_$Int_$Void();
	lime_app_Module.call(this);
	if(lime_app_Application.current == null) {
		lime_app_Application.current = this;
	}
	this.meta = new haxe_ds_StringMap();
	this.modules = [];
	this.__windowByID = new haxe_ds_IntMap();
	this.__windows = [];
	this.__backend = new lime__$internal_backend_html5_HTML5Application(this);
	this.__registerLimeModule(this);
	this.__preloader = new lime_utils_Preloader();
	this.__preloader.onProgress.add($bind(this,this.onPreloadProgress));
	this.__preloader.onComplete.add($bind(this,this.onPreloadComplete));
};
$hxClasses["lime.app.Application"] = lime_app_Application;
lime_app_Application.__name__ = "lime.app.Application";
lime_app_Application.current = null;
lime_app_Application.__super__ = lime_app_Module;
lime_app_Application.prototype = $extend(lime_app_Module.prototype,{
	meta: null
	,modules: null
	,onUpdate: null
	,onCreateWindow: null
	,preloader: null
	,window: null
	,windows: null
	,__backend: null
	,__preloader: null
	,__window: null
	,__windowByID: null
	,__windows: null
	,addModule: function(module) {
		module.__registerLimeModule(this);
		this.modules.push(module);
	}
	,createWindow: function(attributes) {
		var $window = this.__createWindow(attributes);
		this.__addWindow($window);
		return $window;
	}
	,exec: function() {
		lime_app_Application.current = this;
		return this.__backend.exec();
	}
	,onGamepadAxisMove: function(gamepad,axis,value) {
	}
	,onGamepadButtonDown: function(gamepad,button) {
	}
	,onGamepadButtonUp: function(gamepad,button) {
	}
	,onGamepadConnect: function(gamepad) {
	}
	,onGamepadDisconnect: function(gamepad) {
	}
	,onJoystickAxisMove: function(joystick,axis,value) {
	}
	,onJoystickButtonDown: function(joystick,button) {
	}
	,onJoystickButtonUp: function(joystick,button) {
	}
	,onJoystickConnect: function(joystick) {
	}
	,onJoystickDisconnect: function(joystick) {
	}
	,onJoystickHatMove: function(joystick,hat,position) {
	}
	,onJoystickTrackballMove: function(joystick,trackball,x,y) {
	}
	,onKeyDown: function(keyCode,modifier) {
	}
	,onKeyUp: function(keyCode,modifier) {
	}
	,onModuleExit: function(code) {
	}
	,onMouseDown: function(x,y,button) {
	}
	,onMouseMove: function(x,y) {
	}
	,onMouseMoveRelative: function(x,y) {
	}
	,onMouseUp: function(x,y,button) {
	}
	,onMouseWheel: function(deltaX,deltaY,deltaMode) {
	}
	,onPreloadComplete: function() {
	}
	,onPreloadProgress: function(loaded,total) {
	}
	,onRenderContextLost: function() {
	}
	,onRenderContextRestored: function(context) {
	}
	,onTextEdit: function(text,start,length) {
	}
	,onTextInput: function(text) {
	}
	,onTouchCancel: function(touch) {
	}
	,onTouchEnd: function(touch) {
	}
	,onTouchMove: function(touch) {
	}
	,onTouchStart: function(touch) {
	}
	,onWindowActivate: function() {
	}
	,onWindowClose: function() {
	}
	,onWindowCreate: function() {
	}
	,onWindowDeactivate: function() {
	}
	,onWindowDropFile: function(file) {
	}
	,onWindowEnter: function() {
	}
	,onWindowExpose: function() {
	}
	,onWindowFocusIn: function() {
	}
	,onWindowFocusOut: function() {
	}
	,onWindowFullscreen: function() {
	}
	,onWindowLeave: function() {
	}
	,onWindowMove: function(x,y) {
	}
	,onWindowMinimize: function() {
	}
	,onWindowResize: function(width,height) {
	}
	,onWindowRestore: function() {
	}
	,removeModule: function(module) {
		if(module != null) {
			module.__unregisterLimeModule(this);
			HxOverrides.remove(this.modules,module);
		}
	}
	,render: function(context) {
	}
	,update: function(deltaTime) {
	}
	,__addWindow: function($window) {
		if($window != null) {
			this.__windows.push($window);
			this.__windowByID.h[$window.id] = $window;
			var _g = $bind(this,this.__onWindowClose);
			var window1 = $window;
			var tmp = function() {
				_g(window1);
			};
			$window.onClose.add(tmp,false,-10000);
			if(this.__window == null) {
				this.__window = $window;
				$window.onActivate.add($bind(this,this.onWindowActivate));
				$window.onRenderContextLost.add($bind(this,this.onRenderContextLost));
				$window.onRenderContextRestored.add($bind(this,this.onRenderContextRestored));
				$window.onDeactivate.add($bind(this,this.onWindowDeactivate));
				$window.onDropFile.add($bind(this,this.onWindowDropFile));
				$window.onEnter.add($bind(this,this.onWindowEnter));
				$window.onExpose.add($bind(this,this.onWindowExpose));
				$window.onFocusIn.add($bind(this,this.onWindowFocusIn));
				$window.onFocusOut.add($bind(this,this.onWindowFocusOut));
				$window.onFullscreen.add($bind(this,this.onWindowFullscreen));
				$window.onKeyDown.add($bind(this,this.onKeyDown));
				$window.onKeyUp.add($bind(this,this.onKeyUp));
				$window.onLeave.add($bind(this,this.onWindowLeave));
				$window.onMinimize.add($bind(this,this.onWindowMinimize));
				$window.onMouseDown.add($bind(this,this.onMouseDown));
				$window.onMouseMove.add($bind(this,this.onMouseMove));
				$window.onMouseMoveRelative.add($bind(this,this.onMouseMoveRelative));
				$window.onMouseUp.add($bind(this,this.onMouseUp));
				$window.onMouseWheel.add($bind(this,this.onMouseWheel));
				$window.onMove.add($bind(this,this.onWindowMove));
				$window.onRender.add($bind(this,this.render));
				$window.onResize.add($bind(this,this.onWindowResize));
				$window.onRestore.add($bind(this,this.onWindowRestore));
				$window.onTextEdit.add($bind(this,this.onTextEdit));
				$window.onTextInput.add($bind(this,this.onTextInput));
				this.onWindowCreate();
			}
			this.onCreateWindow.dispatch($window);
		}
	}
	,__createWindow: function(attributes) {
		var $window = new lime_ui_Window(this,attributes);
		if($window.id == -1) {
			return null;
		}
		return $window;
	}
	,__registerLimeModule: function(application) {
		application.onUpdate.add($bind(this,this.update));
		application.onExit.add($bind(this,this.onModuleExit),false,0);
		application.onExit.add($bind(this,this.__onModuleExit),false,0);
		var gamepad = lime_ui_Gamepad.devices.iterator();
		while(gamepad.hasNext()) {
			var gamepad1 = gamepad.next();
			this.__onGamepadConnect(gamepad1);
		}
		lime_ui_Gamepad.onConnect.add($bind(this,this.__onGamepadConnect));
		var joystick = lime_ui_Joystick.devices.iterator();
		while(joystick.hasNext()) {
			var joystick1 = joystick.next();
			this.__onJoystickConnect(joystick1);
		}
		lime_ui_Joystick.onConnect.add($bind(this,this.__onJoystickConnect));
		lime_ui_Touch.onCancel.add($bind(this,this.onTouchCancel));
		lime_ui_Touch.onStart.add($bind(this,this.onTouchStart));
		lime_ui_Touch.onMove.add($bind(this,this.onTouchMove));
		lime_ui_Touch.onEnd.add($bind(this,this.onTouchEnd));
	}
	,__removeWindow: function($window) {
		if($window != null && this.__windowByID.h.hasOwnProperty($window.id)) {
			if(this.__window == $window) {
				this.__window = null;
			}
			HxOverrides.remove(this.__windows,$window);
			this.__windowByID.remove($window.id);
			$window.close();
			if(this.__windows.length == 0) {
				lime_system_System.exit(0);
			}
		}
	}
	,__onGamepadConnect: function(gamepad) {
		this.onGamepadConnect(gamepad);
		var _g = $bind(this,this.onGamepadAxisMove);
		var gamepad1 = gamepad;
		var tmp = function(axis,value) {
			_g(gamepad1,axis,value);
		};
		gamepad.onAxisMove.add(tmp);
		var _g1 = $bind(this,this.onGamepadButtonDown);
		var gamepad2 = gamepad;
		var tmp = function(button) {
			_g1(gamepad2,button);
		};
		gamepad.onButtonDown.add(tmp);
		var _g2 = $bind(this,this.onGamepadButtonUp);
		var gamepad3 = gamepad;
		var tmp = function(button) {
			_g2(gamepad3,button);
		};
		gamepad.onButtonUp.add(tmp);
		var _g3 = $bind(this,this.onGamepadDisconnect);
		var gamepad4 = gamepad;
		var tmp = function() {
			_g3(gamepad4);
		};
		gamepad.onDisconnect.add(tmp);
	}
	,__onJoystickConnect: function(joystick) {
		this.onJoystickConnect(joystick);
		var _g = $bind(this,this.onJoystickAxisMove);
		var joystick1 = joystick;
		var tmp = function(axis,value) {
			_g(joystick1,axis,value);
		};
		joystick.onAxisMove.add(tmp);
		var _g1 = $bind(this,this.onJoystickButtonDown);
		var joystick2 = joystick;
		var tmp = function(button) {
			_g1(joystick2,button);
		};
		joystick.onButtonDown.add(tmp);
		var _g2 = $bind(this,this.onJoystickButtonUp);
		var joystick3 = joystick;
		var tmp = function(button) {
			_g2(joystick3,button);
		};
		joystick.onButtonUp.add(tmp);
		var _g3 = $bind(this,this.onJoystickDisconnect);
		var joystick4 = joystick;
		var tmp = function() {
			_g3(joystick4);
		};
		joystick.onDisconnect.add(tmp);
		var _g4 = $bind(this,this.onJoystickHatMove);
		var joystick5 = joystick;
		var tmp = function(hat,position) {
			_g4(joystick5,hat,position);
		};
		joystick.onHatMove.add(tmp);
		var _g5 = $bind(this,this.onJoystickTrackballMove);
		var joystick6 = joystick;
		var tmp = function(trackball,x,y) {
			_g5(joystick6,trackball,x,y);
		};
		joystick.onTrackballMove.add(tmp);
	}
	,__onModuleExit: function(code) {
		this.__backend.exit();
	}
	,__onWindowClose: function($window) {
		if(this.__window == $window) {
			this.onWindowClose();
		}
		this.__removeWindow($window);
	}
	,__unregisterLimeModule: function(application) {
		application.onUpdate.remove($bind(this,this.update));
		application.onExit.remove($bind(this,this.__onModuleExit));
		application.onExit.remove($bind(this,this.onModuleExit));
		lime_ui_Gamepad.onConnect.remove($bind(this,this.__onGamepadConnect));
		lime_ui_Joystick.onConnect.remove($bind(this,this.__onJoystickConnect));
		lime_ui_Touch.onCancel.remove($bind(this,this.onTouchCancel));
		lime_ui_Touch.onStart.remove($bind(this,this.onTouchStart));
		lime_ui_Touch.onMove.remove($bind(this,this.onTouchMove));
		lime_ui_Touch.onEnd.remove($bind(this,this.onTouchEnd));
		this.onModuleExit(0);
	}
	,get_preloader: function() {
		return this.__preloader;
	}
	,get_window: function() {
		return this.__window;
	}
	,get_windows: function() {
		return this.__windows;
	}
	,__class__: lime_app_Application
	,__properties__: {get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}
});
var ApplicationMain = function() { };
$hxClasses["ApplicationMain"] = ApplicationMain;
ApplicationMain.__name__ = "ApplicationMain";
ApplicationMain.main = function() {
	lime_system_System.__registerEntryPoint("PsychEngine",ApplicationMain.create);
};
ApplicationMain.create = function(config) {
	var app = new openfl_display_Application();
	ManifestResources.init(config);
	app.meta.h["build"] = "1";
	app.meta.h["company"] = "ShadowMario";
	app.meta.h["file"] = "PsychEngine";
	app.meta.h["name"] = "Friday Night Funkin': Psych Engine";
	app.meta.h["packageName"] = "com.shadowmario.psychengine";
	app.meta.h["version"] = "0.2.7";
	var attributes = { allowHighDPI : false, alwaysOnTop : false, borderless : false, element : null, frameRate : null, height : 720, hidden : false, maximized : false, minimized : false, parameters : { }, resizable : true, title : "Friday Night Funkin': Psych Engine", width : 1280, x : null, y : null};
	attributes.context = { antialiasing : 0, background : 0, colorDepth : 32, depth : true, hardware : true, stencil : true, type : null, vsync : false};
	if(app.__window == null) {
		if(config != null) {
			var _g = 0;
			var _g1 = Reflect.fields(config);
			while(_g < _g1.length) {
				var field = _g1[_g];
				++_g;
				if(Object.prototype.hasOwnProperty.call(attributes,field)) {
					attributes[field] = Reflect.field(config,field);
				} else if(Object.prototype.hasOwnProperty.call(attributes.context,field)) {
					attributes.context[field] = Reflect.field(config,field);
				}
			}
		}
	}
	app.createWindow(attributes);
	var preloader = new openfl_display_Preloader(new flixel_system_FlxPreloader());
	app.__preloader.onProgress.add(function(loaded,total) {
		preloader.update(loaded,total);
	});
	app.__preloader.onComplete.add(function() {
		preloader.start();
	});
	var stage = app.__window.stage;
	var tmp = function() {
		ApplicationMain.start(stage);
	};
	preloader.onComplete.add(tmp);
	var _g = 0;
	var _g1 = ManifestResources.preloadLibraries;
	while(_g < _g1.length) {
		var library = _g1[_g];
		++_g;
		app.__preloader.addLibrary(library);
	}
	var _g = 0;
	var _g1 = ManifestResources.preloadLibraryNames;
	while(_g < _g1.length) {
		var name = _g1[_g];
		++_g;
		app.__preloader.addLibraryName(name);
	}
	app.__preloader.load();
	var result = app.exec();
};
ApplicationMain.start = function(stage) {
	if(stage.__uncaughtErrorEvents.__enabled) {
		try {
			Main.main();
			stage.dispatchEvent(new openfl_events_Event("resize",false,false));
			if(stage.window.__fullscreen) {
				stage.dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",false,false,true,true));
			}
		} catch( _g ) {
			haxe_NativeStackTrace.lastError = _g;
			var e = haxe_Exception.caught(_g).unwrap();
			stage.__handleError(e);
		}
	} else {
		Main.main();
		stage.dispatchEvent(new openfl_events_Event("resize",false,false));
		if(stage.window.__fullscreen) {
			stage.dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",false,false,true,true));
		}
	}
};
var openfl_events_IEventDispatcher = function() { };
$hxClasses["openfl.events.IEventDispatcher"] = openfl_events_IEventDispatcher;
openfl_events_IEventDispatcher.__name__ = "openfl.events.IEventDispatcher";
openfl_events_IEventDispatcher.__isInterface__ = true;
openfl_events_IEventDispatcher.prototype = {
	addEventListener: null
	,dispatchEvent: null
	,hasEventListener: null
	,removeEventListener: null
	,willTrigger: null
	,__class__: openfl_events_IEventDispatcher
};
var openfl_events_EventDispatcher = function(target) {
	if(target != null) {
		this.__targetDispatcher = target;
	}
};
$hxClasses["openfl.events.EventDispatcher"] = openfl_events_EventDispatcher;
openfl_events_EventDispatcher.__name__ = "openfl.events.EventDispatcher";
openfl_events_EventDispatcher.__interfaces__ = [openfl_events_IEventDispatcher];
openfl_events_EventDispatcher.prototype = {
	__eventMap: null
	,__iterators: null
	,__targetDispatcher: null
	,addEventListener: function(type,listener,useCapture,priority,useWeakReference) {
		if(useWeakReference == null) {
			useWeakReference = false;
		}
		if(priority == null) {
			priority = 0;
		}
		if(useCapture == null) {
			useCapture = false;
		}
		if(listener == null) {
			return;
		}
		if(this.__eventMap == null) {
			this.__eventMap = new haxe_ds_StringMap();
			this.__iterators = new haxe_ds_StringMap();
		}
		if(!Object.prototype.hasOwnProperty.call(this.__eventMap.h,type)) {
			var list = [];
			list.push(new openfl_events__$EventDispatcher_Listener(listener,useCapture,priority));
			var iterator = new openfl_events__$EventDispatcher_DispatchIterator(list);
			this.__eventMap.h[type] = list;
			this.__iterators.h[type] = [iterator];
		} else {
			var list = this.__eventMap.h[type];
			var _g = 0;
			var _g1 = list.length;
			while(_g < _g1) {
				var i = _g++;
				if(list[i].match(listener,useCapture)) {
					return;
				}
			}
			var iterators = this.__iterators.h[type];
			var _g = 0;
			while(_g < iterators.length) {
				var iterator = iterators[_g];
				++_g;
				if(iterator.active) {
					iterator.copy();
				}
			}
			this.__addListenerByPriority(list,new openfl_events__$EventDispatcher_Listener(listener,useCapture,priority));
		}
	}
	,dispatchEvent: function(event) {
		if(this.__targetDispatcher != null) {
			event.target = this.__targetDispatcher;
		} else {
			event.target = this;
		}
		return this.__dispatchEvent(event);
	}
	,hasEventListener: function(type) {
		if(this.__eventMap == null) {
			return false;
		}
		return Object.prototype.hasOwnProperty.call(this.__eventMap.h,type);
	}
	,removeEventListener: function(type,listener,useCapture) {
		if(useCapture == null) {
			useCapture = false;
		}
		if(this.__eventMap == null || listener == null) {
			return;
		}
		var list = this.__eventMap.h[type];
		if(list == null) {
			return;
		}
		var iterators = this.__iterators.h[type];
		var _g = 0;
		var _g1 = list.length;
		while(_g < _g1) {
			var i = _g++;
			if(list[i].match(listener,useCapture)) {
				var _g2 = 0;
				while(_g2 < iterators.length) {
					var iterator = iterators[_g2];
					++_g2;
					iterator.remove(list[i],i);
				}
				list.splice(i,1);
				break;
			}
		}
		if(list.length == 0) {
			var _this = this.__eventMap;
			var key = type;
			if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
				delete(_this.h[key]);
			}
			var _this = this.__iterators;
			var key = type;
			if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
				delete(_this.h[key]);
			}
		}
		var h = this.__eventMap.h;
		var inlStringMapValueIterator_h = h;
		var inlStringMapValueIterator_keys = Object.keys(h);
		var inlStringMapValueIterator_length = inlStringMapValueIterator_keys.length;
		var inlStringMapValueIterator_current = 0;
		if(inlStringMapValueIterator_current >= inlStringMapValueIterator_length) {
			this.__eventMap = null;
			this.__iterators = null;
		}
	}
	,toString: function() {
		var c = js_Boot.getClass(this);
		var full = c.__name__;
		var short = full.split(".").pop();
		return "[object " + short + "]";
	}
	,willTrigger: function(type) {
		return this.hasEventListener(type);
	}
	,__dispatchEvent: function(event) {
		if(this.__eventMap == null || event == null) {
			return true;
		}
		var type = event.type;
		var list = this.__eventMap.h[type];
		if(list == null) {
			return true;
		}
		if(event.target == null) {
			if(this.__targetDispatcher != null) {
				event.target = this.__targetDispatcher;
			} else {
				event.target = this;
			}
		}
		event.currentTarget = this;
		var capture = event.eventPhase == 1;
		var iterators = this.__iterators.h[type];
		var iterator = iterators[0];
		if(iterator.active) {
			iterator = new openfl_events__$EventDispatcher_DispatchIterator(list);
			iterators.push(iterator);
		}
		iterator.start();
		var listener = iterator;
		while(listener.hasNext()) {
			var listener1 = listener.next();
			if(listener1 == null) {
				continue;
			}
			if(listener1.useCapture == capture) {
				listener1.callback(event);
				if(event.__isCanceledNow) {
					break;
				}
			}
		}
		iterator.stop();
		if(iterator != iterators[0]) {
			HxOverrides.remove(iterators,iterator);
		} else {
			iterator.reset(list);
		}
		return !event.isDefaultPrevented();
	}
	,__removeAllListeners: function() {
		this.__eventMap = null;
		this.__iterators = null;
	}
	,__addListenerByPriority: function(list,listener) {
		var numElements = list.length;
		var addAtPosition = numElements;
		var _g = 0;
		var _g1 = numElements;
		while(_g < _g1) {
			var i = _g++;
			if(list[i].priority < listener.priority) {
				addAtPosition = i;
				break;
			}
		}
		list.splice(addAtPosition,0,listener);
	}
	,__class__: openfl_events_EventDispatcher
};
var openfl_display_IBitmapDrawable = function() { };
$hxClasses["openfl.display.IBitmapDrawable"] = openfl_display_IBitmapDrawable;
openfl_display_IBitmapDrawable.__name__ = "openfl.display.IBitmapDrawable";
openfl_display_IBitmapDrawable.__isInterface__ = true;
openfl_display_IBitmapDrawable.prototype = {
	__blendMode: null
	,__drawableType: null
	,__isMask: null
	,__renderable: null
	,__renderTransform: null
	,__transform: null
	,__worldAlpha: null
	,__worldColorTransform: null
	,__worldTransform: null
	,__getBounds: null
	,__update: null
	,__updateTransforms: null
	,__mask: null
	,__scrollRect: null
	,__class__: openfl_display_IBitmapDrawable
};
var openfl_Vector = {};
openfl_Vector.__properties__ = {set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"};
openfl_Vector.ofArray_Float = function(array) {
	var vector = openfl_Vector.toFloatVector(null);
	var _g = 0;
	var _g1 = array.length;
	while(_g < _g1) {
		var i = _g++;
		vector.set(i,array[i]);
	}
	return vector;
};
openfl_Vector.ofArray_Int = function(array) {
	var vector = openfl_Vector.toIntVector(null);
	var _g = 0;
	var _g1 = array.length;
	while(_g < _g1) {
		var i = _g++;
		vector.set(i,array[i]);
	}
	return vector;
};
openfl_Vector.concat = function(this1,vec) {
	return this1.concat(vec);
};
openfl_Vector.copy = function(this1) {
	return this1.copy();
};
openfl_Vector.every = function(this1,callback,thisObject) {
	var _g = 0;
	var _g1 = this1.get_length();
	while(_g < _g1) {
		var i = _g++;
		this1.__tempIndex = i;
		if(thisObject != null) {
			if(callback.apply(thisObject,[this1.get(i),i,this1]) == false) {
				break;
			}
		} else if(callback(this1.get(i),i,this1) == false) {
			break;
		}
	}
	return this1.__tempIndex == this1.get_length() - 1;
};
openfl_Vector.filter = function(this1,callback) {
	return this1.filter(callback);
};
openfl_Vector.get = function(this1,index) {
	return this1.get(index);
};
openfl_Vector.indexOf = function(this1,searchElement,fromIndex) {
	if(fromIndex == null) {
		fromIndex = 0;
	}
	return this1.indexOf(searchElement,fromIndex);
};
openfl_Vector.insertAt = function(this1,index,element) {
	this1.insertAt(index,element);
};
openfl_Vector.iterator = function(this1) {
	return this1.iterator();
};
openfl_Vector.join = function(this1,sep) {
	if(sep == null) {
		sep = ",";
	}
	return this1.join(sep);
};
openfl_Vector.lastIndexOf = function(this1,searchElement,fromIndex) {
	return this1.lastIndexOf(searchElement,fromIndex);
};
openfl_Vector.pop = function(this1) {
	return this1.pop();
};
openfl_Vector.push = function(this1,value) {
	return this1.push(value);
};
openfl_Vector.removeAt = function(this1,index) {
	return this1.removeAt(index);
};
openfl_Vector.reverse = function(this1) {
	return this1.reverse();
};
openfl_Vector.set = function(this1,index,value) {
	return this1.set(index,value);
};
openfl_Vector.shift = function(this1) {
	return this1.shift();
};
openfl_Vector.slice = function(this1,startIndex,endIndex) {
	if(startIndex == null) {
		startIndex = 0;
	}
	return this1.slice(startIndex,endIndex);
};
openfl_Vector.some = function(this1,callback,thisObject) {
	var _g = 0;
	var _g1 = this1.get_length();
	while(_g < _g1) {
		var i = _g++;
		this1.__tempIndex = i;
		if(thisObject != null) {
			if(callback.apply(thisObject,[this1.get(i),i,this1]) == true) {
				break;
			}
		} else if(callback(this1.get(i),i,this1)) {
			break;
		}
		if(i == this1.get_length() - 1) {
			this1.__tempIndex++;
		}
	}
	return this1.__tempIndex < this1.get_length() - 1;
};
openfl_Vector.sort = function(this1,sortBehavior) {
	this1.sort(sortBehavior);
};
openfl_Vector.splice = function(this1,startIndex,deleteCount) {
	var $l=arguments.length;
	var items = new Array($l>3?$l-3:0);
	for(var $i=3;$i<$l;++$i){items[$i-3]=arguments[$i];}
	this1.__tempIndex = startIndex;
	var _g_current = 0;
	var _g_args = items;
	while(_g_current < _g_args.length) {
		var item = _g_args[_g_current++];
		this1.insertAt(this1.__tempIndex,item);
		this1.__tempIndex++;
	}
	return this1.splice(this1.__tempIndex,deleteCount);
};
openfl_Vector.toString = function(this1) {
	if(this1 != null) {
		return this1.toString();
	} else {
		return null;
	}
};
openfl_Vector.unshift = function(this1,value) {
	this1.unshift(value);
};
openfl_Vector.convert = function(vec) {
	return vec;
};
openfl_Vector.toBoolVector = function(t,length,fixed,array) {
	return new openfl__$Vector_BoolVector(length,fixed,array);
};
openfl_Vector.toIntVector = function(t,length,fixed,array) {
	return new openfl__$Vector_IntVector(length,fixed,array);
};
openfl_Vector.toFloatVector = function(t,length,fixed,array) {
	return new openfl__$Vector_FloatVector(length,fixed,array,true);
};
openfl_Vector.toFunctionVector = function(t,length,fixed,array) {
	return new openfl__$Vector_FunctionVector(length,fixed,array);
};
openfl_Vector.toObjectVector = function(t,length,fixed,array) {
	return new openfl__$Vector_ObjectVector(length,fixed,array,true);
};
openfl_Vector.toNullVector = function(t,length,fixed,array) {
	return new openfl__$Vector_ObjectVector(length,fixed,array,true);
};
openfl_Vector.fromBoolVector = function(vector) {
	return vector;
};
openfl_Vector.fromIntVector = function(vector) {
	return vector;
};
openfl_Vector.fromFloatVector = function(vector) {
	return vector;
};
openfl_Vector.fromFunctionVector = function(vector) {
	return vector;
};
openfl_Vector.fromObjectVector = function(vector) {
	return vector;
};
openfl_Vector.get_fixed = function(this1) {
	return this1.fixed;
};
openfl_Vector.set_fixed = function(this1,value) {
	return this1.fixed = value;
};
openfl_Vector.get_length = function(this1) {
	return this1.get_length();
};
openfl_Vector.set_length = function(this1,value) {
	return this1.set_length(value);
};
var lime_utils_ObjectPool = function(create,clean,size) {
	this.__pool = new haxe_ds_ObjectMap();
	this.activeObjects = 0;
	this.inactiveObjects = 0;
	this.__inactiveObject0 = null;
	this.__inactiveObject1 = null;
	this.__inactiveObjectList = new haxe_ds_List();
	if(create != null) {
		this.create = create;
	}
	if(clean != null) {
		this.clean = clean;
	}
	if(size != null) {
		this.set_size(size);
	}
};
$hxClasses["lime.utils.ObjectPool"] = lime_utils_ObjectPool;
lime_utils_ObjectPool.__name__ = "lime.utils.ObjectPool";
lime_utils_ObjectPool.prototype = {
	activeObjects: null
	,inactiveObjects: null
	,__inactiveObject0: null
	,__inactiveObject1: null
	,__inactiveObjectList: null
	,__pool: null
	,__size: null
	,add: function(object) {
		if(!this.__pool.exists(object)) {
			this.__pool.set(object,false);
			this.clean(object);
			if(this.__inactiveObject0 == null) {
				this.__inactiveObject0 = object;
			} else if(this.__inactiveObject1 == null) {
				this.__inactiveObject1 = object;
			} else {
				this.__inactiveObjectList.add(object);
			}
			this.inactiveObjects++;
		}
	}
	,clean: function(object) {
	}
	,clear: function() {
		this.__pool = new haxe_ds_ObjectMap();
		this.activeObjects = 0;
		this.inactiveObjects = 0;
		this.__inactiveObject0 = null;
		this.__inactiveObject1 = null;
		this.__inactiveObjectList.clear();
	}
	,create: function() {
		return null;
	}
	,get: function() {
		var object = null;
		if(this.inactiveObjects > 0) {
			var object1 = null;
			if(this.__inactiveObject0 != null) {
				object1 = this.__inactiveObject0;
				this.__inactiveObject0 = null;
			} else if(this.__inactiveObject1 != null) {
				object1 = this.__inactiveObject1;
				this.__inactiveObject1 = null;
			} else {
				object1 = this.__inactiveObjectList.pop();
				if(this.__inactiveObjectList.length > 0) {
					this.__inactiveObject0 = this.__inactiveObjectList.pop();
				}
				if(this.__inactiveObjectList.length > 0) {
					this.__inactiveObject1 = this.__inactiveObjectList.pop();
				}
			}
			this.inactiveObjects--;
			this.activeObjects++;
			object = object1;
		} else if(this.__size == null || this.activeObjects < this.__size) {
			object = this.create();
			if(object != null) {
				this.__pool.set(object,true);
				this.activeObjects++;
			}
		}
		return object;
	}
	,release: function(object) {
		this.activeObjects--;
		if(this.__size == null || this.activeObjects + this.inactiveObjects < this.__size) {
			this.clean(object);
			if(this.__inactiveObject0 == null) {
				this.__inactiveObject0 = object;
			} else if(this.__inactiveObject1 == null) {
				this.__inactiveObject1 = object;
			} else {
				this.__inactiveObjectList.add(object);
			}
			this.inactiveObjects++;
		} else {
			this.__pool.remove(object);
		}
	}
	,remove: function(object) {
		if(this.__pool.exists(object)) {
			this.__pool.remove(object);
			if(this.__inactiveObject0 == object) {
				this.__inactiveObject0 = null;
				this.inactiveObjects--;
			} else if(this.__inactiveObject1 == object) {
				this.__inactiveObject1 = null;
				this.inactiveObjects--;
			} else if(this.__inactiveObjectList.remove(object)) {
				this.inactiveObjects--;
			} else {
				this.activeObjects--;
			}
		}
	}
	,__addInactive: function(object) {
		if(this.__inactiveObject0 == null) {
			this.__inactiveObject0 = object;
		} else if(this.__inactiveObject1 == null) {
			this.__inactiveObject1 = object;
		} else {
			this.__inactiveObjectList.add(object);
		}
		this.inactiveObjects++;
	}
	,__getInactive: function() {
		var object = null;
		if(this.__inactiveObject0 != null) {
			object = this.__inactiveObject0;
			this.__inactiveObject0 = null;
		} else if(this.__inactiveObject1 != null) {
			object = this.__inactiveObject1;
			this.__inactiveObject1 = null;
		} else {
			object = this.__inactiveObjectList.pop();
			if(this.__inactiveObjectList.length > 0) {
				this.__inactiveObject0 = this.__inactiveObjectList.pop();
			}
			if(this.__inactiveObjectList.length > 0) {
				this.__inactiveObject1 = this.__inactiveObjectList.pop();
			}
		}
		this.inactiveObjects--;
		this.activeObjects++;
		return object;
	}
	,__removeInactive: function(count) {
		if(count <= 0 || this.inactiveObjects == 0) {
			return;
		}
		if(this.__inactiveObject0 != null) {
			this.__pool.remove(this.__inactiveObject0);
			this.__inactiveObject0 = null;
			this.inactiveObjects--;
			--count;
		}
		if(count == 0 || this.inactiveObjects == 0) {
			return;
		}
		if(this.__inactiveObject1 != null) {
			this.__pool.remove(this.__inactiveObject1);
			this.__inactiveObject1 = null;
			this.inactiveObjects--;
			--count;
		}
		if(count == 0 || this.inactiveObjects == 0) {
			return;
		}
		var _g_head = this.__inactiveObjectList.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			var object = val;
			this.__pool.remove(object);
			this.__inactiveObjectList.remove(object);
			this.inactiveObjects--;
			--count;
			if(count == 0 || this.inactiveObjects == 0) {
				return;
			}
		}
	}
	,get_size: function() {
		return this.__size;
	}
	,set_size: function(value) {
		if(value == null) {
			this.__size = null;
		} else {
			var current = this.inactiveObjects + this.activeObjects;
			this.__size = value;
			if(current > value) {
				this.__removeInactive(current - value);
			} else if(value > current) {
				var object;
				var _g = 0;
				var _g1 = value - current;
				while(_g < _g1) {
					var i = _g++;
					object = this.create();
					if(object != null) {
						this.__pool.set(object,false);
						this.__inactiveObjectList.add(object);
						this.inactiveObjects++;
					} else {
						break;
					}
				}
			}
		}
		return value;
	}
	,__class__: lime_utils_ObjectPool
	,__properties__: {set_size:"set_size",get_size:"get_size"}
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = "haxe.IMap";
haxe_IMap.__isInterface__ = true;
haxe_IMap.prototype = {
	get: null
	,set: null
	,exists: null
	,remove: null
	,keys: null
	,iterator: null
	,keyValueIterator: null
	,__class__: haxe_IMap
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
$hxClasses["haxe.ds.ObjectMap"] = haxe_ds_ObjectMap;
haxe_ds_ObjectMap.__name__ = "haxe.ds.ObjectMap";
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.count = null;
haxe_ds_ObjectMap.prototype = {
	h: null
	,set: function(key,value) {
		var id = key.__id__;
		if(id == null) {
			id = (key.__id__ = $global.$haxeUID++);
		}
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,get: function(key) {
		return this.h[key.__id__];
	}
	,exists: function(key) {
		return this.h.__keys__[key.__id__] != null;
	}
	,remove: function(key) {
		var id = key.__id__;
		if(this.h.__keys__[id] == null) {
			return false;
		}
		delete(this.h[id]);
		delete(this.h.__keys__[id]);
		return true;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h.__keys__ ) {
		if(this.h.hasOwnProperty(key)) {
			a.push(this.h.__keys__[key]);
		}
		}
		return new haxe_iterators_ArrayIterator(a);
	}
	,iterator: function() {
		return { ref : this.h, it : this.keys(), hasNext : function() {
			return this.it.hasNext();
		}, next : function() {
			var i = this.it.next();
			return this.ref[i.__id__];
		}};
	}
	,keyValueIterator: function() {
		return new haxe_iterators_MapKeyValueIterator(this);
	}
	,toString: function() {
		var s_b = "";
		s_b += "{";
		var it = this.keys();
		var i = it;
		while(i.hasNext()) {
			var i1 = i.next();
			s_b += Std.string(Std.string(i1));
			s_b += " => ";
			s_b += Std.string(Std.string(this.h[i1.__id__]));
			if(it.hasNext()) {
				s_b += ", ";
			}
		}
		s_b += "}";
		return s_b;
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds_List = function() {
	this.length = 0;
};
$hxClasses["haxe.ds.List"] = haxe_ds_List;
haxe_ds_List.__name__ = "haxe.ds.List";
haxe_ds_List.prototype = {
	h: null
	,q: null
	,length: null
	,add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,push: function(item) {
		var x = new haxe_ds__$List_ListNode(item,this.h);
		this.h = x;
		if(this.q == null) {
			this.q = x;
		}
		this.length++;
	}
	,pop: function() {
		if(this.h == null) {
			return null;
		}
		var x = this.h.item;
		this.h = this.h.next;
		if(this.h == null) {
			this.q = null;
		}
		this.length--;
		return x;
	}
	,clear: function() {
		this.h = null;
		this.q = null;
		this.length = 0;
	}
	,remove: function(v) {
		var prev = null;
		var l = this.h;
		while(l != null) {
			if(l.item == v) {
				if(prev == null) {
					this.h = l.next;
				} else {
					prev.next = l.next;
				}
				if(this.q == l) {
					this.q = prev;
				}
				this.length--;
				return true;
			}
			prev = l;
			l = l.next;
		}
		return false;
	}
	,iterator: function() {
		return new haxe_ds__$List_ListIterator(this.h);
	}
	,__class__: haxe_ds_List
};
var openfl_display_DisplayObject = function() {
	openfl_events_EventDispatcher.call(this);
	this.__drawableType = 1;
	this.__alpha = 1;
	this.__blendMode = 10;
	this.__cacheAsBitmap = false;
	this.__transform = new openfl_geom_Matrix();
	this.__visible = true;
	this.__rotation = 0;
	this.__rotationSine = 0;
	this.__rotationCosine = 1;
	this.__scaleX = 1;
	this.__scaleY = 1;
	this.__worldAlpha = 1;
	this.__worldBlendMode = 10;
	this.__worldTransform = new openfl_geom_Matrix();
	this.__worldColorTransform = new openfl_geom_ColorTransform();
	this.__renderTransform = new openfl_geom_Matrix();
	this.__worldVisible = true;
	this.set_name("instance" + ++openfl_display_DisplayObject.__instanceCount);
	if(openfl_display_DisplayObject.__initStage != null) {
		this.stage = openfl_display_DisplayObject.__initStage;
		openfl_display_DisplayObject.__initStage = null;
		this.stage.addChild(this);
	}
};
$hxClasses["openfl.display.DisplayObject"] = openfl_display_DisplayObject;
openfl_display_DisplayObject.__name__ = "openfl.display.DisplayObject";
openfl_display_DisplayObject.__interfaces__ = [openfl_display_IBitmapDrawable];
openfl_display_DisplayObject.__initStage = null;
openfl_display_DisplayObject.__supportDOM = null;
openfl_display_DisplayObject.__calculateAbsoluteTransform = function(local,parentTransform,target) {
	target.a = local.a * parentTransform.a + local.b * parentTransform.c;
	target.b = local.a * parentTransform.b + local.b * parentTransform.d;
	target.c = local.c * parentTransform.a + local.d * parentTransform.c;
	target.d = local.c * parentTransform.b + local.d * parentTransform.d;
	target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
	target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
};
openfl_display_DisplayObject.__super__ = openfl_events_EventDispatcher;
openfl_display_DisplayObject.prototype = $extend(openfl_events_EventDispatcher.prototype,{
	opaqueBackground: null
	,parent: null
	,stage: null
	,__alpha: null
	,__blendMode: null
	,__cacheAsBitmap: null
	,__cacheAsBitmapMatrix: null
	,__cacheBitmap: null
	,__cacheBitmapBackground: null
	,__cacheBitmapColorTransform: null
	,__cacheBitmapData: null
	,__cacheBitmapData2: null
	,__cacheBitmapData3: null
	,__cacheBitmapMatrix: null
	,__cacheBitmapRenderer: null
	,__cairo: null
	,__children: null
	,__customRenderClear: null
	,__customRenderEvent: null
	,__drawableType: null
	,__filters: null
	,__graphics: null
	,__interactive: null
	,__isCacheBitmapRender: null
	,__isMask: null
	,__loaderInfo: null
	,__mask: null
	,__maskTarget: null
	,__name: null
	,__objectTransform: null
	,__renderable: null
	,__renderDirty: null
	,__renderParent: null
	,__renderTransform: null
	,__renderTransformCache: null
	,__renderTransformChanged: null
	,__rotation: null
	,__rotationCosine: null
	,__rotationSine: null
	,__scale9Grid: null
	,__scaleX: null
	,__scaleY: null
	,__scrollRect: null
	,__shader: null
	,__tempPoint: null
	,__transform: null
	,__transformDirty: null
	,__visible: null
	,__worldAlpha: null
	,__worldAlphaChanged: null
	,__worldBlendMode: null
	,__worldClip: null
	,__worldClipChanged: null
	,__worldColorTransform: null
	,__worldShader: null
	,__worldScale9Grid: null
	,__worldTransform: null
	,__worldVisible: null
	,__worldVisibleChanged: null
	,__worldTransformInvalid: null
	,__worldZ: null
	,__canvas: null
	,__context: null
	,__style: null
	,addEventListener: function(type,listener,useCapture,priority,useWeakReference) {
		if(useWeakReference == null) {
			useWeakReference = false;
		}
		if(priority == null) {
			priority = 0;
		}
		if(useCapture == null) {
			useCapture = false;
		}
		switch(type) {
		case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":
			if(!Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,type)) {
				openfl_display_DisplayObject.__broadcastEvents.h[type] = [];
			}
			var dispatchers = openfl_display_DisplayObject.__broadcastEvents.h[type];
			if(dispatchers.indexOf(this) == -1) {
				dispatchers.push(this);
			}
			break;
		case "clearDOM":case "renderCairo":case "renderCanvas":case "renderDOM":case "renderOpenGL":
			if(this.__customRenderEvent == null) {
				this.__customRenderEvent = new openfl_events_RenderEvent(null);
				this.__customRenderEvent.objectColorTransform = new openfl_geom_ColorTransform();
				this.__customRenderEvent.objectMatrix = new openfl_geom_Matrix();
				this.__customRenderClear = true;
			}
			break;
		default:
		}
		openfl_events_EventDispatcher.prototype.addEventListener.call(this,type,listener,useCapture,priority,useWeakReference);
	}
	,dispatchEvent: function(event) {
		if(((event) instanceof openfl_events_MouseEvent)) {
			var mouseEvent = event;
			var _this = this.__getRenderTransform();
			mouseEvent.stageX = mouseEvent.localX * _this.a + mouseEvent.localY * _this.c + _this.tx;
			var _this = this.__getRenderTransform();
			mouseEvent.stageY = mouseEvent.localX * _this.b + mouseEvent.localY * _this.d + _this.ty;
		} else if(((event) instanceof openfl_events_TouchEvent)) {
			var touchEvent = event;
			var _this = this.__getRenderTransform();
			touchEvent.stageX = touchEvent.localX * _this.a + touchEvent.localY * _this.c + _this.tx;
			var _this = this.__getRenderTransform();
			touchEvent.stageY = touchEvent.localX * _this.b + touchEvent.localY * _this.d + _this.ty;
		}
		event.target = this;
		return this.__dispatchWithCapture(event);
	}
	,getBounds: function(targetCoordinateSpace) {
		var matrix = openfl_geom_Matrix.__pool.get();
		if(targetCoordinateSpace != null && targetCoordinateSpace != this) {
			matrix.copyFrom(this.__getWorldTransform());
			var targetMatrix = openfl_geom_Matrix.__pool.get();
			targetMatrix.copyFrom(targetCoordinateSpace.__getWorldTransform());
			targetMatrix.invert();
			matrix.concat(targetMatrix);
			openfl_geom_Matrix.__pool.release(targetMatrix);
		} else {
			matrix.identity();
		}
		var bounds = new openfl_geom_Rectangle();
		this.__getBounds(bounds,matrix);
		openfl_geom_Matrix.__pool.release(matrix);
		return bounds;
	}
	,getRect: function(targetCoordinateSpace) {
		return this.getBounds(targetCoordinateSpace);
	}
	,globalToLocal: function(pos) {
		return this.__globalToLocal(pos,new openfl_geom_Point());
	}
	,hitTestObject: function(obj) {
		if(obj != null && obj.parent != null && this.parent != null) {
			var currentBounds = this.getBounds(this);
			var targetBounds = obj.getBounds(this);
			return currentBounds.intersects(targetBounds);
		}
		return false;
	}
	,hitTestPoint: function(x,y,shapeFlag) {
		if(shapeFlag == null) {
			shapeFlag = false;
		}
		if(this.stage != null) {
			return this.__hitTest(x,y,shapeFlag,null,false,this);
		} else {
			return false;
		}
	}
	,invalidate: function() {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,localToGlobal: function(point) {
		return this.__getRenderTransform().transformPoint(point);
	}
	,removeEventListener: function(type,listener,useCapture) {
		if(useCapture == null) {
			useCapture = false;
		}
		openfl_events_EventDispatcher.prototype.removeEventListener.call(this,type,listener,useCapture);
		switch(type) {
		case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":
			if(!this.hasEventListener(type)) {
				if(Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,type)) {
					HxOverrides.remove(openfl_display_DisplayObject.__broadcastEvents.h[type],this);
				}
			}
			break;
		case "clearDOM":case "renderCairo":case "renderCanvas":case "renderDOM":case "renderOpenGL":
			if(!this.hasEventListener("clearDOM") && !this.hasEventListener("renderCairo") && !this.hasEventListener("renderCanvas") && !this.hasEventListener("renderDOM") && !this.hasEventListener("renderOpenGL")) {
				this.__customRenderEvent = null;
			}
			break;
		default:
		}
	}
	,__cleanup: function() {
		this.__cairo = null;
		this.__canvas = null;
		this.__context = null;
		if(this.__graphics != null) {
			this.__graphics.__cleanup();
		}
		if(this.__cacheBitmap != null) {
			this.__cacheBitmap.__cleanup();
			this.__cacheBitmap = null;
		}
		if(this.__cacheBitmapData != null) {
			this.__cacheBitmapData.dispose();
			this.__cacheBitmapData = null;
		}
	}
	,__dispatch: function(event) {
		if(this.__eventMap != null && this.hasEventListener(event.type)) {
			var result = openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,event);
			if(event.__isCanceled) {
				return true;
			}
			return result;
		}
		return true;
	}
	,__dispatchChildren: function(event) {
	}
	,__dispatchEvent: function(event) {
		var parent = event.bubbles ? this.parent : null;
		var result = openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,event);
		if(event.__isCanceled) {
			return true;
		}
		if(parent != null && parent != this) {
			event.eventPhase = 3;
			if(event.target == null) {
				event.target = this;
			}
			parent.__dispatchEvent(event);
		}
		return result;
	}
	,__dispatchWithCapture: function(event) {
		if(event.target == null) {
			event.target = this;
		}
		if(this.parent != null) {
			event.eventPhase = 1;
			if(this.parent == this.stage) {
				this.parent.__dispatch(event);
			} else {
				var stack = openfl_display_DisplayObject.__tempStack.get();
				var parent = this.parent;
				var i = 0;
				while(parent != null) {
					stack.set(i,parent);
					parent = parent.parent;
					++i;
				}
				var _g = 0;
				var _g1 = i;
				while(_g < _g1) {
					var j = _g++;
					stack.get(i - j - 1).__dispatch(event);
				}
				openfl_display_DisplayObject.__tempStack.release(stack);
			}
		}
		event.eventPhase = 2;
		return this.__dispatchEvent(event);
	}
	,__enterFrame: function(deltaTime) {
	}
	,__getBounds: function(rect,matrix) {
		if(this.__graphics != null) {
			this.__graphics.__getBounds(rect,matrix);
		}
	}
	,__getCursor: function() {
		return null;
	}
	,__getFilterBounds: function(rect,matrix) {
		this.__getRenderBounds(rect,matrix);
		if(this.__filters != null) {
			var extension = openfl_geom_Rectangle.__pool.get();
			var _g = 0;
			var _g1 = this.__filters;
			while(_g < _g1.length) {
				var filter = _g1[_g];
				++_g;
				extension.__expand(-filter.__leftExtension,-filter.__topExtension,filter.__leftExtension + filter.__rightExtension,filter.__topExtension + filter.__bottomExtension);
			}
			rect.width += extension.width;
			rect.height += extension.height;
			rect.x += extension.x;
			rect.y += extension.y;
			openfl_geom_Rectangle.__pool.release(extension);
		}
	}
	,__getInteractive: function(stack) {
		return false;
	}
	,__getLocalBounds: function(rect) {
		this.__getBounds(rect,this.__transform);
		rect.x -= this.__transform.tx;
		rect.y -= this.__transform.ty;
	}
	,__getRenderBounds: function(rect,matrix) {
		if(this.__scrollRect == null) {
			this.__getBounds(rect,matrix);
		} else {
			var r = openfl_geom_Rectangle.__pool.get();
			r.copyFrom(this.__scrollRect);
			r.__transform(r,matrix);
			rect.__expand(r.x,r.y,r.width,r.height);
			openfl_geom_Rectangle.__pool.release(r);
		}
	}
	,__getRenderTransform: function() {
		this.__getWorldTransform();
		return this.__renderTransform;
	}
	,__getWorldTransform: function() {
		var transformDirty = this.__transformDirty || this.__worldTransformInvalid;
		if(transformDirty) {
			var list = [];
			var current = this;
			if(this.parent == null) {
				this.__update(true,false);
			} else {
				while(current != this.stage) {
					list.push(current);
					current = current.parent;
					if(current == null) {
						break;
					}
				}
			}
			var i = list.length;
			while(--i >= 0) {
				current = list[i];
				current.__update(true,false);
			}
		}
		return this.__worldTransform;
	}
	,__globalToLocal: function(global,local) {
		this.__getRenderTransform();
		if(global == local) {
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				global.x = -_this.tx;
				global.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - global.y) + _this.d * (global.x - _this.tx));
				global.y = 1.0 / norm * (_this.a * (global.y - _this.ty) + _this.b * (_this.tx - global.x));
				global.x = px;
			}
		} else {
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			local.x = norm == 0 ? -_this.tx : 1.0 / norm * (_this.c * (_this.ty - global.y) + _this.d * (global.x - _this.tx));
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			local.y = norm == 0 ? -_this.ty : 1.0 / norm * (_this.a * (global.y - _this.ty) + _this.b * (_this.tx - global.x));
		}
		return local;
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(this.__graphics != null) {
			if(!hitObject.__visible || this.__isMask) {
				return false;
			}
			if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
				return false;
			}
			if(this.__graphics.__hitTest(x,y,shapeFlag,this.__getRenderTransform())) {
				if(stack != null && !interactiveOnly) {
					stack.push(hitObject);
				}
				return true;
			}
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		if(this.__graphics != null) {
			if(this.__graphics.__hitTest(x,y,true,this.__getRenderTransform())) {
				return true;
			}
		}
		return false;
	}
	,__readGraphicsData: function(graphicsData,recurse) {
		if(this.__graphics != null) {
			this.__graphics.__readGraphicsData(graphicsData);
		}
	}
	,__setParentRenderDirty: function() {
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(renderParent != null && !renderParent.__renderDirty) {
			renderParent.__renderDirty = true;
			renderParent.__setParentRenderDirty();
		}
	}
	,__setRenderDirty: function() {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,__setStageReference: function(stage) {
		this.stage = stage;
	}
	,__setTransformDirty: function() {
		if(!this.__transformDirty) {
			this.__transformDirty = true;
			this.__setWorldTransformInvalid();
			this.__setParentRenderDirty();
		}
	}
	,__setWorldTransformInvalid: function() {
		this.__worldTransformInvalid = true;
	}
	,__stopAllMovieClips: function() {
	}
	,__update: function(transformOnly,updateChildren) {
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(this.__isMask && renderParent == null) {
			renderParent = this.__maskTarget;
		}
		this.__renderable = this.__visible && this.__scaleX != 0 && this.__scaleY != 0 && !this.__isMask && (renderParent == null || !renderParent.__isMask);
		this.__updateTransforms();
		this.__transformDirty = false;
		this.__worldTransformInvalid = false;
		if(!transformOnly) {
			if(openfl_display_DisplayObject.__supportDOM) {
				this.__renderTransformChanged = !this.__renderTransform.equals(this.__renderTransformCache);
				if(this.__renderTransformCache == null) {
					this.__renderTransformCache = this.__renderTransform.clone();
				} else {
					this.__renderTransformCache.copyFrom(this.__renderTransform);
				}
			}
			if(renderParent != null) {
				if(openfl_display_DisplayObject.__supportDOM) {
					var worldVisible = renderParent.__worldVisible && this.__visible;
					this.__worldVisibleChanged = this.__worldVisible != worldVisible;
					this.__worldVisible = worldVisible;
					var worldAlpha = this.get_alpha() * renderParent.__worldAlpha;
					this.__worldAlphaChanged = this.__worldAlpha != worldAlpha;
					this.__worldAlpha = worldAlpha;
				} else {
					this.__worldAlpha = this.get_alpha() * renderParent.__worldAlpha;
				}
				if(this.__objectTransform != null) {
					this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform);
					this.__worldColorTransform.__combine(renderParent.__worldColorTransform);
				} else {
					this.__worldColorTransform.__copyFrom(renderParent.__worldColorTransform);
				}
				if(this.__blendMode == null || this.__blendMode == 10) {
					this.__worldBlendMode = renderParent.__worldBlendMode;
				} else {
					this.__worldBlendMode = this.__blendMode;
				}
				if(this.__shader == null) {
					this.__worldShader = renderParent.__shader;
				} else {
					this.__worldShader = this.__shader;
				}
				if(this.__scale9Grid == null) {
					this.__worldScale9Grid = renderParent.__scale9Grid;
				} else {
					this.__worldScale9Grid = this.__scale9Grid;
				}
			} else {
				this.__worldAlpha = this.get_alpha();
				if(openfl_display_DisplayObject.__supportDOM) {
					this.__worldVisibleChanged = this.__worldVisible != this.__visible;
					this.__worldVisible = this.__visible;
					this.__worldAlphaChanged = this.__worldAlpha != this.get_alpha();
				}
				if(this.__objectTransform != null) {
					this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform);
				} else {
					this.__worldColorTransform.__identity();
				}
				this.__worldBlendMode = this.__blendMode;
				this.__worldShader = this.__shader;
				this.__worldScale9Grid = this.__scale9Grid;
			}
		}
		if(updateChildren && this.get_mask() != null) {
			this.get_mask().__update(transformOnly,true);
		}
	}
	,__updateTransforms: function(overrideTransform) {
		var overrided = overrideTransform != null;
		var local = overrided ? overrideTransform : this.__transform;
		if(this.__worldTransform == null) {
			this.__worldTransform = new openfl_geom_Matrix();
		}
		if(this.__renderTransform == null) {
			this.__renderTransform = new openfl_geom_Matrix();
		}
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(!overrided && this.parent != null) {
			var parentTransform = this.parent.__worldTransform;
			var target = this.__worldTransform;
			target.a = local.a * parentTransform.a + local.b * parentTransform.c;
			target.b = local.a * parentTransform.b + local.b * parentTransform.d;
			target.c = local.c * parentTransform.a + local.d * parentTransform.c;
			target.d = local.c * parentTransform.b + local.d * parentTransform.d;
			target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
			target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
		} else {
			this.__worldTransform.copyFrom(local);
		}
		if(!overrided && renderParent != null) {
			var parentTransform = renderParent.__renderTransform;
			var target = this.__renderTransform;
			target.a = local.a * parentTransform.a + local.b * parentTransform.c;
			target.b = local.a * parentTransform.b + local.b * parentTransform.d;
			target.c = local.c * parentTransform.a + local.d * parentTransform.c;
			target.d = local.c * parentTransform.b + local.d * parentTransform.d;
			target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
			target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
		} else {
			this.__renderTransform.copyFrom(local);
		}
		if(this.__scrollRect != null) {
			var _this = this.__renderTransform;
			var px = -this.__scrollRect.x;
			var py = -this.__scrollRect.y;
			_this.tx = px * _this.a + py * _this.c + _this.tx;
			_this.ty = px * _this.b + py * _this.d + _this.ty;
		}
	}
	,get_alpha: function() {
		return this.__alpha;
	}
	,set_alpha: function(value) {
		if(value > 1.0) {
			value = 1.0;
		}
		if(value < 0.0) {
			value = 0.0;
		}
		if(value != this.__alpha && !this.get_cacheAsBitmap()) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__alpha = value;
	}
	,get_blendMode: function() {
		return this.__blendMode;
	}
	,set_blendMode: function(value) {
		if(value == null) {
			value = 10;
		}
		if(value != this.__blendMode) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__blendMode = value;
	}
	,get_cacheAsBitmap: function() {
		if(this.__filters == null) {
			return this.__cacheAsBitmap;
		} else {
			return true;
		}
	}
	,set_cacheAsBitmap: function(value) {
		if(value != this.__cacheAsBitmap) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__cacheAsBitmap = value;
	}
	,get_cacheAsBitmapMatrix: function() {
		return this.__cacheAsBitmapMatrix;
	}
	,set_cacheAsBitmapMatrix: function(value) {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return this.__cacheAsBitmapMatrix = value != null ? value.clone() : value;
	}
	,get_filters: function() {
		if(this.__filters == null) {
			return [];
		} else {
			return this.__filters.slice();
		}
	}
	,set_filters: function(value) {
		if(value != null && value.length > 0) {
			this.__filters = value;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		} else if(this.__filters != null) {
			this.__filters = null;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return value;
	}
	,get_height: function() {
		var rect = openfl_geom_Rectangle.__pool.get();
		this.__getLocalBounds(rect);
		var height = rect.height;
		openfl_geom_Rectangle.__pool.release(rect);
		return height;
	}
	,set_height: function(value) {
		var rect = openfl_geom_Rectangle.__pool.get();
		var matrix = openfl_geom_Matrix.__pool.get();
		matrix.identity();
		this.__getBounds(rect,matrix);
		if(value != rect.height) {
			this.set_scaleY(value / rect.height);
		} else {
			this.set_scaleY(1);
		}
		openfl_geom_Rectangle.__pool.release(rect);
		openfl_geom_Matrix.__pool.release(matrix);
		return value;
	}
	,get_loaderInfo: function() {
		if(this.stage != null) {
			return openfl_utils__$internal_Lib.current.__loaderInfo;
		}
		return null;
	}
	,get_mask: function() {
		return this.__mask;
	}
	,set_mask: function(value) {
		if(value == this.__mask) {
			return value;
		}
		if(value != this.__mask) {
			this.__setTransformDirty();
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		if(this.__mask != null) {
			this.__mask.__isMask = false;
			this.__mask.__maskTarget = null;
			this.__mask.__setTransformDirty();
			var _this = this.__mask;
			if(!_this.__renderDirty) {
				_this.__renderDirty = true;
				_this.__setParentRenderDirty();
			}
		}
		if(value != null) {
			value.__isMask = true;
			value.__maskTarget = this;
			value.__setWorldTransformInvalid();
		}
		if(this.__cacheBitmap != null && this.__cacheBitmap.get_mask() != value) {
			this.__cacheBitmap.set_mask(value);
		}
		return this.__mask = value;
	}
	,get_mouseX: function() {
		var mouseX = this.stage != null ? this.stage.__mouseX : openfl_utils__$internal_Lib.current.stage.__mouseX;
		var mouseY = this.stage != null ? this.stage.__mouseY : openfl_utils__$internal_Lib.current.stage.__mouseY;
		var _this = this.__getRenderTransform();
		var norm = _this.a * _this.d - _this.b * _this.c;
		if(norm == 0) {
			return -_this.tx;
		} else {
			return 1.0 / norm * (_this.c * (_this.ty - mouseY) + _this.d * (mouseX - _this.tx));
		}
	}
	,get_mouseY: function() {
		var mouseX = this.stage != null ? this.stage.__mouseX : openfl_utils__$internal_Lib.current.stage.__mouseX;
		var mouseY = this.stage != null ? this.stage.__mouseY : openfl_utils__$internal_Lib.current.stage.__mouseY;
		var _this = this.__getRenderTransform();
		var norm = _this.a * _this.d - _this.b * _this.c;
		if(norm == 0) {
			return -_this.ty;
		} else {
			return 1.0 / norm * (_this.a * (mouseY - _this.ty) + _this.b * (_this.tx - mouseX));
		}
	}
	,get_name: function() {
		return this.__name;
	}
	,set_name: function(value) {
		return this.__name = value;
	}
	,get_root: function() {
		if(this.stage != null) {
			return openfl_utils__$internal_Lib.current;
		}
		return null;
	}
	,get_rotation: function() {
		return this.__rotation;
	}
	,set_rotation: function(value) {
		if(value != this.__rotation) {
			this.__rotation = value;
			var radians = this.__rotation * (Math.PI / 180);
			this.__rotationSine = Math.sin(radians);
			this.__rotationCosine = Math.cos(radians);
			this.__transform.a = this.__rotationCosine * this.__scaleX;
			this.__transform.b = this.__rotationSine * this.__scaleX;
			this.__transform.c = -this.__rotationSine * this.__scaleY;
			this.__transform.d = this.__rotationCosine * this.__scaleY;
			this.__setTransformDirty();
		}
		return value;
	}
	,get_scale9Grid: function() {
		if(this.__scale9Grid == null) {
			return null;
		}
		return this.__scale9Grid.clone();
	}
	,set_scale9Grid: function(value) {
		if(value == null && this.__scale9Grid == null) {
			return value;
		}
		if(value != null && this.__scale9Grid != null && this.__scale9Grid.equals(value)) {
			return value;
		}
		if(value != null) {
			if(this.__scale9Grid == null) {
				this.__scale9Grid = new openfl_geom_Rectangle();
			}
			this.__scale9Grid.copyFrom(value);
		} else {
			this.__scale9Grid = null;
		}
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return value;
	}
	,get_scaleX: function() {
		return this.__scaleX;
	}
	,set_scaleX: function(value) {
		if(value != this.__scaleX) {
			this.__scaleX = value;
			if(this.__transform.b == 0) {
				if(value != this.__transform.a) {
					this.__setTransformDirty();
				}
				this.__transform.a = value;
			} else {
				var a = this.__rotationCosine * value;
				var b = this.__rotationSine * value;
				if(this.__transform.a != a || this.__transform.b != b) {
					this.__setTransformDirty();
				}
				this.__transform.a = a;
				this.__transform.b = b;
			}
		}
		return value;
	}
	,get_scaleY: function() {
		return this.__scaleY;
	}
	,set_scaleY: function(value) {
		if(value != this.__scaleY) {
			this.__scaleY = value;
			if(this.__transform.c == 0) {
				if(value != this.__transform.d) {
					this.__setTransformDirty();
				}
				this.__transform.d = value;
			} else {
				var c = -this.__rotationSine * value;
				var d = this.__rotationCosine * value;
				if(this.__transform.d != d || this.__transform.c != c) {
					this.__setTransformDirty();
				}
				this.__transform.c = c;
				this.__transform.d = d;
			}
		}
		return value;
	}
	,get_scrollRect: function() {
		if(this.__scrollRect == null) {
			return null;
		}
		return this.__scrollRect.clone();
	}
	,set_scrollRect: function(value) {
		if(value == null && this.__scrollRect == null) {
			return value;
		}
		if(value != null && this.__scrollRect != null && this.__scrollRect.equals(value)) {
			return value;
		}
		if(value != null) {
			if(this.__scrollRect == null) {
				this.__scrollRect = new openfl_geom_Rectangle();
			}
			this.__scrollRect.copyFrom(value);
		} else {
			this.__scrollRect = null;
		}
		this.__setTransformDirty();
		if(openfl_display_DisplayObject.__supportDOM) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return value;
	}
	,get_shader: function() {
		return this.__shader;
	}
	,set_shader: function(value) {
		this.__shader = value;
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return value;
	}
	,get_transform: function() {
		if(this.__objectTransform == null) {
			this.__objectTransform = new openfl_geom_Transform(this);
		}
		return this.__objectTransform;
	}
	,set_transform: function(value) {
		if(value == null) {
			throw new openfl_errors_TypeError("Parameter transform must be non-null.");
		}
		if(this.__objectTransform == null) {
			this.__objectTransform = new openfl_geom_Transform(this);
		}
		this.__setTransformDirty();
		this.__objectTransform.set_matrix(value.get_matrix());
		if(!this.__objectTransform.__colorTransform.__equals(value.__colorTransform,true) || !this.get_cacheAsBitmap() && this.__objectTransform.__colorTransform.alphaMultiplier != value.__colorTransform.alphaMultiplier) {
			this.__objectTransform.__colorTransform.__copyFrom(value.get_colorTransform());
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__objectTransform;
	}
	,get_visible: function() {
		return this.__visible;
	}
	,set_visible: function(value) {
		if(value != this.__visible) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__visible = value;
	}
	,get_width: function() {
		var rect = openfl_geom_Rectangle.__pool.get();
		this.__getLocalBounds(rect);
		var width = rect.width;
		openfl_geom_Rectangle.__pool.release(rect);
		return width;
	}
	,set_width: function(value) {
		var rect = openfl_geom_Rectangle.__pool.get();
		var matrix = openfl_geom_Matrix.__pool.get();
		matrix.identity();
		this.__getBounds(rect,matrix);
		if(value != rect.width) {
			this.set_scaleX(value / rect.width);
		} else {
			this.set_scaleX(1);
		}
		openfl_geom_Rectangle.__pool.release(rect);
		openfl_geom_Matrix.__pool.release(matrix);
		return value;
	}
	,get_x: function() {
		return this.__transform.tx;
	}
	,set_x: function(value) {
		if(value != this.__transform.tx) {
			this.__setTransformDirty();
		}
		return this.__transform.tx = value;
	}
	,get_y: function() {
		return this.__transform.ty;
	}
	,set_y: function(value) {
		if(value != this.__transform.ty) {
			this.__setTransformDirty();
		}
		return this.__transform.ty = value;
	}
	,__class__: openfl_display_DisplayObject
	,__properties__: {set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}
});
var openfl_display_InteractiveObject = function() {
	openfl_display_DisplayObject.call(this);
	this.doubleClickEnabled = false;
	this.mouseEnabled = true;
	this.needsSoftKeyboard = false;
	this.__tabEnabled = null;
	this.__tabIndex = -1;
};
$hxClasses["openfl.display.InteractiveObject"] = openfl_display_InteractiveObject;
openfl_display_InteractiveObject.__name__ = "openfl.display.InteractiveObject";
openfl_display_InteractiveObject.__super__ = openfl_display_DisplayObject;
openfl_display_InteractiveObject.prototype = $extend(openfl_display_DisplayObject.prototype,{
	doubleClickEnabled: null
	,focusRect: null
	,mouseEnabled: null
	,needsSoftKeyboard: null
	,softKeyboardInputAreaOfInterest: null
	,__tabEnabled: null
	,__tabIndex: null
	,requestSoftKeyboard: function() {
		openfl_utils__$internal_Lib.notImplemented({ fileName : "openfl/display/InteractiveObject.hx", lineNumber : 1251, className : "openfl.display.InteractiveObject", methodName : "requestSoftKeyboard"});
		return false;
	}
	,__allowMouseFocus: function() {
		if(this.mouseEnabled) {
			return this.get_tabEnabled();
		} else {
			return false;
		}
	}
	,__getInteractive: function(stack) {
		if(stack != null) {
			stack.push(this);
			if(this.parent != null) {
				this.parent.__getInteractive(stack);
			}
		}
		return true;
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(!hitObject.get_visible() || this.__isMask || interactiveOnly && !this.mouseEnabled) {
			return false;
		}
		return openfl_display_DisplayObject.prototype.__hitTest.call(this,x,y,shapeFlag,stack,interactiveOnly,hitObject);
	}
	,__tabTest: function(stack) {
		if(this.get_tabEnabled()) {
			stack.push(this);
		}
	}
	,get_tabEnabled: function() {
		if(this.__tabEnabled == true) {
			return true;
		} else {
			return false;
		}
	}
	,set_tabEnabled: function(value) {
		if(this.__tabEnabled != value) {
			this.__tabEnabled = value;
			this.dispatchEvent(new openfl_events_Event("tabEnabledChange",true,false));
		}
		return this.__tabEnabled;
	}
	,get_tabIndex: function() {
		return this.__tabIndex;
	}
	,set_tabIndex: function(value) {
		if(this.__tabIndex != value) {
			if(value < -1) {
				throw new openfl_errors_RangeError("Parameter tabIndex must be a non-negative number; got " + value);
			}
			this.__tabIndex = value;
			this.dispatchEvent(new openfl_events_Event("tabIndexChange",true,false));
		}
		return this.__tabIndex;
	}
	,__class__: openfl_display_InteractiveObject
	,__properties__: $extend(openfl_display_DisplayObject.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})
});
var openfl_display_DisplayObjectContainer = function() {
	openfl_display_InteractiveObject.call(this);
	this.mouseChildren = true;
	this.__tabChildren = true;
	this.__children = [];
	this.__removedChildren = openfl_Vector.toObjectVector(null);
};
$hxClasses["openfl.display.DisplayObjectContainer"] = openfl_display_DisplayObjectContainer;
openfl_display_DisplayObjectContainer.__name__ = "openfl.display.DisplayObjectContainer";
openfl_display_DisplayObjectContainer.__super__ = openfl_display_InteractiveObject;
openfl_display_DisplayObjectContainer.prototype = $extend(openfl_display_InteractiveObject.prototype,{
	mouseChildren: null
	,__removedChildren: null
	,__tabChildren: null
	,addChild: function(child) {
		return this.addChildAt(child,this.get_numChildren());
	}
	,addChildAt: function(child,index) {
		if(child == null) {
			var error = new openfl_errors_TypeError("Error #2007: Parameter child must be non-null.");
			error.errorID = 2007;
			throw error;
		} else if(child.stage == child) {
			var error = new openfl_errors_ArgumentError("Error #3783: A Stage object cannot be added as the child of another object.");
			error.errorID = 3783;
			throw error;
		}
		if(index > this.__children.length || index < 0) {
			throw haxe_Exception.thrown("Invalid index position " + index);
		}
		if(child.parent == this) {
			if(this.__children[index] != child) {
				HxOverrides.remove(this.__children,child);
				this.__children.splice(index,0,child);
				if(!this.__renderDirty) {
					this.__renderDirty = true;
					this.__setParentRenderDirty();
				}
			}
		} else {
			if(child.parent != null) {
				child.parent.removeChild(child);
			}
			this.__children.splice(index,0,child);
			child.parent = this;
			var addedToStage = this.stage != null && child.stage == null;
			if(addedToStage) {
				child.__setStageReference(this.stage);
			}
			child.__setTransformDirty();
			if(!child.__renderDirty) {
				child.__renderDirty = true;
				child.__setParentRenderDirty();
			}
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
			var event = new openfl_events_Event("added");
			event.bubbles = true;
			event.target = child;
			child.__dispatchWithCapture(event);
			if(addedToStage) {
				event = new openfl_events_Event("addedToStage",false,false);
				child.__dispatchWithCapture(event);
				child.__dispatchChildren(event);
			}
		}
		return child;
	}
	,areInaccessibleObjectsUnderPoint: function(point) {
		return false;
	}
	,contains: function(child) {
		while(child != this && child != null) child = child.parent;
		return child == this;
	}
	,getChildAt: function(index) {
		if(index >= 0 && index < this.__children.length) {
			return this.__children[index];
		}
		return null;
	}
	,getChildByName: function(name) {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.get_name() == name) {
				return child;
			}
		}
		return null;
	}
	,getChildIndex: function(child) {
		var _g = 0;
		var _g1 = this.__children.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.__children[i] == child) {
				return i;
			}
		}
		return -1;
	}
	,getObjectsUnderPoint: function(point) {
		var stack = [];
		this.__hitTest(point.x,point.y,false,stack,false,this);
		stack.reverse();
		return stack;
	}
	,removeChild: function(child) {
		if(child != null && child.parent == this) {
			child.__setTransformDirty();
			if(!child.__renderDirty) {
				child.__renderDirty = true;
				child.__setParentRenderDirty();
			}
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
			var event = new openfl_events_Event("removed",true);
			child.__dispatchWithCapture(event);
			if(this.stage != null) {
				if(child.stage != null && this.stage.get_focus() == child) {
					this.stage.set_focus(null);
				}
				var event = new openfl_events_Event("removedFromStage",false,false);
				child.__dispatchWithCapture(event);
				child.__dispatchChildren(event);
				child.__setStageReference(null);
			}
			child.parent = null;
			HxOverrides.remove(this.__children,child);
			this.__removedChildren.push(child);
			child.__setTransformDirty();
		}
		return child;
	}
	,removeChildAt: function(index) {
		if(index >= 0 && index < this.__children.length) {
			return this.removeChild(this.__children[index]);
		}
		return null;
	}
	,removeChildren: function(beginIndex,endIndex) {
		if(endIndex == null) {
			endIndex = 2147483647;
		}
		if(beginIndex == null) {
			beginIndex = 0;
		}
		if(endIndex == 2147483647) {
			endIndex = this.__children.length - 1;
			if(endIndex < 0) {
				return;
			}
		}
		if(beginIndex > this.__children.length - 1) {
			return;
		} else if(endIndex < beginIndex || beginIndex < 0 || endIndex > this.__children.length) {
			throw new openfl_errors_RangeError("The supplied index is out of bounds.");
		}
		var numRemovals = endIndex - beginIndex;
		while(numRemovals >= 0) {
			this.removeChildAt(beginIndex);
			--numRemovals;
		}
	}
	,resolve: function(fieldName) {
		if(this.__children == null) {
			return null;
		}
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.get_name() == fieldName) {
				return child;
			}
		}
		return null;
	}
	,setChildIndex: function(child,index) {
		if(index >= 0 && index <= this.__children.length && child.parent == this) {
			HxOverrides.remove(this.__children,child);
			this.__children.splice(index,0,child);
		}
	}
	,stopAllMovieClips: function() {
		this.__stopAllMovieClips();
	}
	,swapChildren: function(child1,child2) {
		if(child1.parent == this && child2.parent == this) {
			var index1 = this.__children.indexOf(child1);
			var index2 = this.__children.indexOf(child2);
			this.__children[index1] = child2;
			this.__children[index2] = child1;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
	}
	,swapChildrenAt: function(index1,index2) {
		var swap = this.__children[index1];
		this.__children[index1] = this.__children[index2];
		this.__children[index2] = swap;
		swap = null;
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,__cleanup: function() {
		openfl_display_InteractiveObject.prototype.__cleanup.call(this);
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__cleanup();
		}
		var orphan = this.__removedChildren.iterator();
		while(orphan.hasNext()) {
			var orphan1 = orphan.next();
			if(orphan1.stage == null) {
				orphan1.__cleanup();
			}
		}
		this.__removedChildren.set_length(0);
	}
	,__cleanupRemovedChildren: function() {
		var orphan = this.__removedChildren.iterator();
		while(orphan.hasNext()) {
			var orphan1 = orphan.next();
			if(orphan1.stage == null) {
				orphan1.__cleanup();
			}
		}
		this.__removedChildren.set_length(0);
	}
	,__dispatchChildren: function(event) {
		if(this.__children != null) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				event.target = child;
				if(!child.__dispatchWithCapture(event)) {
					break;
				}
				child.__dispatchChildren(event);
			}
		}
	}
	,__enterFrame: function(deltaTime) {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__enterFrame(deltaTime);
		}
	}
	,__getBounds: function(rect,matrix) {
		openfl_display_InteractiveObject.prototype.__getBounds.call(this,rect,matrix);
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			child.__getBounds(rect,childWorldTransform);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__getFilterBounds: function(rect,matrix) {
		openfl_display_InteractiveObject.prototype.__getFilterBounds.call(this,rect,matrix);
		if(this.__scrollRect != null) {
			return;
		}
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0 || child.__isMask) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			var childRect = openfl_geom_Rectangle.__pool.get();
			child.__getFilterBounds(childRect,childWorldTransform);
			rect.__expand(childRect.x,childRect.y,childRect.width,childRect.height);
			openfl_geom_Rectangle.__pool.release(childRect);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__getRenderBounds: function(rect,matrix) {
		if(this.__scrollRect != null) {
			openfl_display_InteractiveObject.prototype.__getRenderBounds.call(this,rect,matrix);
			return;
		} else {
			openfl_display_InteractiveObject.prototype.__getBounds.call(this,rect,matrix);
		}
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0 || child.__isMask) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			child.__getRenderBounds(rect,childWorldTransform);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(!hitObject.get_visible() || this.__isMask || interactiveOnly && !this.mouseEnabled && !this.mouseChildren) {
			return false;
		}
		if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
			return false;
		}
		if(this.__scrollRect != null) {
			var point = openfl_geom_Point.__pool.get();
			point.setTo(x,y);
			var _this = this.__getRenderTransform();
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				point.x = -_this.tx;
				point.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - point.y) + _this.d * (point.x - _this.tx));
				point.y = 1.0 / norm * (_this.a * (point.y - _this.ty) + _this.b * (_this.tx - point.x));
				point.x = px;
			}
			if(!this.__scrollRect.containsPoint(point)) {
				openfl_geom_Point.__pool.release(point);
				return false;
			}
			openfl_geom_Point.__pool.release(point);
		}
		var i = this.__children.length;
		if(interactiveOnly) {
			if(stack == null || !this.mouseChildren) {
				while(--i >= 0) if(this.__children[i].__hitTest(x,y,shapeFlag,null,true,this.__children[i])) {
					if(stack != null) {
						stack.push(hitObject);
					}
					return true;
				}
			} else if(stack != null) {
				var length = stack.length;
				var interactive = false;
				var hitTest = false;
				while(--i >= 0) {
					interactive = this.__children[i].__getInteractive(null);
					if(interactive || this.mouseEnabled && !hitTest) {
						if(this.__children[i].__hitTest(x,y,shapeFlag,stack,true,this.__children[i])) {
							hitTest = true;
							if(interactive && stack.length > length) {
								break;
							}
						}
					}
				}
				if(hitTest) {
					stack.splice(length,0,hitObject);
					return true;
				}
			}
		} else {
			var hitTest = false;
			while(--i >= 0) if(this.__children[i].__hitTest(x,y,shapeFlag,stack,false,this.__children[i])) {
				hitTest = true;
				if(stack == null) {
					break;
				}
			}
			return hitTest;
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		var i = this.__children.length;
		while(--i >= 0) if(this.__children[i].__hitTestMask(x,y)) {
			return true;
		}
		return false;
	}
	,__readGraphicsData: function(graphicsData,recurse) {
		openfl_display_InteractiveObject.prototype.__readGraphicsData.call(this,graphicsData,recurse);
		if(recurse) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__readGraphicsData(graphicsData,recurse);
			}
		}
	}
	,__setStageReference: function(stage) {
		openfl_display_InteractiveObject.prototype.__setStageReference.call(this,stage);
		if(this.__children != null) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__setStageReference(stage);
			}
		}
	}
	,__setWorldTransformInvalid: function() {
		if(!this.__worldTransformInvalid) {
			this.__worldTransformInvalid = true;
			if(this.__children != null) {
				var _g = 0;
				var _g1 = this.__children;
				while(_g < _g1.length) {
					var child = _g1[_g];
					++_g;
					child.__setWorldTransformInvalid();
				}
			}
		}
	}
	,__stopAllMovieClips: function() {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__stopAllMovieClips();
		}
	}
	,__tabTest: function(stack) {
		openfl_display_InteractiveObject.prototype.__tabTest.call(this,stack);
		if(!this.get_tabChildren()) {
			return;
		}
		var interactive = false;
		var interactiveObject = null;
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			interactive = child.__getInteractive(null);
			if(interactive) {
				interactiveObject = child;
				interactiveObject.__tabTest(stack);
			}
		}
	}
	,__update: function(transformOnly,updateChildren) {
		openfl_display_InteractiveObject.prototype.__update.call(this,transformOnly,updateChildren);
		if(updateChildren) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__update(transformOnly,true);
			}
		}
	}
	,get_numChildren: function() {
		return this.__children.length;
	}
	,get_tabChildren: function() {
		return this.__tabChildren;
	}
	,set_tabChildren: function(value) {
		if(this.__tabChildren != value) {
			this.__tabChildren = value;
			this.dispatchEvent(new openfl_events_Event("tabChildrenChange",true,false));
		}
		return this.__tabChildren;
	}
	,__class__: openfl_display_DisplayObjectContainer
	,__properties__: $extend(openfl_display_InteractiveObject.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})
});
var openfl_display_Sprite = function() {
	openfl_display_DisplayObjectContainer.call(this);
	this.__drawableType = 4;
	this.__buttonMode = false;
	this.useHandCursor = true;
	if(this.__pendingBindLibrary != null) {
		var library = this.__pendingBindLibrary;
		var className = this.__pendingBindClassName;
		this.__pendingBindLibrary = null;
		this.__pendingBindClassName = null;
		library.bind(className,this);
	} else if(openfl_display_Sprite.__constructor != null) {
		var method = openfl_display_Sprite.__constructor;
		openfl_display_Sprite.__constructor = null;
		method(this);
	}
};
$hxClasses["openfl.display.Sprite"] = openfl_display_Sprite;
openfl_display_Sprite.__name__ = "openfl.display.Sprite";
openfl_display_Sprite.__constructor = null;
openfl_display_Sprite.fromTimeline = function(timeline) {
	var sprite = new openfl_display_Sprite();
	timeline.initializeSprite(sprite);
	return sprite;
};
openfl_display_Sprite.__super__ = openfl_display_DisplayObjectContainer;
openfl_display_Sprite.prototype = $extend(openfl_display_DisplayObjectContainer.prototype,{
	dropTarget: null
	,hitArea: null
	,useHandCursor: null
	,__buttonMode: null
	,__pendingBindClassName: null
	,__pendingBindLibrary: null
	,startDrag: function(lockCenter,bounds) {
		if(lockCenter == null) {
			lockCenter = false;
		}
		if(this.stage != null) {
			this.stage.__startDrag(this,lockCenter,bounds);
		}
	}
	,stopDrag: function() {
		if(this.stage != null) {
			this.stage.__stopDrag(this);
		}
	}
	,__bind: function(library,className) {
		if(this.__worldTransform == null) {
			this.__pendingBindLibrary = library;
			this.__pendingBindClassName = className;
		} else if(library == null || className == null || !library.bind(className,this)) {
			lime_utils_Log.error("Cannot bind class name \"" + className + "\"",{ fileName : "openfl/display/Sprite.hx", lineNumber : 281, className : "openfl.display.Sprite", methodName : "__bind"});
		}
	}
	,__getCursor: function() {
		if(this.__buttonMode && this.useHandCursor) {
			return "button";
		} else {
			return null;
		}
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(interactiveOnly && !this.mouseEnabled && !this.mouseChildren) {
			return false;
		}
		if(!hitObject.get_visible() || this.__isMask) {
			return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
		}
		if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
			return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
		}
		if(this.__scrollRect != null) {
			var point = openfl_geom_Point.__pool.get();
			point.setTo(x,y);
			var _this = this.__getRenderTransform();
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				point.x = -_this.tx;
				point.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - point.y) + _this.d * (point.x - _this.tx));
				point.y = 1.0 / norm * (_this.a * (point.y - _this.ty) + _this.b * (_this.tx - point.x));
				point.x = px;
			}
			if(!this.__scrollRect.containsPoint(point)) {
				openfl_geom_Point.__pool.release(point);
				return this.__hitTestHitArea(x,y,shapeFlag,stack,true,hitObject);
			}
			openfl_geom_Point.__pool.release(point);
		}
		if(openfl_display_DisplayObjectContainer.prototype.__hitTest.call(this,x,y,shapeFlag,stack,interactiveOnly,hitObject)) {
			if(stack != null) {
				return interactiveOnly;
			} else {
				return true;
			}
		} else if(this.hitArea == null && this.__graphics != null && this.__graphics.__hitTest(x,y,shapeFlag,this.__getRenderTransform())) {
			if(stack != null && (!interactiveOnly || this.mouseEnabled)) {
				stack.push(hitObject);
			}
			return true;
		}
		return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
	}
	,__hitTestHitArea: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(this.hitArea != null) {
			if(!this.hitArea.mouseEnabled) {
				this.hitArea.mouseEnabled = true;
				var hitTest = this.hitArea.__hitTest(x,y,shapeFlag,null,true,hitObject);
				this.hitArea.mouseEnabled = false;
				if(stack != null && hitTest) {
					stack[stack.length] = hitObject;
				}
				return hitTest;
			}
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		if(openfl_display_DisplayObjectContainer.prototype.__hitTestMask.call(this,x,y)) {
			return true;
		} else if(this.__graphics != null && this.__graphics.__hitTest(x,y,true,this.__getRenderTransform())) {
			return true;
		}
		return false;
	}
	,get_graphics: function() {
		if(this.__graphics == null) {
			this.__graphics = new openfl_display_Graphics(this);
		}
		return this.__graphics;
	}
	,get_tabEnabled: function() {
		if(this.__tabEnabled == null) {
			return this.__buttonMode;
		} else {
			return this.__tabEnabled;
		}
	}
	,get_buttonMode: function() {
		return this.__buttonMode;
	}
	,set_buttonMode: function(value) {
		return this.__buttonMode = value;
	}
	,__class__: openfl_display_Sprite
	,__properties__: $extend(openfl_display_DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})
});
var Main = function() {
	this.startFullscreen = false;
	this.skipSplash = true;
	this.framerate = 60;
	this.zoom = -1;
	this.initialState = TitleState;
	this.gameHeight = 720;
	this.gameWidth = 1280;
	openfl_display_Sprite.call(this);
	if(this.stage != null) {
		this.init();
	} else {
		this.addEventListener("addedToStage",$bind(this,this.init));
	}
};
$hxClasses["Main"] = Main;
Main.__name__ = "Main";
Main.fpsVar = null;
Main.main = function() {
	openfl_Lib.get_current().addChild(new Main());
};
Main.getDataPath = function() {
	return "";
};
Main.__super__ = openfl_display_Sprite;
Main.prototype = $extend(openfl_display_Sprite.prototype,{
	gameWidth: null
	,gameHeight: null
	,initialState: null
	,zoom: null
	,framerate: null
	,skipSplash: null
	,startFullscreen: null
	,init: function(E) {
		if(this.hasEventListener("addedToStage")) {
			this.removeEventListener("addedToStage",$bind(this,this.init));
		}
		this.setupGame();
	}
	,setupGame: function() {
		var stageWidth = openfl_Lib.get_current().stage.stageWidth;
		var stageHeight = openfl_Lib.get_current().stage.stageHeight;
		if(this.zoom == -1) {
			var ratioX = stageWidth / this.gameWidth;
			var ratioY = stageHeight / this.gameHeight;
			this.zoom = Math.min(ratioX,ratioY);
			this.gameWidth = Math.ceil(stageWidth / this.zoom);
			this.gameHeight = Math.ceil(stageHeight / this.zoom);
		}
		this.initialState = TitleState;
		ClientPrefs.loadDefaultKeys();
		this.addChild(new flixel_FlxGame(this.gameWidth,this.gameHeight,this.initialState,this.zoom,this.framerate,this.framerate,this.skipSplash,this.startFullscreen));
		Main.fpsVar = new openfl_display_FPS(10,3,16777215);
		this.addChild(Main.fpsVar);
		if(Main.fpsVar != null) {
			Main.fpsVar.set_visible(ClientPrefs.showFPS);
		}
		flixel_FlxG.autoPause = false;
		flixel_FlxG.mouse.set_visible(false);
	}
	,__class__: Main
});
var DocumentClass = function(current) {
	current.addChild(this);
	Main.call(this);
	this.dispatchEvent(new openfl_events_Event("addedToStage",false,false));
};
$hxClasses["DocumentClass"] = DocumentClass;
DocumentClass.__name__ = "DocumentClass";
DocumentClass.__super__ = Main;
DocumentClass.prototype = $extend(Main.prototype,{
	__class__: DocumentClass
});
var AttachedSprite = function(file,anim,library,loop) {
	if(loop == null) {
		loop = false;
	}
	this.copyVisible = false;
	this.copyAlpha = true;
	this.copyAngle = true;
	this.alphaMult = 1;
	this.angleAdd = 0;
	this.yAdd = 0;
	this.xAdd = 0;
	flixel_FlxSprite.call(this);
	if(anim != null) {
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + file + ".png","IMAGE",library),Paths.getPath("images/" + file + ".xml","TEXT",library)));
		this.animation.addByPrefix("idle",anim,24,loop);
		this.animation.play("idle");
	} else if(file != null) {
		this.loadGraphic(Paths.getPath("images/" + file + ".png","IMAGE",null));
	}
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
	this.scrollFactor.set();
};
$hxClasses["AttachedSprite"] = AttachedSprite;
AttachedSprite.__name__ = "AttachedSprite";
AttachedSprite.__super__ = flixel_FlxSprite;
AttachedSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	sprTracker: null
	,xAdd: null
	,yAdd: null
	,angleAdd: null
	,alphaMult: null
	,copyAngle: null
	,copyAlpha: null
	,copyVisible: null
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x + this.xAdd,this.sprTracker.y + this.yAdd);
			this.scrollFactor.set(this.sprTracker.scrollFactor.x,this.sprTracker.scrollFactor.y);
			if(this.copyAngle) {
				this.set_angle(this.sprTracker.angle + this.angleAdd);
			}
			if(this.copyAlpha) {
				this.set_alpha(this.sprTracker.alpha * this.alphaMult);
			}
			if(this.copyVisible) {
				this.set_visible(this.sprTracker.visible);
			}
		}
	}
	,__class__: AttachedSprite
});
var AttachedText = function(text,offsetX,offsetY,bold,scale) {
	if(scale == null) {
		scale = 1;
	}
	if(bold == null) {
		bold = false;
	}
	if(offsetY == null) {
		offsetY = 0;
	}
	if(offsetX == null) {
		offsetX = 0;
	}
	if(text == null) {
		text = "";
	}
	this.copyAlpha = false;
	this.copyVisible = true;
	this.offsetY = 0;
	this.offsetX = 0;
	Alphabet.call(this,0,0,text,bold,false,0.05,scale);
	this.isMenuItem = false;
	this.offsetX = offsetX;
	this.offsetY = offsetY;
};
$hxClasses["AttachedText"] = AttachedText;
AttachedText.__name__ = "AttachedText";
AttachedText.__super__ = Alphabet;
AttachedText.prototype = $extend(Alphabet.prototype,{
	offsetX: null
	,offsetY: null
	,sprTracker: null
	,copyVisible: null
	,copyAlpha: null
	,update: function(elapsed) {
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x + this.offsetX,this.sprTracker.y + this.offsetY);
			if(this.copyVisible) {
				this.set_visible(this.sprTracker.visible);
			}
			if(this.copyAlpha) {
				this.set_alpha(this.sprTracker.alpha);
			}
		}
		Alphabet.prototype.update.call(this,elapsed);
	}
	,__class__: AttachedText
});
var BGSprite = function(image,x,y,scrollX,scrollY,animArray,loop) {
	if(loop == null) {
		loop = false;
	}
	if(scrollY == null) {
		scrollY = 1;
	}
	if(scrollX == null) {
		scrollX = 1;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	flixel_FlxSprite.call(this,x,y);
	if(animArray != null) {
		var library = null;
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + image + ".png","IMAGE",library),Paths.getPath("images/" + image + ".xml","TEXT",library)));
		var _g = 0;
		var _g1 = animArray.length;
		while(_g < _g1) {
			var i = _g++;
			var anim = animArray[i];
			this.animation.addByPrefix(anim,anim,24,loop);
			if(this.idleAnim == null) {
				this.idleAnim = anim;
				this.animation.play(anim);
			}
		}
	} else {
		if(image != null) {
			this.loadGraphic(Paths.getPath("images/" + image + ".png","IMAGE",null));
		}
		this.set_active(false);
	}
	this.scrollFactor.set(scrollX,scrollY);
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["BGSprite"] = BGSprite;
BGSprite.__name__ = "BGSprite";
BGSprite.__super__ = flixel_FlxSprite;
BGSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	idleAnim: null
	,dance: function(forceplay) {
		if(forceplay == null) {
			forceplay = false;
		}
		if(this.idleAnim != null) {
			this.animation.play(this.idleAnim,forceplay);
		}
	}
	,__class__: BGSprite
});
var BackgroundDancer = function(x,y) {
	this.danceDir = false;
	flixel_FlxSprite.call(this,x,y);
	var library = null;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "limo/limoDancer" + ".png","IMAGE",library),Paths.getPath("images/" + "limo/limoDancer" + ".xml","TEXT",library)));
	this.animation.addByIndices("danceLeft","bg dancer sketch PINK",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
	this.animation.addByIndices("danceRight","bg dancer sketch PINK",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
	this.animation.play("danceLeft");
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["BackgroundDancer"] = BackgroundDancer;
BackgroundDancer.__name__ = "BackgroundDancer";
BackgroundDancer.__super__ = flixel_FlxSprite;
BackgroundDancer.prototype = $extend(flixel_FlxSprite.prototype,{
	danceDir: null
	,dance: function() {
		this.danceDir = !this.danceDir;
		if(this.danceDir) {
			this.animation.play("danceRight",true);
		} else {
			this.animation.play("danceLeft",true);
		}
	}
	,__class__: BackgroundDancer
});
var BackgroundGirls = function(x,y) {
	this.danceDir = false;
	this.isPissed = true;
	flixel_FlxSprite.call(this,x,y);
	var library = null;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/bgFreaks" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/bgFreaks" + ".xml","TEXT",library)));
	this.swapDanceType();
	this.animation.play("danceLeft");
};
$hxClasses["BackgroundGirls"] = BackgroundGirls;
BackgroundGirls.__name__ = "BackgroundGirls";
BackgroundGirls.__super__ = flixel_FlxSprite;
BackgroundGirls.prototype = $extend(flixel_FlxSprite.prototype,{
	isPissed: null
	,danceDir: null
	,swapDanceType: function() {
		this.isPissed = !this.isPissed;
		if(!this.isPissed) {
			this.animation.addByIndices("danceLeft","BG girls group",CoolUtil.numberArray(14),"",24,false);
			this.animation.addByIndices("danceRight","BG girls group",CoolUtil.numberArray(30,15),"",24,false);
		} else {
			this.animation.addByIndices("danceLeft","BG fangirls dissuaded",CoolUtil.numberArray(14),"",24,false);
			this.animation.addByIndices("danceRight","BG fangirls dissuaded",CoolUtil.numberArray(30,15),"",24,false);
		}
		this.dance();
	}
	,dance: function() {
		this.danceDir = !this.danceDir;
		if(this.danceDir) {
			this.animation.play("danceRight",true);
		} else {
			this.animation.play("danceLeft",true);
		}
	}
	,__class__: BackgroundGirls
});
var Character = function(x,y,character,isPlayer) {
	if(isPlayer == null) {
		isPlayer = false;
	}
	if(character == null) {
		character = "bf";
	}
	this.danced = false;
	this.healthColorArray = [255,0,0];
	this.originalFlipX = false;
	this.noAntialiasing = false;
	this.jsonScale = 1;
	this.imageFile = "";
	this.hasMissAnimations = false;
	this.cameraPosition = [0,0];
	this.positionArray = [0,0];
	this.animationsArray = [];
	this.healthIcon = "face";
	this.danceIdle = false;
	this.idleSuffix = "";
	this.singDuration = 4;
	this.stunned = false;
	this.animationNotes = [];
	this.specialAnim = false;
	this.heyTimer = 0;
	this.holdTimer = 0;
	this.curCharacter = Character.DEFAULT_CHARACTER;
	this.isPlayer = false;
	this.debugMode = false;
	flixel_FlxSprite.call(this,x,y);
	this.animOffsets = new haxe_ds_StringMap();
	this.curCharacter = character;
	this.isPlayer = isPlayer;
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
	var library = null;
	var _g = this.curCharacter;
	var characterPath = "characters/" + this.curCharacter + ".json";
	var file = characterPath;
	if(file == null) {
		file = "";
	}
	var path = "assets/" + file;
	if(!openfl_utils_Assets.exists(path)) {
		var path1 = Main.getDataPath();
		var file = "characters/" + Character.DEFAULT_CHARACTER + ".json";
		if(file == null) {
			file = "";
		}
		path = path1 + ("assets/" + file);
	}
	var rawJson = openfl_utils_Assets.getText(path);
	var json = JSON.parse(rawJson);
	if(openfl_utils_Assets.exists(Paths.getPath("images/" + json.image + ".txt","TEXT"))) {
		var key = json.image;
		var library = null;
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".txt","TEXT",library)));
	} else {
		var key = json.image;
		var library = null;
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
	}
	this.imageFile = json.image;
	if(json.scale != 1) {
		this.jsonScale = json.scale;
		this.setGraphicSize(this.get_width() * this.jsonScale | 0);
		this.updateHitbox();
	}
	this.positionArray = json.position;
	this.cameraPosition = json.camera_position;
	this.healthIcon = json.healthicon;
	this.singDuration = json.sing_duration;
	this.set_flipX(json.flip_x);
	if(json.no_antialiasing) {
		this.set_antialiasing(false);
		this.noAntialiasing = true;
	}
	if(json.healthbar_colors != null && json.healthbar_colors.length > 2) {
		this.healthColorArray = json.healthbar_colors;
	}
	this.set_antialiasing(!this.noAntialiasing);
	if(!ClientPrefs.globalAntialiasing) {
		this.set_antialiasing(false);
	}
	this.animationsArray = json.animations;
	if(this.animationsArray != null && this.animationsArray.length > 0) {
		var _g = 0;
		var _g1 = this.animationsArray;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			var animAnim = "" + anim.anim;
			var animName = "" + anim.name;
			var animFps = anim.fps;
			var animLoop = anim.loop;
			var animIndices = anim.indices;
			if(animIndices != null && animIndices.length > 0) {
				this.animation.addByIndices(animAnim,animName,animIndices,"",animFps,animLoop);
			} else {
				this.animation.addByPrefix(animAnim,animName,animFps,animLoop);
			}
			if(anim.offsets != null && anim.offsets.length > 1) {
				this.addOffset(anim.anim,anim.offsets[0],anim.offsets[1]);
			}
		}
	} else {
		this.quickAnimAdd("idle","BF idle dance");
	}
	this.originalFlipX = this.flipX;
	if(Object.prototype.hasOwnProperty.call(this.animOffsets.h,"singLEFTmiss") || Object.prototype.hasOwnProperty.call(this.animOffsets.h,"singDOWNmiss") || Object.prototype.hasOwnProperty.call(this.animOffsets.h,"singUPmiss") || Object.prototype.hasOwnProperty.call(this.animOffsets.h,"singRIGHTmiss")) {
		this.hasMissAnimations = true;
	}
	this.recalculateDanceIdle();
	this.dance();
	if(isPlayer) {
		this.set_flipX(!this.flipX);
	}
};
$hxClasses["Character"] = Character;
Character.__name__ = "Character";
Character.__super__ = flixel_FlxSprite;
Character.prototype = $extend(flixel_FlxSprite.prototype,{
	animOffsets: null
	,debugMode: null
	,isPlayer: null
	,curCharacter: null
	,colorTween: null
	,holdTimer: null
	,heyTimer: null
	,specialAnim: null
	,animationNotes: null
	,stunned: null
	,singDuration: null
	,idleSuffix: null
	,danceIdle: null
	,healthIcon: null
	,animationsArray: null
	,positionArray: null
	,cameraPosition: null
	,hasMissAnimations: null
	,imageFile: null
	,jsonScale: null
	,noAntialiasing: null
	,originalFlipX: null
	,healthColorArray: null
	,update: function(elapsed) {
		if(!this.debugMode && this.animation._curAnim != null) {
			if(this.heyTimer > 0) {
				this.heyTimer -= elapsed;
				if(this.heyTimer <= 0) {
					if(this.specialAnim && this.animation._curAnim.name == "hey" || this.animation._curAnim.name == "cheer") {
						this.specialAnim = false;
						this.dance();
					}
					this.heyTimer = 0;
				}
			} else if(this.specialAnim && this.animation._curAnim.finished) {
				this.specialAnim = false;
				this.dance();
			}
			if(!this.isPlayer) {
				if(StringTools.startsWith(this.animation._curAnim.name,"sing")) {
					this.holdTimer += elapsed;
				}
				if(this.holdTimer >= Conductor.stepCrochet * 0.001 * this.singDuration) {
					this.dance();
					this.holdTimer = 0;
				}
			}
			if(this.animation._curAnim.finished && this.animation._animations.h[this.animation._curAnim.name + "-loop"] != null) {
				this.playAnim(this.animation._curAnim.name + "-loop");
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,danced: null
	,dance: function() {
		if(!this.debugMode && !this.specialAnim) {
			if(this.danceIdle) {
				this.danced = !this.danced;
				if(this.danced) {
					this.playAnim("danceRight" + this.idleSuffix);
				} else {
					this.playAnim("danceLeft" + this.idleSuffix);
				}
			} else if(this.animation._animations.h["idle" + this.idleSuffix] != null) {
				this.playAnim("idle" + this.idleSuffix);
			}
		}
	}
	,playAnim: function(AnimName,Force,Reversed,Frame) {
		if(Frame == null) {
			Frame = 0;
		}
		if(Reversed == null) {
			Reversed = false;
		}
		if(Force == null) {
			Force = false;
		}
		this.specialAnim = false;
		this.animation.play(AnimName,Force,Reversed,Frame);
		var daOffset = this.animOffsets.h[AnimName];
		if(Object.prototype.hasOwnProperty.call(this.animOffsets.h,AnimName)) {
			this.offset.set(daOffset[0],daOffset[1]);
		} else {
			this.offset.set(0,0);
		}
		if(StringTools.startsWith(this.curCharacter,"gf")) {
			if(AnimName == "singLEFT") {
				this.danced = true;
			} else if(AnimName == "singRIGHT") {
				this.danced = false;
			}
			if(AnimName == "singUP" || AnimName == "singDOWN") {
				this.danced = !this.danced;
			}
		}
	}
	,recalculateDanceIdle: function() {
		this.danceIdle = this.animation._animations.h["danceLeft" + this.idleSuffix] != null && this.animation._animations.h["danceRight" + this.idleSuffix] != null;
	}
	,addOffset: function(name,x,y) {
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		var v = [x,y];
		this.animOffsets.h[name] = v;
	}
	,quickAnimAdd: function(name,anim) {
		this.animation.addByPrefix(name,anim,24,false);
	}
	,__class__: Character
});
var Boyfriend = function(x,y,char) {
	if(char == null) {
		char = "bf";
	}
	this.startedDeath = false;
	Character.call(this,x,y,char,true);
};
$hxClasses["Boyfriend"] = Boyfriend;
Boyfriend.__name__ = "Boyfriend";
Boyfriend.__super__ = Character;
Boyfriend.prototype = $extend(Character.prototype,{
	startedDeath: null
	,update: function(elapsed) {
		if(!this.debugMode && this.animation._curAnim != null) {
			if(StringTools.startsWith(this.animation._curAnim.name,"sing")) {
				this.holdTimer += elapsed;
			} else {
				this.holdTimer = 0;
			}
			if(StringTools.endsWith(this.animation._curAnim.name,"miss") && this.animation._curAnim.finished && !this.debugMode) {
				this.playAnim("idle",true,false,10);
			}
			if(this.animation._curAnim.name == "firstDeath" && this.animation._curAnim.finished && this.startedDeath) {
				this.playAnim("deathLoop");
			}
		}
		Character.prototype.update.call(this,elapsed);
	}
	,__class__: Boyfriend
});
var CheckboxThingie = function(x,y,checked) {
	if(checked == null) {
		checked = false;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.offsetY = 0;
	this.offsetX = 0;
	this.copyAlpha = true;
	flixel_FlxSprite.call(this,x,y);
	var library = null;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "checkboxanim" + ".png","IMAGE",library),Paths.getPath("images/" + "checkboxanim" + ".xml","TEXT",library)));
	this.animation.addByPrefix("unchecked","checkbox0",24,false);
	this.animation.addByPrefix("unchecking","checkbox anim reverse",24,false);
	this.animation.addByPrefix("checking","checkbox anim0",24,false);
	this.animation.addByPrefix("checked","checkbox finish",24,false);
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
	this.setGraphicSize(0.9 * this.get_width() | 0);
	this.updateHitbox();
	this.animationFinished(checked ? "checking" : "unchecking");
	this.animation.finishCallback = $bind(this,this.animationFinished);
	this.set_daValue(checked);
};
$hxClasses["CheckboxThingie"] = CheckboxThingie;
CheckboxThingie.__name__ = "CheckboxThingie";
CheckboxThingie.__super__ = flixel_FlxSprite;
CheckboxThingie.prototype = $extend(flixel_FlxSprite.prototype,{
	sprTracker: null
	,daValue: null
	,copyAlpha: null
	,offsetX: null
	,offsetY: null
	,update: function(elapsed) {
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x - 130 + this.offsetX,this.sprTracker.y + 30 + this.offsetY);
			if(this.copyAlpha) {
				this.set_alpha(this.sprTracker.alpha);
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,set_daValue: function(check) {
		if(check) {
			if(this.animation._curAnim.name != "checked" && this.animation._curAnim.name != "checking") {
				this.animation.play("checking",true);
				this.offset.set(34,25);
			}
		} else if(this.animation._curAnim.name != "unchecked" && this.animation._curAnim.name != "unchecking") {
			this.animation.play("unchecking",true);
			this.offset.set(25,28);
		}
		return check;
	}
	,animationFinished: function(name) {
		switch(name) {
		case "checking":
			this.animation.play("checked",true);
			this.offset.set(3,12);
			break;
		case "unchecking":
			this.animation.play("unchecked",true);
			this.offset.set(0,2);
			break;
		}
	}
	,__class__: CheckboxThingie
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_daValue:"set_daValue"})
});
var ClientPrefs = function() { };
$hxClasses["ClientPrefs"] = ClientPrefs;
ClientPrefs.__name__ = "ClientPrefs";
ClientPrefs.loadDefaultKeys = function() {
	ClientPrefs.defaultKeys = haxe_ds_StringMap.createCopy(ClientPrefs.keyBinds.h);
};
ClientPrefs.saveSettings = function() {
	flixel_FlxG.save.data.downScroll = ClientPrefs.downScroll;
	flixel_FlxG.save.data.middleScroll = ClientPrefs.middleScroll;
	flixel_FlxG.save.data.showFPS = ClientPrefs.showFPS;
	flixel_FlxG.save.data.flashing = ClientPrefs.flashing;
	flixel_FlxG.save.data.globalAntialiasing = ClientPrefs.globalAntialiasing;
	flixel_FlxG.save.data.noteSplashes = ClientPrefs.noteSplashes;
	flixel_FlxG.save.data.lowQuality = ClientPrefs.lowQuality;
	flixel_FlxG.save.data.framerate = ClientPrefs.framerate;
	flixel_FlxG.save.data.camZooms = ClientPrefs.camZooms;
	flixel_FlxG.save.data.noteOffset = ClientPrefs.noteOffset;
	flixel_FlxG.save.data.hideHud = ClientPrefs.hideHud;
	flixel_FlxG.save.data.arrowHSV = ClientPrefs.arrowHSV;
	flixel_FlxG.save.data.imagesPersist = ClientPrefs.imagesPersist;
	flixel_FlxG.save.data.ghostTapping = ClientPrefs.ghostTapping;
	flixel_FlxG.save.data.timeBarType = ClientPrefs.timeBarType;
	flixel_FlxG.save.data.scoreZoom = ClientPrefs.scoreZoom;
	flixel_FlxG.save.data.noReset = ClientPrefs.noReset;
	flixel_FlxG.save.data.healthBarAlpha = ClientPrefs.healthBarAlpha;
	flixel_FlxG.save.data.comboOffset = ClientPrefs.comboOffset;
	flixel_FlxG.save.data.achievementsMap = Achievements.achievementsMap;
	flixel_FlxG.save.data.henchmenDeath = Achievements.henchmenDeath;
	flixel_FlxG.save.data.ratingOffset = ClientPrefs.ratingOffset;
	flixel_FlxG.save.data.sickWindow = ClientPrefs.sickWindow;
	flixel_FlxG.save.data.goodWindow = ClientPrefs.goodWindow;
	flixel_FlxG.save.data.badWindow = ClientPrefs.badWindow;
	flixel_FlxG.save.data.safeFrames = ClientPrefs.safeFrames;
	flixel_FlxG.save.data.gameplaySettings = ClientPrefs.gameplaySettings;
	flixel_FlxG.save.data.controllerMode = ClientPrefs.controllerMode;
	flixel_FlxG.save.flush();
	var save = new flixel_util_FlxSave();
	save.bind("controls_v2","ninjamuffin99");
	save.data.customControls = ClientPrefs.keyBinds;
	save.flush();
};
ClientPrefs.loadPrefs = function() {
	if(flixel_FlxG.save.data.downScroll != null) {
		ClientPrefs.downScroll = flixel_FlxG.save.data.downScroll;
	}
	if(flixel_FlxG.save.data.middleScroll != null) {
		ClientPrefs.middleScroll = flixel_FlxG.save.data.middleScroll;
	}
	if(flixel_FlxG.save.data.showFPS != null) {
		ClientPrefs.showFPS = flixel_FlxG.save.data.showFPS;
		if(Main.fpsVar != null) {
			Main.fpsVar.set_visible(ClientPrefs.showFPS);
		}
	}
	if(flixel_FlxG.save.data.flashing != null) {
		ClientPrefs.flashing = flixel_FlxG.save.data.flashing;
	}
	if(flixel_FlxG.save.data.globalAntialiasing != null) {
		ClientPrefs.globalAntialiasing = flixel_FlxG.save.data.globalAntialiasing;
	}
	if(flixel_FlxG.save.data.noteSplashes != null) {
		ClientPrefs.noteSplashes = flixel_FlxG.save.data.noteSplashes;
	}
	if(flixel_FlxG.save.data.lowQuality != null) {
		ClientPrefs.lowQuality = flixel_FlxG.save.data.lowQuality;
	}
	if(flixel_FlxG.save.data.framerate != null) {
		ClientPrefs.framerate = flixel_FlxG.save.data.framerate;
		if(ClientPrefs.framerate > flixel_FlxG.drawFramerate) {
			flixel_FlxG.set_updateFramerate(ClientPrefs.framerate);
			flixel_FlxG.set_drawFramerate(ClientPrefs.framerate);
		} else {
			flixel_FlxG.set_drawFramerate(ClientPrefs.framerate);
			flixel_FlxG.set_updateFramerate(ClientPrefs.framerate);
		}
	}
	if(flixel_FlxG.save.data.camZooms != null) {
		ClientPrefs.camZooms = flixel_FlxG.save.data.camZooms;
	}
	if(flixel_FlxG.save.data.hideHud != null) {
		ClientPrefs.hideHud = flixel_FlxG.save.data.hideHud;
	}
	if(flixel_FlxG.save.data.noteOffset != null) {
		ClientPrefs.noteOffset = flixel_FlxG.save.data.noteOffset;
	}
	if(flixel_FlxG.save.data.arrowHSV != null) {
		ClientPrefs.arrowHSV = flixel_FlxG.save.data.arrowHSV;
	}
	if(flixel_FlxG.save.data.imagesPersist != null) {
		ClientPrefs.imagesPersist = flixel_FlxG.save.data.imagesPersist;
		flixel_graphics_FlxGraphic.defaultPersist = ClientPrefs.imagesPersist;
	}
	if(flixel_FlxG.save.data.ghostTapping != null) {
		ClientPrefs.ghostTapping = flixel_FlxG.save.data.ghostTapping;
	}
	if(flixel_FlxG.save.data.timeBarType != null) {
		ClientPrefs.timeBarType = flixel_FlxG.save.data.timeBarType;
	}
	if(flixel_FlxG.save.data.scoreZoom != null) {
		ClientPrefs.scoreZoom = flixel_FlxG.save.data.scoreZoom;
	}
	if(flixel_FlxG.save.data.noReset != null) {
		ClientPrefs.noReset = flixel_FlxG.save.data.noReset;
	}
	if(flixel_FlxG.save.data.healthBarAlpha != null) {
		ClientPrefs.healthBarAlpha = flixel_FlxG.save.data.healthBarAlpha;
	}
	if(flixel_FlxG.save.data.comboOffset != null) {
		ClientPrefs.comboOffset = flixel_FlxG.save.data.comboOffset;
	}
	if(flixel_FlxG.save.data.ratingOffset != null) {
		ClientPrefs.ratingOffset = flixel_FlxG.save.data.ratingOffset;
	}
	if(flixel_FlxG.save.data.sickWindow != null) {
		ClientPrefs.sickWindow = flixel_FlxG.save.data.sickWindow;
	}
	if(flixel_FlxG.save.data.goodWindow != null) {
		ClientPrefs.goodWindow = flixel_FlxG.save.data.goodWindow;
	}
	if(flixel_FlxG.save.data.badWindow != null) {
		ClientPrefs.badWindow = flixel_FlxG.save.data.badWindow;
	}
	if(flixel_FlxG.save.data.safeFrames != null) {
		ClientPrefs.safeFrames = flixel_FlxG.save.data.safeFrames;
	}
	if(flixel_FlxG.save.data.controllerMode != null) {
		ClientPrefs.controllerMode = flixel_FlxG.save.data.controllerMode;
	}
	if(flixel_FlxG.save.data.gameplaySettings != null) {
		var savedMap = flixel_FlxG.save.data.gameplaySettings;
		var h = savedMap.h;
		var _g_h = h;
		var _g_keys = Object.keys(h);
		var _g_length = _g_keys.length;
		var _g_current = 0;
		while(_g_current < _g_length) {
			var key = _g_keys[_g_current++];
			var _g1_key = key;
			var _g1_value = _g_h[key];
			var name = _g1_key;
			var value = _g1_value;
			ClientPrefs.gameplaySettings.h[name] = value;
		}
	}
	if(flixel_FlxG.save.data.volume != null) {
		flixel_FlxG.sound.set_volume(flixel_FlxG.save.data.volume);
	}
	if(flixel_FlxG.save.data.mute != null) {
		flixel_FlxG.sound.muted = flixel_FlxG.save.data.mute;
	}
	var save = new flixel_util_FlxSave();
	save.bind("controls_v2","ninjamuffin99");
	if(save != null && save.data.customControls != null) {
		var loadedControls = save.data.customControls;
		var h = loadedControls.h;
		var _g_h = h;
		var _g_keys = Object.keys(h);
		var _g_length = _g_keys.length;
		var _g_current = 0;
		while(_g_current < _g_length) {
			var key = _g_keys[_g_current++];
			var _g1_key = key;
			var _g1_value = _g_h[key];
			var control = _g1_key;
			var keys = _g1_value;
			ClientPrefs.keyBinds.h[control] = keys;
		}
		ClientPrefs.reloadControls();
	}
};
ClientPrefs.getGameplaySetting = function(name,defaultValue) {
	if(Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,name)) {
		return ClientPrefs.gameplaySettings.h[name];
	} else {
		return defaultValue;
	}
};
ClientPrefs.reloadControls = function() {
	PlayerSettings.player1.controls.setKeyboardScheme(KeyboardScheme.Solo);
	TitleState.muteKeys = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["volume_mute"]);
	TitleState.volumeDownKeys = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["volume_down"]);
	TitleState.volumeUpKeys = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["volume_up"]);
	flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
	flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
	flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
};
ClientPrefs.copyKey = function(arrayToCopy) {
	var copiedArray = arrayToCopy.slice();
	var i = 0;
	var len = copiedArray.length;
	while(i < len) {
		if(copiedArray[i] == -1) {
			HxOverrides.remove(copiedArray,-1);
			--i;
		}
		++i;
		len = copiedArray.length;
	}
	return copiedArray;
};
var ColorSwap = function() {
	this.brightness = 0;
	this.saturation = 0;
	this.hue = 0;
	this.shader = new ColorSwapShader();
	this.shader.uTime.value = [0,0,0];
	this.shader.awesomeOutline.value = [false];
};
$hxClasses["ColorSwap"] = ColorSwap;
ColorSwap.__name__ = "ColorSwap";
ColorSwap.prototype = {
	shader: null
	,hue: null
	,saturation: null
	,brightness: null
	,set_hue: function(value) {
		this.hue = value;
		this.shader.uTime.value[0] = this.hue;
		return this.hue;
	}
	,set_saturation: function(value) {
		this.saturation = value;
		this.shader.uTime.value[1] = this.saturation;
		return this.saturation;
	}
	,set_brightness: function(value) {
		this.brightness = value;
		this.shader.uTime.value[2] = this.brightness;
		return this.brightness;
	}
	,__class__: ColorSwap
	,__properties__: {set_brightness:"set_brightness",set_saturation:"set_saturation",set_hue:"set_hue"}
};
var openfl_display_Shader = function(code) {
	this.byteCode = code;
	this.precisionHint = 1;
	this.__glSourceDirty = true;
	this.__numPasses = 1;
	this.__data = openfl_display_ShaderData._new(code);
};
$hxClasses["openfl.display.Shader"] = openfl_display_Shader;
openfl_display_Shader.__name__ = "openfl.display.Shader";
openfl_display_Shader.prototype = {
	byteCode: null
	,glProgram: null
	,precisionHint: null
	,program: null
	,__alpha: null
	,__bitmap: null
	,__colorMultiplier: null
	,__colorOffset: null
	,__context: null
	,__data: null
	,__glFragmentSource: null
	,__glSourceDirty: null
	,__glVertexSource: null
	,__hasColorTransform: null
	,__inputBitmapData: null
	,__isGenerated: null
	,__matrix: null
	,__numPasses: null
	,__paramBool: null
	,__paramFloat: null
	,__paramInt: null
	,__position: null
	,__textureCoord: null
	,__texture: null
	,__textureSize: null
	,__clearUseArray: function() {
		var _g = 0;
		var _g1 = this.__paramBool;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__useArray = false;
		}
		var _g = 0;
		var _g1 = this.__paramFloat;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__useArray = false;
		}
		var _g = 0;
		var _g1 = this.__paramInt;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__useArray = false;
		}
	}
	,__createGLShader: function(source,type) {
		var gl = this.__context.gl;
		var shader = gl.createShader(type);
		gl.shaderSource(shader,source);
		gl.compileShader(shader);
		var shaderInfoLog = gl.getShaderInfoLog(shader);
		var compileStatus = gl.getShaderParameter(shader,gl.COMPILE_STATUS);
		if(shaderInfoLog != null || compileStatus == 0) {
			var message = compileStatus == 0 ? "Error" : "Info";
			message += type == gl.VERTEX_SHADER ? " compiling vertex shader" : " compiling fragment shader";
			message += "\n" + shaderInfoLog;
			message += "\n" + source;
			if(compileStatus == 0) {
				lime_utils_Log.error(message,{ fileName : "openfl/display/Shader.hx", lineNumber : 334, className : "openfl.display.Shader", methodName : "__createGLShader"});
			} else if(shaderInfoLog != null) {
				lime_utils_Log.debug(message,{ fileName : "openfl/display/Shader.hx", lineNumber : 335, className : "openfl.display.Shader", methodName : "__createGLShader"});
			}
		}
		return shader;
	}
	,__createGLProgram: function(vertexSource,fragmentSource) {
		var gl = this.__context.gl;
		var vertexShader = this.__createGLShader(vertexSource,gl.VERTEX_SHADER);
		var fragmentShader = this.__createGLShader(fragmentSource,gl.FRAGMENT_SHADER);
		var program = gl.createProgram();
		var _g = 0;
		var _g1 = this.__paramFloat;
		while(_g < _g1.length) {
			var param = _g1[_g];
			++_g;
			if(param.name.indexOf("Position") > -1 && StringTools.startsWith(param.name,"openfl_")) {
				gl.bindAttribLocation(program,0,param.name);
				break;
			}
		}
		gl.attachShader(program,vertexShader);
		gl.attachShader(program,fragmentShader);
		gl.linkProgram(program);
		if(gl.getProgramParameter(program,gl.LINK_STATUS) == 0) {
			var message = "Unable to initialize the shader program";
			message += "\n" + gl.getProgramInfoLog(program);
			lime_utils_Log.error(message,{ fileName : "openfl/display/Shader.hx", lineNumber : 368, className : "openfl.display.Shader", methodName : "__createGLProgram"});
		}
		return program;
	}
	,__disable: function() {
		if(this.program != null) {
			this.__disableGL();
		}
	}
	,__disableGL: function() {
		var gl = this.__context.gl;
		var textureCount = 0;
		var _g = 0;
		var _g1 = this.__inputBitmapData;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.__disableGL(this.__context,textureCount);
			++textureCount;
			if(textureCount == gl.MAX_TEXTURE_IMAGE_UNITS) {
				break;
			}
		}
		var _g = 0;
		var _g1 = this.__paramBool;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__disableGL(this.__context);
		}
		var _g = 0;
		var _g1 = this.__paramFloat;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__disableGL(this.__context);
		}
		var _g = 0;
		var _g1 = this.__paramInt;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__disableGL(this.__context);
		}
		this.__context.__bindGLArrayBuffer(null);
		if(this.__context.__context.type == "opengl") {
			gl.disable(gl.TEXTURE_2D);
		}
	}
	,__enable: function() {
		this.__init();
		if(this.program != null) {
			this.__enableGL();
		}
	}
	,__enableGL: function() {
		var textureCount = 0;
		var gl = this.__context.gl;
		var _g = 0;
		var _g1 = this.__inputBitmapData;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			gl.uniform1i(input.index,textureCount);
			++textureCount;
		}
		if(this.__context.__context.type == "opengl" && textureCount > 0) {
			gl.enable(gl.TEXTURE_2D);
		}
	}
	,__init: function() {
		if(this.__data == null) {
			this.__data = openfl_display_ShaderData._new(null);
		}
		if(this.__glFragmentSource != null && this.__glVertexSource != null && (this.program == null || this.__glSourceDirty)) {
			this.__initGL();
		}
	}
	,__initGL: function() {
		if(this.__glSourceDirty || this.__paramBool == null) {
			this.__glSourceDirty = false;
			this.program = null;
			this.__inputBitmapData = [];
			this.__paramBool = [];
			this.__paramFloat = [];
			this.__paramInt = [];
			this.__processGLData(this.get_glVertexSource(),"attribute");
			this.__processGLData(this.get_glVertexSource(),"uniform");
			this.__processGLData(this.get_glFragmentSource(),"uniform");
		}
		if(this.__context != null && this.program == null) {
			var gl = this.__context.gl;
			var prefix = this.precisionHint == 1 ? "precision mediump float;\n" : "precision lowp float;\n";
			var vertex = prefix + this.get_glVertexSource();
			var fragment = prefix + this.get_glFragmentSource();
			var id = vertex + fragment;
			if(Object.prototype.hasOwnProperty.call(this.__context.__programs.h,id)) {
				this.program = this.__context.__programs.h[id];
			} else {
				this.program = this.__context.createProgram(1);
				this.program.__glProgram = this.__createGLProgram(vertex,fragment);
				this.__context.__programs.h[id] = this.program;
			}
			if(this.program != null) {
				this.glProgram = this.program.__glProgram;
				var _g = 0;
				var _g1 = this.__inputBitmapData;
				while(_g < _g1.length) {
					var input = _g1[_g];
					++_g;
					if(input.__isUniform) {
						input.index = gl.getUniformLocation(this.glProgram,input.name);
					} else {
						input.index = gl.getAttribLocation(this.glProgram,input.name);
					}
				}
				var _g = 0;
				var _g1 = this.__paramBool;
				while(_g < _g1.length) {
					var parameter = _g1[_g];
					++_g;
					if(parameter.__isUniform) {
						parameter.index = gl.getUniformLocation(this.glProgram,parameter.name);
					} else {
						parameter.index = gl.getAttribLocation(this.glProgram,parameter.name);
					}
				}
				var _g = 0;
				var _g1 = this.__paramFloat;
				while(_g < _g1.length) {
					var parameter = _g1[_g];
					++_g;
					if(parameter.__isUniform) {
						parameter.index = gl.getUniformLocation(this.glProgram,parameter.name);
					} else {
						parameter.index = gl.getAttribLocation(this.glProgram,parameter.name);
					}
				}
				var _g = 0;
				var _g1 = this.__paramInt;
				while(_g < _g1.length) {
					var parameter = _g1[_g];
					++_g;
					if(parameter.__isUniform) {
						parameter.index = gl.getUniformLocation(this.glProgram,parameter.name);
					} else {
						parameter.index = gl.getAttribLocation(this.glProgram,parameter.name);
					}
				}
			}
		}
	}
	,__processGLData: function(source,storageType) {
		var lastMatch = 0;
		var position;
		var regex;
		var name;
		var type;
		if(storageType == "uniform") {
			regex = new EReg("uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");
		} else {
			regex = new EReg("attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");
		}
		while(regex.matchSub(source,lastMatch)) {
			type = regex.matched(1);
			name = regex.matched(2);
			if(StringTools.startsWith(name,"gl_")) {
				continue;
			}
			var isUniform = storageType == "uniform";
			if(StringTools.startsWith(type,"sampler")) {
				var input = new openfl_display_ShaderInput();
				input.name = name;
				input.__isUniform = isUniform;
				this.__inputBitmapData.push(input);
				switch(name) {
				case "bitmap":
					this.__bitmap = input;
					break;
				case "openfl_Texture":
					this.__texture = input;
					break;
				default:
				}
				this.__data[name] = input;
				if(this.__isGenerated) {
					this[name] = input;
				}
			} else if(!Object.prototype.hasOwnProperty.call(this.__data,name) || Reflect.field(this.__data,name) == null) {
				var parameterType;
				switch(type) {
				case "bool":
					parameterType = 0;
					break;
				case "bvec2":
					parameterType = 1;
					break;
				case "bvec3":
					parameterType = 2;
					break;
				case "bvec4":
					parameterType = 3;
					break;
				case "dvec2":case "vec2":
					parameterType = 5;
					break;
				case "dvec3":case "vec3":
					parameterType = 6;
					break;
				case "double":case "float":
					parameterType = 4;
					break;
				case "ivec3":case "uvec3":
					parameterType = 10;
					break;
				case "ivec4":case "uvec4":
					parameterType = 11;
					break;
				case "mat2":case "mat2x2":
					parameterType = 12;
					break;
				case "mat2x3":
					parameterType = 13;
					break;
				case "mat2x4":
					parameterType = 14;
					break;
				case "mat3x2":
					parameterType = 15;
					break;
				case "mat3":case "mat3x3":
					parameterType = 16;
					break;
				case "mat3x4":
					parameterType = 17;
					break;
				case "mat4":case "mat4x4":
					parameterType = 20;
					break;
				case "mat4x2":
					parameterType = 18;
					break;
				case "mat4x3":
					parameterType = 19;
					break;
				case "int":case "uint":
					parameterType = 8;
					break;
				case "ivec2":case "uvec2":
					parameterType = 9;
					break;
				case "dvec4":case "vec4":
					parameterType = 7;
					break;
				default:
					parameterType = null;
				}
				var length;
				switch(parameterType) {
				case 1:case 5:case 9:
					length = 2;
					break;
				case 3:case 7:case 11:case 12:
					length = 4;
					break;
				case 2:case 6:case 10:
					length = 3;
					break;
				case 16:
					length = 9;
					break;
				case 20:
					length = 16;
					break;
				default:
					length = 1;
				}
				var arrayLength;
				switch(parameterType) {
				case 12:
					arrayLength = 2;
					break;
				case 16:
					arrayLength = 3;
					break;
				case 20:
					arrayLength = 4;
					break;
				default:
					arrayLength = 1;
				}
				switch(parameterType) {
				case 0:case 1:case 2:case 3:
					var parameter = new openfl_display_ShaderParameter();
					parameter.set_name(name);
					parameter.type = parameterType;
					parameter.__arrayLength = arrayLength;
					parameter.__isBool = true;
					parameter.__isUniform = isUniform;
					parameter.__length = length;
					this.__paramBool.push(parameter);
					if(name == "openfl_HasColorTransform") {
						this.__hasColorTransform = parameter;
					}
					this.__data[name] = parameter;
					if(this.__isGenerated) {
						this[name] = parameter;
					}
					break;
				case 8:case 9:case 10:case 11:
					var parameter1 = new openfl_display_ShaderParameter();
					parameter1.set_name(name);
					parameter1.type = parameterType;
					parameter1.__arrayLength = arrayLength;
					parameter1.__isInt = true;
					parameter1.__isUniform = isUniform;
					parameter1.__length = length;
					this.__paramInt.push(parameter1);
					this.__data[name] = parameter1;
					if(this.__isGenerated) {
						this[name] = parameter1;
					}
					break;
				default:
					var parameter2 = new openfl_display_ShaderParameter();
					parameter2.set_name(name);
					parameter2.type = parameterType;
					parameter2.__arrayLength = arrayLength;
					if(arrayLength > 0) {
						var elements = arrayLength * arrayLength;
						var array = null;
						var vector = null;
						var view = null;
						var buffer = null;
						var len = null;
						var this1;
						if(elements != null) {
							this1 = new Float32Array(elements);
						} else if(array != null) {
							this1 = new Float32Array(array);
						} else if(vector != null) {
							this1 = new Float32Array(vector.__array);
						} else if(view != null) {
							this1 = new Float32Array(view);
						} else if(buffer != null) {
							if(len == null) {
								this1 = new Float32Array(buffer,0);
							} else {
								this1 = new Float32Array(buffer,0,len);
							}
						} else {
							this1 = null;
						}
						parameter2.__uniformMatrix = this1;
					}
					parameter2.__isFloat = true;
					parameter2.__isUniform = isUniform;
					parameter2.__length = length;
					this.__paramFloat.push(parameter2);
					if(StringTools.startsWith(name,"openfl_")) {
						switch(name) {
						case "openfl_Alpha":
							this.__alpha = parameter2;
							break;
						case "openfl_ColorMultiplier":
							this.__colorMultiplier = parameter2;
							break;
						case "openfl_ColorOffset":
							this.__colorOffset = parameter2;
							break;
						case "openfl_Matrix":
							this.__matrix = parameter2;
							break;
						case "openfl_Position":
							this.__position = parameter2;
							break;
						case "openfl_TextureCoord":
							this.__textureCoord = parameter2;
							break;
						case "openfl_TextureSize":
							this.__textureSize = parameter2;
							break;
						default:
						}
					}
					this.__data[name] = parameter2;
					if(this.__isGenerated) {
						this[name] = parameter2;
					}
				}
			}
			position = regex.matchedPos();
			lastMatch = position.pos + position.len;
		}
	}
	,__update: function() {
		if(this.program != null) {
			this.__updateGL();
		}
	}
	,__updateFromBuffer: function(shaderBuffer,bufferOffset) {
		if(this.program != null) {
			this.__updateGLFromBuffer(shaderBuffer,bufferOffset);
		}
	}
	,__updateGL: function() {
		var textureCount = 0;
		var _g = 0;
		var _g1 = this.__inputBitmapData;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.__updateGL(this.__context,textureCount);
			++textureCount;
		}
		var _g = 0;
		var _g1 = this.__paramBool;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__updateGL(this.__context);
		}
		var _g = 0;
		var _g1 = this.__paramFloat;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__updateGL(this.__context);
		}
		var _g = 0;
		var _g1 = this.__paramInt;
		while(_g < _g1.length) {
			var parameter = _g1[_g];
			++_g;
			parameter.__updateGL(this.__context);
		}
	}
	,__updateGLFromBuffer: function(shaderBuffer,bufferOffset) {
		var textureCount = 0;
		var input;
		var inputData;
		var inputFilter;
		var inputMipFilter;
		var inputWrap;
		var _g = 0;
		var _g1 = shaderBuffer.inputCount;
		while(_g < _g1) {
			var i = _g++;
			input = shaderBuffer.inputRefs[i];
			inputData = shaderBuffer.inputs[i];
			inputFilter = shaderBuffer.inputFilter[i];
			inputMipFilter = shaderBuffer.inputMipFilter[i];
			inputWrap = shaderBuffer.inputWrap[i];
			if(inputData != null) {
				input.__updateGL(this.__context,textureCount,inputData,inputFilter,inputMipFilter,inputWrap);
				++textureCount;
			}
		}
		var gl = this.__context.gl;
		if(shaderBuffer.paramDataLength > 0) {
			if(shaderBuffer.paramDataBuffer == null) {
				shaderBuffer.paramDataBuffer = gl.createBuffer();
			}
			this.__context.__bindGLArrayBuffer(shaderBuffer.paramDataBuffer);
			lime_graphics_WebGLRenderContext.bufferData(gl,gl.ARRAY_BUFFER,shaderBuffer.paramData,gl.DYNAMIC_DRAW);
		} else {
			this.__context.__bindGLArrayBuffer(null);
		}
		var boolIndex = 0;
		var floatIndex = 0;
		var intIndex = 0;
		var boolCount = shaderBuffer.paramBoolCount;
		var floatCount = shaderBuffer.paramFloatCount;
		var paramData = shaderBuffer.paramData;
		var boolRef;
		var floatRef;
		var intRef;
		var hasOverride;
		var overrideBoolValue = null;
		var overrideFloatValue = null;
		var overrideIntValue = null;
		var _g = 0;
		var _g1 = shaderBuffer.paramCount;
		while(_g < _g1) {
			var i = _g++;
			hasOverride = false;
			if(i < boolCount) {
				boolRef = shaderBuffer.paramRefs_Bool[boolIndex];
				var _g2 = 0;
				var _g3 = shaderBuffer.overrideBoolCount;
				while(_g2 < _g3) {
					var j = _g2++;
					if(boolRef.name == shaderBuffer.overrideBoolNames[j]) {
						overrideBoolValue = shaderBuffer.overrideBoolValues[j];
						hasOverride = true;
						break;
					}
				}
				if(hasOverride) {
					boolRef.__updateGL(this.__context,overrideBoolValue);
				} else {
					boolRef.__updateGLFromBuffer(this.__context,paramData,shaderBuffer.paramPositions[i],shaderBuffer.paramLengths[i],bufferOffset);
				}
				++boolIndex;
			} else if(i < boolCount + floatCount) {
				floatRef = shaderBuffer.paramRefs_Float[floatIndex];
				var _g4 = 0;
				var _g5 = shaderBuffer.overrideFloatCount;
				while(_g4 < _g5) {
					var j1 = _g4++;
					if(floatRef.name == shaderBuffer.overrideFloatNames[j1]) {
						overrideFloatValue = shaderBuffer.overrideFloatValues[j1];
						hasOverride = true;
						break;
					}
				}
				if(hasOverride) {
					floatRef.__updateGL(this.__context,overrideFloatValue);
				} else {
					floatRef.__updateGLFromBuffer(this.__context,paramData,shaderBuffer.paramPositions[i],shaderBuffer.paramLengths[i],bufferOffset);
				}
				++floatIndex;
			} else {
				intRef = shaderBuffer.paramRefs_Int[intIndex];
				var _g6 = 0;
				var _g7 = shaderBuffer.overrideIntCount;
				while(_g6 < _g7) {
					var j2 = _g6++;
					if(intRef.name == shaderBuffer.overrideIntNames[j2]) {
						overrideIntValue = shaderBuffer.overrideIntValues[j2];
						hasOverride = true;
						break;
					}
				}
				if(hasOverride) {
					intRef.__updateGL(this.__context,overrideIntValue);
				} else {
					intRef.__updateGLFromBuffer(this.__context,paramData,shaderBuffer.paramPositions[i],shaderBuffer.paramLengths[i],bufferOffset);
				}
				++intIndex;
			}
		}
	}
	,get_data: function() {
		if(this.__glSourceDirty || this.__data == null) {
			this.__init();
		}
		return this.__data;
	}
	,set_data: function(value) {
		return this.__data = value;
	}
	,get_glFragmentSource: function() {
		return this.__glFragmentSource;
	}
	,set_glFragmentSource: function(value) {
		if(value != this.__glFragmentSource) {
			this.__glSourceDirty = true;
		}
		return this.__glFragmentSource = value;
	}
	,get_glVertexSource: function() {
		return this.__glVertexSource;
	}
	,set_glVertexSource: function(value) {
		if(value != this.__glVertexSource) {
			this.__glSourceDirty = true;
		}
		return this.__glVertexSource = value;
	}
	,__class__: openfl_display_Shader
	,__properties__: {set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}
};
var openfl_display_GraphicsShader = function(code) {
	if(this.__glFragmentSource == null) {
		this.__glFragmentSource = "varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (bitmap, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}";
	}
	if(this.__glVertexSource == null) {
		this.__glVertexSource = "attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}";
	}
	openfl_display_Shader.call(this,code);
	this.__isGenerated = true;
	this.__initGL();
};
$hxClasses["openfl.display.GraphicsShader"] = openfl_display_GraphicsShader;
openfl_display_GraphicsShader.__name__ = "openfl.display.GraphicsShader";
openfl_display_GraphicsShader.__super__ = openfl_display_Shader;
openfl_display_GraphicsShader.prototype = $extend(openfl_display_Shader.prototype,{
	openfl_Alpha: null
	,openfl_ColorMultiplier: null
	,openfl_ColorOffset: null
	,openfl_Position: null
	,openfl_TextureCoord: null
	,openfl_Matrix: null
	,openfl_HasColorTransform: null
	,openfl_TextureSize: null
	,bitmap: null
	,__class__: openfl_display_GraphicsShader
});
var flixel_graphics_tile_FlxGraphicsShader = function() {
	if(this.__glFragmentSource == null) {
		this.__glFragmentSource = "\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tuniform bool hasTransform;\n\t\tuniform bool hasColorTransform;\n\n\t\tvec4 flixel_texture2D(sampler2D bitmap, vec2 coord)\n\t\t{\n\t\t\tvec4 color = texture2D(bitmap, coord);\n\t\t\tif (!hasTransform)\n\t\t\t{\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tif (color.a == 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t}\n\n\t\t\tif (!hasColorTransform)\n\t\t\t{\n\t\t\t\treturn color * openfl_Alphav;\n\t\t\t}\n\n\t\t\tcolor = vec4(color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4(0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp(openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\t\t\t}\n\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t}\n\t\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\tgl_FragColor = flixel_texture2D(bitmap, openfl_TextureCoordv);\n\t\t}";
	}
	if(this.__glVertexSource == null) {
		this.__glVertexSource = "\n\t\tattribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\t\n\t\tattribute float alpha;\n\t\tattribute vec4 colorMultiplier;\n\t\tattribute vec4 colorOffset;\n\t\tuniform bool hasColorTransform;\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\t\n\t\t\topenfl_Alphav = openfl_Alpha * alpha;\n\t\t\t\n\t\t\tif (hasColorTransform)\n\t\t\t{\n\t\t\t\topenfl_ColorOffsetv = colorOffset / 255.0;\n\t\t\t\topenfl_ColorMultiplierv = colorMultiplier;\n\t\t\t}\n\t\t}";
	}
	openfl_display_GraphicsShader.call(this);
	this.__isGenerated = true;
	this.__initGL();
};
$hxClasses["flixel.graphics.tile.FlxGraphicsShader"] = flixel_graphics_tile_FlxGraphicsShader;
flixel_graphics_tile_FlxGraphicsShader.__name__ = "flixel.graphics.tile.FlxGraphicsShader";
flixel_graphics_tile_FlxGraphicsShader.__super__ = openfl_display_GraphicsShader;
flixel_graphics_tile_FlxGraphicsShader.prototype = $extend(openfl_display_GraphicsShader.prototype,{
	alpha: null
	,colorMultiplier: null
	,colorOffset: null
	,hasColorTransform: null
	,hasTransform: null
	,__class__: flixel_graphics_tile_FlxGraphicsShader
});
var ColorSwapShader = function() {
	if(this.__glFragmentSource == null) {
		this.__glFragmentSource = "\r\n\t\tvarying float openfl_Alphav;\r\n\t\tvarying vec4 openfl_ColorMultiplierv;\r\n\t\tvarying vec4 openfl_ColorOffsetv;\r\n\t\tvarying vec2 openfl_TextureCoordv;\r\n\r\n\t\tuniform bool openfl_HasColorTransform;\r\n\t\tuniform vec2 openfl_TextureSize;\r\n\t\tuniform sampler2D bitmap;\r\n\r\n\t\tuniform bool hasTransform;\r\n\t\tuniform bool hasColorTransform;\r\n\r\n\t\tvec4 flixel_texture2D(sampler2D bitmap, vec2 coord)\r\n\t\t{\r\n\t\t\tvec4 color = texture2D(bitmap, coord);\r\n\t\t\tif (!hasTransform)\r\n\t\t\t{\r\n\t\t\t\treturn color;\r\n\t\t\t}\r\n\r\n\t\t\tif (color.a == 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\r\n\t\t\t}\r\n\r\n\t\t\tif (!hasColorTransform)\r\n\t\t\t{\r\n\t\t\t\treturn color * openfl_Alphav;\r\n\t\t\t}\r\n\r\n\t\t\tcolor = vec4(color.rgb / color.a, color.a);\r\n\r\n\t\t\tmat4 colorMultiplier = mat4(0);\r\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\r\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\r\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\r\n\t\t\tcolorMultiplier[3][3] = openfl_ColorMultiplierv.w;\r\n\r\n\t\t\tcolor = clamp(openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\r\n\r\n\t\t\tif (color.a > 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn vec4(color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\r\n\t\t\t}\r\n\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\r\n\t\t}\r\n\r\n\t\tuniform vec3 uTime;\r\n\t\tuniform bool awesomeOutline;\r\n\r\n\t\tconst float offset = 1.0 / 128.0;\r\n\t\tvec3 normalizeColor(vec3 color)\r\n\t\t{\r\n\t\t\treturn vec3(\r\n\t\t\t\tcolor[0] / 255.0,\r\n\t\t\t\tcolor[1] / 255.0,\r\n\t\t\t\tcolor[2] / 255.0\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tvec3 rgb2hsv(vec3 c)\r\n\t\t{\r\n\t\t\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\r\n\t\t\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\r\n\t\t\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\r\n\r\n\t\t\tfloat d = q.x - min(q.w, q.y);\r\n\t\t\tfloat e = 1.0e-10;\r\n\t\t\treturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\r\n\t\t}\r\n\r\n\t\tvec3 hsv2rgb(vec3 c)\r\n\t\t{\r\n\t\t\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\r\n\t\t\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\r\n\t\t\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\r\n\t\t}\r\n\r\n\t\tvoid main()\r\n\t\t{\r\n\t\t\tvec4 color = flixel_texture2D(bitmap, openfl_TextureCoordv);\r\n\r\n\t\t\tvec4 swagColor = vec4(rgb2hsv(vec3(color[0], color[1], color[2])), color[3]);\r\n\r\n\t\t\t// [0] is the hue???\r\n\t\t\tswagColor[0] = swagColor[0] + uTime[0];\r\n\t\t\tswagColor[1] = swagColor[1] + uTime[1];\r\n\t\t\tswagColor[2] = swagColor[2] * (1.0 + uTime[2]);\r\n\t\t\t\r\n\t\t\tif(swagColor[1] < 0.0)\r\n\t\t\t{\r\n\t\t\t\tswagColor[1] = 0.0;\r\n\t\t\t}\r\n\t\t\telse if(swagColor[1] > 1.0)\r\n\t\t\t{\r\n\t\t\t\tswagColor[1] = 1.0;\r\n\t\t\t}\r\n\r\n\t\t\tcolor = vec4(hsv2rgb(vec3(swagColor[0], swagColor[1], swagColor[2])), swagColor[3]);\r\n\r\n\t\t\tif (awesomeOutline)\r\n\t\t\t{\r\n\t\t\t\t // Outline bullshit?\r\n\t\t\t\tvec2 size = vec2(3, 3);\r\n\r\n\t\t\t\tif (color.a <= 0.5) {\r\n\t\t\t\t\tfloat w = size.x / openfl_TextureSize.x;\r\n\t\t\t\t\tfloat h = size.y / openfl_TextureSize.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (flixel_texture2D(bitmap, vec2(openfl_TextureCoordv.x + w, openfl_TextureCoordv.y)).a != 0.\r\n\t\t\t\t\t|| flixel_texture2D(bitmap, vec2(openfl_TextureCoordv.x - w, openfl_TextureCoordv.y)).a != 0.\r\n\t\t\t\t\t|| flixel_texture2D(bitmap, vec2(openfl_TextureCoordv.x, openfl_TextureCoordv.y + h)).a != 0.\r\n\t\t\t\t\t|| flixel_texture2D(bitmap, vec2(openfl_TextureCoordv.x, openfl_TextureCoordv.y - h)).a != 0.)\r\n\t\t\t\t\t\tcolor = vec4(1.0, 1.0, 1.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tgl_FragColor = color;\r\n\r\n\t\t\t/* \r\n\t\t\tif (color.a > 0.5)\r\n\t\t\t\tgl_FragColor = color;\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfloat a = flixel_texture2D(bitmap, vec2(openfl_TextureCoordv + offset, openfl_TextureCoordv.y)).a +\r\n\t\t\t\t\t\t  flixel_texture2D(bitmap, vec2(openfl_TextureCoordv, openfl_TextureCoordv.y - offset)).a +\r\n\t\t\t\t\t\t  flixel_texture2D(bitmap, vec2(openfl_TextureCoordv - offset, openfl_TextureCoordv.y)).a +\r\n\t\t\t\t\t\t  flixel_texture2D(bitmap, vec2(openfl_TextureCoordv, openfl_TextureCoordv.y + offset)).a;\r\n\t\t\t\tif (color.a < 1.0 && a > 0.0)\r\n\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.8);\r\n\t\t\t\telse\r\n\t\t\t\t\tgl_FragColor = color;\r\n\t\t\t} */\r\n\t\t}";
	}
	if(this.__glVertexSource == null) {
		this.__glVertexSource = "\r\n\t\tattribute float openfl_Alpha;\r\n\t\tattribute vec4 openfl_ColorMultiplier;\r\n\t\tattribute vec4 openfl_ColorOffset;\r\n\t\tattribute vec4 openfl_Position;\r\n\t\tattribute vec2 openfl_TextureCoord;\r\n\r\n\t\tvarying float openfl_Alphav;\r\n\t\tvarying vec4 openfl_ColorMultiplierv;\r\n\t\tvarying vec4 openfl_ColorOffsetv;\r\n\t\tvarying vec2 openfl_TextureCoordv;\r\n\r\n\t\tuniform mat4 openfl_Matrix;\r\n\t\tuniform bool openfl_HasColorTransform;\r\n\t\tuniform vec2 openfl_TextureSize;\r\n\r\n\t\tattribute float alpha;\r\n\t\tattribute vec4 colorMultiplier;\r\n\t\tattribute vec4 colorOffset;\r\n\t\tuniform bool hasColorTransform;\r\n\t\t\r\n\t\tvoid main(void)\r\n\t\t{\r\n\t\t\topenfl_Alphav = openfl_Alpha;\r\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\r\n\r\n\t\t\tif (openfl_HasColorTransform) {\r\n\t\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\r\n\t\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\r\n\t\t\t}\r\n\r\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\r\n\r\n\t\t\topenfl_Alphav = openfl_Alpha * alpha;\r\n\t\t\tif (hasColorTransform)\r\n\t\t\t{\r\n\t\t\t\topenfl_ColorOffsetv = colorOffset / 255.0;\r\n\t\t\t\topenfl_ColorMultiplierv = colorMultiplier;\r\n\t\t\t}\r\n\t\t}";
	}
	flixel_graphics_tile_FlxGraphicsShader.call(this);
	this.__isGenerated = true;
	this.__initGL();
};
$hxClasses["ColorSwapShader"] = ColorSwapShader;
ColorSwapShader.__name__ = "ColorSwapShader";
ColorSwapShader.__super__ = flixel_graphics_tile_FlxGraphicsShader;
ColorSwapShader.prototype = $extend(flixel_graphics_tile_FlxGraphicsShader.prototype,{
	uTime: null
	,awesomeOutline: null
	,__class__: ColorSwapShader
});
var Conductor = function() {
};
$hxClasses["Conductor"] = Conductor;
Conductor.__name__ = "Conductor";
Conductor.songPosition = null;
Conductor.lastSongPos = null;
Conductor.judgeNote = function(note,diff) {
	if(diff == null) {
		diff = 0;
	}
	var timingWindows = [ClientPrefs.sickWindow,ClientPrefs.goodWindow,ClientPrefs.badWindow];
	var windowNames = ["sick","good","bad"];
	var _g = 0;
	var _g1 = timingWindows.length;
	while(_g < _g1) {
		var i = _g++;
		if(diff <= timingWindows[Math.round(Math.min(i,timingWindows.length - 1))]) {
			return windowNames[i];
		}
	}
	return "shit";
};
Conductor.mapBPMChanges = function(song) {
	Conductor.bpmChangeMap = [];
	var curBPM = song.bpm;
	var totalSteps = 0;
	var totalPos = 0;
	var _g = 0;
	var _g1 = song.notes.length;
	while(_g < _g1) {
		var i = _g++;
		if(song.notes[i].changeBPM && song.notes[i].bpm != curBPM) {
			curBPM = song.notes[i].bpm;
			var event = { stepTime : totalSteps, songTime : totalPos, bpm : curBPM};
			Conductor.bpmChangeMap.push(event);
		}
		var deltaSteps = song.notes[i].lengthInSteps;
		totalSteps += deltaSteps;
		totalPos += 60 / curBPM * 1000 / 4 * deltaSteps;
	}
	haxe_Log.trace("new BPM map BUDDY " + Std.string(Conductor.bpmChangeMap),{ fileName : "source/Conductor.hx", lineNumber : 75, className : "Conductor", methodName : "mapBPMChanges"});
};
Conductor.changeBPM = function(newBpm) {
	Conductor.bpm = newBpm;
	Conductor.crochet = 60 / Conductor.bpm * 1000;
	Conductor.stepCrochet = Conductor.crochet / 4;
};
Conductor.prototype = {
	__class__: Conductor
};
var Config = function() {
	this.save = new flixel_util_FlxSave();
	this.save.bind("saveconrtol");
};
$hxClasses["Config"] = Config;
Config.__name__ = "Config";
Config.prototype = {
	save: null
	,get_downscroll: function() {
		return this.getdownscroll();
	}
	,set_downscroll: function(downscroll) {
		return this.setdownscroll(downscroll);
	}
	,get_splash: function() {
		return this.getsplash();
	}
	,set_splash: function(splash) {
		return this.setsplash(splash);
	}
	,get_cutscenes: function() {
		return this.getcutscenes();
	}
	,set_cutscenes: function(cutscenes) {
		return this.setcutscenes(cutscenes);
	}
	,setdownscroll: function(value) {
		if(this.save.data.isdownscroll == null) {
			this.save.data.isdownscroll = false;
		}
		this.save.data.isdownscroll = !this.save.data.isdownscroll;
		this.save.flush();
		return this.save.data.isdownscroll;
	}
	,setcutscenes: function(value) {
		if(this.save.data.cutscenes == null) {
			this.save.data.cutscenes = true;
		}
		this.save.data.cutscenes = !this.save.data.cutscenes;
		this.save.flush();
		return this.save.data.cutscenes;
	}
	,setsplash: function(value) {
		if(this.save.data.splash == null) {
			this.save.data.splash = true;
		}
		this.save.data.splash = !this.save.data.splash;
		this.save.flush();
		return this.save.data.splash;
	}
	,camSave: function(value) {
		if(this.save.data.cam == null) {
			this.save.data.cam = 0.06;
		}
		this.save.data.cam = value;
		this.save.flush();
		return this.save.data.cam;
	}
	,camLoad: function() {
		if(this.save.data.cam != null) {
			return this.save.data.cam;
		} else {
			return 0.06;
		}
	}
	,getdownscroll: function() {
		if(this.save.data.isdownscroll != null) {
			return this.save.data.isdownscroll;
		}
		return false;
	}
	,getcutscenes: function() {
		if(this.save.data.cutscenes != null) {
			return this.save.data.cutscenes;
		}
		return false;
	}
	,getsplash: function() {
		if(this.save.data.splash != null) {
			return this.save.data.splash;
		}
		return false;
	}
	,getcontrolmode: function() {
		if(this.save.data.buttonsmode != null) {
			return this.save.data.buttonsmode[0];
		}
		return 0;
	}
	,setcontrolmode: function(mode) {
		if(mode == null) {
			mode = 0;
		}
		if(this.save.data.buttonsmode == null) {
			this.save.data.buttonsmode = [];
		}
		this.save.data.buttonsmode[0] = mode;
		this.save.flush();
		return this.save.data.buttonsmode[0];
	}
	,savecustom: function(_pad) {
		haxe_Log.trace("saved",{ fileName : "source/Config.hx", lineNumber : 132, className : "Config", methodName : "savecustom"});
		if(this.save.data.buttons == null) {
			this.save.data.buttons = [];
			var buttons = new flixel_group_FlxTypedGroupIterator(_pad.group.members,null);
			while(buttons.hasNext()) {
				var buttons1 = buttons.next();
				var tmp = this.save.data.buttons.push;
				var X = buttons1.x;
				var Y = buttons1.y;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var point = flixel_math_FlxPoint._pool.get().set(X,Y);
				point._inPool = false;
				tmp(point);
			}
		} else {
			var tempCount = 0;
			var buttons = new flixel_group_FlxTypedGroupIterator(_pad.group.members,null);
			while(buttons.hasNext()) {
				var buttons1 = buttons.next();
				var tmp = this.save.data.buttons;
				var X = buttons1.x;
				var Y = buttons1.y;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var point = flixel_math_FlxPoint._pool.get().set(X,Y);
				point._inPool = false;
				tmp[tempCount] = point;
				++tempCount;
			}
		}
		this.save.flush();
	}
	,loadcustom: function(_pad) {
		if(this.save.data.buttons == null) {
			return _pad;
		}
		var tempCount = 0;
		var buttons = new flixel_group_FlxTypedGroupIterator(_pad.group.members,null);
		while(buttons.hasNext()) {
			var buttons1 = buttons.next();
			buttons1.set_x(this.save.data.buttons[tempCount].x);
			buttons1.set_y(this.save.data.buttons[tempCount].y);
			++tempCount;
		}
		return _pad;
	}
	,setFrameRate: function(fps) {
		if(fps == null) {
			fps = 60;
		}
		if(fps < 10) {
			return;
		}
		openfl_Lib.get_current().stage.set_frameRate(fps);
		this.save.data.framerate = fps;
		this.save.flush();
	}
	,getFrameRate: function() {
		if(this.save.data.framerate != null) {
			return this.save.data.framerate;
		}
		return 60;
	}
	,__class__: Config
	,__properties__: {set_cutscenes:"set_cutscenes",get_cutscenes:"get_cutscenes",set_splash:"set_splash",get_splash:"get_splash",set_downscroll:"set_downscroll",get_downscroll:"get_downscroll"}
};
var Device = $hxEnums["Device"] = { __ename__:"Device",__constructs__:null
	,Keys: {_hx_name:"Keys",_hx_index:0,__enum__:"Device",toString:$estr}
	,Gamepad: ($_=function(id) { return {_hx_index:1,id:id,__enum__:"Device",toString:$estr}; },$_._hx_name="Gamepad",$_.__params__ = ["id"],$_)
};
Device.__constructs__ = [Device.Keys,Device.Gamepad];
var Control = $hxEnums["Control"] = { __ename__:"Control",__constructs__:null
	,UI_UP: {_hx_name:"UI_UP",_hx_index:0,__enum__:"Control",toString:$estr}
	,UI_LEFT: {_hx_name:"UI_LEFT",_hx_index:1,__enum__:"Control",toString:$estr}
	,UI_RIGHT: {_hx_name:"UI_RIGHT",_hx_index:2,__enum__:"Control",toString:$estr}
	,UI_DOWN: {_hx_name:"UI_DOWN",_hx_index:3,__enum__:"Control",toString:$estr}
	,NOTE_UP: {_hx_name:"NOTE_UP",_hx_index:4,__enum__:"Control",toString:$estr}
	,NOTE_LEFT: {_hx_name:"NOTE_LEFT",_hx_index:5,__enum__:"Control",toString:$estr}
	,NOTE_RIGHT: {_hx_name:"NOTE_RIGHT",_hx_index:6,__enum__:"Control",toString:$estr}
	,NOTE_DOWN: {_hx_name:"NOTE_DOWN",_hx_index:7,__enum__:"Control",toString:$estr}
	,RESET: {_hx_name:"RESET",_hx_index:8,__enum__:"Control",toString:$estr}
	,ACCEPT: {_hx_name:"ACCEPT",_hx_index:9,__enum__:"Control",toString:$estr}
	,BACK: {_hx_name:"BACK",_hx_index:10,__enum__:"Control",toString:$estr}
	,PAUSE: {_hx_name:"PAUSE",_hx_index:11,__enum__:"Control",toString:$estr}
};
Control.__constructs__ = [Control.UI_UP,Control.UI_LEFT,Control.UI_RIGHT,Control.UI_DOWN,Control.NOTE_UP,Control.NOTE_LEFT,Control.NOTE_RIGHT,Control.NOTE_DOWN,Control.RESET,Control.ACCEPT,Control.BACK,Control.PAUSE];
var KeyboardScheme = $hxEnums["KeyboardScheme"] = { __ename__:"KeyboardScheme",__constructs__:null
	,Solo: {_hx_name:"Solo",_hx_index:0,__enum__:"KeyboardScheme",toString:$estr}
	,Duo: ($_=function(first) { return {_hx_index:1,first:first,__enum__:"KeyboardScheme",toString:$estr}; },$_._hx_name="Duo",$_.__params__ = ["first"],$_)
	,None: {_hx_name:"None",_hx_index:2,__enum__:"KeyboardScheme",toString:$estr}
	,Custom: {_hx_name:"Custom",_hx_index:3,__enum__:"KeyboardScheme",toString:$estr}
};
KeyboardScheme.__constructs__ = [KeyboardScheme.Solo,KeyboardScheme.Duo,KeyboardScheme.None,KeyboardScheme.Custom];
var flixel_input_actions_FlxActionSet = function(Name,DigitalActions,AnalogActions) {
	this.active = true;
	this.name = "";
	this.name = Name;
	if(DigitalActions == null) {
		DigitalActions = [];
	}
	if(AnalogActions == null) {
		AnalogActions = [];
	}
	this.digitalActions = DigitalActions;
	this.analogActions = AnalogActions;
};
$hxClasses["flixel.input.actions.FlxActionSet"] = flixel_input_actions_FlxActionSet;
flixel_input_actions_FlxActionSet.__name__ = "flixel.input.actions.FlxActionSet";
flixel_input_actions_FlxActionSet.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_actions_FlxActionSet.fromJson = function(Data,CallbackDigital,CallbackAnalog) {
	var digitalActions = [];
	var analogActions = [];
	if(Data == null) {
		return null;
	}
	if(Data.digitalActions != null) {
		var arrD = Data.digitalActions;
		var _g = 0;
		while(_g < arrD.length) {
			var d = arrD[_g];
			++_g;
			var dName = d;
			var action = new flixel_input_actions_FlxActionDigital(dName,CallbackDigital);
			digitalActions.push(action);
		}
	}
	if(Data.analogActions != null) {
		var arrA = Data.analogActions;
		var _g = 0;
		while(_g < arrA.length) {
			var a = arrA[_g];
			++_g;
			var aName = a;
			var action = new flixel_input_actions_FlxActionAnalog(aName,CallbackAnalog);
			analogActions.push(action);
		}
	}
	if(Data.name != null) {
		var name = Data.name;
		var set = new flixel_input_actions_FlxActionSet(name,digitalActions,analogActions);
		return set;
	}
	return null;
};
flixel_input_actions_FlxActionSet.prototype = {
	name: null
	,digitalActions: null
	,analogActions: null
	,active: null
	,toJson: function() {
		var space = "\t";
		return JSON.stringify(this,function(key,value) {
			if(((value) instanceof flixel_input_actions_FlxAction)) {
				var fa = value;
				return { "type" : fa.type, "name" : fa.name, "steamHandle" : fa.steamHandle};
			}
			return value;
		},space);
	}
	,attachSteamController: function(Handle,Attach) {
		if(Attach == null) {
			Attach = true;
		}
		this.attachSteamControllerSub(Handle,Attach,flixel_input_actions_FlxInputType.DIGITAL,this.digitalActions,null);
		this.attachSteamControllerSub(Handle,Attach,flixel_input_actions_FlxInputType.ANALOG,null,this.analogActions);
	}
	,add: function(Action1) {
		if(Action1.type == flixel_input_actions_FlxInputType.DIGITAL) {
			var dAction = Action1;
			if(this.digitalActions.indexOf(dAction) != -1) {
				return false;
			}
			this.digitalActions.push(dAction);
			return true;
		} else if(Action1.type == flixel_input_actions_FlxInputType.ANALOG) {
			var aAction = Action1;
			if(this.analogActions.indexOf(aAction) != -1) {
				return false;
			}
			this.analogActions.push(aAction);
			return true;
		}
		return false;
	}
	,destroy: function() {
		this.digitalActions = flixel_util_FlxDestroyUtil.destroyArray(this.digitalActions);
		this.analogActions = flixel_util_FlxDestroyUtil.destroyArray(this.analogActions);
	}
	,remove: function(Action1,Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		var result = false;
		if(Action1.type == flixel_input_actions_FlxInputType.DIGITAL) {
			result = HxOverrides.remove(this.digitalActions,Action1);
			if(result && Destroy) {
				Action1.destroy();
			}
		} else if(Action1.type == flixel_input_actions_FlxInputType.ANALOG) {
			result = HxOverrides.remove(this.analogActions,Action1);
			if(result && Destroy) {
				Action1.destroy();
			}
		}
		return result;
	}
	,update: function() {
		if(!this.active) {
			return;
		}
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var digitalAction = _g1[_g];
			++_g;
			digitalAction.update();
		}
		var _g = 0;
		var _g1 = this.analogActions;
		while(_g < _g1.length) {
			var analogAction = _g1[_g];
			++_g;
			analogAction.update();
		}
	}
	,attachSteamControllerSub: function(Handle,Attach,InputType,DigitalActions,AnalogActions) {
		var length = InputType == flixel_input_actions_FlxInputType.DIGITAL ? DigitalActions.length : AnalogActions.length;
		var _g = 0;
		var _g1 = length;
		while(_g < _g1) {
			var i = _g++;
			var action = InputType == flixel_input_actions_FlxInputType.DIGITAL ? DigitalActions[i] : AnalogActions[i];
			if(action.steamHandle != -1) {
				var inputExists = false;
				var theInput = null;
				if(action.inputs != null) {
					var _g2 = 0;
					var _g3 = action.inputs;
					while(_g2 < _g3.length) {
						var input = _g3[_g2];
						++_g2;
						if(input.device == flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER && input.deviceID == Handle) {
							inputExists = true;
							theInput = input;
						}
					}
				}
				if(Attach) {
					if(!inputExists) {
						if(InputType == flixel_input_actions_FlxInputType.DIGITAL) {
							DigitalActions[i].add(new flixel_input_actions_FlxActionInputDigitalSteam(action.steamHandle,2,Handle));
						} else if(InputType == flixel_input_actions_FlxInputType.ANALOG) {
							AnalogActions[i].add(new flixel_input_actions_FlxActionInputAnalogSteam(action.steamHandle,1,3,Handle));
						}
					}
				} else if(inputExists) {
					action.remove(theInput);
				}
			}
		}
	}
	,__class__: flixel_input_actions_FlxActionSet
};
var Controls = function(name,scheme) {
	if(scheme == null) {
		scheme = KeyboardScheme.None;
	}
	this.trackedinputsNOTES = [];
	this.trackedinputsUI = [];
	this.keyboardScheme = KeyboardScheme.None;
	this.gamepadsAdded = [];
	this.byName = new haxe_ds_StringMap();
	this._reset = new flixel_input_actions_FlxActionDigital("reset");
	this._pause = new flixel_input_actions_FlxActionDigital("pause");
	this._back = new flixel_input_actions_FlxActionDigital("back");
	this._accept = new flixel_input_actions_FlxActionDigital("accept");
	this._note_downR = new flixel_input_actions_FlxActionDigital("note_down-release");
	this._note_rightR = new flixel_input_actions_FlxActionDigital("note_right-release");
	this._note_leftR = new flixel_input_actions_FlxActionDigital("note_left-release");
	this._note_upR = new flixel_input_actions_FlxActionDigital("note_up-release");
	this._note_downP = new flixel_input_actions_FlxActionDigital("note_down-press");
	this._note_rightP = new flixel_input_actions_FlxActionDigital("note_right-press");
	this._note_leftP = new flixel_input_actions_FlxActionDigital("note_left-press");
	this._note_upP = new flixel_input_actions_FlxActionDigital("note_up-press");
	this._note_down = new flixel_input_actions_FlxActionDigital("note_down");
	this._note_right = new flixel_input_actions_FlxActionDigital("note_right");
	this._note_left = new flixel_input_actions_FlxActionDigital("note_left");
	this._note_up = new flixel_input_actions_FlxActionDigital("note_up");
	this._ui_downR = new flixel_input_actions_FlxActionDigital("ui_down-release");
	this._ui_rightR = new flixel_input_actions_FlxActionDigital("ui_right-release");
	this._ui_leftR = new flixel_input_actions_FlxActionDigital("ui_left-release");
	this._ui_upR = new flixel_input_actions_FlxActionDigital("ui_up-release");
	this._ui_downP = new flixel_input_actions_FlxActionDigital("ui_down-press");
	this._ui_rightP = new flixel_input_actions_FlxActionDigital("ui_right-press");
	this._ui_leftP = new flixel_input_actions_FlxActionDigital("ui_left-press");
	this._ui_upP = new flixel_input_actions_FlxActionDigital("ui_up-press");
	this._ui_down = new flixel_input_actions_FlxActionDigital("ui_down");
	this._ui_right = new flixel_input_actions_FlxActionDigital("ui_right");
	this._ui_left = new flixel_input_actions_FlxActionDigital("ui_left");
	this._ui_up = new flixel_input_actions_FlxActionDigital("ui_up");
	flixel_input_actions_FlxActionSet.call(this,name);
	this.add(this._ui_up);
	this.add(this._ui_left);
	this.add(this._ui_right);
	this.add(this._ui_down);
	this.add(this._ui_upP);
	this.add(this._ui_leftP);
	this.add(this._ui_rightP);
	this.add(this._ui_downP);
	this.add(this._ui_upR);
	this.add(this._ui_leftR);
	this.add(this._ui_rightR);
	this.add(this._ui_downR);
	this.add(this._note_up);
	this.add(this._note_left);
	this.add(this._note_right);
	this.add(this._note_down);
	this.add(this._note_upP);
	this.add(this._note_leftP);
	this.add(this._note_rightP);
	this.add(this._note_downP);
	this.add(this._note_upR);
	this.add(this._note_leftR);
	this.add(this._note_rightR);
	this.add(this._note_downR);
	this.add(this._accept);
	this.add(this._back);
	this.add(this._pause);
	this.add(this._reset);
	var _g = 0;
	var _g1 = this.digitalActions;
	while(_g < _g1.length) {
		var action = _g1[_g];
		++_g;
		this.byName.h[action.name] = action;
	}
	this.setKeyboardScheme(scheme,false);
};
$hxClasses["Controls"] = Controls;
Controls.__name__ = "Controls";
Controls.init = function() {
	var actions = new flixel_input_actions_FlxActionManager();
	flixel_FlxG.inputs.add_flixel_input_actions_FlxActionManager(actions);
};
Controls.addKeys = function(action,keys,state) {
	var _g = 0;
	while(_g < keys.length) {
		var key = keys[_g];
		++_g;
		if(key != -1) {
			action.addKey(key,state);
		}
	}
};
Controls.removeKeys = function(action,keys) {
	var i = action.inputs.length;
	while(i-- > 0) {
		var input = action.inputs[i];
		if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD && keys.indexOf(input.inputID) != -1) {
			action.remove(input);
		}
	}
};
Controls.addButtons = function(action,buttons,state,id) {
	var _g = 0;
	while(_g < buttons.length) {
		var button = buttons[_g];
		++_g;
		action.addGamepad(button,state,id);
	}
};
Controls.removeButtons = function(action,gamepadID,buttons) {
	var i = action.inputs.length;
	while(i-- > 0) {
		var input = action.inputs[i];
		if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD && (gamepadID == -1 || input.deviceID == gamepadID) && buttons.indexOf(input.inputID) != -1) {
			action.remove(input);
		}
	}
};
Controls.isDevice = function(input,device) {
	switch(device._hx_index) {
	case 0:
		return input.device == flixel_input_actions_FlxInputDevice.KEYBOARD;
	case 1:
		var id = device.id;
		if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD) {
			if(id != -1) {
				return input.deviceID == id;
			} else {
				return true;
			}
		} else {
			return false;
		}
		break;
	}
};
Controls.isGamepad = function(input,deviceID) {
	if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD) {
		if(deviceID != -1) {
			return input.deviceID == deviceID;
		} else {
			return true;
		}
	} else {
		return false;
	}
};
Controls.__super__ = flixel_input_actions_FlxActionSet;
Controls.prototype = $extend(flixel_input_actions_FlxActionSet.prototype,{
	_ui_up: null
	,_ui_left: null
	,_ui_right: null
	,_ui_down: null
	,_ui_upP: null
	,_ui_leftP: null
	,_ui_rightP: null
	,_ui_downP: null
	,_ui_upR: null
	,_ui_leftR: null
	,_ui_rightR: null
	,_ui_downR: null
	,_note_up: null
	,_note_left: null
	,_note_right: null
	,_note_down: null
	,_note_upP: null
	,_note_leftP: null
	,_note_rightP: null
	,_note_downP: null
	,_note_upR: null
	,_note_leftR: null
	,_note_rightR: null
	,_note_downR: null
	,_accept: null
	,_back: null
	,_pause: null
	,_reset: null
	,byName: null
	,gamepadsAdded: null
	,keyboardScheme: null
	,get_UI_UP: function() {
		return this._ui_up.check();
	}
	,get_UI_LEFT: function() {
		return this._ui_left.check();
	}
	,get_UI_RIGHT: function() {
		return this._ui_right.check();
	}
	,get_UI_DOWN: function() {
		return this._ui_down.check();
	}
	,get_UI_UP_P: function() {
		return this._ui_upP.check();
	}
	,get_UI_LEFT_P: function() {
		return this._ui_leftP.check();
	}
	,get_UI_RIGHT_P: function() {
		return this._ui_rightP.check();
	}
	,get_UI_DOWN_P: function() {
		return this._ui_downP.check();
	}
	,get_UI_UP_R: function() {
		return this._ui_upR.check();
	}
	,get_UI_LEFT_R: function() {
		return this._ui_leftR.check();
	}
	,get_UI_RIGHT_R: function() {
		return this._ui_rightR.check();
	}
	,get_UI_DOWN_R: function() {
		return this._ui_downR.check();
	}
	,get_NOTE_UP: function() {
		return this._note_up.check();
	}
	,get_NOTE_LEFT: function() {
		return this._note_left.check();
	}
	,get_NOTE_RIGHT: function() {
		return this._note_right.check();
	}
	,get_NOTE_DOWN: function() {
		return this._note_down.check();
	}
	,get_NOTE_UP_P: function() {
		return this._note_upP.check();
	}
	,get_NOTE_LEFT_P: function() {
		return this._note_leftP.check();
	}
	,get_NOTE_RIGHT_P: function() {
		return this._note_rightP.check();
	}
	,get_NOTE_DOWN_P: function() {
		return this._note_downP.check();
	}
	,get_NOTE_UP_R: function() {
		return this._note_upR.check();
	}
	,get_NOTE_LEFT_R: function() {
		return this._note_leftR.check();
	}
	,get_NOTE_RIGHT_R: function() {
		return this._note_rightR.check();
	}
	,get_NOTE_DOWN_R: function() {
		return this._note_downR.check();
	}
	,get_ACCEPT: function() {
		return this._accept.check();
	}
	,get_BACK: function() {
		return this._back.check();
	}
	,get_PAUSE: function() {
		return this._pause.check();
	}
	,get_RESET: function() {
		return this._reset.check();
	}
	,trackedinputsUI: null
	,trackedinputsNOTES: null
	,addbuttonuNOTES: function(action,button,state) {
		var input = new flixel_input_actions_FlxActionInputDigitalIFlxInput(button,state);
		this.trackedinputsNOTES.push(input);
		action.add(input);
	}
	,setHitBoxNOTES: function(hitbox) {
		var _gthis = this;
		switch(Control.NOTE_UP._hx_index) {
		case 0:
			_gthis.addbuttonuNOTES(this._ui_up,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._ui_upP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._ui_upR,hitbox.buttonUp,-1);
			break;
		case 1:
			_gthis.addbuttonuNOTES(this._ui_left,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._ui_leftP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._ui_leftR,hitbox.buttonUp,-1);
			break;
		case 2:
			_gthis.addbuttonuNOTES(this._ui_right,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._ui_rightP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._ui_rightR,hitbox.buttonUp,-1);
			break;
		case 3:
			_gthis.addbuttonuNOTES(this._ui_down,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._ui_downP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._ui_downR,hitbox.buttonUp,-1);
			break;
		case 4:
			_gthis.addbuttonuNOTES(this._note_up,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._note_upP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._note_upR,hitbox.buttonUp,-1);
			break;
		case 5:
			_gthis.addbuttonuNOTES(this._note_left,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._note_leftP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._note_leftR,hitbox.buttonUp,-1);
			break;
		case 6:
			_gthis.addbuttonuNOTES(this._note_right,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._note_rightP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._note_rightR,hitbox.buttonUp,-1);
			break;
		case 7:
			_gthis.addbuttonuNOTES(this._note_down,hitbox.buttonUp,1);
			_gthis.addbuttonuNOTES(this._note_downP,hitbox.buttonUp,2);
			_gthis.addbuttonuNOTES(this._note_downR,hitbox.buttonUp,-1);
			break;
		case 8:
			_gthis.addbuttonuNOTES(this._reset,hitbox.buttonUp,2);
			break;
		case 9:
			_gthis.addbuttonuNOTES(this._accept,hitbox.buttonUp,2);
			break;
		case 10:
			_gthis.addbuttonuNOTES(this._back,hitbox.buttonUp,2);
			break;
		case 11:
			_gthis.addbuttonuNOTES(this._pause,hitbox.buttonUp,2);
			break;
		}
		switch(Control.NOTE_DOWN._hx_index) {
		case 0:
			_gthis.addbuttonuNOTES(this._ui_up,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._ui_upP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._ui_upR,hitbox.buttonDown,-1);
			break;
		case 1:
			_gthis.addbuttonuNOTES(this._ui_left,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._ui_leftP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._ui_leftR,hitbox.buttonDown,-1);
			break;
		case 2:
			_gthis.addbuttonuNOTES(this._ui_right,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._ui_rightP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._ui_rightR,hitbox.buttonDown,-1);
			break;
		case 3:
			_gthis.addbuttonuNOTES(this._ui_down,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._ui_downP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._ui_downR,hitbox.buttonDown,-1);
			break;
		case 4:
			_gthis.addbuttonuNOTES(this._note_up,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._note_upP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._note_upR,hitbox.buttonDown,-1);
			break;
		case 5:
			_gthis.addbuttonuNOTES(this._note_left,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._note_leftP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._note_leftR,hitbox.buttonDown,-1);
			break;
		case 6:
			_gthis.addbuttonuNOTES(this._note_right,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._note_rightP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._note_rightR,hitbox.buttonDown,-1);
			break;
		case 7:
			_gthis.addbuttonuNOTES(this._note_down,hitbox.buttonDown,1);
			_gthis.addbuttonuNOTES(this._note_downP,hitbox.buttonDown,2);
			_gthis.addbuttonuNOTES(this._note_downR,hitbox.buttonDown,-1);
			break;
		case 8:
			_gthis.addbuttonuNOTES(this._reset,hitbox.buttonDown,2);
			break;
		case 9:
			_gthis.addbuttonuNOTES(this._accept,hitbox.buttonDown,2);
			break;
		case 10:
			_gthis.addbuttonuNOTES(this._back,hitbox.buttonDown,2);
			break;
		case 11:
			_gthis.addbuttonuNOTES(this._pause,hitbox.buttonDown,2);
			break;
		}
		switch(Control.NOTE_LEFT._hx_index) {
		case 0:
			_gthis.addbuttonuNOTES(this._ui_up,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._ui_upP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._ui_upR,hitbox.buttonLeft,-1);
			break;
		case 1:
			_gthis.addbuttonuNOTES(this._ui_left,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._ui_leftP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._ui_leftR,hitbox.buttonLeft,-1);
			break;
		case 2:
			_gthis.addbuttonuNOTES(this._ui_right,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._ui_rightP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._ui_rightR,hitbox.buttonLeft,-1);
			break;
		case 3:
			_gthis.addbuttonuNOTES(this._ui_down,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._ui_downP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._ui_downR,hitbox.buttonLeft,-1);
			break;
		case 4:
			_gthis.addbuttonuNOTES(this._note_up,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._note_upP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._note_upR,hitbox.buttonLeft,-1);
			break;
		case 5:
			_gthis.addbuttonuNOTES(this._note_left,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._note_leftP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._note_leftR,hitbox.buttonLeft,-1);
			break;
		case 6:
			_gthis.addbuttonuNOTES(this._note_right,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._note_rightP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._note_rightR,hitbox.buttonLeft,-1);
			break;
		case 7:
			_gthis.addbuttonuNOTES(this._note_down,hitbox.buttonLeft,1);
			_gthis.addbuttonuNOTES(this._note_downP,hitbox.buttonLeft,2);
			_gthis.addbuttonuNOTES(this._note_downR,hitbox.buttonLeft,-1);
			break;
		case 8:
			_gthis.addbuttonuNOTES(this._reset,hitbox.buttonLeft,2);
			break;
		case 9:
			_gthis.addbuttonuNOTES(this._accept,hitbox.buttonLeft,2);
			break;
		case 10:
			_gthis.addbuttonuNOTES(this._back,hitbox.buttonLeft,2);
			break;
		case 11:
			_gthis.addbuttonuNOTES(this._pause,hitbox.buttonLeft,2);
			break;
		}
		switch(Control.NOTE_RIGHT._hx_index) {
		case 0:
			_gthis.addbuttonuNOTES(this._ui_up,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._ui_upP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._ui_upR,hitbox.buttonRight,-1);
			break;
		case 1:
			_gthis.addbuttonuNOTES(this._ui_left,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._ui_leftP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._ui_leftR,hitbox.buttonRight,-1);
			break;
		case 2:
			_gthis.addbuttonuNOTES(this._ui_right,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._ui_rightP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._ui_rightR,hitbox.buttonRight,-1);
			break;
		case 3:
			_gthis.addbuttonuNOTES(this._ui_down,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._ui_downP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._ui_downR,hitbox.buttonRight,-1);
			break;
		case 4:
			_gthis.addbuttonuNOTES(this._note_up,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._note_upP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._note_upR,hitbox.buttonRight,-1);
			break;
		case 5:
			_gthis.addbuttonuNOTES(this._note_left,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._note_leftP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._note_leftR,hitbox.buttonRight,-1);
			break;
		case 6:
			_gthis.addbuttonuNOTES(this._note_right,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._note_rightP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._note_rightR,hitbox.buttonRight,-1);
			break;
		case 7:
			_gthis.addbuttonuNOTES(this._note_down,hitbox.buttonRight,1);
			_gthis.addbuttonuNOTES(this._note_downP,hitbox.buttonRight,2);
			_gthis.addbuttonuNOTES(this._note_downR,hitbox.buttonRight,-1);
			break;
		case 8:
			_gthis.addbuttonuNOTES(this._reset,hitbox.buttonRight,2);
			break;
		case 9:
			_gthis.addbuttonuNOTES(this._accept,hitbox.buttonRight,2);
			break;
		case 10:
			_gthis.addbuttonuNOTES(this._back,hitbox.buttonRight,2);
			break;
		case 11:
			_gthis.addbuttonuNOTES(this._pause,hitbox.buttonRight,2);
			break;
		}
	}
	,setVirtualPadNOTES: function(virtualPad,DPad,Action1) {
		var _gthis = this;
		if(DPad == null) {
			DPad = ui_FlxDPadMode.NONE;
		}
		if(Action1 == null) {
			Action1 = ui_FlxActionMode.NONE;
		}
		switch(DPad._hx_index) {
		case 0:
			break;
		case 1:
			switch(Control.NOTE_UP._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.NOTE_DOWN._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonDown,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonDown,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonDown,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonDown,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonDown,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonDown,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonDown,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonDown,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonDown,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonDown,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonDown,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonDown,2);
				break;
			}
			break;
		case 2:
			switch(Control.NOTE_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.NOTE_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		case 3:
			switch(Control.NOTE_UP._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.NOTE_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.NOTE_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		case 4:case 5:
			switch(Control.NOTE_UP._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.NOTE_DOWN._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonDown,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonDown,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonDown,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonDown,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonDown,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonDown,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonDown,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonDown,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonDown,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonDown,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonDown,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonDown,2);
				break;
			}
			switch(Control.NOTE_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.NOTE_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		}
		switch(Action1._hx_index) {
		case 0:
			break;
		case 1:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			break;
		case 2:
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 3:
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 4:
			break;
		case 5:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 6:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 7:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 8:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 9:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuNOTES(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuNOTES(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuNOTES(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuNOTES(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuNOTES(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuNOTES(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuNOTES(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuNOTES(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuNOTES(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuNOTES(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuNOTES(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuNOTES(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuNOTES(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuNOTES(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 10:
			break;
		}
	}
	,addbuttonuUI: function(action,button,state) {
		var input = new flixel_input_actions_FlxActionInputDigitalIFlxInput(button,state);
		this.trackedinputsUI.push(input);
		action.add(input);
	}
	,setHitBoxUI: function(hitbox) {
		var _gthis = this;
		switch(Control.UI_UP._hx_index) {
		case 0:
			_gthis.addbuttonuUI(this._ui_up,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._ui_upP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._ui_upR,hitbox.buttonUp,-1);
			break;
		case 1:
			_gthis.addbuttonuUI(this._ui_left,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._ui_leftP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._ui_leftR,hitbox.buttonUp,-1);
			break;
		case 2:
			_gthis.addbuttonuUI(this._ui_right,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._ui_rightP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._ui_rightR,hitbox.buttonUp,-1);
			break;
		case 3:
			_gthis.addbuttonuUI(this._ui_down,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._ui_downP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._ui_downR,hitbox.buttonUp,-1);
			break;
		case 4:
			_gthis.addbuttonuUI(this._note_up,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._note_upP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._note_upR,hitbox.buttonUp,-1);
			break;
		case 5:
			_gthis.addbuttonuUI(this._note_left,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._note_leftP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._note_leftR,hitbox.buttonUp,-1);
			break;
		case 6:
			_gthis.addbuttonuUI(this._note_right,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._note_rightP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._note_rightR,hitbox.buttonUp,-1);
			break;
		case 7:
			_gthis.addbuttonuUI(this._note_down,hitbox.buttonUp,1);
			_gthis.addbuttonuUI(this._note_downP,hitbox.buttonUp,2);
			_gthis.addbuttonuUI(this._note_downR,hitbox.buttonUp,-1);
			break;
		case 8:
			_gthis.addbuttonuUI(this._reset,hitbox.buttonUp,2);
			break;
		case 9:
			_gthis.addbuttonuUI(this._accept,hitbox.buttonUp,2);
			break;
		case 10:
			_gthis.addbuttonuUI(this._back,hitbox.buttonUp,2);
			break;
		case 11:
			_gthis.addbuttonuUI(this._pause,hitbox.buttonUp,2);
			break;
		}
		switch(Control.UI_DOWN._hx_index) {
		case 0:
			_gthis.addbuttonuUI(this._ui_up,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._ui_upP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._ui_upR,hitbox.buttonDown,-1);
			break;
		case 1:
			_gthis.addbuttonuUI(this._ui_left,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._ui_leftP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._ui_leftR,hitbox.buttonDown,-1);
			break;
		case 2:
			_gthis.addbuttonuUI(this._ui_right,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._ui_rightP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._ui_rightR,hitbox.buttonDown,-1);
			break;
		case 3:
			_gthis.addbuttonuUI(this._ui_down,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._ui_downP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._ui_downR,hitbox.buttonDown,-1);
			break;
		case 4:
			_gthis.addbuttonuUI(this._note_up,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._note_upP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._note_upR,hitbox.buttonDown,-1);
			break;
		case 5:
			_gthis.addbuttonuUI(this._note_left,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._note_leftP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._note_leftR,hitbox.buttonDown,-1);
			break;
		case 6:
			_gthis.addbuttonuUI(this._note_right,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._note_rightP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._note_rightR,hitbox.buttonDown,-1);
			break;
		case 7:
			_gthis.addbuttonuUI(this._note_down,hitbox.buttonDown,1);
			_gthis.addbuttonuUI(this._note_downP,hitbox.buttonDown,2);
			_gthis.addbuttonuUI(this._note_downR,hitbox.buttonDown,-1);
			break;
		case 8:
			_gthis.addbuttonuUI(this._reset,hitbox.buttonDown,2);
			break;
		case 9:
			_gthis.addbuttonuUI(this._accept,hitbox.buttonDown,2);
			break;
		case 10:
			_gthis.addbuttonuUI(this._back,hitbox.buttonDown,2);
			break;
		case 11:
			_gthis.addbuttonuUI(this._pause,hitbox.buttonDown,2);
			break;
		}
		switch(Control.UI_LEFT._hx_index) {
		case 0:
			_gthis.addbuttonuUI(this._ui_up,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._ui_upP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._ui_upR,hitbox.buttonLeft,-1);
			break;
		case 1:
			_gthis.addbuttonuUI(this._ui_left,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._ui_leftP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._ui_leftR,hitbox.buttonLeft,-1);
			break;
		case 2:
			_gthis.addbuttonuUI(this._ui_right,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._ui_rightP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._ui_rightR,hitbox.buttonLeft,-1);
			break;
		case 3:
			_gthis.addbuttonuUI(this._ui_down,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._ui_downP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._ui_downR,hitbox.buttonLeft,-1);
			break;
		case 4:
			_gthis.addbuttonuUI(this._note_up,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._note_upP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._note_upR,hitbox.buttonLeft,-1);
			break;
		case 5:
			_gthis.addbuttonuUI(this._note_left,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._note_leftP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._note_leftR,hitbox.buttonLeft,-1);
			break;
		case 6:
			_gthis.addbuttonuUI(this._note_right,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._note_rightP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._note_rightR,hitbox.buttonLeft,-1);
			break;
		case 7:
			_gthis.addbuttonuUI(this._note_down,hitbox.buttonLeft,1);
			_gthis.addbuttonuUI(this._note_downP,hitbox.buttonLeft,2);
			_gthis.addbuttonuUI(this._note_downR,hitbox.buttonLeft,-1);
			break;
		case 8:
			_gthis.addbuttonuUI(this._reset,hitbox.buttonLeft,2);
			break;
		case 9:
			_gthis.addbuttonuUI(this._accept,hitbox.buttonLeft,2);
			break;
		case 10:
			_gthis.addbuttonuUI(this._back,hitbox.buttonLeft,2);
			break;
		case 11:
			_gthis.addbuttonuUI(this._pause,hitbox.buttonLeft,2);
			break;
		}
		switch(Control.UI_RIGHT._hx_index) {
		case 0:
			_gthis.addbuttonuUI(this._ui_up,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._ui_upP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._ui_upR,hitbox.buttonRight,-1);
			break;
		case 1:
			_gthis.addbuttonuUI(this._ui_left,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._ui_leftP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._ui_leftR,hitbox.buttonRight,-1);
			break;
		case 2:
			_gthis.addbuttonuUI(this._ui_right,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._ui_rightP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._ui_rightR,hitbox.buttonRight,-1);
			break;
		case 3:
			_gthis.addbuttonuUI(this._ui_down,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._ui_downP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._ui_downR,hitbox.buttonRight,-1);
			break;
		case 4:
			_gthis.addbuttonuUI(this._note_up,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._note_upP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._note_upR,hitbox.buttonRight,-1);
			break;
		case 5:
			_gthis.addbuttonuUI(this._note_left,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._note_leftP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._note_leftR,hitbox.buttonRight,-1);
			break;
		case 6:
			_gthis.addbuttonuUI(this._note_right,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._note_rightP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._note_rightR,hitbox.buttonRight,-1);
			break;
		case 7:
			_gthis.addbuttonuUI(this._note_down,hitbox.buttonRight,1);
			_gthis.addbuttonuUI(this._note_downP,hitbox.buttonRight,2);
			_gthis.addbuttonuUI(this._note_downR,hitbox.buttonRight,-1);
			break;
		case 8:
			_gthis.addbuttonuUI(this._reset,hitbox.buttonRight,2);
			break;
		case 9:
			_gthis.addbuttonuUI(this._accept,hitbox.buttonRight,2);
			break;
		case 10:
			_gthis.addbuttonuUI(this._back,hitbox.buttonRight,2);
			break;
		case 11:
			_gthis.addbuttonuUI(this._pause,hitbox.buttonRight,2);
			break;
		}
	}
	,setVirtualPadUI: function(virtualPad,DPad,Action1) {
		var _gthis = this;
		if(DPad == null) {
			DPad = ui_FlxDPadMode.NONE;
		}
		if(Action1 == null) {
			Action1 = ui_FlxActionMode.NONE;
		}
		switch(DPad._hx_index) {
		case 0:
			break;
		case 1:
			switch(Control.UI_UP._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.UI_DOWN._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonDown,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonDown,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonDown,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonDown,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonDown,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonDown,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonDown,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonDown,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonDown,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonDown,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonDown,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonDown,2);
				break;
			}
			break;
		case 2:
			switch(Control.UI_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.UI_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		case 3:
			switch(Control.UI_UP._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.UI_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.UI_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		case 4:case 5:
			switch(Control.UI_UP._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonUp,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonUp,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonUp,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonUp,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonUp,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonUp,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonUp,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonUp,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonUp,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonUp,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonUp,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonUp,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonUp,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonUp,2);
				break;
			}
			switch(Control.UI_DOWN._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonDown,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonDown,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonDown,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonDown,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonDown,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonDown,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonDown,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonDown,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonDown,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonDown,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonDown,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonDown,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonDown,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonDown,2);
				break;
			}
			switch(Control.UI_LEFT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonLeft,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonLeft,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonLeft,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonLeft,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonLeft,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonLeft,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonLeft,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonLeft,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonLeft,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonLeft,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonLeft,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonLeft,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonLeft,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonLeft,2);
				break;
			}
			switch(Control.UI_RIGHT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonRight,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonRight,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonRight,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonRight,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonRight,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonRight,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonRight,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonRight,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonRight,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonRight,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonRight,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonRight,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonRight,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonRight,2);
				break;
			}
			break;
		}
		switch(Action1._hx_index) {
		case 0:
			break;
		case 1:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			break;
		case 2:
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 3:
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonD,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonD,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonD,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonD,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonD,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonD,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonD,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonD,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonD,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonD,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonD,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonD,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonD,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonD,2);
				break;
			}
			break;
		case 4:
			break;
		case 5:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 6:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 7:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 8:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 9:
			switch(Control.ACCEPT._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonA,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonA,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonA,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonA,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonA,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonA,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonA,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonA,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonA,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonA,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonA,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonA,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonA,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonA,2);
				break;
			}
			switch(Control.BACK._hx_index) {
			case 0:
				_gthis.addbuttonuUI(this._ui_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_upR,virtualPad.buttonB,-1);
				break;
			case 1:
				_gthis.addbuttonuUI(this._ui_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_leftR,virtualPad.buttonB,-1);
				break;
			case 2:
				_gthis.addbuttonuUI(this._ui_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_rightR,virtualPad.buttonB,-1);
				break;
			case 3:
				_gthis.addbuttonuUI(this._ui_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._ui_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._ui_downR,virtualPad.buttonB,-1);
				break;
			case 4:
				_gthis.addbuttonuUI(this._note_up,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_upP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_upR,virtualPad.buttonB,-1);
				break;
			case 5:
				_gthis.addbuttonuUI(this._note_left,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_leftP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_leftR,virtualPad.buttonB,-1);
				break;
			case 6:
				_gthis.addbuttonuUI(this._note_right,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_rightP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_rightR,virtualPad.buttonB,-1);
				break;
			case 7:
				_gthis.addbuttonuUI(this._note_down,virtualPad.buttonB,1);
				_gthis.addbuttonuUI(this._note_downP,virtualPad.buttonB,2);
				_gthis.addbuttonuUI(this._note_downR,virtualPad.buttonB,-1);
				break;
			case 8:
				_gthis.addbuttonuUI(this._reset,virtualPad.buttonB,2);
				break;
			case 9:
				_gthis.addbuttonuUI(this._accept,virtualPad.buttonB,2);
				break;
			case 10:
				_gthis.addbuttonuUI(this._back,virtualPad.buttonB,2);
				break;
			case 11:
				_gthis.addbuttonuUI(this._pause,virtualPad.buttonB,2);
				break;
			}
			break;
		case 10:
			break;
		}
	}
	,removeFlxInput: function(Tinputs) {
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var action = _g1[_g];
			++_g;
			var i = action.inputs.length;
			while(i-- > 0) {
				var input = action.inputs[i];
				var x = Tinputs.length;
				while(x-- > 0) if(Tinputs[x] == input) {
					action.remove(input);
				}
			}
		}
	}
	,update: function() {
		flixel_input_actions_FlxActionSet.prototype.update.call(this);
	}
	,checkByName: function(name) {
		return this.byName.h[name].check();
	}
	,getDialogueName: function(action) {
		var input = action.inputs[0];
		var _g = input.device;
		switch(_g._hx_index) {
		case 3:
			var tmp = input.inputID;
			return "[" + (tmp == null ? "null" : flixel_input_keyboard_FlxKey.toStringMap.h[tmp]) + "]";
		case 4:
			var tmp = input.inputID;
			return "(" + (tmp == null ? "null" : flixel_input_gamepad_FlxGamepadInputID.toStringMap.h[tmp]) + ")";
		default:
			var device = _g;
			throw haxe_Exception.thrown("unhandled device: " + Std.string(device));
		}
	}
	,getDialogueNameFromToken: function(token) {
		return this.getDialogueName(this.getActionFromControl(Type.createEnum(Control,token.toUpperCase(),null)));
	}
	,getActionFromControl: function(control) {
		switch(control._hx_index) {
		case 0:
			return this._ui_up;
		case 1:
			return this._ui_left;
		case 2:
			return this._ui_right;
		case 3:
			return this._ui_down;
		case 4:
			return this._note_up;
		case 5:
			return this._note_left;
		case 6:
			return this._note_right;
		case 7:
			return this._note_down;
		case 8:
			return this._reset;
		case 9:
			return this._accept;
		case 10:
			return this._back;
		case 11:
			return this._pause;
		}
	}
	,forEachBound: function(control,func) {
		switch(control._hx_index) {
		case 0:
			func(this._ui_up,1);
			func(this._ui_upP,2);
			func(this._ui_upR,-1);
			break;
		case 1:
			func(this._ui_left,1);
			func(this._ui_leftP,2);
			func(this._ui_leftR,-1);
			break;
		case 2:
			func(this._ui_right,1);
			func(this._ui_rightP,2);
			func(this._ui_rightR,-1);
			break;
		case 3:
			func(this._ui_down,1);
			func(this._ui_downP,2);
			func(this._ui_downR,-1);
			break;
		case 4:
			func(this._note_up,1);
			func(this._note_upP,2);
			func(this._note_upR,-1);
			break;
		case 5:
			func(this._note_left,1);
			func(this._note_leftP,2);
			func(this._note_leftR,-1);
			break;
		case 6:
			func(this._note_right,1);
			func(this._note_rightP,2);
			func(this._note_rightR,-1);
			break;
		case 7:
			func(this._note_down,1);
			func(this._note_downP,2);
			func(this._note_downR,-1);
			break;
		case 8:
			func(this._reset,2);
			break;
		case 9:
			func(this._accept,2);
			break;
		case 10:
			func(this._back,2);
			break;
		case 11:
			func(this._pause,2);
			break;
		}
	}
	,replaceBinding: function(control,device,toAdd,toRemove) {
		if(toAdd == toRemove) {
			return;
		}
		switch(device._hx_index) {
		case 0:
			if(toRemove != null) {
				this.unbindKeys(control,[toRemove]);
			}
			if(toAdd != null) {
				this.bindKeys(control,[toAdd]);
			}
			break;
		case 1:
			var id = device.id;
			if(toRemove != null) {
				this.unbindButtons(control,id,[toRemove]);
			}
			if(toAdd != null) {
				this.bindButtons(control,id,[toAdd]);
			}
			break;
		}
	}
	,copyFrom: function(controls,device) {
		var h = controls.byName.h;
		var _g_h = h;
		var _g_keys = Object.keys(h);
		var _g_length = _g_keys.length;
		var _g_current = 0;
		while(_g_current < _g_length) {
			var key = _g_keys[_g_current++];
			var _g1_key = key;
			var _g1_value = _g_h[key];
			var name = _g1_key;
			var action = _g1_value;
			var _g = 0;
			var _g1 = action.inputs;
			while(_g < _g1.length) {
				var input = _g1[_g];
				++_g;
				if(device == null || Controls.isDevice(input,device)) {
					this.byName.h[name].add(input);
				}
			}
		}
		if(device == null) {
			var _g = 0;
			var _g1 = controls.gamepadsAdded;
			while(_g < _g1.length) {
				var gamepad = _g1[_g];
				++_g;
				if(this.gamepadsAdded.indexOf(gamepad) == -1) {
					this.gamepadsAdded.push(gamepad);
				}
			}
			this.mergeKeyboardScheme(controls.keyboardScheme);
		} else {
			switch(device._hx_index) {
			case 0:
				this.mergeKeyboardScheme(controls.keyboardScheme);
				break;
			case 1:
				var id = device.id;
				this.gamepadsAdded.push(id);
				break;
			}
		}
	}
	,copyTo: function(controls,device) {
		controls.copyFrom(this,device);
	}
	,mergeKeyboardScheme: function(scheme) {
		if(scheme != KeyboardScheme.None) {
			if(this.keyboardScheme._hx_index == 2) {
				this.keyboardScheme = scheme;
			} else {
				this.keyboardScheme = KeyboardScheme.Custom;
			}
		}
	}
	,bindKeys: function(control,keys) {
		switch(control._hx_index) {
		case 0:
			var action = this._ui_up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 1:
			var action = this._ui_left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 2:
			var action = this._ui_right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 3:
			var action = this._ui_down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._ui_downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 4:
			var action = this._note_up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 5:
			var action = this._note_left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 6:
			var action = this._note_right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 7:
			var action = this._note_down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			var action = this._note_downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 8:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 9:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 10:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		case 11:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				if(key != -1) {
					action.addKey(key,state);
				}
			}
			break;
		}
	}
	,unbindKeys: function(control,keys) {
		switch(control._hx_index) {
		case 0:
			Controls.removeKeys(this._ui_up,keys);
			Controls.removeKeys(this._ui_upP,keys);
			Controls.removeKeys(this._ui_upR,keys);
			break;
		case 1:
			Controls.removeKeys(this._ui_left,keys);
			Controls.removeKeys(this._ui_leftP,keys);
			Controls.removeKeys(this._ui_leftR,keys);
			break;
		case 2:
			Controls.removeKeys(this._ui_right,keys);
			Controls.removeKeys(this._ui_rightP,keys);
			Controls.removeKeys(this._ui_rightR,keys);
			break;
		case 3:
			Controls.removeKeys(this._ui_down,keys);
			Controls.removeKeys(this._ui_downP,keys);
			Controls.removeKeys(this._ui_downR,keys);
			break;
		case 4:
			Controls.removeKeys(this._note_up,keys);
			Controls.removeKeys(this._note_upP,keys);
			Controls.removeKeys(this._note_upR,keys);
			break;
		case 5:
			Controls.removeKeys(this._note_left,keys);
			Controls.removeKeys(this._note_leftP,keys);
			Controls.removeKeys(this._note_leftR,keys);
			break;
		case 6:
			Controls.removeKeys(this._note_right,keys);
			Controls.removeKeys(this._note_rightP,keys);
			Controls.removeKeys(this._note_rightR,keys);
			break;
		case 7:
			Controls.removeKeys(this._note_down,keys);
			Controls.removeKeys(this._note_downP,keys);
			Controls.removeKeys(this._note_downR,keys);
			break;
		case 8:
			Controls.removeKeys(this._reset,keys);
			break;
		case 9:
			Controls.removeKeys(this._accept,keys);
			break;
		case 10:
			Controls.removeKeys(this._back,keys);
			break;
		case 11:
			Controls.removeKeys(this._pause,keys);
			break;
		}
	}
	,setKeyboardScheme: function(scheme,reset) {
		if(reset == null) {
			reset = true;
		}
		if(reset) {
			this.removeKeyboard();
		}
		this.keyboardScheme = scheme;
		var keysMap = ClientPrefs.keyBinds;
		switch(scheme._hx_index) {
		case 0:
			var keys = keysMap.h["ui_up"];
			switch(Control.UI_UP._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["ui_down"];
			switch(Control.UI_DOWN._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["ui_left"];
			switch(Control.UI_LEFT._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["ui_right"];
			switch(Control.UI_RIGHT._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["note_up"];
			switch(Control.NOTE_UP._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["note_down"];
			switch(Control.NOTE_DOWN._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["note_left"];
			switch(Control.NOTE_LEFT._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["note_right"];
			switch(Control.NOTE_RIGHT._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["accept"];
			switch(Control.ACCEPT._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["back"];
			switch(Control.BACK._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["pause"];
			switch(Control.PAUSE._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			var keys = keysMap.h["reset"];
			switch(Control.RESET._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 1:
				var action = this._ui_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 2:
				var action = this._ui_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 3:
				var action = this._ui_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._ui_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 4:
				var action = this._note_up;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_upR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 5:
				var action = this._note_left;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_leftR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 6:
				var action = this._note_right;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_rightR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 7:
				var action = this._note_down;
				var state = 1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downP;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				var action = this._note_downR;
				var state = -1;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 8:
				var action = this._reset;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 9:
				var action = this._accept;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 10:
				var action = this._back;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			case 11:
				var action = this._pause;
				var state = 2;
				var _g = 0;
				while(_g < keys.length) {
					var key = keys[_g];
					++_g;
					if(key != -1) {
						action.addKey(key,state);
					}
				}
				break;
			}
			break;
		case 1:
			if(scheme.first) {
				var keys = [87];
				switch(Control.UI_UP._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [83];
				switch(Control.UI_DOWN._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [65];
				switch(Control.UI_LEFT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [68];
				switch(Control.UI_RIGHT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [87];
				switch(Control.NOTE_UP._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [83];
				switch(Control.NOTE_DOWN._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [65];
				switch(Control.NOTE_LEFT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [68];
				switch(Control.NOTE_RIGHT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [71,90];
				switch(Control.ACCEPT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [72,88];
				switch(Control.BACK._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [49];
				switch(Control.PAUSE._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [82];
				switch(Control.RESET._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
			} else {
				var keys = [38];
				switch(Control.UI_UP._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [40];
				switch(Control.UI_DOWN._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [37];
				switch(Control.UI_LEFT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [39];
				switch(Control.UI_RIGHT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [38];
				switch(Control.NOTE_UP._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [40];
				switch(Control.NOTE_DOWN._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [37];
				switch(Control.NOTE_LEFT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [39];
				switch(Control.NOTE_RIGHT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [79];
				switch(Control.ACCEPT._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [80];
				switch(Control.BACK._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [13];
				switch(Control.PAUSE._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
				var keys = [8];
				switch(Control.RESET._hx_index) {
				case 0:
					var action = this._ui_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 1:
					var action = this._ui_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 2:
					var action = this._ui_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 3:
					var action = this._ui_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._ui_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 4:
					var action = this._note_up;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_upR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 5:
					var action = this._note_left;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_leftR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 6:
					var action = this._note_right;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_rightR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 7:
					var action = this._note_down;
					var state = 1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downP;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					var action = this._note_downR;
					var state = -1;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 8:
					var action = this._reset;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 9:
					var action = this._accept;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 10:
					var action = this._back;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				case 11:
					var action = this._pause;
					var state = 2;
					var _g = 0;
					while(_g < keys.length) {
						var key = keys[_g];
						++_g;
						if(key != -1) {
							action.addKey(key,state);
						}
					}
					break;
				}
			}
			break;
		case 2:
			break;
		case 3:
			break;
		}
	}
	,removeKeyboard: function() {
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var action = _g1[_g];
			++_g;
			var i = action.inputs.length;
			while(i-- > 0) {
				var input = action.inputs[i];
				if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD) {
					action.remove(input);
				}
			}
		}
	}
	,addGamepad: function(id,buttonMap) {
		this.gamepadsAdded.push(id);
		var map = buttonMap;
		var _g_map = map;
		var _g_keys = map.keys();
		while(_g_keys.hasNext()) {
			var key = _g_keys.next();
			var _g1_value = _g_map.get(key);
			var _g1_key = key;
			var control = _g1_key;
			var buttons = _g1_value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < buttons1.length) {
					var button = buttons1[_g];
					++_g;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._ui_upP;
				var state1 = 2;
				var _g1 = 0;
				while(_g1 < buttons1.length) {
					var button1 = buttons1[_g1];
					++_g1;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._ui_upR;
				var state2 = -1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button2 = buttons1[_g2];
					++_g2;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._ui_left;
				var state3 = 1;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button3 = buttons1[_g3];
					++_g3;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._ui_leftP;
				var state4 = 2;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button4 = buttons1[_g4];
					++_g4;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._ui_leftR;
				var state5 = -1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button5 = buttons1[_g5];
					++_g5;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._ui_right;
				var state6 = 1;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button6 = buttons1[_g6];
					++_g6;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._ui_rightP;
				var state7 = 2;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button7 = buttons1[_g7];
					++_g7;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._ui_rightR;
				var state8 = -1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button8 = buttons1[_g8];
					++_g8;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._ui_down;
				var state9 = 1;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button9 = buttons1[_g9];
					++_g9;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._ui_downP;
				var state10 = 2;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button10 = buttons1[_g10];
					++_g10;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._ui_downR;
				var state11 = -1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button11 = buttons1[_g11];
					++_g11;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._note_up;
				var state12 = 1;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button12 = buttons1[_g12];
					++_g12;
					action12.addGamepad(button12,state12,id1);
				}
				var action13 = this._note_upP;
				var state13 = 2;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button13 = buttons1[_g13];
					++_g13;
					action13.addGamepad(button13,state13,id1);
				}
				var action14 = this._note_upR;
				var state14 = -1;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button14 = buttons1[_g14];
					++_g14;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 5:
				var action15 = this._note_left;
				var state15 = 1;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button15 = buttons1[_g15];
					++_g15;
					action15.addGamepad(button15,state15,id1);
				}
				var action16 = this._note_leftP;
				var state16 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button16 = buttons1[_g16];
					++_g16;
					action16.addGamepad(button16,state16,id1);
				}
				var action17 = this._note_leftR;
				var state17 = -1;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button17 = buttons1[_g17];
					++_g17;
					action17.addGamepad(button17,state17,id1);
				}
				break;
			case 6:
				var action18 = this._note_right;
				var state18 = 1;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button18 = buttons1[_g18];
					++_g18;
					action18.addGamepad(button18,state18,id1);
				}
				var action19 = this._note_rightP;
				var state19 = 2;
				var _g19 = 0;
				while(_g19 < buttons1.length) {
					var button19 = buttons1[_g19];
					++_g19;
					action19.addGamepad(button19,state19,id1);
				}
				var action20 = this._note_rightR;
				var state20 = -1;
				var _g20 = 0;
				while(_g20 < buttons1.length) {
					var button20 = buttons1[_g20];
					++_g20;
					action20.addGamepad(button20,state20,id1);
				}
				break;
			case 7:
				var action21 = this._note_down;
				var state21 = 1;
				var _g21 = 0;
				while(_g21 < buttons1.length) {
					var button21 = buttons1[_g21];
					++_g21;
					action21.addGamepad(button21,state21,id1);
				}
				var action22 = this._note_downP;
				var state22 = 2;
				var _g22 = 0;
				while(_g22 < buttons1.length) {
					var button22 = buttons1[_g22];
					++_g22;
					action22.addGamepad(button22,state22,id1);
				}
				var action23 = this._note_downR;
				var state23 = -1;
				var _g23 = 0;
				while(_g23 < buttons1.length) {
					var button23 = buttons1[_g23];
					++_g23;
					action23.addGamepad(button23,state23,id1);
				}
				break;
			case 8:
				var action24 = this._reset;
				var state24 = 2;
				var _g24 = 0;
				while(_g24 < buttons1.length) {
					var button24 = buttons1[_g24];
					++_g24;
					action24.addGamepad(button24,state24,id1);
				}
				break;
			case 9:
				var action25 = this._accept;
				var state25 = 2;
				var _g25 = 0;
				while(_g25 < buttons1.length) {
					var button25 = buttons1[_g25];
					++_g25;
					action25.addGamepad(button25,state25,id1);
				}
				break;
			case 10:
				var action26 = this._back;
				var state26 = 2;
				var _g26 = 0;
				while(_g26 < buttons1.length) {
					var button26 = buttons1[_g26];
					++_g26;
					action26.addGamepad(button26,state26,id1);
				}
				break;
			case 11:
				var action27 = this._pause;
				var state27 = 2;
				var _g27 = 0;
				while(_g27 < buttons1.length) {
					var button27 = buttons1[_g27];
					++_g27;
					action27.addGamepad(button27,state27,id1);
				}
				break;
			}
		}
	}
	,addGamepadLiteral: function(id,buttonMap) {
		this.gamepadsAdded.push(id);
		var map = buttonMap;
		var _g_map = map;
		var _g_keys = map.keys();
		while(_g_keys.hasNext()) {
			var key = _g_keys.next();
			var _g1_value = _g_map.get(key);
			var _g1_key = key;
			var control = _g1_key;
			var buttons = _g1_value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < buttons1.length) {
					var button = buttons1[_g];
					++_g;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._ui_upP;
				var state1 = 2;
				var _g1 = 0;
				while(_g1 < buttons1.length) {
					var button1 = buttons1[_g1];
					++_g1;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._ui_upR;
				var state2 = -1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button2 = buttons1[_g2];
					++_g2;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._ui_left;
				var state3 = 1;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button3 = buttons1[_g3];
					++_g3;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._ui_leftP;
				var state4 = 2;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button4 = buttons1[_g4];
					++_g4;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._ui_leftR;
				var state5 = -1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button5 = buttons1[_g5];
					++_g5;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._ui_right;
				var state6 = 1;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button6 = buttons1[_g6];
					++_g6;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._ui_rightP;
				var state7 = 2;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button7 = buttons1[_g7];
					++_g7;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._ui_rightR;
				var state8 = -1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button8 = buttons1[_g8];
					++_g8;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._ui_down;
				var state9 = 1;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button9 = buttons1[_g9];
					++_g9;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._ui_downP;
				var state10 = 2;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button10 = buttons1[_g10];
					++_g10;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._ui_downR;
				var state11 = -1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button11 = buttons1[_g11];
					++_g11;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._note_up;
				var state12 = 1;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button12 = buttons1[_g12];
					++_g12;
					action12.addGamepad(button12,state12,id1);
				}
				var action13 = this._note_upP;
				var state13 = 2;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button13 = buttons1[_g13];
					++_g13;
					action13.addGamepad(button13,state13,id1);
				}
				var action14 = this._note_upR;
				var state14 = -1;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button14 = buttons1[_g14];
					++_g14;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 5:
				var action15 = this._note_left;
				var state15 = 1;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button15 = buttons1[_g15];
					++_g15;
					action15.addGamepad(button15,state15,id1);
				}
				var action16 = this._note_leftP;
				var state16 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button16 = buttons1[_g16];
					++_g16;
					action16.addGamepad(button16,state16,id1);
				}
				var action17 = this._note_leftR;
				var state17 = -1;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button17 = buttons1[_g17];
					++_g17;
					action17.addGamepad(button17,state17,id1);
				}
				break;
			case 6:
				var action18 = this._note_right;
				var state18 = 1;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button18 = buttons1[_g18];
					++_g18;
					action18.addGamepad(button18,state18,id1);
				}
				var action19 = this._note_rightP;
				var state19 = 2;
				var _g19 = 0;
				while(_g19 < buttons1.length) {
					var button19 = buttons1[_g19];
					++_g19;
					action19.addGamepad(button19,state19,id1);
				}
				var action20 = this._note_rightR;
				var state20 = -1;
				var _g20 = 0;
				while(_g20 < buttons1.length) {
					var button20 = buttons1[_g20];
					++_g20;
					action20.addGamepad(button20,state20,id1);
				}
				break;
			case 7:
				var action21 = this._note_down;
				var state21 = 1;
				var _g21 = 0;
				while(_g21 < buttons1.length) {
					var button21 = buttons1[_g21];
					++_g21;
					action21.addGamepad(button21,state21,id1);
				}
				var action22 = this._note_downP;
				var state22 = 2;
				var _g22 = 0;
				while(_g22 < buttons1.length) {
					var button22 = buttons1[_g22];
					++_g22;
					action22.addGamepad(button22,state22,id1);
				}
				var action23 = this._note_downR;
				var state23 = -1;
				var _g23 = 0;
				while(_g23 < buttons1.length) {
					var button23 = buttons1[_g23];
					++_g23;
					action23.addGamepad(button23,state23,id1);
				}
				break;
			case 8:
				var action24 = this._reset;
				var state24 = 2;
				var _g24 = 0;
				while(_g24 < buttons1.length) {
					var button24 = buttons1[_g24];
					++_g24;
					action24.addGamepad(button24,state24,id1);
				}
				break;
			case 9:
				var action25 = this._accept;
				var state25 = 2;
				var _g25 = 0;
				while(_g25 < buttons1.length) {
					var button25 = buttons1[_g25];
					++_g25;
					action25.addGamepad(button25,state25,id1);
				}
				break;
			case 10:
				var action26 = this._back;
				var state26 = 2;
				var _g26 = 0;
				while(_g26 < buttons1.length) {
					var button26 = buttons1[_g26];
					++_g26;
					action26.addGamepad(button26,state26,id1);
				}
				break;
			case 11:
				var action27 = this._pause;
				var state27 = 2;
				var _g27 = 0;
				while(_g27 < buttons1.length) {
					var button27 = buttons1[_g27];
					++_g27;
					action27.addGamepad(button27,state27,id1);
				}
				break;
			}
		}
	}
	,removeGamepad: function(deviceID) {
		if(deviceID == null) {
			deviceID = -1;
		}
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var action = _g1[_g];
			++_g;
			var i = action.inputs.length;
			while(i-- > 0) {
				var input = action.inputs[i];
				if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD && (deviceID == -1 || input.deviceID == deviceID)) {
					action.remove(input);
				}
			}
		}
		HxOverrides.remove(this.gamepadsAdded,deviceID);
	}
	,addDefaultGamepad: function(id) {
		var _g = new haxe_ds_EnumValueMap();
		_g.set(Control.ACCEPT,[0,7]);
		_g.set(Control.BACK,[1]);
		_g.set(Control.UI_UP,[11,34]);
		_g.set(Control.UI_DOWN,[12,36]);
		_g.set(Control.UI_LEFT,[13,37]);
		_g.set(Control.UI_RIGHT,[14,35]);
		_g.set(Control.NOTE_UP,[11,34,38,3]);
		_g.set(Control.NOTE_DOWN,[12,36,40,0]);
		_g.set(Control.NOTE_LEFT,[13,37,41,2]);
		_g.set(Control.NOTE_RIGHT,[14,35,39,1]);
		_g.set(Control.PAUSE,[7]);
		_g.set(Control.RESET,[8]);
		this.gamepadsAdded.push(id);
		var map = _g;
		var _g_map = map;
		var _g_keys = map.keys();
		while(_g_keys.hasNext()) {
			var key = _g_keys.next();
			var _g1_value = _g_map.get(key);
			var _g1_key = key;
			var control = _g1_key;
			var buttons = _g1_value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._ui_up;
				var state = 1;
				var _g = 0;
				while(_g < buttons1.length) {
					var button = buttons1[_g];
					++_g;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._ui_upP;
				var state1 = 2;
				var _g1 = 0;
				while(_g1 < buttons1.length) {
					var button1 = buttons1[_g1];
					++_g1;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._ui_upR;
				var state2 = -1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button2 = buttons1[_g2];
					++_g2;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._ui_left;
				var state3 = 1;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button3 = buttons1[_g3];
					++_g3;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._ui_leftP;
				var state4 = 2;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button4 = buttons1[_g4];
					++_g4;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._ui_leftR;
				var state5 = -1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button5 = buttons1[_g5];
					++_g5;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._ui_right;
				var state6 = 1;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button6 = buttons1[_g6];
					++_g6;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._ui_rightP;
				var state7 = 2;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button7 = buttons1[_g7];
					++_g7;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._ui_rightR;
				var state8 = -1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button8 = buttons1[_g8];
					++_g8;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._ui_down;
				var state9 = 1;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button9 = buttons1[_g9];
					++_g9;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._ui_downP;
				var state10 = 2;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button10 = buttons1[_g10];
					++_g10;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._ui_downR;
				var state11 = -1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button11 = buttons1[_g11];
					++_g11;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._note_up;
				var state12 = 1;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button12 = buttons1[_g12];
					++_g12;
					action12.addGamepad(button12,state12,id1);
				}
				var action13 = this._note_upP;
				var state13 = 2;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button13 = buttons1[_g13];
					++_g13;
					action13.addGamepad(button13,state13,id1);
				}
				var action14 = this._note_upR;
				var state14 = -1;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button14 = buttons1[_g14];
					++_g14;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 5:
				var action15 = this._note_left;
				var state15 = 1;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button15 = buttons1[_g15];
					++_g15;
					action15.addGamepad(button15,state15,id1);
				}
				var action16 = this._note_leftP;
				var state16 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button16 = buttons1[_g16];
					++_g16;
					action16.addGamepad(button16,state16,id1);
				}
				var action17 = this._note_leftR;
				var state17 = -1;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button17 = buttons1[_g17];
					++_g17;
					action17.addGamepad(button17,state17,id1);
				}
				break;
			case 6:
				var action18 = this._note_right;
				var state18 = 1;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button18 = buttons1[_g18];
					++_g18;
					action18.addGamepad(button18,state18,id1);
				}
				var action19 = this._note_rightP;
				var state19 = 2;
				var _g19 = 0;
				while(_g19 < buttons1.length) {
					var button19 = buttons1[_g19];
					++_g19;
					action19.addGamepad(button19,state19,id1);
				}
				var action20 = this._note_rightR;
				var state20 = -1;
				var _g20 = 0;
				while(_g20 < buttons1.length) {
					var button20 = buttons1[_g20];
					++_g20;
					action20.addGamepad(button20,state20,id1);
				}
				break;
			case 7:
				var action21 = this._note_down;
				var state21 = 1;
				var _g21 = 0;
				while(_g21 < buttons1.length) {
					var button21 = buttons1[_g21];
					++_g21;
					action21.addGamepad(button21,state21,id1);
				}
				var action22 = this._note_downP;
				var state22 = 2;
				var _g22 = 0;
				while(_g22 < buttons1.length) {
					var button22 = buttons1[_g22];
					++_g22;
					action22.addGamepad(button22,state22,id1);
				}
				var action23 = this._note_downR;
				var state23 = -1;
				var _g23 = 0;
				while(_g23 < buttons1.length) {
					var button23 = buttons1[_g23];
					++_g23;
					action23.addGamepad(button23,state23,id1);
				}
				break;
			case 8:
				var action24 = this._reset;
				var state24 = 2;
				var _g24 = 0;
				while(_g24 < buttons1.length) {
					var button24 = buttons1[_g24];
					++_g24;
					action24.addGamepad(button24,state24,id1);
				}
				break;
			case 9:
				var action25 = this._accept;
				var state25 = 2;
				var _g25 = 0;
				while(_g25 < buttons1.length) {
					var button25 = buttons1[_g25];
					++_g25;
					action25.addGamepad(button25,state25,id1);
				}
				break;
			case 10:
				var action26 = this._back;
				var state26 = 2;
				var _g26 = 0;
				while(_g26 < buttons1.length) {
					var button26 = buttons1[_g26];
					++_g26;
					action26.addGamepad(button26,state26,id1);
				}
				break;
			case 11:
				var action27 = this._pause;
				var state27 = 2;
				var _g27 = 0;
				while(_g27 < buttons1.length) {
					var button27 = buttons1[_g27];
					++_g27;
					action27.addGamepad(button27,state27,id1);
				}
				break;
			}
		}
	}
	,bindButtons: function(control,id,buttons) {
		switch(control._hx_index) {
		case 0:
			var action = this._ui_up;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_upP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_upR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 1:
			var action = this._ui_left;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_leftP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_leftR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 2:
			var action = this._ui_right;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_rightP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_rightR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 3:
			var action = this._ui_down;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_downP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._ui_downR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 4:
			var action = this._note_up;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_upP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_upR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 5:
			var action = this._note_left;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_leftP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_leftR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 6:
			var action = this._note_right;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_rightP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_rightR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 7:
			var action = this._note_down;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_downP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._note_downR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 8:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 9:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 10:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 11:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		}
	}
	,unbindButtons: function(control,gamepadID,buttons) {
		switch(control._hx_index) {
		case 0:
			Controls.removeButtons(this._ui_up,gamepadID,buttons);
			Controls.removeButtons(this._ui_upP,gamepadID,buttons);
			Controls.removeButtons(this._ui_upR,gamepadID,buttons);
			break;
		case 1:
			Controls.removeButtons(this._ui_left,gamepadID,buttons);
			Controls.removeButtons(this._ui_leftP,gamepadID,buttons);
			Controls.removeButtons(this._ui_leftR,gamepadID,buttons);
			break;
		case 2:
			Controls.removeButtons(this._ui_right,gamepadID,buttons);
			Controls.removeButtons(this._ui_rightP,gamepadID,buttons);
			Controls.removeButtons(this._ui_rightR,gamepadID,buttons);
			break;
		case 3:
			Controls.removeButtons(this._ui_down,gamepadID,buttons);
			Controls.removeButtons(this._ui_downP,gamepadID,buttons);
			Controls.removeButtons(this._ui_downR,gamepadID,buttons);
			break;
		case 4:
			Controls.removeButtons(this._note_up,gamepadID,buttons);
			Controls.removeButtons(this._note_upP,gamepadID,buttons);
			Controls.removeButtons(this._note_upR,gamepadID,buttons);
			break;
		case 5:
			Controls.removeButtons(this._note_left,gamepadID,buttons);
			Controls.removeButtons(this._note_leftP,gamepadID,buttons);
			Controls.removeButtons(this._note_leftR,gamepadID,buttons);
			break;
		case 6:
			Controls.removeButtons(this._note_right,gamepadID,buttons);
			Controls.removeButtons(this._note_rightP,gamepadID,buttons);
			Controls.removeButtons(this._note_rightR,gamepadID,buttons);
			break;
		case 7:
			Controls.removeButtons(this._note_down,gamepadID,buttons);
			Controls.removeButtons(this._note_downP,gamepadID,buttons);
			Controls.removeButtons(this._note_downR,gamepadID,buttons);
			break;
		case 8:
			Controls.removeButtons(this._reset,gamepadID,buttons);
			break;
		case 9:
			Controls.removeButtons(this._accept,gamepadID,buttons);
			break;
		case 10:
			Controls.removeButtons(this._back,gamepadID,buttons);
			break;
		case 11:
			Controls.removeButtons(this._pause,gamepadID,buttons);
			break;
		}
	}
	,getInputsFor: function(control,device,list) {
		if(list == null) {
			list = [];
		}
		switch(device._hx_index) {
		case 0:
			var _g = 0;
			var _g1 = this.getActionFromControl(control).inputs;
			while(_g < _g1.length) {
				var input = _g1[_g];
				++_g;
				if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD) {
					list.push(input.inputID);
				}
			}
			break;
		case 1:
			var id = device.id;
			var _g = 0;
			var _g1 = this.getActionFromControl(control).inputs;
			while(_g < _g1.length) {
				var input = _g1[_g];
				++_g;
				if(input.deviceID == id) {
					list.push(input.inputID);
				}
			}
			break;
		}
		return list;
	}
	,removeDevice: function(device) {
		switch(device._hx_index) {
		case 0:
			this.setKeyboardScheme(KeyboardScheme.None);
			break;
		case 1:
			var id = device.id;
			this.removeGamepad(id);
			break;
		}
	}
	,__class__: Controls
	,__properties__: {get_RESET:"get_RESET",get_PAUSE:"get_PAUSE",get_BACK:"get_BACK",get_ACCEPT:"get_ACCEPT",get_NOTE_DOWN_R:"get_NOTE_DOWN_R",get_NOTE_RIGHT_R:"get_NOTE_RIGHT_R",get_NOTE_LEFT_R:"get_NOTE_LEFT_R",get_NOTE_UP_R:"get_NOTE_UP_R",get_NOTE_DOWN_P:"get_NOTE_DOWN_P",get_NOTE_RIGHT_P:"get_NOTE_RIGHT_P",get_NOTE_LEFT_P:"get_NOTE_LEFT_P",get_NOTE_UP_P:"get_NOTE_UP_P",get_NOTE_DOWN:"get_NOTE_DOWN",get_NOTE_RIGHT:"get_NOTE_RIGHT",get_NOTE_LEFT:"get_NOTE_LEFT",get_NOTE_UP:"get_NOTE_UP",get_UI_DOWN_R:"get_UI_DOWN_R",get_UI_RIGHT_R:"get_UI_RIGHT_R",get_UI_LEFT_R:"get_UI_LEFT_R",get_UI_UP_R:"get_UI_UP_R",get_UI_DOWN_P:"get_UI_DOWN_P",get_UI_RIGHT_P:"get_UI_RIGHT_P",get_UI_LEFT_P:"get_UI_LEFT_P",get_UI_UP_P:"get_UI_UP_P",get_UI_DOWN:"get_UI_DOWN",get_UI_RIGHT:"get_UI_RIGHT",get_UI_LEFT:"get_UI_LEFT",get_UI_UP:"get_UI_UP"}
});
var CoolUtil = function() { };
$hxClasses["CoolUtil"] = CoolUtil;
CoolUtil.__name__ = "CoolUtil";
CoolUtil.getDifficultyFilePath = function(num) {
	if(num == null) {
		num = PlayState.storyDifficulty;
	}
	var fileSuffix = CoolUtil.difficulties[num];
	if(fileSuffix != CoolUtil.defaultDifficulty) {
		fileSuffix = "-" + fileSuffix;
	} else {
		fileSuffix = "";
	}
	return StringTools.replace(fileSuffix.toLowerCase()," ","-");
};
CoolUtil.difficultyString = function() {
	return CoolUtil.difficulties[PlayState.storyDifficulty].toUpperCase();
};
CoolUtil.boundTo = function(value,min,max) {
	return Math.max(min,Math.min(max,value));
};
CoolUtil.coolTextFile = function(path) {
	var daList = [];
	if(openfl_utils_Assets.exists(path)) {
		daList = StringTools.trim(openfl_utils_Assets.getText(path)).split("\n");
	}
	var _g = 0;
	var _g1 = daList.length;
	while(_g < _g1) {
		var i = _g++;
		daList[i] = StringTools.trim(daList[i]);
	}
	return daList;
};
CoolUtil.listFromString = function(string) {
	var daList = [];
	daList = StringTools.trim(string).split("\n");
	var _g = 0;
	var _g1 = daList.length;
	while(_g < _g1) {
		var i = _g++;
		daList[i] = StringTools.trim(daList[i]);
	}
	return daList;
};
CoolUtil.dominantColor = function(sprite) {
	var countByColor = new haxe_ds_IntMap();
	var _g = 0;
	var _g1 = sprite.frameWidth;
	while(_g < _g1) {
		var col = _g++;
		var _g2 = 0;
		var _g3 = sprite.frameHeight;
		while(_g2 < _g3) {
			var row = _g2++;
			var colorOfThisPixel = sprite.get_pixels().getPixel32(col,row);
			if(colorOfThisPixel != 0) {
				if(countByColor.h.hasOwnProperty(colorOfThisPixel)) {
					var v = countByColor.h[colorOfThisPixel] + 1;
					countByColor.h[colorOfThisPixel] = v;
				} else if(countByColor.h[colorOfThisPixel] != -13520687) {
					countByColor.h[colorOfThisPixel] = 1;
				}
			}
		}
	}
	var maxCount = 0;
	var maxKey = 0;
	countByColor.h[-16777216] = 0;
	var key = countByColor.keys();
	while(key.hasNext()) {
		var key1 = key.next();
		if(countByColor.h[key1] >= maxCount) {
			maxCount = countByColor.h[key1];
			maxKey = key1;
		}
	}
	return maxKey;
};
CoolUtil.numberArray = function(max,min) {
	if(min == null) {
		min = 0;
	}
	var dumbArray = [];
	var _g = min;
	var _g1 = max;
	while(_g < _g1) {
		var i = _g++;
		dumbArray.push(i);
	}
	return dumbArray;
};
CoolUtil.precacheSound = function(sound,library) {
	if(!openfl_utils_Assets.cache.hasSound(Paths.sound(sound,library))) {
		var _this = flixel_FlxG.sound;
		var EmbeddedSound = Paths.sound(sound,library);
		if(openfl_utils_Assets.exists(EmbeddedSound,"SOUND") || openfl_utils_Assets.exists(EmbeddedSound,"MUSIC")) {
			openfl_utils_Assets.getSound(EmbeddedSound,true);
		}
	}
};
CoolUtil.browserLoad = function(site) {
	var prefix = "";
	if(!new EReg("^https?://","").match(site)) {
		prefix = "http://";
	}
	openfl_Lib.getURL(new openfl_net_URLRequest(prefix + site),"_blank");
};
var flixel_group_FlxTypedGroup = function(MaxSize) {
	if(MaxSize == null) {
		MaxSize = 0;
	}
	this._marker = 0;
	this.length = 0;
	flixel_FlxBasic.call(this);
	this.members = [];
	this.set_maxSize(Math.abs(MaxSize) | 0);
	this.flixelType = 2;
};
$hxClasses["flixel.group.FlxTypedGroup"] = flixel_group_FlxTypedGroup;
flixel_group_FlxTypedGroup.__name__ = "flixel.group.FlxTypedGroup";
flixel_group_FlxTypedGroup.overlaps = function(Callback,Group,X,Y,InScreenSpace,Camera) {
	var result = false;
	if(Group != null) {
		var i = 0;
		var l = Group.length;
		var basic;
		while(i < l) {
			basic = Group.members[i++];
			if(basic != null && Callback(basic,X,Y,InScreenSpace,Camera)) {
				result = true;
				break;
			}
		}
	}
	return result;
};
flixel_group_FlxTypedGroup.resolveGroup = function(ObjectOrGroup) {
	var group = null;
	if(ObjectOrGroup != null) {
		if(ObjectOrGroup.flixelType == 2) {
			group = ObjectOrGroup;
		} else if(ObjectOrGroup.flixelType == 4) {
			var spriteGroup = ObjectOrGroup;
			group = spriteGroup.group;
		}
	}
	return group;
};
flixel_group_FlxTypedGroup.__super__ = flixel_FlxBasic;
flixel_group_FlxTypedGroup.prototype = $extend(flixel_FlxBasic.prototype,{
	members: null
	,maxSize: null
	,length: null
	,_memberAdded: null
	,_memberRemoved: null
	,_marker: null
	,destroy: function() {
		flixel_FlxBasic.prototype.destroy.call(this);
		flixel_util_FlxDestroyUtil.destroy(this._memberAdded);
		flixel_util_FlxDestroyUtil.destroy(this._memberRemoved);
		if(this.members != null) {
			var i = 0;
			var basic = null;
			while(i < this.length) {
				basic = this.members[i++];
				if(basic != null) {
					basic.destroy();
				}
			}
			this.members = null;
		}
	}
	,update: function(elapsed) {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.active) {
				basic.update(elapsed);
			}
		}
	}
	,draw: function() {
		var i = 0;
		var basic = null;
		var oldDefaultCameras = flixel_FlxCamera._defaultCameras;
		if(this.get_cameras() != null) {
			flixel_FlxCamera._defaultCameras = this.get_cameras();
		}
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.visible) {
				basic.draw();
			}
		}
		flixel_FlxCamera._defaultCameras = oldDefaultCameras;
	}
	,add: function(Object1) {
		if(Object1 == null) {
			return null;
		}
		if(this.members.indexOf(Object1) >= 0) {
			return Object1;
		}
		var index = this.getFirstNull();
		if(index != -1) {
			this.members[index] = Object1;
			if(index >= this.length) {
				this.length = index + 1;
			}
			if(this._memberAdded != null) {
				this._memberAdded.dispatch(Object1);
			}
			return Object1;
		}
		if(this.maxSize > 0 && this.length >= this.maxSize) {
			return Object1;
		}
		this.members.push(Object1);
		this.length++;
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(Object1);
		}
		return Object1;
	}
	,insert: function(position,object) {
		if(object == null) {
			return null;
		}
		if(this.members.indexOf(object) >= 0) {
			return object;
		}
		if(position < this.length && this.members[position] == null) {
			this.members[position] = object;
			if(this._memberAdded != null) {
				this._memberAdded.dispatch(object);
			}
			return object;
		}
		if(this.maxSize > 0 && this.length >= this.maxSize) {
			return object;
		}
		this.members.splice(position,0,object);
		this.length++;
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(object);
		}
		return object;
	}
	,recycle: function(ObjectClass,ObjectFactory,Force,Revive) {
		if(Revive == null) {
			Revive = true;
		}
		if(Force == null) {
			Force = false;
		}
		var basic = null;
		if(this.maxSize > 0) {
			if(this.length < this.maxSize) {
				var object = null;
				if(ObjectFactory != null) {
					object = ObjectFactory();
					this.add(object);
				} else if(ObjectClass != null) {
					object = Type.createInstance(ObjectClass,[]);
					this.add(object);
				}
				return object;
			} else {
				basic = this.members[this._marker++];
				if(this._marker >= this.maxSize) {
					this._marker = 0;
				}
				if(Revive) {
					basic.revive();
				}
				return basic;
			}
		} else {
			basic = this.getFirstAvailable(ObjectClass,Force);
			if(basic != null) {
				if(Revive) {
					basic.revive();
				}
				return basic;
			}
			var object = null;
			if(ObjectFactory != null) {
				object = ObjectFactory();
				this.add(object);
			} else if(ObjectClass != null) {
				object = Type.createInstance(ObjectClass,[]);
				this.add(object);
			}
			return object;
		}
	}
	,recycleCreateObject: function(ObjectClass,ObjectFactory) {
		var object = null;
		if(ObjectFactory != null) {
			object = ObjectFactory();
			this.add(object);
		} else if(ObjectClass != null) {
			object = Type.createInstance(ObjectClass,[]);
			this.add(object);
		}
		return object;
	}
	,remove: function(Object1,Splice) {
		if(Splice == null) {
			Splice = false;
		}
		if(this.members == null) {
			return null;
		}
		var index = this.members.indexOf(Object1);
		if(index < 0) {
			return null;
		}
		if(Splice) {
			this.members.splice(index,1);
			this.length--;
		} else {
			this.members[index] = null;
		}
		if(this._memberRemoved != null) {
			this._memberRemoved.dispatch(Object1);
		}
		return Object1;
	}
	,replace: function(OldObject,NewObject) {
		var index = this.members.indexOf(OldObject);
		if(index < 0) {
			return null;
		}
		this.members[index] = NewObject;
		if(this._memberRemoved != null) {
			this._memberRemoved.dispatch(OldObject);
		}
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(NewObject);
		}
		return NewObject;
	}
	,sort: function(Function1,Order) {
		if(Order == null) {
			Order = -1;
		}
		var _g = Function1;
		var a1 = Order;
		var tmp = function(a2,a3) {
			return _g(a1,a2,a3);
		};
		this.members.sort(tmp);
	}
	,getFirstAvailable: function(ObjectClass,Force) {
		if(Force == null) {
			Force = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.exists && (ObjectClass == null || js_Boot.__instanceof(basic,ObjectClass))) {
				var tmp;
				if(Force) {
					var c = js_Boot.getClass(basic);
					tmp = c.__name__ != ObjectClass.__name__;
				} else {
					tmp = false;
				}
				if(tmp) {
					continue;
				}
				return this.members[i - 1];
			}
		}
		return null;
	}
	,getFirstNull: function() {
		var i = 0;
		while(i < this.length) {
			if(this.members[i] == null) {
				return i;
			}
			++i;
		}
		return -1;
	}
	,getFirstExisting: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				return basic;
			}
		}
		return null;
	}
	,getFirstAlive: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.alive) {
				return basic;
			}
		}
		return null;
	}
	,getFirstDead: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.alive) {
				return basic;
			}
		}
		return null;
	}
	,countLiving: function() {
		var i = 0;
		var count = -1;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(count < 0) {
					count = 0;
				}
				if(basic.exists && basic.alive) {
					++count;
				}
			}
		}
		return count;
	}
	,countDead: function() {
		var i = 0;
		var count = -1;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(count < 0) {
					count = 0;
				}
				if(!basic.alive) {
					++count;
				}
			}
		}
		return count;
	}
	,getRandom: function(StartIndex,Length) {
		if(Length == null) {
			Length = 0;
		}
		if(StartIndex == null) {
			StartIndex = 0;
		}
		if(StartIndex < 0) {
			StartIndex = 0;
		}
		if(Length <= 0) {
			Length = this.length;
		}
		return flixel_FlxG.random.getObject_flixel_group_FlxTypedGroup_T(this.members,null,StartIndex,Length);
	}
	,clear: function() {
		this.length = 0;
		if(this._memberRemoved != null) {
			var _g = 0;
			var _g1 = this.members;
			while(_g < _g1.length) {
				var member = _g1[_g];
				++_g;
				if(member != null) {
					this._memberRemoved.dispatch(member);
				}
			}
		}
		flixel_util_FlxArrayUtil.clearArray(this.members);
	}
	,kill: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				basic.kill();
			}
		}
		flixel_FlxBasic.prototype.kill.call(this);
	}
	,revive: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.exists) {
				basic.revive();
			}
		}
		flixel_FlxBasic.prototype.revive.call(this);
	}
	,iterator: function(filter) {
		return new flixel_group_FlxTypedGroupIterator(this.members,filter);
	}
	,forEach: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEach(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachAlive: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.alive) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachAlive(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachDead: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.alive) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachDead(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachExists: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachExists(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachOfType: function(ObjectClass,Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachOfType(ObjectClass,Function1,Recurse);
					}
				}
				if(js_Boot.__instanceof(basic,ObjectClass)) {
					Function1(basic);
				}
			}
		}
	}
	,set_maxSize: function(Size) {
		this.maxSize = Math.abs(Size) | 0;
		if(this._marker >= this.maxSize) {
			this._marker = 0;
		}
		if(this.maxSize == 0 || this.members == null || this.maxSize >= this.length) {
			return this.maxSize;
		}
		var i = this.maxSize;
		var l = this.length;
		var basic = null;
		while(i < l) {
			basic = this.members[i++];
			if(basic != null) {
				if(this._memberRemoved != null) {
					this._memberRemoved.dispatch(basic);
				}
				basic.destroy();
			}
		}
		flixel_util_FlxArrayUtil.setLength_flixel_group_FlxTypedGroup_T(this.members,this.maxSize);
		this.length = this.members.length;
		return this.maxSize;
	}
	,get_memberAdded: function() {
		if(this._memberAdded == null) {
			this._memberAdded = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._memberAdded;
	}
	,get_memberRemoved: function() {
		if(this._memberRemoved == null) {
			this._memberRemoved = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._memberRemoved;
	}
	,__class__: flixel_group_FlxTypedGroup
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{get_memberRemoved:"get_memberRemoved",get_memberAdded:"get_memberAdded",set_maxSize:"set_maxSize"})
});
var flixel_FlxState = function(MaxSize) {
	this._requestSubStateReset = false;
	this.destroySubStates = true;
	this.persistentDraw = true;
	this.persistentUpdate = false;
	flixel_group_FlxTypedGroup.call(this,MaxSize);
};
$hxClasses["flixel.FlxState"] = flixel_FlxState;
flixel_FlxState.__name__ = "flixel.FlxState";
flixel_FlxState.__super__ = flixel_group_FlxTypedGroup;
flixel_FlxState.prototype = $extend(flixel_group_FlxTypedGroup.prototype,{
	persistentUpdate: null
	,persistentDraw: null
	,destroySubStates: null
	,subState: null
	,_requestedSubState: null
	,_requestSubStateReset: null
	,_subStateOpened: null
	,_subStateClosed: null
	,create: function() {
	}
	,draw: function() {
		if(this.persistentDraw || this.subState == null) {
			flixel_group_FlxTypedGroup.prototype.draw.call(this);
		}
		if(this.subState != null) {
			this.subState.draw();
		}
	}
	,openSubState: function(SubState) {
		this._requestSubStateReset = true;
		this._requestedSubState = SubState;
	}
	,closeSubState: function() {
		this._requestSubStateReset = true;
	}
	,resetSubState: function() {
		if(this.subState != null) {
			if(this.subState.closeCallback != null) {
				this.subState.closeCallback();
			}
			if(this._subStateClosed != null) {
				this._subStateClosed.dispatch(this.subState);
			}
			if(this.destroySubStates) {
				this.subState.destroy();
			}
		}
		this.subState = this._requestedSubState;
		this._requestedSubState = null;
		if(this.subState != null) {
			if(!this.persistentUpdate) {
				flixel_FlxG.inputs.onStateSwitch();
			}
			this.subState._parentState = this;
			if(!this.subState._created) {
				this.subState._created = true;
				this.subState.create();
			}
			if(this.subState.openCallback != null) {
				this.subState.openCallback();
			}
			if(this._subStateOpened != null) {
				this._subStateOpened.dispatch(this.subState);
			}
		}
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.destroy(this._subStateOpened);
		flixel_util_FlxDestroyUtil.destroy(this._subStateClosed);
		if(this.subState != null) {
			this.subState.destroy();
			this.subState = null;
		}
		flixel_group_FlxTypedGroup.prototype.destroy.call(this);
	}
	,switchTo: function(nextState) {
		return true;
	}
	,onFocusLost: function() {
	}
	,onFocus: function() {
	}
	,onResize: function(Width,Height) {
	}
	,tryUpdate: function(elapsed) {
		if(this.persistentUpdate || this.subState == null) {
			this.update(elapsed);
		}
		if(this._requestSubStateReset) {
			this._requestSubStateReset = false;
			this.resetSubState();
		}
		if(this.subState != null) {
			this.subState.tryUpdate(elapsed);
		}
	}
	,get_bgColor: function() {
		return flixel_FlxG.cameras.get_bgColor();
	}
	,set_bgColor: function(Value) {
		return flixel_FlxG.cameras.set_bgColor(Value);
	}
	,get_subStateOpened: function() {
		if(this._subStateOpened == null) {
			this._subStateOpened = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._subStateOpened;
	}
	,get_subStateClosed: function() {
		if(this._subStateClosed == null) {
			this._subStateClosed = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._subStateClosed;
	}
	,__class__: flixel_FlxState
	,__properties__: $extend(flixel_group_FlxTypedGroup.prototype.__properties__,{get_subStateClosed:"get_subStateClosed",get_subStateOpened:"get_subStateOpened",set_bgColor:"set_bgColor",get_bgColor:"get_bgColor"})
});
var flixel_addons_transition_FlxTransitionableState = function(TransIn,TransOut) {
	this._exiting = false;
	this.transOutFinished = false;
	this.transIn = TransIn;
	this.transOut = TransOut;
	if(this.transIn == null && flixel_addons_transition_FlxTransitionableState.defaultTransIn != null) {
		this.transIn = flixel_addons_transition_FlxTransitionableState.defaultTransIn;
	}
	if(this.transOut == null && flixel_addons_transition_FlxTransitionableState.defaultTransOut != null) {
		this.transOut = flixel_addons_transition_FlxTransitionableState.defaultTransOut;
	}
	flixel_FlxState.call(this);
};
$hxClasses["flixel.addons.transition.FlxTransitionableState"] = flixel_addons_transition_FlxTransitionableState;
flixel_addons_transition_FlxTransitionableState.__name__ = "flixel.addons.transition.FlxTransitionableState";
flixel_addons_transition_FlxTransitionableState.__super__ = flixel_FlxState;
flixel_addons_transition_FlxTransitionableState.prototype = $extend(flixel_FlxState.prototype,{
	transIn: null
	,transOut: null
	,destroy: function() {
		flixel_FlxState.prototype.destroy.call(this);
		this.transIn = null;
		this.transOut = null;
		this._onExit = null;
	}
	,create: function() {
		flixel_FlxState.prototype.create.call(this);
		this.transitionIn();
	}
	,switchTo: function(nextState) {
		if(!this.get_hasTransOut()) {
			return true;
		}
		if(!this._exiting) {
			this.transitionToState(nextState);
		}
		return this.transOutFinished;
	}
	,transitionToState: function(nextState) {
		this._exiting = true;
		this.transitionOut(function() {
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		});
		if(flixel_addons_transition_FlxTransitionableState.skipNextTransOut) {
			flixel_addons_transition_FlxTransitionableState.skipNextTransOut = false;
			this.finishTransOut();
		}
	}
	,transitionIn: function() {
		if(this.transIn != null && this.transIn.type != "none") {
			if(flixel_addons_transition_FlxTransitionableState.skipNextTransIn) {
				flixel_addons_transition_FlxTransitionableState.skipNextTransIn = false;
				if(this.finishTransIn != null) {
					this.finishTransIn();
				}
				return;
			}
			var _trans = this.createTransition(this.transIn);
			_trans.setStatus(3);
			this.openSubState(_trans);
			_trans.set_finishCallback($bind(this,this.finishTransIn));
			_trans.start(1);
		}
	}
	,transitionOut: function(OnExit) {
		this._onExit = OnExit;
		if(this.get_hasTransOut()) {
			var _trans = this.createTransition(this.transOut);
			_trans.setStatus(2);
			this.openSubState(_trans);
			_trans.set_finishCallback($bind(this,this.finishTransOut));
			_trans.start(0);
		} else {
			this._onExit();
		}
	}
	,transOutFinished: null
	,_exiting: null
	,_onExit: null
	,get_hasTransIn: function() {
		if(this.transIn != null) {
			return this.transIn.type != "none";
		} else {
			return false;
		}
	}
	,get_hasTransOut: function() {
		if(this.transOut != null) {
			return this.transOut.type != "none";
		} else {
			return false;
		}
	}
	,createTransition: function(data) {
		switch(data.type) {
		case "fade":
			return new flixel_addons_transition_Transition(data);
		case "tiles":
			return new flixel_addons_transition_Transition(data);
		default:
			return null;
		}
	}
	,finishTransIn: function() {
		this.closeSubState();
	}
	,finishTransOut: function() {
		this.transOutFinished = true;
		if(!this._exiting) {
			this.closeSubState();
		}
		if(this._onExit != null) {
			this._onExit();
		}
	}
	,__class__: flixel_addons_transition_FlxTransitionableState
	,__properties__: $extend(flixel_FlxState.prototype.__properties__,{get_hasTransOut:"get_hasTransOut",get_hasTransIn:"get_hasTransIn"})
});
var flixel_addons_ui_interfaces_IEventGetter = function() { };
$hxClasses["flixel.addons.ui.interfaces.IEventGetter"] = flixel_addons_ui_interfaces_IEventGetter;
flixel_addons_ui_interfaces_IEventGetter.__name__ = "flixel.addons.ui.interfaces.IEventGetter";
flixel_addons_ui_interfaces_IEventGetter.__isInterface__ = true;
flixel_addons_ui_interfaces_IEventGetter.prototype = {
	getEvent: null
	,getRequest: null
	,__class__: flixel_addons_ui_interfaces_IEventGetter
};
var flixel_addons_ui_interfaces_IFlxUIState = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFlxUIState"] = flixel_addons_ui_interfaces_IFlxUIState;
flixel_addons_ui_interfaces_IFlxUIState.__name__ = "flixel.addons.ui.interfaces.IFlxUIState";
flixel_addons_ui_interfaces_IFlxUIState.__isInterface__ = true;
flixel_addons_ui_interfaces_IFlxUIState.__interfaces__ = [flixel_addons_ui_interfaces_IEventGetter];
flixel_addons_ui_interfaces_IFlxUIState.prototype = {
	forceFocus: null
	,tooltips: null
	,cursor: null
	,_tongue: null
	,__class__: flixel_addons_ui_interfaces_IFlxUIState
};
var flixel_addons_ui_FlxUIState = function(TransIn,TransOut) {
	this.getTextFallback = null;
	this._reload_countdown = 0;
	this._reload = false;
	this.reload_ui_on_resize = false;
	this._xml_id = "";
	this._cursorHidden = false;
	this.hideCursorOnSubstate = false;
	this.cursor = null;
	flixel_addons_transition_FlxTransitionableState.call(this,TransIn,TransOut);
};
$hxClasses["flixel.addons.ui.FlxUIState"] = flixel_addons_ui_FlxUIState;
flixel_addons_ui_FlxUIState.__name__ = "flixel.addons.ui.FlxUIState";
flixel_addons_ui_FlxUIState.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIState,flixel_addons_ui_interfaces_IEventGetter];
flixel_addons_ui_FlxUIState.__super__ = flixel_addons_transition_FlxTransitionableState;
flixel_addons_ui_FlxUIState.prototype = $extend(flixel_addons_transition_FlxTransitionableState.prototype,{
	destroyed: null
	,cursor: null
	,hideCursorOnSubstate: null
	,_cursorHidden: null
	,tooltips: null
	,_xml_id: null
	,_makeCursor: null
	,_ui_vars: null
	,_ui: null
	,_tongue: null
	,reload_ui_on_resize: null
	,_reload: null
	,_reload_countdown: null
	,getTextFallback: null
	,create: function() {
		if(flixel_addons_ui_FlxUIState.static_tongue != null) {
			this._tongue = flixel_addons_ui_FlxUIState.static_tongue;
		}
		if(this._makeCursor == true) {
			this.cursor = this.createCursor();
		}
		this.tooltips = new flixel_addons_ui_FlxUITooltipManager(this);
		var liveFile = null;
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		if(this.getTextFallback != null) {
			this._ui.getTextFallback = this.getTextFallback;
		}
		if(this._xml_id != null && this._xml_id != "") {
			var data = null;
			var errorMsg = "";
			if(liveFile == null) {
				try {
					data = flixel_addons_ui_U.xml(this._xml_id);
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					var _g1 = haxe_Exception.caught(_g).unwrap();
					if(typeof(_g1) == "string") {
						var msg = _g1;
						errorMsg = msg;
					} else {
						throw _g;
					}
				}
				if(data == null) {
					try {
						data = flixel_addons_ui_U.xml(this._xml_id,"xml",true,"");
					} catch( _g ) {
						haxe_NativeStackTrace.lastError = _g;
						var _g1 = haxe_Exception.caught(_g).unwrap();
						if(typeof(_g1) == "string") {
							var msg2 = _g1;
							errorMsg += ", " + msg2;
						} else {
							throw _g;
						}
					}
				}
			}
			if(data == null) {
				if(liveFile != null) {
					this.loadUIFromData(liveFile);
				}
			} else {
				this.loadUIFromData(data);
			}
		} else {
			this.loadUIFromData(null);
		}
		if(this.cursor != null && this._ui != null) {
			this.add(this.cursor);
			this.cursor.addWidgetsFromUI(this._ui);
			this.cursor.findVisibleLocation(0);
		}
		this.tooltips.init();
		flixel_addons_transition_FlxTransitionableState.prototype.create.call(this);
		this.cleanup();
	}
	,update: function(elapsed) {
		flixel_addons_transition_FlxTransitionableState.prototype.update.call(this,elapsed);
		if(this.tooltips != null) {
			this.tooltips.update(elapsed);
		}
		if(this._reload) {
			if(this._reload_countdown > 0) {
				this._reload_countdown--;
				if(this._reload_countdown == 0) {
					this.reloadUI();
				}
			}
		}
	}
	,cleanup: function() {
		this._ui.cleanup();
	}
	,_cleanupUIVars: function() {
		if(this._ui_vars != null) {
			var h = this._ui_vars.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._ui_vars;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._ui_vars = null;
		}
	}
	,setUIVariable: function(key,value) {
		if(this._ui != null) {
			this._ui.setVariable(key,value);
		} else {
			if(this._ui_vars == null) {
				this._ui_vars = new haxe_ds_StringMap();
			}
			this._ui_vars.h[key] = value;
		}
	}
	,resizeScreen: function(width,height) {
		if(height == null) {
			height = 600;
		}
		if(width == null) {
			width = 800;
		}
	}
	,openSubState: function(SubState) {
		if(this.cursor != null && this.hideCursorOnSubstate && this.cursor.visible == true) {
			this._cursorHidden = true;
			this.cursor.set_visible(false);
		}
		flixel_addons_transition_FlxTransitionableState.prototype.openSubState.call(this,SubState);
	}
	,closeSubState: function() {
		if(this.cursor != null && this.hideCursorOnSubstate && this._cursorHidden) {
			this._cursorHidden = false;
			this.cursor.set_visible(true);
		}
		flixel_addons_transition_FlxTransitionableState.prototype.closeSubState.call(this);
	}
	,onResize: function(Width,Height) {
		if(this.reload_ui_on_resize) {
			flixel_FlxG.scaleMode.onMeasure(Width,Height);
			this._reload_countdown = 1;
			this._reload = true;
		}
	}
	,onShowTooltip: function(t) {
	}
	,destroy: function() {
		this.destroyed = true;
		if(this._ui != null) {
			this._ui.destroy();
			this.remove(this._ui,true);
			this._ui = null;
		}
		if(this.tooltips != null) {
			this.tooltips.destroy();
			this.tooltips = null;
		}
		flixel_addons_transition_FlxTransitionableState.prototype.destroy.call(this);
	}
	,forceFocus: function(b,thing) {
		if(this._ui != null) {
			if(b) {
				this._ui.set_focus(thing);
			} else {
				this._ui.set_focus(null);
			}
		}
	}
	,onCursorEvent: function(code,target) {
		this.getEvent(code,target,null);
	}
	,getEvent: function(id,sender,data,params) {
	}
	,getRequest: function(id,sender,data,params) {
		return null;
	}
	,getText: function(Flag,Context,Safe) {
		if(Safe == null) {
			Safe = true;
		}
		if(Context == null) {
			Context = "ui";
		}
		if(this._tongue != null) {
			return this._tongue.get(Flag,Context,Safe);
		}
		if(this.getTextFallback != null) {
			return this.getTextFallback(Flag,Context,Safe);
		}
		return Flag;
	}
	,createCursor: function() {
		return new flixel_addons_ui_FlxUICursor($bind(this,this.onCursorEvent));
	}
	,createUI: function(data,ptr,superIndex_,tongue_,liveFilePath_) {
		if(liveFilePath_ == null) {
			liveFilePath_ = "";
		}
		var flxui = new flixel_addons_ui_FlxUI(data,ptr,superIndex_,tongue_,liveFilePath_,this._ui_vars);
		this._cleanupUIVars();
		return flxui;
	}
	,loadUIFromData: function(data) {
		this._ui.load(data);
	}
	,reloadUI: function(e) {
		if(this._ui != null) {
			this.remove(this._ui,true);
			this._ui.destroy();
			this._ui = null;
		}
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		var data = flixel_addons_ui_U.xml(this._xml_id);
		if(data != null) {
			this.loadUIFromData(data);
		}
		this._reload = false;
		this._reload_countdown = 0;
	}
	,__class__: flixel_addons_ui_FlxUIState
});
var MusicBeatState = function(TransIn,TransOut) {
	this.trackedinputsNOTES = [];
	this.trackedinputsUI = [];
	this.curBeat = 0;
	this.curStep = 0;
	this.lastStep = 0;
	this.lastBeat = 0;
	flixel_addons_ui_FlxUIState.call(this,TransIn,TransOut);
};
$hxClasses["MusicBeatState"] = MusicBeatState;
MusicBeatState.__name__ = "MusicBeatState";
MusicBeatState.switchState = function(nextState) {
	var curState = flixel_FlxG.game._state;
	var leState = curState;
	if(!flixel_addons_transition_FlxTransitionableState.skipNextTransIn) {
		leState.openSubState(new CustomFadeTransition(0.7,false));
		if(nextState == flixel_FlxG.game._state) {
			CustomFadeTransition.finishCallback = function() {
				var nextState = Type.createInstance(js_Boot.getClass(flixel_FlxG.game._state),[]);
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			};
		} else {
			CustomFadeTransition.finishCallback = function() {
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			};
		}
		return;
	}
	flixel_addons_transition_FlxTransitionableState.skipNextTransIn = false;
	if(flixel_FlxG.game._state.switchTo(nextState)) {
		flixel_FlxG.game._requestedState = nextState;
	}
};
MusicBeatState.resetState = function() {
	MusicBeatState.switchState(flixel_FlxG.game._state);
};
MusicBeatState.getState = function() {
	var curState = flixel_FlxG.game._state;
	var leState = curState;
	return leState;
};
MusicBeatState.__super__ = flixel_addons_ui_FlxUIState;
MusicBeatState.prototype = $extend(flixel_addons_ui_FlxUIState.prototype,{
	lastBeat: null
	,lastStep: null
	,curStep: null
	,curBeat: null
	,get_controls: function() {
		return PlayerSettings.player1.controls;
	}
	,_virtualpad: null
	,trackedinputsUI: null
	,trackedinputsNOTES: null
	,addVirtualPad: function(DPad,Action1) {
		this._virtualpad = new ui_FlxVirtualPad(DPad,Action1);
		this._virtualpad.set_alpha(0.75);
		this.add(this._virtualpad);
		PlayerSettings.player1.controls.setVirtualPadUI(this._virtualpad,DPad,Action1);
		this.trackedinputsUI = PlayerSettings.player1.controls.trackedinputsUI;
		PlayerSettings.player1.controls.trackedinputsUI = [];
	}
	,destroy: function() {
		PlayerSettings.player1.controls.removeFlxInput(this.trackedinputsUI);
		PlayerSettings.player1.controls.removeFlxInput(this.trackedinputsNOTES);
		flixel_addons_ui_FlxUIState.prototype.destroy.call(this);
	}
	,create: function() {
		var skip = flixel_addons_transition_FlxTransitionableState.skipNextTransOut;
		flixel_addons_ui_FlxUIState.prototype.create.call(this);
		if(!skip) {
			this.openSubState(new CustomFadeTransition(1,true));
		}
		flixel_addons_transition_FlxTransitionableState.skipNextTransOut = false;
	}
	,update: function(elapsed) {
		var oldStep = this.curStep;
		this.updateCurStep();
		this.updateBeat();
		if(oldStep != this.curStep && this.curStep > 0) {
			this.stepHit();
		}
		flixel_addons_ui_FlxUIState.prototype.update.call(this,elapsed);
	}
	,updateBeat: function() {
		this.curBeat = Math.floor(this.curStep / 4);
	}
	,updateCurStep: function() {
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(Conductor.songPosition >= Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		this.curStep = lastChange.stepTime + Math.floor((Conductor.songPosition - ClientPrefs.noteOffset - lastChange.songTime) / Conductor.stepCrochet);
	}
	,stepHit: function() {
		if(this.curStep % 4 == 0) {
			this.beatHit();
		}
	}
	,beatHit: function() {
	}
	,__class__: MusicBeatState
	,__properties__: $extend(flixel_addons_ui_FlxUIState.prototype.__properties__,{get_controls:"get_controls"})
});
var CreditsState = function(TransIn,TransOut) {
	this.creditsStuff = [];
	this.iconArray = [];
	this.curSelected = -1;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["CreditsState"] = CreditsState;
CreditsState.__name__ = "CreditsState";
CreditsState.__super__ = MusicBeatState;
CreditsState.prototype = $extend(MusicBeatState.prototype,{
	curSelected: null
	,grpOptions: null
	,iconArray: null
	,creditsStuff: null
	,bg: null
	,descBox: null
	,descText: null
	,intendedColor: null
	,colorTween: null
	,create: function() {
		this.bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		this.add(this.bg);
		this.grpOptions = new flixel_group_FlxTypedGroup();
		this.add(this.grpOptions);
		var pisspoop = [["CN Takeover Port"],["UNSTOP4BLE","unstop4ble","Made The Port","https://www.youtube.com/channel/UCR4wDMrnfOPhW-zZQtNU4iA","CFB46B"],["Psych Engine Mobile HTML5"],["UNSTOP4BLE","unstop4ble","Main Coder of The Port","https://www.youtube.com/channel/UCR4wDMrnfOPhW-zZQtNU4iA","CFB46B"],["g3om3trycr3ator","g3yt","Secondary Coder","https://www.youtube.com/channel/UCo6nbxU6x_YXaHVj78e7_vg","C3DDFE"],["Original CN Takeover Devs"],["Cape","invis","Director & Charter","https://twitter.com/c4peletini","C3DDFE"],["Zero Animation","invis","Director & Main Artist/Animator","https://twitter.com/zero_artist02","C3DDFE"],["Jloor","invis","Main Coder","https://twitter.com/GamerJloor","C3DDFE"],["GoddessAwe","invis","Main Demo Musician","https://twitter.com/GoddessAwe","C3DDFE"],["ToK","invis","Charter","https://twitter.com/ThatOne_Kid39","C3DDFE"],["Oz","invis","Background Artist","https://twitter.com/ozkzz_","C3DDFE"],["Ooum","invis","Retro Quiet Inst","https://twitter.com/cacdastral","C3DDFE"],["Hayseed","invis","Quiet Melody, Finn Voice","https://twitter.com/HayseedHere","C3DDFE"],["P.R","invis","Extra Musician","https://twitter.com/PRDevOfficial","C3DDFE"],["Plidkrev","invis","Logo Artist","https://twitter.com/plidkrev","C3DDFE"],["Psych Engine Android"],["M.A. Jigsaw","majigsaw","Main Coder of The Android Port, without him the Mobile HTML5 port whouldnt be possible","https://www.youtube.com/channel/UC2Sk7vtPzOvbVzdVTWrribQ","F73838"],["Psych Engine Team"],["Shadow Mario","shadowmario","Main Programmer of Psych Engine","https://twitter.com/Shadow_Mario_","444444"],["RiverOaken","riveroaken","Main Artist/Animator of Psych Engine","https://twitter.com/river_oaken","C30085"],["bb-panzu","bb-panzu","Additional Programmer of Psych Engine","https://twitter.com/bbsub3","389A58"],[""],["Engine Contributors"],["shubs","shubs","New Input System Programmer","https://twitter.com/yoshubs","4494E6"],["SqirraRNG","gedehari","Chart Editor's Sound Waveform base","https://twitter.com/gedehari","FF9300"],["iFlicky","iflicky","Delay/Combo Menu Song Composer\nand Dialogue Sounds","https://twitter.com/flicky_i","C549DB"],["PolybiusProxy","polybiusproxy",".MP4 Video Loader Extension","https://twitter.com/polybiusproxy","FFEAA6"],["Keoiki","keoiki","Note Splash Animations","https://twitter.com/Keoiki_","FFFFFF"],[""],["Funkin' Crew"],["ninjamuffin99","ninjamuffin99","Programmer of Friday Night Funkin'","https://twitter.com/ninja_muffin99","F73838"],["PhantomArcade","phantomarcade","Animator of Friday Night Funkin'","https://twitter.com/PhantomArcade3K","FFBB1B"],["evilsk8r","evilsk8r","Artist of Friday Night Funkin'","https://twitter.com/evilsk8r","53E52C"],["kawaisprite","kawaisprite","Composer of Friday Night Funkin'","https://twitter.com/kawaisprite","6475F3"]];
		var _g = 0;
		while(_g < pisspoop.length) {
			var i = pisspoop[_g];
			++_g;
			this.creditsStuff.push(i);
		}
		var _g = 0;
		var _g1 = this.creditsStuff.length;
		while(_g < _g1) {
			var i = _g++;
			var isSelectable = !this.unselectableCheck(i);
			var optionText = new Alphabet(0,70 * i,this.creditsStuff[i][0],!isSelectable,false);
			optionText.isMenuItem = true;
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				optionText.set_x((flixel_FlxG.width - optionText.get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				optionText.set_y((flixel_FlxG.height - optionText.get_height()) / 2);
			}
			optionText.yAdd -= 70;
			if(isSelectable) {
				optionText.set_x(optionText.x - 70);
			}
			optionText.forceX = optionText.x;
			optionText.targetY = i;
			this.grpOptions.add(optionText);
			if(isSelectable) {
				if(this.creditsStuff[i][5] != null) {
					Paths.currentModDirectory = this.creditsStuff[i][5];
				}
				var icon = new AttachedSprite("credits/" + this.creditsStuff[i][1]);
				icon.xAdd = optionText.get_width() + 10;
				icon.sprTracker = optionText;
				this.iconArray.push(icon);
				this.add(icon);
				Paths.currentModDirectory = "";
				if(this.curSelected == -1) {
					this.curSelected = i;
				}
			}
		}
		this.descBox = new flixel_FlxSprite().makeGraphic(1,1,-16777216);
		this.descBox.set_alpha(0.6);
		this.add(this.descBox);
		this.descText = new flixel_text_FlxText(50,600,1180,"",32);
		this.descText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.descText.scrollFactor.set();
		this.descText.set_borderSize(2.4);
		this.add(this.descText);
		this.bg.set_color(this.getCurrentBGColor());
		this.intendedColor = this.bg.color;
		this.changeSelection();
		this.addVirtualPad(ui_FlxDPadMode.UP_DOWN,ui_FlxActionMode.A_B);
		MusicBeatState.prototype.create.call(this);
	}
	,update: function(elapsed) {
		if(flixel_FlxG.sound.music._volume < 0.7) {
			var fh = flixel_FlxG.sound.music;
			fh.set_volume(fh._volume + 0.5 * flixel_FlxG.elapsed);
		}
		var upP = PlayerSettings.player1.controls._ui_upP.check();
		var downP = PlayerSettings.player1.controls._ui_downP.check();
		if(upP) {
			this.changeSelection(-1);
		}
		if(downP) {
			this.changeSelection(1);
		}
		if(PlayerSettings.player1.controls._back.check()) {
			if(this.colorTween != null) {
				this.colorTween.cancel();
			}
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
			MusicBeatState.switchState(new MainMenuState());
		}
		if(PlayerSettings.player1.controls._accept.check()) {
			CoolUtil.browserLoad(this.creditsStuff[this.curSelected][3]);
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		var _gthis = this;
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		while(true) {
			this.curSelected += change;
			if(this.curSelected < 0) {
				this.curSelected = this.creditsStuff.length - 1;
			}
			if(this.curSelected >= this.creditsStuff.length) {
				this.curSelected = 0;
			}
			if(!this.unselectableCheck(this.curSelected)) {
				break;
			}
		}
		var newColor = this.getCurrentBGColor();
		if(newColor != this.intendedColor) {
			if(this.colorTween != null) {
				this.colorTween.cancel();
			}
			this.intendedColor = newColor;
			this.colorTween = flixel_tweens_FlxTween.color(this.bg,1,this.bg.color,this.intendedColor,{ onComplete : function(twn) {
				_gthis.colorTween = null;
			}});
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.grpOptions.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - this.curSelected;
			if(!this.unselectableCheck(bullShit++)) {
				item.set_alpha(0.6);
				if(item.targetY == 0) {
					item.set_alpha(1);
				}
			}
		}
		this.descText.set_text(this.creditsStuff[this.curSelected][2]);
		var _this = this.descText;
		var axes = flixel_util_FlxAxes.Y;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		var fh = this.descText;
		fh.set_y(fh.y + 270);
		this.descBox.setPosition(this.descText.x - 10,this.descText.y - 10);
		this.descBox.setGraphicSize(this.descText.get_width() + 20 | 0,this.descText.get_height() + 25 | 0);
		this.descBox.updateHitbox();
	}
	,getCurrentBGColor: function() {
		var bgColor = this.creditsStuff[this.curSelected][4];
		if(!StringTools.startsWith(bgColor,"0x")) {
			bgColor = "0xFF" + bgColor;
		}
		return Std.parseInt(bgColor);
	}
	,unselectableCheck: function(num) {
		return this.creditsStuff[num].length <= 1;
	}
	,__class__: CreditsState
});
var flixel_FlxSubState = function(BGColor) {
	if(BGColor == null) {
		BGColor = 0;
	}
	this._created = false;
	flixel_FlxState.call(this);
	this.closeCallback = null;
	this.openCallback = null;
	if(flixel_FlxG.renderTile) {
		this._bgSprite = new flixel_system_FlxBGSprite();
	}
	this.set_bgColor(BGColor);
};
$hxClasses["flixel.FlxSubState"] = flixel_FlxSubState;
flixel_FlxSubState.__name__ = "flixel.FlxSubState";
flixel_FlxSubState.__super__ = flixel_FlxState;
flixel_FlxSubState.prototype = $extend(flixel_FlxState.prototype,{
	openCallback: null
	,closeCallback: null
	,_bgSprite: null
	,_parentState: null
	,_bgColor: null
	,_created: null
	,draw: function() {
		if(flixel_FlxG.renderBlit) {
			var _g = 0;
			var _g1 = this.get_cameras();
			while(_g < _g1.length) {
				var camera = _g1[_g];
				++_g;
				camera.fill(this._bgColor);
			}
		} else {
			this._bgSprite.draw();
		}
		flixel_FlxState.prototype.draw.call(this);
	}
	,destroy: function() {
		flixel_FlxState.prototype.destroy.call(this);
		this.closeCallback = null;
		this.openCallback = null;
		this._parentState = null;
		this._bgSprite = null;
	}
	,close: function() {
		if(this._parentState != null && this._parentState.subState == this) {
			this._parentState.closeSubState();
		}
	}
	,get_bgColor: function() {
		return this._bgColor;
	}
	,set_bgColor: function(Value) {
		if(flixel_FlxG.renderTile && this._bgSprite != null) {
			this._bgSprite.get_pixels().setPixel32(0,0,Value);
		}
		return this._bgColor = Value;
	}
	,__class__: flixel_FlxSubState
});
var MusicBeatSubstate = function() {
	this.trackedinputsNOTES = [];
	this.trackedinputsUI = [];
	this.curBeat = 0;
	this.curStep = 0;
	this.lastStep = 0;
	this.lastBeat = 0;
	flixel_FlxSubState.call(this);
};
$hxClasses["MusicBeatSubstate"] = MusicBeatSubstate;
MusicBeatSubstate.__name__ = "MusicBeatSubstate";
MusicBeatSubstate.__super__ = flixel_FlxSubState;
MusicBeatSubstate.prototype = $extend(flixel_FlxSubState.prototype,{
	lastBeat: null
	,lastStep: null
	,curStep: null
	,curBeat: null
	,get_controls: function() {
		return PlayerSettings.player1.controls;
	}
	,_virtualpad: null
	,trackedinputsUI: null
	,trackedinputsNOTES: null
	,addVirtualPad: function(DPad,Action1) {
		this._virtualpad = new ui_FlxVirtualPad(DPad,Action1);
		this._virtualpad.set_alpha(0.75);
		this.add(this._virtualpad);
		PlayerSettings.player1.controls.setVirtualPadUI(this._virtualpad,DPad,Action1);
		this.trackedinputsUI = PlayerSettings.player1.controls.trackedinputsUI;
		PlayerSettings.player1.controls.trackedinputsUI = [];
	}
	,destroy: function() {
		PlayerSettings.player1.controls.removeFlxInput(this.trackedinputsUI);
		PlayerSettings.player1.controls.removeFlxInput(this.trackedinputsNOTES);
		flixel_FlxSubState.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		var oldStep = this.curStep;
		this.updateCurStep();
		this.curBeat = Math.floor(this.curStep / 4);
		if(oldStep != this.curStep && this.curStep > 0) {
			this.stepHit();
		}
		flixel_FlxSubState.prototype.update.call(this,elapsed);
	}
	,updateCurStep: function() {
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(Conductor.songPosition > Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		this.curStep = lastChange.stepTime + Math.floor((Conductor.songPosition - lastChange.songTime) / Conductor.stepCrochet);
	}
	,stepHit: function() {
		if(this.curStep % 4 == 0) {
			this.beatHit();
		}
	}
	,beatHit: function() {
	}
	,__class__: MusicBeatSubstate
	,__properties__: $extend(flixel_FlxSubState.prototype.__properties__,{get_controls:"get_controls"})
});
var CustomFadeTransition = function(duration,isTransIn) {
	this.isTransIn = false;
	this.leTween = null;
	var _gthis = this;
	MusicBeatSubstate.call(this);
	this.isTransIn = isTransIn;
	var zoom = Math.max(0.05,Math.min(1,flixel_FlxG.camera.zoom));
	var width = flixel_FlxG.width / zoom | 0;
	var height = flixel_FlxG.height / zoom | 0;
	this.transGradient = flixel_util_FlxGradient.createGradientFlxSprite(width,height,isTransIn ? [0,-16777216] : [-16777216,0]);
	this.transGradient.scrollFactor.set();
	this.add(this.transGradient);
	this.transBlack = new flixel_FlxSprite().makeGraphic(width,height + 400,-16777216);
	this.transBlack.scrollFactor.set();
	this.add(this.transBlack);
	var fh = this.transGradient;
	fh.set_x(fh.x - (width - flixel_FlxG.width) / 2);
	this.transBlack.set_x(this.transGradient.x);
	if(isTransIn) {
		this.transGradient.set_y(this.transBlack.y - this.transBlack.get_height());
		flixel_tweens_FlxTween.tween(this.transGradient,{ y : this.transGradient.get_height() + 50},duration,{ onComplete : function(twn) {
			_gthis.close();
		}, ease : flixel_tweens_FlxEase.linear});
	} else {
		this.transGradient.set_y(-this.transGradient.get_height());
		this.transBlack.set_y(this.transGradient.y - this.transBlack.get_height() + 50);
		this.leTween = flixel_tweens_FlxTween.tween(this.transGradient,{ y : this.transGradient.get_height() + 50},duration,{ onComplete : function(twn) {
			if(CustomFadeTransition.finishCallback != null) {
				CustomFadeTransition.finishCallback();
			}
		}, ease : flixel_tweens_FlxEase.linear});
	}
	if(CustomFadeTransition.nextCamera != null) {
		this.transBlack.set_cameras([CustomFadeTransition.nextCamera]);
		this.transGradient.set_cameras([CustomFadeTransition.nextCamera]);
	}
	CustomFadeTransition.nextCamera = null;
};
$hxClasses["CustomFadeTransition"] = CustomFadeTransition;
CustomFadeTransition.__name__ = "CustomFadeTransition";
CustomFadeTransition.finishCallback = null;
CustomFadeTransition.nextCamera = null;
CustomFadeTransition.__super__ = MusicBeatSubstate;
CustomFadeTransition.prototype = $extend(MusicBeatSubstate.prototype,{
	leTween: null
	,isTransIn: null
	,transBlack: null
	,transGradient: null
	,update: function(elapsed) {
		if(this.isTransIn) {
			this.transBlack.set_y(this.transGradient.y + this.transGradient.get_height());
		} else {
			this.transBlack.set_y(this.transGradient.y - this.transBlack.get_height());
		}
		MusicBeatSubstate.prototype.update.call(this,elapsed);
		if(this.isTransIn) {
			this.transBlack.set_y(this.transGradient.y + this.transGradient.get_height());
		} else {
			this.transBlack.set_y(this.transGradient.y - this.transBlack.get_height());
		}
	}
	,destroy: function() {
		if(this.leTween != null) {
			CustomFadeTransition.finishCallback();
			this.leTween.cancel();
		}
		MusicBeatSubstate.prototype.destroy.call(this);
	}
	,__class__: CustomFadeTransition
});
var DialogueBox = function(talkingRight,dialogueList) {
	if(talkingRight == null) {
		talkingRight = true;
	}
	this.isEnding = false;
	this.dialogueEnded = false;
	this.dialogueStarted = false;
	this.dialogueOpened = false;
	this.skipDialogueThing = null;
	this.nextDialogueThing = null;
	this.dialogueList = [];
	this.curCharacter = "";
	var _gthis = this;
	flixel_group_FlxTypedSpriteGroup.call(this);
	switch(PlayState.SONG.song.toLowerCase()) {
	case "senpai":
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "Lunchbox" + "." + "mp3","MUSIC",null),0);
		var _this = flixel_FlxG.sound.music;
		var Duration = 1;
		var From = 0;
		var To = 0.8;
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(_this._channel == null) {
			_this.play();
		}
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
		break;
	case "thorns":
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "LunchboxScary" + "." + "mp3","MUSIC",null),0);
		var _this = flixel_FlxG.sound.music;
		var Duration = 1;
		var From = 0;
		var To = 0.8;
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(_this._channel == null) {
			_this.play();
		}
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
		break;
	}
	this.bgFade = new flixel_FlxSprite(-200,-200).makeGraphic(flixel_FlxG.width * 1.3 | 0,flixel_FlxG.height * 1.3 | 0,-4988968);
	this.bgFade.scrollFactor.set();
	this.bgFade.set_alpha(0);
	this.add(this.bgFade);
	new flixel_util_FlxTimer().start(0.83,function(tmr) {
		var fh = _gthis.bgFade;
		fh.set_alpha(fh.alpha + 0.13999999999999999);
		if(_gthis.bgFade.alpha > 0.7) {
			_gthis.bgFade.set_alpha(0.7);
		}
	},5);
	this.box = new flixel_FlxSprite(-20,45);
	var hasDialog = false;
	switch(PlayState.SONG.song.toLowerCase()) {
	case "roses":
		hasDialog = true;
		flixel_FlxG.sound.play(Paths.sound("ANGRY_TEXT_BOX"));
		var library = null;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-senpaiMad" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-senpaiMad" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","SENPAI ANGRY IMPACT SPEECH",24,false);
		this.box.animation.addByIndices("normal","SENPAI ANGRY IMPACT SPEECH instance 1",[4],"",24);
		break;
	case "senpai":
		hasDialog = true;
		var library = null;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-pixel" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-pixel" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","Text Box Appear",24,false);
		this.box.animation.addByIndices("normal","Text Box Appear instance 1",[4],"",24);
		break;
	case "thorns":
		hasDialog = true;
		var library = null;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-evil" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-evil" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","Spirit Textbox spawn",24,false);
		this.box.animation.addByIndices("normal","Spirit Textbox spawn instance 1",[11],"",24);
		var face = new flixel_FlxSprite(320,170).loadGraphic(Paths.getPath("images/" + "weeb/spiritFaceForward" + ".png","IMAGE",null));
		face.setGraphicSize(face.get_width() * 6 | 0);
		this.add(face);
		break;
	}
	this.dialogueList = dialogueList;
	if(!hasDialog) {
		return;
	}
	this.portraitLeft = new flixel_FlxSprite(-20,40);
	var library = null;
	this.portraitLeft.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/senpaiPortrait" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/senpaiPortrait" + ".xml","TEXT",library)));
	this.portraitLeft.animation.addByPrefix("enter","Senpai Portrait Enter",24,false);
	this.portraitLeft.setGraphicSize(this.portraitLeft.get_width() * PlayState.daPixelZoom * 0.9 | 0);
	this.portraitLeft.updateHitbox();
	this.portraitLeft.scrollFactor.set();
	this.add(this.portraitLeft);
	this.portraitLeft.set_visible(false);
	this.portraitRight = new flixel_FlxSprite(0,40);
	var library = null;
	this.portraitRight.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/bfPortrait" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/bfPortrait" + ".xml","TEXT",library)));
	this.portraitRight.animation.addByPrefix("enter","Boyfriend portrait enter",24,false);
	this.portraitRight.setGraphicSize(this.portraitRight.get_width() * PlayState.daPixelZoom * 0.9 | 0);
	this.portraitRight.updateHitbox();
	this.portraitRight.scrollFactor.set();
	this.add(this.portraitRight);
	this.portraitRight.set_visible(false);
	this.box.animation.play("normalOpen");
	this.box.setGraphicSize(this.box.get_width() * PlayState.daPixelZoom * 0.9 | 0);
	this.box.updateHitbox();
	this.add(this.box);
	var _this = this.box;
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
	}
	var _this = this.portraitLeft;
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
	}
	this.handSelect = new flixel_FlxSprite(1042,590).loadGraphic(Paths.getPath("images/" + "weeb/pixelUI/hand_textbox" + ".png","IMAGE",null));
	this.handSelect.setGraphicSize(this.handSelect.get_width() * PlayState.daPixelZoom * 0.9 | 0);
	this.handSelect.updateHitbox();
	this.handSelect.set_visible(false);
	this.add(this.handSelect);
	var tmp = !talkingRight;
	this.dropText = new flixel_text_FlxText(242,502,flixel_FlxG.width * 0.6 | 0,"",32);
	this.dropText.set_font("Pixel Arial 11 Bold");
	this.dropText.set_color(-2583404);
	this.add(this.dropText);
	this.swagDialogue = new flixel_addons_text_FlxTypeText(240,500,flixel_FlxG.width * 0.6 | 0,"",32);
	this.swagDialogue.set_font("Pixel Arial 11 Bold");
	this.swagDialogue.set_color(-12640223);
	var tmp = flixel_FlxG.sound.load(Paths.sound("pixelText"),0.6);
	this.swagDialogue.sounds = [tmp];
	this.add(this.swagDialogue);
	this.dialogue = new Alphabet(0,80,"",false,true);
};
$hxClasses["DialogueBox"] = DialogueBox;
DialogueBox.__name__ = "DialogueBox";
DialogueBox.__super__ = flixel_group_FlxTypedSpriteGroup;
DialogueBox.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	box: null
	,curCharacter: null
	,dialogue: null
	,dialogueList: null
	,swagDialogue: null
	,dropText: null
	,finishThing: null
	,nextDialogueThing: null
	,skipDialogueThing: null
	,portraitLeft: null
	,portraitRight: null
	,handSelect: null
	,bgFade: null
	,dialogueOpened: null
	,dialogueStarted: null
	,dialogueEnded: null
	,update: function(elapsed) {
		var _gthis = this;
		if(PlayState.SONG.song.toLowerCase() == "roses") {
			this.portraitLeft.set_visible(false);
		}
		if(PlayState.SONG.song.toLowerCase() == "thorns") {
			this.portraitLeft.set_visible(false);
			this.swagDialogue.set_color(-1);
			this.dropText.set_color(-16777216);
		}
		this.dropText.set_text(this.swagDialogue.text);
		if(this.box.animation._curAnim != null) {
			if(this.box.animation._curAnim.name == "normalOpen" && this.box.animation._curAnim.finished) {
				this.box.animation.play("normal");
				this.dialogueOpened = true;
			}
		}
		if(this.dialogueOpened && !this.dialogueStarted) {
			this.startDialogue();
			this.dialogueStarted = true;
		}
		var justTouched = false;
		var _g = 0;
		var _g1 = flixel_FlxG.touches.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			justTouched = false;
			if(touch.input.current == 2) {
				justTouched = true;
			}
		}
		if(justTouched || PlayerSettings.player1.controls._accept.check()) {
			if(this.dialogueEnded) {
				this.remove(this.dialogue);
				if(this.dialogueList[1] == null && this.dialogueList[0] != null) {
					if(!this.isEnding) {
						this.isEnding = true;
						flixel_FlxG.sound.play(Paths.sound("clickText"),0.8);
						if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "thorns") {
							var _this = flixel_FlxG.sound.music;
							var Duration = 1.5;
							var To = 0;
							if(To == null) {
								To = 0;
							}
							if(Duration == null) {
								Duration = 1;
							}
							if(_this.fadeTween != null) {
								_this.fadeTween.cancel();
							}
							_this.fadeTween = flixel_tweens_FlxTween.num(_this._volume,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
						}
						new flixel_util_FlxTimer().start(0.2,function(tmr) {
							var fh = _gthis.box;
							fh.set_alpha(fh.alpha - 0.2);
							var fh = _gthis.bgFade;
							fh.set_alpha(fh.alpha - 0.13999999999999999);
							_gthis.portraitLeft.set_visible(false);
							_gthis.portraitRight.set_visible(false);
							var fh = _gthis.swagDialogue;
							fh.set_alpha(fh.alpha - 0.2);
							var fh = _gthis.handSelect;
							fh.set_alpha(fh.alpha - 0.2);
							_gthis.dropText.set_alpha(_gthis.swagDialogue.alpha);
						},5);
						new flixel_util_FlxTimer().start(1.5,function(tmr) {
							_gthis.finishThing();
							_gthis.kill();
						});
					}
				} else {
					HxOverrides.remove(this.dialogueList,this.dialogueList[0]);
					this.startDialogue();
					flixel_FlxG.sound.play(Paths.sound("clickText"),0.8);
				}
			} else if(this.dialogueStarted) {
				flixel_FlxG.sound.play(Paths.sound("clickText"),0.8);
				this.swagDialogue.skip();
				if(this.skipDialogueThing != null) {
					this.skipDialogueThing();
				}
			}
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,isEnding: null
	,startDialogue: function() {
		var _gthis = this;
		this.cleanDialog();
		this.swagDialogue.resetText(this.dialogueList[0]);
		this.swagDialogue.start(0.04,true);
		this.swagDialogue.completeCallback = function() {
			_gthis.handSelect.set_visible(true);
			_gthis.dialogueEnded = true;
		};
		this.handSelect.set_visible(false);
		this.dialogueEnded = false;
		switch(this.curCharacter) {
		case "bf":
			this.portraitLeft.set_visible(false);
			if(!this.portraitRight.visible) {
				this.portraitRight.set_visible(true);
				this.portraitRight.animation.play("enter");
			}
			break;
		case "dad":
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				if(PlayState.SONG.song.toLowerCase() == "senpai") {
					this.portraitLeft.set_visible(true);
				}
				this.portraitLeft.animation.play("enter");
			}
			break;
		}
		if(this.nextDialogueThing != null) {
			this.nextDialogueThing();
		}
	}
	,cleanDialog: function() {
		var splitName = this.dialogueList[0].split(":");
		this.curCharacter = splitName[1];
		this.dialogueList[0] = StringTools.trim(HxOverrides.substr(this.dialogueList[0],splitName[1].length + 2,null));
	}
	,__class__: DialogueBox
});
var DialogueCharacter = function(x,y,character) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.skipping = 0;
	this.skiptimer = 0;
	this.curCharacter = "bf";
	this.isGhost = false;
	this.startingPos = 0;
	this.dialogueAnimations = new haxe_ds_StringMap();
	this.jsonFile = null;
	flixel_FlxSprite.call(this,x,y);
	if(character == null) {
		character = DialogueCharacter.DEFAULT_CHARACTER;
	}
	this.curCharacter = character;
	this.reloadCharacterJson(character);
	var key = "dialogue/" + this.jsonFile.image;
	var library = null;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
	this.reloadAnimations();
};
$hxClasses["DialogueCharacter"] = DialogueCharacter;
DialogueCharacter.__name__ = "DialogueCharacter";
DialogueCharacter.__super__ = flixel_FlxSprite;
DialogueCharacter.prototype = $extend(flixel_FlxSprite.prototype,{
	jsonFile: null
	,dialogueAnimations: null
	,startingPos: null
	,isGhost: null
	,curCharacter: null
	,skiptimer: null
	,skipping: null
	,reloadCharacterJson: function(character) {
		var characterPath = "images/dialogue/" + character + ".json";
		var rawJson = null;
		var file = characterPath;
		if(file == null) {
			file = "";
		}
		var path = "assets/" + file;
		rawJson = openfl_utils_Assets.getText(path);
		this.jsonFile = JSON.parse(rawJson);
	}
	,reloadAnimations: function() {
		this.dialogueAnimations.h = Object.create(null);
		if(this.jsonFile.animations != null && this.jsonFile.animations.length > 0) {
			var _g = 0;
			var _g1 = this.jsonFile.animations;
			while(_g < _g1.length) {
				var anim = _g1[_g];
				++_g;
				this.animation.addByPrefix(anim.anim,anim.loop_name,24,this.isGhost);
				this.animation.addByPrefix(anim.anim + DialogueCharacter.IDLE_SUFFIX,anim.idle_name,24,true);
				this.dialogueAnimations.h[anim.anim] = anim;
			}
		}
	}
	,playAnim: function(animName,playIdle) {
		if(playIdle == null) {
			playIdle = false;
		}
		var leAnim = animName;
		if(animName == null || !Object.prototype.hasOwnProperty.call(this.dialogueAnimations.h,animName)) {
			var arrayAnims = [];
			var h = this.dialogueAnimations.h;
			var anim_h = h;
			var anim_keys = Object.keys(h);
			var anim_length = anim_keys.length;
			var anim_current = 0;
			while(anim_current < anim_length) {
				var anim = anim_h[anim_keys[anim_current++]];
				arrayAnims.push(anim.anim);
			}
			if(arrayAnims.length > 0) {
				leAnim = arrayAnims[flixel_FlxG.random.int(0,arrayAnims.length - 1)];
			}
		}
		if(Object.prototype.hasOwnProperty.call(this.dialogueAnimations.h,leAnim) && (this.dialogueAnimations.h[leAnim].loop_name == null || this.dialogueAnimations.h[leAnim].loop_name.length < 1 || this.dialogueAnimations.h[leAnim].loop_name == this.dialogueAnimations.h[leAnim].idle_name)) {
			playIdle = true;
		}
		this.animation.play(playIdle ? leAnim + DialogueCharacter.IDLE_SUFFIX : leAnim,false);
		if(Object.prototype.hasOwnProperty.call(this.dialogueAnimations.h,leAnim)) {
			var anim = this.dialogueAnimations.h[leAnim];
			if(playIdle) {
				this.offset.set(anim.idle_offsets[0],anim.idle_offsets[1]);
			} else {
				this.offset.set(anim.loop_offsets[0],anim.loop_offsets[1]);
			}
		} else {
			this.offset.set(0,0);
			haxe_Log.trace("Offsets not found! Dialogue character is badly formatted, anim: " + leAnim + ", " + (playIdle ? "idle anim" : "loop anim"),{ fileName : "source/DialogueBoxPsych.hx", lineNumber : 151, className : "DialogueCharacter", methodName : "playAnim"});
		}
	}
	,animationIsLoop: function() {
		if(this.animation._curAnim == null) {
			return false;
		}
		return !StringTools.endsWith(this.animation._curAnim.name,DialogueCharacter.IDLE_SUFFIX);
	}
	,__class__: DialogueCharacter
});
var DialogueBoxPsych = function(dialogueList,song) {
	this.lastBoxType = "";
	this.lastCharacter = -1;
	this.ignoreThisFrame = true;
	this.daText = null;
	this.scrollSpeed = 4500;
	this.dialogueEnded = false;
	this.dialogueStarted = false;
	this.textBoxTypes = ["normal","angry"];
	this.offsetPos = -600;
	this.currentText = 0;
	this.arrayCharacters = [];
	this.textToType = "";
	this.bgFade = null;
	this.skipDialogueThing = null;
	this.nextDialogueThing = null;
	this.dialogueList = null;
	flixel_group_FlxTypedSpriteGroup.call(this);
	if(song != null && song != "") {
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + song + "." + "mp3","MUSIC",null),0);
		var _this = flixel_FlxG.sound.music;
		var Duration = 2;
		var From = 0;
		var To = 1;
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(_this._channel == null) {
			_this.play();
		}
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
	}
	this.bgFade = new flixel_FlxSprite(-500,-500).makeGraphic(flixel_FlxG.width * 2,flixel_FlxG.height * 2,-1);
	this.bgFade.scrollFactor.set();
	this.bgFade.set_visible(true);
	this.bgFade.set_alpha(0);
	this.add(this.bgFade);
	this.dialogueList = dialogueList;
	this.spawnCharacters();
	this.box = new flixel_FlxSprite(70,370);
	var library = null;
	this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "speech_bubble" + ".png","IMAGE",library),Paths.getPath("images/" + "speech_bubble" + ".xml","TEXT",library)));
	this.box.scrollFactor.set();
	this.box.set_antialiasing(ClientPrefs.globalAntialiasing);
	this.box.animation.addByPrefix("normal","speech bubble normal",24);
	this.box.animation.addByPrefix("normalOpen","Speech Bubble Normal Open",24,false);
	this.box.animation.addByPrefix("angry","AHH speech bubble",24);
	this.box.animation.addByPrefix("angryOpen","speech bubble loud open",24,false);
	this.box.animation.addByPrefix("center-normal","speech bubble middle",24);
	this.box.animation.addByPrefix("center-normalOpen","Speech Bubble Middle Open",24,false);
	this.box.animation.addByPrefix("center-angry","AHH Speech Bubble middle",24);
	this.box.animation.addByPrefix("center-angryOpen","speech bubble Middle loud open",24,false);
	this.box.animation.play("normal",true);
	this.box.set_visible(false);
	this.box.setGraphicSize(this.box.get_width() * 0.9 | 0);
	this.box.updateHitbox();
	this.add(this.box);
	this.startNextDialog();
};
$hxClasses["DialogueBoxPsych"] = DialogueBoxPsych;
DialogueBoxPsych.__name__ = "DialogueBoxPsych";
DialogueBoxPsych.parseDialogue = function(path) {
	return JSON.parse(openfl_utils_Assets.getText(path));
};
DialogueBoxPsych.updateBoxOffsets = function(box) {
	box.centerOffsets();
	box.updateHitbox();
	if(StringTools.startsWith(box.animation._curAnim.name,"angry")) {
		box.offset.set(50,65);
	} else if(StringTools.startsWith(box.animation._curAnim.name,"center-angry")) {
		box.offset.set(50,30);
	} else {
		box.offset.set(10,0);
	}
	if(!box.flipX) {
		var fh = box.offset;
		fh.set_y(fh.y + 10);
	}
};
DialogueBoxPsych.__super__ = flixel_group_FlxTypedSpriteGroup;
DialogueBoxPsych.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	dialogue: null
	,dialogueList: null
	,finishThing: null
	,nextDialogueThing: null
	,skipDialogueThing: null
	,bgFade: null
	,box: null
	,textToType: null
	,arrayCharacters: null
	,currentText: null
	,offsetPos: null
	,textBoxTypes: null
	,dialogueStarted: null
	,dialogueEnded: null
	,spawnCharacters: function() {
		var charsMap_h = Object.create(null);
		var _g = 0;
		var _g1 = this.dialogueList.dialogue.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.dialogueList.dialogue[i] != null) {
				var charToAdd = this.dialogueList.dialogue[i].portrait;
				if(!Object.prototype.hasOwnProperty.call(charsMap_h,charToAdd) || !charsMap_h[charToAdd]) {
					charsMap_h[charToAdd] = true;
				}
			}
		}
		var h = charsMap_h;
		var individualChar_h = h;
		var individualChar_keys = Object.keys(h);
		var individualChar_length = individualChar_keys.length;
		var individualChar_current = 0;
		while(individualChar_current < individualChar_length) {
			var individualChar = individualChar_keys[individualChar_current++];
			var x = DialogueBoxPsych.LEFT_CHAR_X;
			var y = DialogueBoxPsych.DEFAULT_CHAR_Y;
			var char = new DialogueCharacter(x + this.offsetPos,y,individualChar);
			char.setGraphicSize(char.get_width() * DialogueCharacter.DEFAULT_SCALE * char.jsonFile.scale | 0);
			char.updateHitbox();
			char.set_antialiasing(ClientPrefs.globalAntialiasing);
			char.scrollFactor.set();
			char.set_alpha(0.00001);
			this.add(char);
			var saveY = false;
			switch(char.jsonFile.dialogue_pos) {
			case "center":
				char.set_x(flixel_FlxG.width / 2);
				char.set_x(char.x - char.get_width() / 2);
				y = char.y;
				char.set_y(flixel_FlxG.height + 50);
				saveY = true;
				break;
			case "right":
				x = flixel_FlxG.width - char.get_width() + DialogueBoxPsych.RIGHT_CHAR_X;
				char.set_x(x - this.offsetPos);
				break;
			}
			x += char.jsonFile.position[0];
			y += char.jsonFile.position[1];
			char.set_x(char.x + char.jsonFile.position[0]);
			char.set_y(char.y + char.jsonFile.position[1]);
			char.startingPos = saveY ? y : x;
			this.arrayCharacters.push(char);
		}
	}
	,scrollSpeed: null
	,daText: null
	,ignoreThisFrame: null
	,update: function(elapsed) {
		if(this.ignoreThisFrame) {
			this.ignoreThisFrame = false;
			flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
			return;
		}
		if(!this.dialogueEnded) {
			var fh = this.bgFade;
			fh.set_alpha(fh.alpha + 0.5 * elapsed);
			if(this.bgFade.alpha > 0.5) {
				this.bgFade.set_alpha(0.5);
			}
			var justTouched = false;
			var _g = 0;
			var _g1 = flixel_FlxG.touches.list;
			while(_g < _g1.length) {
				var touch = _g1[_g];
				++_g;
				justTouched = false;
				if(touch.input.current == 2) {
					justTouched = true;
				}
			}
			if(PlayerSettings.player1.controls._accept.check() || justTouched) {
				if(!this.daText.finishedText) {
					if(this.daText != null) {
						this.daText.killTheTimer();
						this.daText.kill();
						this.remove(this.daText);
						this.daText.destroy();
					}
					this.daText = new Alphabet(DialogueBoxPsych.DEFAULT_TEXT_X,DialogueBoxPsych.DEFAULT_TEXT_Y,this.textToType,false,true,0.0,0.7);
					this.add(this.daText);
					if(this.skipDialogueThing != null) {
						this.skipDialogueThing();
					}
				} else if(this.currentText >= this.dialogueList.dialogue.length) {
					this.dialogueEnded = true;
					var _g = 0;
					var _g1 = this.textBoxTypes.length;
					while(_g < _g1) {
						var i = _g++;
						var checkArray = ["","center-"];
						var animName = this.box.animation._curAnim.name;
						var _g2 = 0;
						var _g3 = checkArray.length;
						while(_g2 < _g3) {
							var j = _g2++;
							if(animName == checkArray[j] + this.textBoxTypes[i] || animName == checkArray[j] + this.textBoxTypes[i] + "Open") {
								this.box.animation.play(checkArray[j] + this.textBoxTypes[i] + "Open",true);
							}
						}
					}
					this.box.animation._curAnim.set_curFrame(this.box.animation._curAnim.frames.length - 1);
					this.box.animation._curAnim.reverse();
					this.daText.kill();
					this.remove(this.daText);
					this.daText.destroy();
					this.daText = null;
					DialogueBoxPsych.updateBoxOffsets(this.box);
					var _this = flixel_FlxG.sound.music;
					var Duration = 1;
					var To = 0;
					if(To == null) {
						To = 0;
					}
					if(Duration == null) {
						Duration = 1;
					}
					if(_this.fadeTween != null) {
						_this.fadeTween.cancel();
					}
					_this.fadeTween = flixel_tweens_FlxTween.num(_this._volume,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
				} else {
					this.startNextDialog();
				}
				flixel_FlxG.sound.play(Paths.sound("dialogueClose"));
			} else if(this.daText.finishedText) {
				var char = this.arrayCharacters[this.lastCharacter];
				if(char != null && char.animation._curAnim != null && char.animationIsLoop() && char.animation.get_finished()) {
					char.playAnim(char.animation._curAnim.name,true);
				}
			} else {
				var char = this.arrayCharacters[this.lastCharacter];
				if(char != null && char.animation._curAnim != null && char.animation.get_finished()) {
					char.animation._curAnim.restart();
				}
			}
			if(this.box.animation._curAnim.finished) {
				var _g = 0;
				var _g1 = this.textBoxTypes.length;
				while(_g < _g1) {
					var i = _g++;
					var checkArray = ["","center-"];
					var animName = this.box.animation._curAnim.name;
					var _g2 = 0;
					var _g3 = checkArray.length;
					while(_g2 < _g3) {
						var j = _g2++;
						if(animName == checkArray[j] + this.textBoxTypes[i] || animName == checkArray[j] + this.textBoxTypes[i] + "Open") {
							this.box.animation.play(checkArray[j] + this.textBoxTypes[i],true);
						}
					}
				}
				DialogueBoxPsych.updateBoxOffsets(this.box);
			}
			if(this.lastCharacter != -1 && this.arrayCharacters.length > 0) {
				var _g = 0;
				var _g1 = this.arrayCharacters.length;
				while(_g < _g1) {
					var i = _g++;
					var char = this.arrayCharacters[i];
					if(char != null) {
						if(i != this.lastCharacter) {
							switch(char.jsonFile.dialogue_pos) {
							case "center":
								char.set_y(char.y + this.scrollSpeed * elapsed);
								if(char.y > char.startingPos + flixel_FlxG.height) {
									char.set_y(char.startingPos + flixel_FlxG.height);
								}
								break;
							case "left":
								char.set_x(char.x - this.scrollSpeed * elapsed);
								if(char.x < char.startingPos + this.offsetPos) {
									char.set_x(char.startingPos + this.offsetPos);
								}
								break;
							case "right":
								char.set_x(char.x + this.scrollSpeed * elapsed);
								if(char.x > char.startingPos - this.offsetPos) {
									char.set_x(char.startingPos - this.offsetPos);
								}
								break;
							}
							char.set_alpha(char.alpha - 3 * elapsed);
							if(char.alpha < 0.00001) {
								char.set_alpha(0.00001);
							}
						} else {
							switch(char.jsonFile.dialogue_pos) {
							case "center":
								char.set_y(char.y - this.scrollSpeed * elapsed);
								if(char.y < char.startingPos) {
									char.set_y(char.startingPos);
								}
								break;
							case "left":
								char.set_x(char.x + this.scrollSpeed * elapsed);
								if(char.x > char.startingPos) {
									char.set_x(char.startingPos);
								}
								break;
							case "right":
								char.set_x(char.x - this.scrollSpeed * elapsed);
								if(char.x < char.startingPos) {
									char.set_x(char.startingPos);
								}
								break;
							}
							char.set_alpha(char.alpha + 3 * elapsed);
							if(char.alpha > 1) {
								char.set_alpha(1);
							}
						}
					}
				}
			}
		} else {
			if(this.box != null && this.box.animation._curAnim.curFrame <= 0) {
				this.box.kill();
				this.remove(this.box);
				this.box.destroy();
				this.box = null;
			}
			if(this.bgFade != null) {
				var fh = this.bgFade;
				fh.set_alpha(fh.alpha - 0.5 * elapsed);
				if(this.bgFade.alpha <= 0) {
					this.bgFade.kill();
					this.remove(this.bgFade);
					this.bgFade.destroy();
					this.bgFade = null;
				}
			}
			var _g = 0;
			var _g1 = this.arrayCharacters.length;
			while(_g < _g1) {
				var i = _g++;
				var leChar = this.arrayCharacters[i];
				if(leChar != null) {
					switch(this.arrayCharacters[i].jsonFile.dialogue_pos) {
					case "center":
						leChar.set_y(leChar.y + this.scrollSpeed * elapsed);
						break;
					case "left":
						leChar.set_x(leChar.x - this.scrollSpeed * elapsed);
						break;
					case "right":
						leChar.set_x(leChar.x + this.scrollSpeed * elapsed);
						break;
					}
					leChar.set_alpha(leChar.alpha - elapsed * 10);
				}
			}
			if(this.box == null && this.bgFade == null) {
				var _g = 0;
				var _g1 = this.arrayCharacters.length;
				while(_g < _g1) {
					var i = _g++;
					var leChar = this.arrayCharacters[0];
					if(leChar != null) {
						HxOverrides.remove(this.arrayCharacters,leChar);
						leChar.kill();
						this.remove(leChar);
						leChar.destroy();
					}
				}
				this.finishThing();
				this.kill();
			}
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,lastCharacter: null
	,lastBoxType: null
	,startNextDialog: function() {
		var curDialogue = null;
		while(true) {
			curDialogue = this.dialogueList.dialogue[this.currentText];
			if(!(curDialogue == null)) {
				break;
			}
		}
		if(curDialogue.text == null || curDialogue.text.length < 1) {
			curDialogue.text = " ";
		}
		if(curDialogue.boxState == null) {
			curDialogue.boxState = "normal";
		}
		var tmp;
		if(curDialogue.speed != null) {
			var f = curDialogue.speed;
			tmp = isNaN(f);
		} else {
			tmp = true;
		}
		if(tmp) {
			curDialogue.speed = 0.05;
		}
		var animName = curDialogue.boxState;
		var boxType = this.textBoxTypes[0];
		var _g = 0;
		var _g1 = this.textBoxTypes.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.textBoxTypes[i] == animName) {
				boxType = animName;
			}
		}
		var character = 0;
		this.box.set_visible(true);
		var _g = 0;
		var _g1 = this.arrayCharacters.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.arrayCharacters[i].curCharacter == curDialogue.portrait) {
				character = i;
				break;
			}
		}
		var centerPrefix = "";
		var lePosition = this.arrayCharacters[character].jsonFile.dialogue_pos;
		if(lePosition == "center") {
			centerPrefix = "center-";
		}
		if(character != this.lastCharacter) {
			this.box.animation.play(centerPrefix + boxType + "Open",true);
			DialogueBoxPsych.updateBoxOffsets(this.box);
			this.box.set_flipX(lePosition == "left");
		} else if(boxType != this.lastBoxType) {
			this.box.animation.play(centerPrefix + boxType,true);
			DialogueBoxPsych.updateBoxOffsets(this.box);
		}
		this.lastCharacter = character;
		this.lastBoxType = boxType;
		if(this.daText != null) {
			this.daText.killTheTimer();
			this.daText.kill();
			this.remove(this.daText);
			this.daText.destroy();
		}
		this.textToType = curDialogue.text;
		this.daText = new Alphabet(DialogueBoxPsych.DEFAULT_TEXT_X,DialogueBoxPsych.DEFAULT_TEXT_Y,this.textToType,false,true,curDialogue.speed,0.7);
		this.add(this.daText);
		var char = this.arrayCharacters[character];
		if(char != null) {
			char.playAnim(curDialogue.expression,this.daText.finishedText);
			if(char.animation._curAnim != null) {
				var rate = 24 - (curDialogue.speed - 0.05) / 5 * 480;
				if(rate < 12) {
					rate = 12;
				} else if(rate > 48) {
					rate = 48;
				}
				char.animation._curAnim.set_frameRate(rate);
			}
		}
		this.currentText++;
		if(this.nextDialogueThing != null) {
			this.nextDialogueThing();
		}
	}
	,__class__: DialogueBoxPsych
});
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = "EReg";
EReg.prototype = {
	r: null
	,match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw haxe_Exception.thrown("EReg::matched");
		}
	}
	,matchedRight: function() {
		if(this.r.m == null) {
			throw haxe_Exception.thrown("No string matched");
		}
		var sz = this.r.m.index + this.r.m[0].length;
		return HxOverrides.substr(this.r.s,sz,this.r.s.length - sz);
	}
	,matchedPos: function() {
		if(this.r.m == null) {
			throw haxe_Exception.thrown("No string matched");
		}
		return { pos : this.r.m.index, len : this.r.m[0].length};
	}
	,matchSub: function(s,pos,len) {
		if(len == null) {
			len = -1;
		}
		if(this.r.global) {
			this.r.lastIndex = pos;
			this.r.m = this.r.exec(len < 0 ? s : HxOverrides.substr(s,0,pos + len));
			var b = this.r.m != null;
			if(b) {
				this.r.s = s;
			}
			return b;
		} else {
			var b = this.match(len < 0 ? HxOverrides.substr(s,pos,null) : HxOverrides.substr(s,pos,len));
			if(b) {
				this.r.s = s;
				this.r.m.index += pos;
			}
			return b;
		}
	}
	,split: function(s) {
		var d = "#__delim__#";
		return s.replace(this.r,d).split(d);
	}
	,map: function(s,f) {
		var offset = 0;
		var buf_b = "";
		while(true) {
			if(offset >= s.length) {
				break;
			} else if(!this.matchSub(s,offset)) {
				buf_b += Std.string(HxOverrides.substr(s,offset,null));
				break;
			}
			var p = this.matchedPos();
			buf_b += Std.string(HxOverrides.substr(s,offset,p.pos - offset));
			buf_b += Std.string(f(this));
			if(p.len == 0) {
				buf_b += Std.string(HxOverrides.substr(s,p.pos,1));
				offset = p.pos + 1;
			} else {
				offset = p.pos + p.len;
			}
			if(!this.r.global) {
				break;
			}
		}
		if(!this.r.global && offset > 0 && offset < s.length) {
			buf_b += Std.string(HxOverrides.substr(s,offset,null));
		}
		return buf_b;
	}
	,__class__: EReg
};
var FlashingState = function(TransIn,TransOut) {
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["FlashingState"] = FlashingState;
FlashingState.__name__ = "FlashingState";
FlashingState.__super__ = MusicBeatState;
FlashingState.prototype = $extend(MusicBeatState.prototype,{
	warnText: null
	,create: function() {
		MusicBeatState.prototype.create.call(this);
		var bg = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		this.add(bg);
		this.warnText = new flixel_text_FlxText(0,0,flixel_FlxG.width,"Hey, watch out!\n\r\n\t\t\tThis Mod contains some flashing lights!\n\r\n\t\t\tPress ENTER to disable them now or go to Options Menu.\n\r\n\t\t\tPress ESCAPE to ignore this message.\n\r\n\t\t\tYou've been warned!",32);
		this.warnText.setFormat("VCR OSD Mono",32,-1,"center");
		var _this = this.warnText;
		var axes = flixel_util_FlxAxes.Y;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.add(this.warnText);
		this.addVirtualPad(ui_FlxDPadMode.NONE,ui_FlxActionMode.A_B);
	}
	,update: function(elapsed) {
		if(!FlashingState.leftState) {
			var back = PlayerSettings.player1.controls._back.check();
			if(PlayerSettings.player1.controls._accept.check() || back) {
				FlashingState.leftState = true;
				flixel_addons_transition_FlxTransitionableState.skipNextTransIn = true;
				flixel_addons_transition_FlxTransitionableState.skipNextTransOut = true;
				if(!back) {
					ClientPrefs.flashing = false;
					ClientPrefs.saveSettings();
					flixel_FlxG.sound.play(Paths.sound("confirmMenu"));
					flixel_effects_FlxFlicker.flicker(this.warnText,1,0.1,false,true,function(flk) {
						new flixel_util_FlxTimer().start(0.5,function(tmr) {
							MusicBeatState.switchState(new TitleState());
						});
					});
				} else {
					flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
					flixel_tweens_FlxTween.tween(this.warnText,{ alpha : 0},1,{ onComplete : function(twn) {
						MusicBeatState.switchState(new TitleState());
					}});
				}
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,__class__: FlashingState
});
var flixel_IFlxBasic = function() { };
$hxClasses["flixel.IFlxBasic"] = flixel_IFlxBasic;
flixel_IFlxBasic.__name__ = "flixel.IFlxBasic";
flixel_IFlxBasic.__isInterface__ = true;
flixel_IFlxBasic.prototype = {
	set_active: null
	,set_visible: null
	,set_alive: null
	,set_exists: null
	,ID: null
	,active: null
	,visible: null
	,alive: null
	,exists: null
	,draw: null
	,update: null
	,destroy: null
	,kill: null
	,revive: null
	,toString: null
	,__class__: flixel_IFlxBasic
	,__properties__: {set_exists:"set_exists",set_alive:"set_alive",set_visible:"set_visible",set_active:"set_active"}
};
var flixel_IFlxSprite = function() { };
$hxClasses["flixel.IFlxSprite"] = flixel_IFlxSprite;
flixel_IFlxSprite.__name__ = "flixel.IFlxSprite";
flixel_IFlxSprite.__isInterface__ = true;
flixel_IFlxSprite.__interfaces__ = [flixel_IFlxBasic];
flixel_IFlxSprite.prototype = {
	set_x: null
	,set_y: null
	,set_alpha: null
	,set_angle: null
	,set_facing: null
	,set_moves: null
	,set_immovable: null
	,x: null
	,y: null
	,alpha: null
	,angle: null
	,facing: null
	,moves: null
	,immovable: null
	,offset: null
	,origin: null
	,scale: null
	,velocity: null
	,maxVelocity: null
	,acceleration: null
	,drag: null
	,scrollFactor: null
	,reset: null
	,setPosition: null
	,__class__: flixel_IFlxSprite
	,__properties__: {set_immovable:"set_immovable",set_moves:"set_moves",set_facing:"set_facing",set_angle:"set_angle",set_alpha:"set_alpha",set_y:"set_y",set_x:"set_x"}
};
var flixel_addons_ui_interfaces_IFlxUIWidget = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFlxUIWidget"] = flixel_addons_ui_interfaces_IFlxUIWidget;
flixel_addons_ui_interfaces_IFlxUIWidget.__name__ = "flixel.addons.ui.interfaces.IFlxUIWidget";
flixel_addons_ui_interfaces_IFlxUIWidget.__isInterface__ = true;
flixel_addons_ui_interfaces_IFlxUIWidget.__interfaces__ = [flixel_IFlxSprite];
flixel_addons_ui_interfaces_IFlxUIWidget.prototype = {
	get_width: null
	,set_width: null
	,get_height: null
	,set_height: null
	,name: null
	,broadcastToFlxUI: null
	,__class__: flixel_addons_ui_interfaces_IFlxUIWidget
	,__properties__: {set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"}
};
var flixel_addons_ui_FlxUIGroup = function(X,Y) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.autoBounds = true;
	this.broadcastToFlxUI = true;
	flixel_group_FlxTypedSpriteGroup.call(this,X,Y);
};
$hxClasses["flixel.addons.ui.FlxUIGroup"] = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUIGroup.__name__ = "flixel.addons.ui.FlxUIGroup";
flixel_addons_ui_FlxUIGroup.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_FlxUIGroup.__super__ = flixel_group_FlxTypedSpriteGroup;
flixel_addons_ui_FlxUIGroup.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	name: null
	,broadcastToFlxUI: null
	,autoBounds: null
	,destroy: function() {
		flixel_group_FlxTypedSpriteGroup.prototype.destroy.call(this);
	}
	,add: function(Object1) {
		var obj = flixel_group_FlxTypedSpriteGroup.prototype.add.call(this,Object1);
		if(this.autoBounds) {
			this.calcBounds();
		}
		return obj;
	}
	,remove: function(Object1,Splice) {
		if(Splice == null) {
			Splice = false;
		}
		var obj = flixel_group_FlxTypedSpriteGroup.prototype.remove.call(this,Object1,Splice);
		if(this.autoBounds) {
			this.calcBounds();
		}
		return obj;
	}
	,setScrollFactor: function(X,Y) {
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var obj = _g1[_g];
			++_g;
			if(obj != null) {
				obj.scrollFactor.set(X,Y);
			}
		}
	}
	,hasThis: function(Object1) {
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var obj = _g1[_g];
			++_g;
			if(obj == Object1) {
				return true;
			}
		}
		return false;
	}
	,calcBounds: function(rect) {
		if(this.group.members != null && this.group.members.length > 0) {
			var left = Infinity;
			var right = -Infinity;
			var top = Infinity;
			var bottom = -Infinity;
			var _g = 0;
			var _g1 = this.group.members;
			while(_g < _g1.length) {
				var fb = _g1[_g];
				++_g;
				if(fb != null) {
					if(js_Boot.__implements(fb,flixel_addons_ui_interfaces_IFlxUIWidget)) {
						var flui = fb;
						if(flui.x < left) {
							left = flui.x;
						}
						if(flui.x + flui.get_width() > right) {
							right = flui.x + flui.get_width();
						}
						if(flui.y < top) {
							top = flui.y;
						}
						if(flui.y + flui.get_height() > bottom) {
							bottom = flui.y + flui.get_height();
						}
					} else if(((fb) instanceof flixel_FlxSprite)) {
						var flxi = fb;
						if(flxi.x < left) {
							left = flxi.x;
						}
						if(flxi.x > right) {
							right = flxi.x;
						}
						if(flxi.y < top) {
							top = flxi.y;
						}
						if(flxi.y > bottom) {
							bottom = flxi.y;
						}
					}
				}
			}
			this.set_width(right - left);
			this.set_height(bottom - top);
			if(rect != null) {
				rect.x = left;
				rect.y = top;
				rect.width = this.get_width();
				rect.height = this.get_height();
			}
		} else {
			this.set_width(this.set_height(0));
		}
	}
	,floorAll: function() {
		var fs = null;
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var fb = _g1[_g];
			++_g;
			fs = fb;
			fs.set_x(Math.floor(fs.x));
			fs.set_y(Math.floor(fs.y));
		}
	}
	,__class__: flixel_addons_ui_FlxUIGroup
});
var flixel_addons_ui_interfaces_IHasParams = function() { };
$hxClasses["flixel.addons.ui.interfaces.IHasParams"] = flixel_addons_ui_interfaces_IHasParams;
flixel_addons_ui_interfaces_IHasParams.__name__ = "flixel.addons.ui.interfaces.IHasParams";
flixel_addons_ui_interfaces_IHasParams.__isInterface__ = true;
flixel_addons_ui_interfaces_IHasParams.prototype = {
	params: null
	,set_params: null
	,__class__: flixel_addons_ui_interfaces_IHasParams
	,__properties__: {set_params:"set_params"}
};
var flixel_addons_ui_interfaces_IFlxUIClickable = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFlxUIClickable"] = flixel_addons_ui_interfaces_IFlxUIClickable;
flixel_addons_ui_interfaces_IFlxUIClickable.__name__ = "flixel.addons.ui.interfaces.IFlxUIClickable";
flixel_addons_ui_interfaces_IFlxUIClickable.__isInterface__ = true;
flixel_addons_ui_interfaces_IFlxUIClickable.prototype = {
	set_skipButtonUpdate: null
	,skipButtonUpdate: null
	,__class__: flixel_addons_ui_interfaces_IFlxUIClickable
	,__properties__: {set_skipButtonUpdate:"set_skipButtonUpdate"}
};
var FlxUIDropDownMenuCustom = function(X,Y,DataList,Callback,Header,DropPanel,ButtonList,UIControlCallback) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.dropDirection = FlxUIDropDownMenuDropDirection.Down;
	this.list = [];
	this.canScroll = true;
	this.currentScroll = 0;
	flixel_addons_ui_FlxUIGroup.call(this,X,Y);
	this.callback = Callback;
	this.header = Header;
	this.dropPanel = DropPanel;
	if(this.header == null) {
		this.header = new FlxUIDropDownHeader();
	}
	if(this.dropPanel == null) {
		var rect = new openfl_geom_Rectangle(0,0,this.header.background.get_width(),this.header.background.get_height());
		this.dropPanel = new flixel_addons_ui_FlxUI9SliceSprite(0,0,"flixel/flixel-ui/img/box.png",rect,[1,1,14,14]);
	}
	if(DataList != null) {
		var _g = 0;
		var _g1 = DataList.length;
		while(_g < _g1) {
			var i = _g++;
			var data = DataList[i];
			this.list.push(this.makeListButton(i,data.label,data.name));
		}
		this.selectSomething(DataList[0].name,DataList[0].label);
	} else if(ButtonList != null) {
		var _g = 0;
		while(_g < ButtonList.length) {
			var btn = ButtonList[_g];
			++_g;
			this.list.push(btn);
			btn.resize(this.header.background.get_width(),this.header.background.get_height());
			btn.set_x(1);
		}
	}
	this.updateButtonPositions();
	this.dropPanel.resize(this.header.background.get_width(),this.getPanelHeight());
	this.dropPanel.set_visible(false);
	this.add(this.dropPanel);
	var _g = 0;
	var _g1 = this.list;
	while(_g < _g1.length) {
		var btn = _g1[_g];
		++_g;
		this.add(btn);
		btn.set_visible(false);
	}
	this.header.button.onUp.callback = $bind(this,this.onDropdown);
	this.add(this.header);
};
$hxClasses["FlxUIDropDownMenuCustom"] = FlxUIDropDownMenuCustom;
FlxUIDropDownMenuCustom.__name__ = "FlxUIDropDownMenuCustom";
FlxUIDropDownMenuCustom.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_IFlxUIWidget];
FlxUIDropDownMenuCustom.makeStrIdLabelArray = function(StringArray,UseIndexID) {
	if(UseIndexID == null) {
		UseIndexID = false;
	}
	var strIdArray = [];
	var _g = 0;
	var _g1 = StringArray.length;
	while(_g < _g1) {
		var i = _g++;
		var ID = StringArray[i];
		if(UseIndexID) {
			ID = i == null ? "null" : "" + i;
		}
		strIdArray[i] = new flixel_addons_ui_StrNameLabel(ID,StringArray[i]);
	}
	return strIdArray;
};
FlxUIDropDownMenuCustom.__super__ = flixel_addons_ui_FlxUIGroup;
FlxUIDropDownMenuCustom.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		this.header.button.set_skipButtonUpdate(b);
		return b;
	}
	,_selectedId: null
	,_selectedLabel: null
	,currentScroll: null
	,canScroll: null
	,get_selectedId: function() {
		return this._selectedId;
	}
	,set_selectedId: function(str) {
		if(this._selectedId == str) {
			return str;
		}
		var i = 0;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn != null && btn.name == str) {
				var item = this.list[i];
				this._selectedId = str;
				if(item.label != null) {
					this._selectedLabel = item.label.text;
					this.header.text.set_text(item.label.text);
				} else {
					this._selectedLabel = "";
					this.header.text.set_text("");
				}
				return str;
			}
			++i;
		}
		return str;
	}
	,get_selectedLabel: function() {
		return this._selectedLabel;
	}
	,set_selectedLabel: function(str) {
		if(this._selectedLabel == str) {
			return str;
		}
		var i = 0;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn.label.text == str) {
				var item = this.list[i];
				this._selectedId = item.name;
				this._selectedLabel = str;
				this.header.text.set_text(str);
				return str;
			}
			++i;
		}
		return str;
	}
	,header: null
	,list: null
	,dropPanel: null
	,params: null
	,set_params: function(p) {
		return this.params = p;
	}
	,dropDirection: null
	,set_dropDirection: function(dropDirection) {
		this.dropDirection = dropDirection;
		this.updateButtonPositions();
		return dropDirection;
	}
	,callback: null
	,updateButtonPositions: function() {
		var buttonHeight = this.header.background.get_height();
		this.dropPanel.set_y(this.header.background.y);
		if(this.dropsUp()) {
			var fh = this.dropPanel;
			fh.set_y(fh.y - this.getPanelHeight());
		} else {
			var fh = this.dropPanel;
			fh.set_y(fh.y + buttonHeight);
		}
		var offset = this.dropPanel.y;
		var _g = 0;
		var _g1 = this.currentScroll;
		while(_g < _g1) {
			var i = _g++;
			var button = this.list[i];
			if(button != null) {
				button.set_y(-99999);
			}
		}
		var _g = this.currentScroll;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			var button = this.list[i];
			if(button != null) {
				button.set_y(offset);
				offset += buttonHeight;
			}
		}
	}
	,set_visible: function(Value) {
		var vDropPanel = this.dropPanel.visible;
		var vButtons = [];
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null) {
				vButtons.push(this.list[i].visible);
			} else {
				vButtons.push(false);
			}
		}
		flixel_addons_ui_FlxUIGroup.prototype.set_visible.call(this,Value);
		this.dropPanel.set_visible(vDropPanel);
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null) {
				this.list[i].set_visible(vButtons[i]);
			}
		}
		return Value;
	}
	,dropsUp: function() {
		if(this.dropDirection != FlxUIDropDownMenuDropDirection.Up) {
			if(this.dropDirection == FlxUIDropDownMenuDropDirection.Automatic) {
				return this.exceedsHeight();
			} else {
				return false;
			}
		} else {
			return true;
		}
	}
	,exceedsHeight: function() {
		return this.y + this.getPanelHeight() + this.header.background.get_height() > flixel_FlxG.height;
	}
	,getPanelHeight: function() {
		return this.list.length * this.header.background.get_height();
	}
	,setData: function(DataList) {
		var i = 0;
		if(DataList != null) {
			var _g = 0;
			while(_g < DataList.length) {
				var data = DataList[_g];
				++_g;
				var recycled = false;
				if(this.list != null) {
					if(i <= this.list.length - 1) {
						var btn = this.list[i];
						if(btn != null) {
							btn.label.set_text(data.label);
							this.list[i].name = data.name;
							recycled = true;
						}
					}
				} else {
					this.list = [];
				}
				if(!recycled) {
					var t = this.makeListButton(i,data.label,data.name);
					this.list.push(t);
					this.add(t);
					t.set_visible(false);
				}
				++i;
			}
			if(this.list.length > DataList.length) {
				var _g = DataList.length;
				var _g1 = this.list.length;
				while(_g < _g1) {
					var j = _g++;
					var b = this.list.pop();
					b.set_visible(false);
					b.set_active(false);
					this.remove(b,true);
					b.destroy();
					b = null;
				}
			}
			this.selectSomething(DataList[0].name,DataList[0].label);
		}
		this.dropPanel.resize(this.header.background.get_width(),this.getPanelHeight());
		this.updateButtonPositions();
	}
	,selectSomething: function(name,label) {
		this.header.text.set_text(label);
		this.set_selectedId(name);
		this.set_selectedLabel(label);
	}
	,makeListButton: function(i,Label,Name) {
		var t = new flixel_addons_ui_FlxUIButton(0,0,Label);
		t.broadcastToFlxUI = false;
		var _g = $bind(this,this.onClickItem);
		var i1 = i;
		var tmp = function() {
			_g(i1);
		};
		t.onUp.callback = tmp;
		t.name = Name;
		t.loadGraphicSlice9(["flixel/flixel-ui/img/invis.png","flixel/flixel-ui/img/hilight.png","flixel/flixel-ui/img/hilight.png"],this.header.background.get_width() | 0,this.header.background.get_height() | 0,[[1,1,3,3],[1,1,3,3],[1,1,3,3]],0);
		var fh = t.labelOffsets[2];
		fh.set_y(fh.y - 1);
		t.up_color = -16777216;
		t.over_color = -1;
		t.down_color = -1;
		t.resize(this.header.background.get_width() - 2,this.header.background.get_height() - 1);
		t.label.set_alignment("left");
		t.autoCenterLabel();
		t.set_x(1);
		var _g1 = 0;
		var _g2 = t.labelOffsets;
		while(_g1 < _g2.length) {
			var offset = _g2[_g1];
			++_g1;
			offset.set_x(offset.x + 2);
		}
		return t;
	}
	,changeLabelByIndex: function(i,NewLabel) {
		var btn = this.getBtnByIndex(i);
		if(btn != null && btn.label != null) {
			btn.label.set_text(NewLabel);
		}
	}
	,changeLabelById: function(name,NewLabel) {
		var btn = this.getBtnById(name);
		if(btn != null && btn.label != null) {
			btn.label.set_text(NewLabel);
		}
	}
	,getBtnByIndex: function(i) {
		if(i >= 0 && i < this.list.length) {
			return this.list[i];
		}
		return null;
	}
	,getBtnById: function(name) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn.name == name) {
				return btn;
			}
		}
		return null;
	}
	,update: function(elapsed) {
		flixel_addons_ui_FlxUIGroup.prototype.update.call(this,elapsed);
		if(this.dropPanel.visible) {
			if(this.list.length > 1 && this.canScroll) {
				var tmp;
				if(flixel_FlxG.mouse.wheel <= 0) {
					var _this = flixel_FlxG.keys.justPressed;
					tmp = _this.keyManager.checkStatusUnsafe(38,_this.status);
				} else {
					tmp = true;
				}
				if(tmp) {
					--this.currentScroll;
					if(this.currentScroll < 0) {
						this.currentScroll = 0;
					}
					this.updateButtonPositions();
				} else {
					var tmp;
					if(flixel_FlxG.mouse.wheel >= 0) {
						var _this = flixel_FlxG.keys.justPressed;
						tmp = _this.keyManager.checkStatusUnsafe(40,_this.status);
					} else {
						tmp = true;
					}
					if(tmp) {
						this.currentScroll++;
						if(this.currentScroll >= this.list.length) {
							this.currentScroll = this.list.length - 1;
						}
						this.updateButtonPositions();
					}
				}
			}
			if(flixel_FlxG.mouse._leftButton.current == 2 && !flixel_FlxG.mouse.overlaps(this)) {
				this.showList(false);
			}
		}
	}
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		this.dropPanel = flixel_util_FlxDestroyUtil.destroy(this.dropPanel);
		this.list = flixel_util_FlxDestroyUtil.destroyArray(this.list);
		this.callback = null;
	}
	,showList: function(b) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			button.set_visible(b);
			button.set_active(b);
		}
		this.dropPanel.set_visible(b);
		if(this.currentScroll != 0) {
			this.currentScroll = 0;
			this.updateButtonPositions();
		}
		flixel_addons_ui_FlxUI.forceFocus(b,this);
	}
	,onDropdown: function() {
		if(this.dropPanel.visible) {
			this.showList(false);
		} else {
			this.showList(true);
		}
	}
	,onClickItem: function(i) {
		var item = this.list[i];
		this.selectSomething(item.name,item.label.text);
		this.showList(false);
		if(this.callback != null) {
			this.callback(item.name);
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("click_dropdown",this,item.name,this.params);
		}
	}
	,__class__: FlxUIDropDownMenuCustom
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_dropDirection:"set_dropDirection",set_params:"set_params",set_selectedLabel:"set_selectedLabel",get_selectedLabel:"get_selectedLabel",set_selectedId:"set_selectedId",get_selectedId:"get_selectedId",set_skipButtonUpdate:"set_skipButtonUpdate"})
});
var FlxUIDropDownHeader = function(Width,Background,Text1,Button) {
	if(Width == null) {
		Width = 120;
	}
	flixel_addons_ui_FlxUIGroup.call(this);
	this.background = Background;
	this.text = Text1;
	this.button = Button;
	if(this.background == null) {
		this.background = new flixel_addons_ui_FlxUI9SliceSprite(0,0,"flixel/flixel-ui/img/box.png",new openfl_geom_Rectangle(0,0,Width,20),[1,1,14,14]);
	}
	if(this.button == null) {
		this.button = new flixel_addons_ui_FlxUISpriteButton(0,0,new flixel_FlxSprite(0,0,"flixel/flixel-ui/img/dropdown_mark.png"));
		this.button.loadGraphicSlice9(["flixel/flixel-ui/img/button_thin.png"],80,20,[flixel_util_FlxStringUtil.toIntArray("6,6,11,11")],0,-1,false,18,18);
	}
	this.button.resize(this.background.get_height(),this.background.get_height());
	this.button.set_x(this.background.x + this.background.get_width() - this.button.get_width());
	this.button.set_width(Width);
	var fh = this.button.offset;
	fh.set_x(fh.x - (Width - this.button.frameWidth));
	this.button.set_x(this.offset.x);
	var fh = this.button.label.offset;
	fh.set_x(fh.x + this.button.offset.x);
	if(this.text == null) {
		this.text = new flixel_addons_ui_FlxUIText(0,0,this.background.get_width() | 0);
	}
	this.text.setPosition(2,4);
	this.text.set_color(-16777216);
	this.add(this.background);
	this.add(this.button);
	this.add(this.text);
};
$hxClasses["FlxUIDropDownHeader"] = FlxUIDropDownHeader;
FlxUIDropDownHeader.__name__ = "FlxUIDropDownHeader";
FlxUIDropDownHeader.__super__ = flixel_addons_ui_FlxUIGroup;
FlxUIDropDownHeader.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	background: null
	,text: null
	,button: null
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		this.background = flixel_util_FlxDestroyUtil.destroy(this.background);
		this.text = flixel_util_FlxDestroyUtil.destroy(this.text);
		this.button = flixel_util_FlxDestroyUtil.destroy(this.button);
	}
	,__class__: FlxUIDropDownHeader
});
var FlxUIDropDownMenuDropDirection = $hxEnums["FlxUIDropDownMenuDropDirection"] = { __ename__:"FlxUIDropDownMenuDropDirection",__constructs__:null
	,Automatic: {_hx_name:"Automatic",_hx_index:0,__enum__:"FlxUIDropDownMenuDropDirection",toString:$estr}
	,Down: {_hx_name:"Down",_hx_index:1,__enum__:"FlxUIDropDownMenuDropDirection",toString:$estr}
	,Up: {_hx_name:"Up",_hx_index:2,__enum__:"FlxUIDropDownMenuDropDirection",toString:$estr}
};
FlxUIDropDownMenuDropDirection.__constructs__ = [FlxUIDropDownMenuDropDirection.Automatic,FlxUIDropDownMenuDropDirection.Down,FlxUIDropDownMenuDropDirection.Up];
var FlxVideo = function(name) {
	this.finishCallback = null;
	var _gthis = this;
	flixel_FlxBasic.call(this);
	var player = new openfl_media_Video();
	player.set_x(0);
	player.set_y(0);
	flixel_FlxG.addChildBelowMouse(player);
	var netConnect = new openfl_net_NetConnection();
	netConnect.connect(null);
	var netStream = new openfl_net_NetStream(netConnect);
	netStream.client = { onMetaData : function() {
		player.attachNetStream(netStream);
		player.set_width(flixel_FlxG.width);
		player.set_height(flixel_FlxG.height);
	}};
	netConnect.addEventListener("netStatus",function(event) {
		if(event.info.code == "NetStream.Play.Complete") {
			netStream.dispose();
			if(flixel_FlxG.game.contains(player)) {
				flixel_FlxG.game.removeChild(player);
			}
			if(_gthis.finishCallback != null) {
				_gthis.finishCallback();
			}
		}
	});
	netStream.play(name);
};
$hxClasses["FlxVideo"] = FlxVideo;
FlxVideo.__name__ = "FlxVideo";
FlxVideo.__super__ = flixel_FlxBasic;
FlxVideo.prototype = $extend(flixel_FlxBasic.prototype,{
	finishCallback: null
	,__class__: FlxVideo
});
var FreeplayState = function(TransIn,TransOut) {
	this.instPlaying = -1;
	this.iconArray = [];
	this.curPlaying = false;
	this.intendedRating = 0;
	this.intendedScore = 0;
	this.lerpRating = 0;
	this.lerpScore = 0;
	this.curDifficulty = -1;
	this.songs = [];
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["FreeplayState"] = FreeplayState;
FreeplayState.__name__ = "FreeplayState";
FreeplayState.destroyFreeplayVocals = function() {
	if(FreeplayState.vocals != null) {
		var _this = FreeplayState.vocals;
		_this.cleanup(_this.autoDestroy,true);
		FreeplayState.vocals.destroy();
	}
	FreeplayState.vocals = null;
};
FreeplayState.__super__ = MusicBeatState;
FreeplayState.prototype = $extend(MusicBeatState.prototype,{
	songs: null
	,selector: null
	,curDifficulty: null
	,scoreBG: null
	,scoreText: null
	,diffText: null
	,lerpScore: null
	,lerpRating: null
	,intendedScore: null
	,intendedRating: null
	,grpSongs: null
	,curPlaying: null
	,iconArray: null
	,bg: null
	,intendedColor: null
	,colorTween: null
	,create: function() {
		PlayState.isStoryMode = false;
		WeekData.reloadWeekFiles(false);
		var _g = 0;
		var _g1 = WeekData.weeksList.length;
		while(_g < _g1) {
			var i = _g++;
			var leWeek = WeekData.weeksLoaded.h[WeekData.weeksList[i]];
			var leSongs = [];
			var leChars = [];
			var _g2 = 0;
			var _g3 = leWeek.songs.length;
			while(_g2 < _g3) {
				var j = _g2++;
				leSongs.push(leWeek.songs[j][0]);
				leChars.push(leWeek.songs[j][1]);
			}
			WeekData.setDirectoryFromWeek(leWeek);
			var _g4 = 0;
			var _g5 = leWeek.songs;
			while(_g4 < _g5.length) {
				var song = _g5[_g4];
				++_g4;
				var colors = song[2];
				if(colors == null || colors.length < 3) {
					colors = [146,113,253];
				}
				var song1 = song[0];
				var song2 = song[1];
				var Red = colors[0];
				var Green = colors[1];
				var Blue = colors[2];
				var color = flixel_util_FlxColor._new();
				var Alpha = 255;
				if(Alpha == null) {
					Alpha = 255;
				}
				color &= -16711681;
				color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
				color &= -65281;
				color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
				color &= -256;
				color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
				color &= 16777215;
				color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
				this.addSong(song1,i,song2,color);
			}
		}
		WeekData.setDirectoryFromWeek();
		this.bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		this.bg.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.bg);
		this.grpSongs = new flixel_group_FlxTypedGroup();
		this.add(this.grpSongs);
		var _g = 0;
		var _g1 = this.songs.length;
		while(_g < _g1) {
			var i = _g++;
			var songText = new Alphabet(0,70 * i + 30,this.songs[i].songName,true,false);
			songText.isMenuItem = true;
			songText.targetY = i;
			this.grpSongs.add(songText);
			Paths.currentModDirectory = this.songs[i].folder;
			var icon = new HealthIcon(this.songs[i].songCharacter);
			icon.sprTracker = songText;
			this.iconArray.push(icon);
			this.add(icon);
		}
		WeekData.setDirectoryFromWeek();
		this.scoreText = new flixel_text_FlxText(flixel_FlxG.width * 0.7,5,0,"",32);
		this.scoreText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"right");
		this.scoreBG = new flixel_FlxSprite(this.scoreText.x - 6,0).makeGraphic(1,66,-16777216);
		this.scoreBG.set_alpha(0.6);
		this.add(this.scoreBG);
		this.diffText = new flixel_text_FlxText(this.scoreText.x,this.scoreText.y + 36,0,"",24);
		this.diffText.set_font(this.scoreText._font);
		this.add(this.diffText);
		this.add(this.scoreText);
		if(FreeplayState.curSelected >= this.songs.length) {
			FreeplayState.curSelected = 0;
		}
		this.bg.set_color(this.songs[FreeplayState.curSelected].color);
		this.intendedColor = this.bg.color;
		if(FreeplayState.lastDifficultyName == "") {
			FreeplayState.lastDifficultyName = CoolUtil.defaultDifficulty;
		}
		this.curDifficulty = Math.round(Math.max(0,CoolUtil.defaultDifficulties.indexOf(FreeplayState.lastDifficultyName)));
		this.changeSelection();
		this.changeDiff();
		var swag = new Alphabet(1,0,"swag");
		var textBG = new flixel_FlxSprite(0,flixel_FlxG.height - 26).makeGraphic(flixel_FlxG.width,26,-16777216);
		textBG.set_alpha(0.6);
		this.add(textBG);
		var leText = "Press C to open the Gameplay Changers Menu / Press Y to Reset your Score and Accuracy.";
		var size = 18;
		var text = new flixel_text_FlxText(textBG.x,textBG.y + 4,flixel_FlxG.width,leText,size);
		text.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),size,-1,"right");
		text.scrollFactor.set();
		this.add(text);
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B_C_X_Y);
		MusicBeatState.prototype.create.call(this);
	}
	,closeSubState: function() {
		this.changeSelection(0,false);
		MusicBeatState.prototype.closeSubState.call(this);
	}
	,addSong: function(songName,weekNum,songCharacter,color) {
		this.songs.push(new SongMetadata(songName,weekNum,songCharacter,color));
	}
	,instPlaying: null
	,update: function(elapsed) {
		if(flixel_FlxG.sound.music._volume < 0.7) {
			var fh = flixel_FlxG.sound.music;
			fh.set_volume(fh._volume + 0.5 * flixel_FlxG.elapsed);
		}
		var a = this.lerpScore;
		this.lerpScore = Math.floor(a + Math.max(0,Math.min(1,elapsed * 24)) * (this.intendedScore - a));
		var a = this.lerpRating;
		this.lerpRating = a + Math.max(0,Math.min(1,elapsed * 12)) * (this.intendedRating - a);
		if(Math.abs(this.lerpScore - this.intendedScore) <= 10) {
			this.lerpScore = this.intendedScore;
		}
		if(Math.abs(this.lerpRating - this.intendedRating) <= 0.01) {
			this.lerpRating = this.intendedRating;
		}
		var ratingSplit = Std.string(Highscore.floorDecimal(this.lerpRating * 100,2)).split(".");
		if(ratingSplit.length < 2) {
			ratingSplit.push("");
		}
		while(ratingSplit[1].length < 2) ratingSplit[1] += "0";
		this.scoreText.set_text("PERSONAL BEST: " + this.lerpScore + " (" + ratingSplit.join(".") + "%)");
		this.positionHighscore();
		var upP = PlayerSettings.player1.controls._ui_upP.check();
		var downP = PlayerSettings.player1.controls._ui_downP.check();
		var accepted = PlayerSettings.player1.controls._accept.check();
		var _this = flixel_FlxG.keys.justPressed;
		var space = _this.keyManager.checkStatusUnsafe(32,_this.status) || this._virtualpad.buttonX.input.current == 2;
		var _this = flixel_FlxG.keys.justPressed;
		var ctrl = _this.keyManager.checkStatusUnsafe(17,_this.status) || this._virtualpad.buttonC.input.current == 2;
		var shiftMult = 1;
		var _this = flixel_FlxG.keys.pressed;
		if(_this.keyManager.checkStatusUnsafe(16,_this.status)) {
			shiftMult = 3;
		}
		if(upP) {
			this.changeSelection(-shiftMult);
		}
		if(downP) {
			this.changeSelection(shiftMult);
		}
		if(PlayerSettings.player1.controls._ui_leftP.check()) {
			this.changeDiff(-1);
		} else if(PlayerSettings.player1.controls._ui_rightP.check()) {
			this.changeDiff(1);
		} else if(upP || downP) {
			this.changeDiff();
		}
		if(PlayerSettings.player1.controls._back.check()) {
			if(this.colorTween != null) {
				this.colorTween.cancel();
			}
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
			MusicBeatState.switchState(new MainMenuState());
		}
		if(ctrl) {
			this.openSubState(new GameplayChangersSubstate());
		} else if(space) {
			var tmp = this.instPlaying != FreeplayState.curSelected;
		} else if(accepted) {
			var songLowercase = StringTools.replace(this.songs[FreeplayState.curSelected].songName.toLowerCase()," ","-");
			var poop = Highscore.formatSong(songLowercase,this.curDifficulty);
			haxe_Log.trace(poop,{ fileName : "source/FreeplayState.hx", lineNumber : 339, className : "FreeplayState", methodName : "update"});
			PlayState.SONG = Song.loadFromJson(poop,songLowercase);
			PlayState.isStoryMode = false;
			PlayState.storyDifficulty = this.curDifficulty;
			haxe_Log.trace("CURRENT WEEK: " + WeekData.getWeekFileName(),{ fileName : "source/FreeplayState.hx", lineNumber : 345, className : "FreeplayState", methodName : "update"});
			if(this.colorTween != null) {
				this.colorTween.cancel();
			}
			var _this = flixel_FlxG.keys.pressed;
			if(_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				MusicBeatState.switchState(LoadingState.getNextState(new editors_ChartingState(),false));
			} else {
				MusicBeatState.switchState(LoadingState.getNextState(new PlayState(),false));
			}
			flixel_FlxG.sound.music.set_volume(0);
			FreeplayState.destroyFreeplayVocals();
		} else if(PlayerSettings.player1.controls._reset.check() || this._virtualpad.buttonY.input.current == 2) {
			this.openSubState(new ResetScoreSubState(this.songs[FreeplayState.curSelected].songName,this.curDifficulty,this.songs[FreeplayState.curSelected].songCharacter));
			flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeDiff: function(change) {
		if(change == null) {
			change = 0;
		}
		FreeplayState.lastDifficultyName = CoolUtil.difficulties[this.curDifficulty];
		this.intendedScore = Highscore.getScore(this.songs[FreeplayState.curSelected].songName,this.curDifficulty);
		this.intendedRating = Highscore.getRating(this.songs[FreeplayState.curSelected].songName,this.curDifficulty);
		PlayState.storyDifficulty = this.curDifficulty;
		this.diffText.set_text("< " + CoolUtil.difficultyString() + " >");
		this.positionHighscore();
	}
	,changeSelection: function(change,playSound) {
		if(playSound == null) {
			playSound = true;
		}
		if(change == null) {
			change = 0;
		}
		var _gthis = this;
		if(playSound) {
			flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		}
		FreeplayState.curSelected += change;
		if(FreeplayState.curSelected < 0) {
			FreeplayState.curSelected = this.songs.length - 1;
		}
		if(FreeplayState.curSelected >= this.songs.length) {
			FreeplayState.curSelected = 0;
		}
		var newColor = this.songs[FreeplayState.curSelected].color;
		if(newColor != this.intendedColor) {
			if(this.colorTween != null) {
				this.colorTween.cancel();
			}
			this.intendedColor = newColor;
			this.colorTween = flixel_tweens_FlxTween.color(this.bg,1,this.bg.color,this.intendedColor,{ onComplete : function(twn) {
				_gthis.colorTween = null;
			}});
		}
		this.intendedScore = Highscore.getScore(this.songs[FreeplayState.curSelected].songName,this.curDifficulty);
		this.intendedRating = Highscore.getRating(this.songs[FreeplayState.curSelected].songName,this.curDifficulty);
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.iconArray.length;
		while(_g < _g1) {
			var i = _g++;
			this.iconArray[i].set_alpha(0.6);
		}
		this.iconArray[FreeplayState.curSelected].set_alpha(1);
		var _g = 0;
		var _g1 = this.grpSongs.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - FreeplayState.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
		Paths.currentModDirectory = this.songs[FreeplayState.curSelected].folder;
		PlayState.storyWeek = this.songs[FreeplayState.curSelected].week;
		CoolUtil.difficulties = CoolUtil.defaultDifficulties.slice();
		var diffStr = WeekData.getCurrentWeek().difficulties;
		if(diffStr != null) {
			diffStr = StringTools.trim(diffStr);
		}
		if(diffStr != null && diffStr.length > 0) {
			var diffs = diffStr.split(",");
			var i = diffs.length - 1;
			while(i > 0) {
				if(diffs[i] != null) {
					diffs[i] = StringTools.trim(diffs[i]);
					if(diffs[i].length < 1) {
						HxOverrides.remove(diffs,diffs[i]);
					}
				}
				--i;
			}
			if(diffs.length > 0 && diffs[0].length > 0) {
				CoolUtil.difficulties = diffs;
			}
		}
		this.curDifficulty = Math.round(Math.max(0,CoolUtil.defaultDifficulties.indexOf(CoolUtil.defaultDifficulty)));
		var newPos = CoolUtil.difficulties.indexOf(FreeplayState.lastDifficultyName);
		if(newPos > -1) {
			this.curDifficulty = newPos;
		}
	}
	,positionHighscore: function() {
		this.scoreText.set_x(flixel_FlxG.width - this.scoreText.get_width() - 6);
		this.scoreBG.scale.set_x(flixel_FlxG.width - this.scoreText.x + 6);
		this.scoreBG.set_x(flixel_FlxG.width - this.scoreBG.scale.x / 2);
		this.diffText.set_x(this.scoreBG.x + this.scoreBG.get_width() / 2 | 0);
		var fh = this.diffText;
		fh.set_x(fh.x - this.diffText.get_width() / 2);
	}
	,__class__: FreeplayState
});
var SongMetadata = function(song,week,songCharacter,color) {
	this.folder = "";
	this.color = -7179779;
	this.songCharacter = "";
	this.week = 0;
	this.songName = "";
	this.songName = song;
	this.week = week;
	this.songCharacter = songCharacter;
	this.color = color;
	this.folder = Paths.currentModDirectory;
	if(this.folder == null) {
		this.folder = "";
	}
};
$hxClasses["SongMetadata"] = SongMetadata;
SongMetadata.__name__ = "SongMetadata";
SongMetadata.prototype = {
	songName: null
	,week: null
	,songCharacter: null
	,color: null
	,folder: null
	,__class__: SongMetadata
};
var FunkinLua = function(script) {
	this.accessedProps = null;
	this.gonnaClose = false;
	this.scriptName = "";
};
$hxClasses["FunkinLua"] = FunkinLua;
FunkinLua.__name__ = "FunkinLua";
FunkinLua.prototype = {
	scriptName: null
	,gonnaClose: null
	,accessedProps: null
	,getTextObject: function(name) {
		if(Object.prototype.hasOwnProperty.call(PlayState.instance.modchartTexts.h,name)) {
			return PlayState.instance.modchartTexts.h[name];
		} else {
			return Reflect.getProperty(PlayState.instance,name);
		}
	}
	,getGroupStuff: function(leArray,variable) {
		var killMe = variable.split(".");
		if(killMe.length > 1) {
			var coverMeInPiss = Reflect.getProperty(leArray,killMe[0]);
			var _g = 1;
			var _g1 = killMe.length - 1;
			while(_g < _g1) {
				var i = _g++;
				coverMeInPiss = Reflect.getProperty(coverMeInPiss,killMe[i]);
			}
			return Reflect.getProperty(coverMeInPiss,killMe[killMe.length - 1]);
		}
		return Reflect.getProperty(leArray,variable);
	}
	,setGroupStuff: function(leArray,variable,value) {
		var killMe = variable.split(".");
		if(killMe.length > 1) {
			var coverMeInPiss = Reflect.getProperty(leArray,killMe[0]);
			var _g = 1;
			var _g1 = killMe.length - 1;
			while(_g < _g1) {
				var i = _g++;
				coverMeInPiss = Reflect.getProperty(coverMeInPiss,killMe[i]);
			}
			Reflect.setProperty(coverMeInPiss,killMe[killMe.length - 1],value);
			return;
		}
		Reflect.setProperty(leArray,variable,value);
	}
	,resetTextTag: function(tag) {
		if(!Object.prototype.hasOwnProperty.call(PlayState.instance.modchartTexts.h,tag)) {
			return;
		}
		var pee = PlayState.instance.modchartTexts.h[tag];
		pee.kill();
		if(pee.wasAdded) {
			PlayState.instance.remove(pee,true);
		}
		pee.destroy();
		var _this = PlayState.instance.modchartTexts;
		if(Object.prototype.hasOwnProperty.call(_this.h,tag)) {
			delete(_this.h[tag]);
		}
	}
	,resetSpriteTag: function(tag) {
		if(!Object.prototype.hasOwnProperty.call(PlayState.instance.modchartSprites.h,tag)) {
			return;
		}
		var pee = PlayState.instance.modchartSprites.h[tag];
		pee.kill();
		if(pee.wasAdded) {
			PlayState.instance.remove(pee,true);
		}
		pee.destroy();
		var _this = PlayState.instance.modchartSprites;
		if(Object.prototype.hasOwnProperty.call(_this.h,tag)) {
			delete(_this.h[tag]);
		}
	}
	,cancelTween: function(tag) {
		if(Object.prototype.hasOwnProperty.call(PlayState.instance.modchartTweens.h,tag)) {
			PlayState.instance.modchartTweens.h[tag].cancel();
			PlayState.instance.modchartTweens.h[tag].destroy();
			var _this = PlayState.instance.modchartTweens;
			if(Object.prototype.hasOwnProperty.call(_this.h,tag)) {
				delete(_this.h[tag]);
			}
		}
	}
	,tweenShit: function(tag,vars) {
		this.cancelTween(tag);
		var variables = StringTools.replace(vars," ","").split(".");
		var sexyProp = Reflect.getProperty(PlayState.instance.isDead ? GameOverSubstate.instance : PlayState.instance,variables[0]);
		if(Object.prototype.hasOwnProperty.call(PlayState.instance.modchartSprites.h,variables[0])) {
			sexyProp = PlayState.instance.modchartSprites.h[variables[0]];
		}
		if(Object.prototype.hasOwnProperty.call(PlayState.instance.modchartTexts.h,variables[0])) {
			sexyProp = PlayState.instance.modchartTexts.h[variables[0]];
		}
		var _g = 1;
		var _g1 = variables.length;
		while(_g < _g1) {
			var i = _g++;
			sexyProp = Reflect.getProperty(sexyProp,variables[i]);
		}
		return sexyProp;
	}
	,cancelTimer: function(tag) {
		if(Object.prototype.hasOwnProperty.call(PlayState.instance.modchartTimers.h,tag)) {
			var theTimer = PlayState.instance.modchartTimers.h[tag];
			theTimer.cancel();
			theTimer.destroy();
			var _this = PlayState.instance.modchartTimers;
			if(Object.prototype.hasOwnProperty.call(_this.h,tag)) {
				delete(_this.h[tag]);
			}
		}
	}
	,getFlxEaseByString: function(ease) {
		if(ease == null) {
			ease = "";
		}
		switch(StringTools.trim(ease.toLowerCase())) {
		case "backin":
			return flixel_tweens_FlxEase.backIn;
		case "backinout":
			return flixel_tweens_FlxEase.backInOut;
		case "backout":
			return flixel_tweens_FlxEase.backOut;
		case "bouncein":
			return flixel_tweens_FlxEase.bounceIn;
		case "bounceinout":
			return flixel_tweens_FlxEase.bounceInOut;
		case "bounceout":
			return flixel_tweens_FlxEase.bounceOut;
		case "circin":
			return flixel_tweens_FlxEase.circIn;
		case "circinout":
			return flixel_tweens_FlxEase.circInOut;
		case "circout":
			return flixel_tweens_FlxEase.circOut;
		case "cubein":
			return flixel_tweens_FlxEase.cubeIn;
		case "cubeinout":
			return flixel_tweens_FlxEase.cubeInOut;
		case "cubeout":
			return flixel_tweens_FlxEase.cubeOut;
		case "elasticin":
			return flixel_tweens_FlxEase.elasticIn;
		case "elasticinout":
			return flixel_tweens_FlxEase.elasticInOut;
		case "elasticout":
			return flixel_tweens_FlxEase.elasticOut;
		case "expoin":
			return flixel_tweens_FlxEase.expoIn;
		case "expoinout":
			return flixel_tweens_FlxEase.expoInOut;
		case "expoout":
			return flixel_tweens_FlxEase.expoOut;
		case "quadin":
			return flixel_tweens_FlxEase.quadIn;
		case "quadinout":
			return flixel_tweens_FlxEase.quadInOut;
		case "quadout":
			return flixel_tweens_FlxEase.quadOut;
		case "quartin":
			return flixel_tweens_FlxEase.quartIn;
		case "quartinout":
			return flixel_tweens_FlxEase.quartInOut;
		case "quartout":
			return flixel_tweens_FlxEase.quartOut;
		case "quintin":
			return flixel_tweens_FlxEase.quintIn;
		case "quintinout":
			return flixel_tweens_FlxEase.quintInOut;
		case "quintout":
			return flixel_tweens_FlxEase.quintOut;
		case "sinein":
			return flixel_tweens_FlxEase.sineIn;
		case "sineinout":
			return flixel_tweens_FlxEase.sineInOut;
		case "sineout":
			return flixel_tweens_FlxEase.sineOut;
		case "smootherstepin":
			return flixel_tweens_FlxEase.smootherStepIn;
		case "smootherstepinout":
			return flixel_tweens_FlxEase.smootherStepInOut;
		case "smootherstepout":
			return flixel_tweens_FlxEase.smootherStepOut;
		case "smoothstepin":
			return flixel_tweens_FlxEase.smoothStepIn;
		case "smoothstepinout":
			return flixel_tweens_FlxEase.smoothStepInOut;
		case "smoothstepout":
			return flixel_tweens_FlxEase.smoothStepInOut;
		}
		return flixel_tweens_FlxEase.linear;
	}
	,blendModeFromString: function(blend) {
		switch(StringTools.trim(blend.toLowerCase())) {
		case "add":
			return 0;
		case "alpha":
			return 1;
		case "darken":
			return 2;
		case "difference":
			return 3;
		case "erase":
			return 4;
		case "hardlight":
			return 5;
		case "invert":
			return 6;
		case "layer":
			return 7;
		case "lighten":
			return 8;
		case "multiply":
			return 9;
		case "overlay":
			return 11;
		case "screen":
			return 12;
		case "shader":
			return 13;
		case "subtract":
			return 14;
		}
		return 10;
	}
	,cameraFromString: function(cam) {
		switch(cam.toLowerCase()) {
		case "camhud":case "hud":
			return PlayState.instance.camHUD;
		case "camother":case "other":
			return PlayState.instance.camOther;
		}
		return PlayState.instance.camGame;
	}
	,luaTrace: function(text,ignoreCheck,deprecated) {
		if(deprecated == null) {
			deprecated = false;
		}
		if(ignoreCheck == null) {
			ignoreCheck = false;
		}
	}
	,call: function(event,args) {
		return FunkinLua.Function_Continue;
	}
	,set: function(variable,data) {
	}
	,stop: function() {
	}
	,getInstance: function() {
		if(PlayState.instance.isDead) {
			return GameOverSubstate.instance;
		} else {
			return PlayState.instance;
		}
	}
	,__class__: FunkinLua
};
var ModchartSprite = function(X,Y,SimpleGraphic) {
	this.wasAdded = false;
	flixel_FlxSprite.call(this,X,Y,SimpleGraphic);
};
$hxClasses["ModchartSprite"] = ModchartSprite;
ModchartSprite.__name__ = "ModchartSprite";
ModchartSprite.__super__ = flixel_FlxSprite;
ModchartSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	wasAdded: null
	,__class__: ModchartSprite
});
var flixel_text_FlxText = function(X,Y,FieldWidth,Text1,Size,EmbeddedFont) {
	if(EmbeddedFont == null) {
		EmbeddedFont = true;
	}
	if(Size == null) {
		Size = 8;
	}
	if(FieldWidth == null) {
		FieldWidth = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._hasBorderAlpha = false;
	this._regen = true;
	this._formatRanges = [];
	this.borderQuality = 1;
	this.borderSize = 1;
	this.borderColor = 0;
	this.borderStyle = flixel_text_FlxTextBorderStyle.NONE;
	this.text = "";
	flixel_FlxSprite.call(this,X,Y);
	if(Text1 == null || Text1 == "") {
		this.set_text("");
		Text1 = " ";
	} else {
		this.set_text(Text1);
	}
	this.textField = new openfl_text_TextField();
	this.textField.set_selectable(false);
	this.textField.set_multiline(true);
	this.textField.set_wordWrap(true);
	this._defaultFormat = new openfl_text_TextFormat(null,Size,16777215);
	this.set_font(flixel_system_FlxAssets.FONT_DEFAULT);
	this._formatAdjusted = new openfl_text_TextFormat();
	this.textField.set_defaultTextFormat(this._defaultFormat);
	this.textField.set_text(Text1);
	this.set_fieldWidth(FieldWidth);
	this.textField.set_embedFonts(EmbeddedFont);
	this.textField.set_sharpness(100);
	this.textField.set_height(Text1.length <= 0 ? 1 : 10);
	this.set_allowCollisions(0);
	this.set_moves(false);
	this.drawFrame();
	var X = 1;
	var Y = 1;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	this.shadowOffset = point;
};
$hxClasses["flixel.text.FlxText"] = flixel_text_FlxText;
flixel_text_FlxText.__name__ = "flixel.text.FlxText";
flixel_text_FlxText.__super__ = flixel_FlxSprite;
flixel_text_FlxText.prototype = $extend(flixel_FlxSprite.prototype,{
	text: null
	,borderStyle: null
	,borderColor: null
	,borderSize: null
	,borderQuality: null
	,textField: null
	,shadowOffset: null
	,_defaultFormat: null
	,_formatAdjusted: null
	,_formatRanges: null
	,_font: null
	,_regen: null
	,_borderPixels: null
	,_borderColorTransform: null
	,_hasBorderAlpha: null
	,destroy: function() {
		this.textField = null;
		this._font = null;
		this._defaultFormat = null;
		this._formatAdjusted = null;
		this.shadowOffset = flixel_util_FlxDestroyUtil.put(this.shadowOffset);
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,drawFrame: function(Force) {
		if(Force == null) {
			Force = false;
		}
		this._regen = this._regen || Force;
		flixel_FlxSprite.prototype.drawFrame.call(this,this._regen);
	}
	,stampOnAtlas: function(atlas) {
		this.regenGraphic();
		var node = atlas.addNode(this.graphic.bitmap,this.graphic.key);
		var result = node != null;
		if(node != null) {
			this.set_frames(node.getImageFrame());
		}
		return result;
	}
	,applyMarkup: function(input,rules) {
		if(rules == null || rules.length == 0) {
			return this;
		}
		this.clearFormats();
		var rangeStarts = [];
		var rangeEnds = [];
		var rulesToApply = [];
		var i = 0;
		var _g = 0;
		while(_g < rules.length) {
			var rule = rules[_g];
			++_g;
			if(rule.marker == null || rule.format == null) {
				continue;
			}
			var start = false;
			var markerLength = UnicodeString.get_length(rule.marker);
			if(input.indexOf(rule.marker) == -1) {
				continue;
			}
			var _g1 = 0;
			var _g2 = UnicodeString.get_length(input);
			while(_g1 < _g2) {
				var charIndex = _g1++;
				if(UnicodeString.substr(input,charIndex,markerLength) != rule.marker) {
					continue;
				}
				if(start) {
					start = false;
					rangeEnds.push(charIndex);
				} else {
					start = true;
					rangeStarts.push(charIndex);
					rulesToApply.push(rule);
				}
			}
			if(start) {
				rangeEnds.push(-1);
			}
			++i;
		}
		var _g = 0;
		while(_g < rules.length) {
			var rule = rules[_g];
			++_g;
			input = StringTools.replace(input,rule.marker,"");
		}
		var _g = 0;
		var _g1 = rangeStarts.length;
		while(_g < _g1) {
			var i = _g++;
			var delIndex = rangeStarts[i];
			var markerLength = UnicodeString.get_length(rulesToApply[i].marker);
			var _g2 = 0;
			var _g3 = rangeStarts.length;
			while(_g2 < _g3) {
				var j = _g2++;
				if(rangeStarts[j] > delIndex) {
					rangeStarts[j] -= markerLength;
				}
				if(rangeEnds[j] > delIndex) {
					rangeEnds[j] -= markerLength;
				}
			}
			delIndex = rangeEnds[i];
			var _g4 = 0;
			var _g5 = rangeStarts.length;
			while(_g4 < _g5) {
				var j1 = _g4++;
				if(rangeStarts[j1] > delIndex) {
					rangeStarts[j1] -= markerLength;
				}
				if(rangeEnds[j1] > delIndex) {
					rangeEnds[j1] -= markerLength;
				}
			}
		}
		this.set_text(input);
		var _g = 0;
		var _g1 = rangeStarts.length;
		while(_g < _g1) {
			var i = _g++;
			this.addFormat(rulesToApply[i].format,rangeStarts[i],rangeEnds[i]);
		}
		return this;
	}
	,addFormat: function(Format,Start,End) {
		if(End == null) {
			End = -1;
		}
		if(Start == null) {
			Start = -1;
		}
		this._formatRanges.push(new flixel_text__$FlxText_FlxTextFormatRange(Format,Start,End));
		this._formatRanges.sort(function(left,right) {
			if(left.range.start < right.range.start) {
				return -1;
			} else {
				return 1;
			}
		});
		this._regen = true;
		return this;
	}
	,removeFormat: function(Format,Start,End) {
		var i = this._formatRanges.length;
		while(i-- > 0) {
			var formatRange = this._formatRanges[i];
			if(formatRange.format != Format) {
				continue;
			}
			if(Start != null && End != null) {
				var range = formatRange.range;
				if(Start >= range.end || End <= range.start) {
					continue;
				}
				if(Start > range.start && End < range.end) {
					this.addFormat(formatRange.format,End + 1,range.end);
					range.end = Start;
					continue;
				}
				if(Start <= range.start && End < range.end) {
					range.start = End;
					continue;
				}
				if(Start > range.start && End >= range.end) {
					range.end = Start;
					continue;
				}
			}
			HxOverrides.remove(this._formatRanges,formatRange);
		}
		this._regen = true;
		return this;
	}
	,clearFormats: function() {
		this._formatRanges = [];
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return this;
	}
	,setFormat: function(Font,Size,Color,Alignment,BorderStyle,BorderColor,EmbeddedFont) {
		if(EmbeddedFont == null) {
			EmbeddedFont = true;
		}
		if(BorderColor == null) {
			BorderColor = 0;
		}
		if(Color == null) {
			Color = -1;
		}
		if(Size == null) {
			Size = 8;
		}
		if(BorderStyle == null) {
			BorderStyle = flixel_text_FlxTextBorderStyle.NONE;
		}
		if(EmbeddedFont) {
			this.set_font(Font);
		} else if(Font != null) {
			this.set_systemFont(Font);
		}
		this.set_size(Size);
		this.set_color(Color);
		if(Alignment != null) {
			this.set_alignment(Alignment);
		}
		var Color = BorderColor;
		if(Color == null) {
			Color = 0;
		}
		this.set_borderStyle(BorderStyle);
		this.set_borderColor(Color);
		this.set_borderSize(1);
		this.set_borderQuality(1);
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return this;
	}
	,setBorderStyle: function(Style,Color,Size,Quality) {
		if(Quality == null) {
			Quality = 1;
		}
		if(Size == null) {
			Size = 1;
		}
		if(Color == null) {
			Color = 0;
		}
		this.set_borderStyle(Style);
		this.set_borderColor(Color);
		this.set_borderSize(Size);
		this.set_borderQuality(Quality);
		return this;
	}
	,updateHitbox: function() {
		this.regenGraphic();
		flixel_FlxSprite.prototype.updateHitbox.call(this);
	}
	,set_fieldWidth: function(value) {
		if(this.textField == null) {
			return value;
		}
		if(value <= 0) {
			this.set_wordWrap(false);
			this.set_autoSize(true);
		} else {
			this.set_autoSize(false);
			this.set_wordWrap(true);
			this.textField.set_width(value);
		}
		this._regen = true;
		return value;
	}
	,get_fieldWidth: function() {
		if(this.textField != null) {
			return this.textField.get_width();
		} else {
			return 0;
		}
	}
	,set_autoSize: function(value) {
		if(this.textField != null) {
			this.textField.set_autoSize(value ? 1 : 2);
			this._regen = true;
		}
		return value;
	}
	,get_autoSize: function() {
		if(this.textField != null) {
			return this.textField.get_autoSize() != 2;
		} else {
			return false;
		}
	}
	,set_text: function(Text1) {
		this.text = Text1;
		if(this.textField != null) {
			var ot = this.textField.get_text();
			this.textField.set_text(Text1);
			this._regen = this.textField.get_text() != ot || this._regen;
		}
		return Text1;
	}
	,get_size: function() {
		return this._defaultFormat.size | 0;
	}
	,set_size: function(Size) {
		this._defaultFormat.size = Size;
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return Size;
	}
	,set_color: function(Color) {
		if(this._defaultFormat.color == (Color & 16777215)) {
			return Color;
		}
		this._defaultFormat.color = Color & 16777215;
		this.color = Color;
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return Color;
	}
	,get_font: function() {
		return this._font;
	}
	,set_font: function(Font) {
		this.textField.set_embedFonts(true);
		if(Font != null) {
			var newFontName = Font;
			if(openfl_utils_Assets.exists(Font,"FONT")) {
				newFontName = openfl_utils_Assets.getFont(Font).name;
			}
			this._defaultFormat.font = newFontName;
		} else {
			this._defaultFormat.font = flixel_system_FlxAssets.FONT_DEFAULT;
		}
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return this._font = this._defaultFormat.font;
	}
	,get_embedded: function() {
		return this.textField.set_embedFonts(true);
	}
	,get_systemFont: function() {
		return this._defaultFormat.font;
	}
	,set_systemFont: function(Font) {
		this.textField.set_embedFonts(false);
		this._defaultFormat.font = Font;
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return Font;
	}
	,get_bold: function() {
		return this._defaultFormat.bold;
	}
	,set_bold: function(value) {
		if(this._defaultFormat.bold != value) {
			this._defaultFormat.bold = value;
			this.textField.set_defaultTextFormat(this._defaultFormat);
			this.textField.setTextFormat(this._defaultFormat);
			this._regen = true;
		}
		return value;
	}
	,get_italic: function() {
		return this._defaultFormat.italic;
	}
	,set_italic: function(value) {
		if(this._defaultFormat.italic != value) {
			this._defaultFormat.italic = value;
			this.textField.set_defaultTextFormat(this._defaultFormat);
			this.textField.setTextFormat(this._defaultFormat);
			this._regen = true;
		}
		return value;
	}
	,get_wordWrap: function() {
		return this.textField.get_wordWrap();
	}
	,set_wordWrap: function(value) {
		if(this.textField.get_wordWrap() != value) {
			this.textField.set_wordWrap(value);
			this._regen = true;
		}
		return value;
	}
	,get_alignment: function() {
		return flixel_text_FlxTextAlign.fromOpenFL(this._defaultFormat.align);
	}
	,set_alignment: function(Alignment) {
		this._defaultFormat.align = flixel_text_FlxTextAlign.toOpenFL(Alignment);
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
		return Alignment;
	}
	,set_borderStyle: function(style) {
		if(style != this.borderStyle) {
			this._regen = true;
		}
		return this.borderStyle = style;
	}
	,set_borderColor: function(Color) {
		if(this.borderColor != Color && this.borderStyle != flixel_text_FlxTextBorderStyle.NONE) {
			this._regen = true;
		}
		this._hasBorderAlpha = (Color >> 24 & 255) / 255 < 1;
		return this.borderColor = Color;
	}
	,set_borderSize: function(Value) {
		if(Value != this.borderSize && this.borderStyle != flixel_text_FlxTextBorderStyle.NONE) {
			this._regen = true;
		}
		return this.borderSize = Value;
	}
	,set_borderQuality: function(Value) {
		var lowerBound = Value < 0 ? 0 : Value;
		Value = lowerBound > 1 ? 1 : lowerBound;
		if(Value != this.borderQuality && this.borderStyle != flixel_text_FlxTextBorderStyle.NONE) {
			this._regen = true;
		}
		return this.borderQuality = Value;
	}
	,set_graphic: function(Value) {
		var oldGraphic = this.graphic;
		var graph = flixel_FlxSprite.prototype.set_graphic.call(this,Value);
		flixel_FlxG.bitmap.removeIfNoUse(oldGraphic);
		return graph;
	}
	,get_width: function() {
		this.regenGraphic();
		return flixel_FlxSprite.prototype.get_width.call(this);
	}
	,get_height: function() {
		this.regenGraphic();
		return flixel_FlxSprite.prototype.get_height.call(this);
	}
	,updateColorTransform: function() {
		if(this.colorTransform == null) {
			this.colorTransform = new openfl_geom_ColorTransform();
		}
		if(this.alpha != 1) {
			this.colorTransform.alphaMultiplier = this.alpha;
			this.useColorTransform = true;
		} else {
			this.colorTransform.alphaMultiplier = 1;
			this.useColorTransform = false;
		}
		this.dirty = true;
	}
	,regenGraphic: function() {
		if(this.textField == null || !this._regen) {
			return;
		}
		var oldWidth = 0;
		var oldHeight = 4;
		if(this.graphic != null) {
			oldWidth = this.graphic.width;
			oldHeight = this.graphic.height;
		}
		var newWidth = this.textField.get_width();
		var newHeight = this.textField.get_textHeight() + 4;
		if(this.textField.get_textHeight() == 0) {
			newHeight = oldHeight;
		}
		if(oldWidth != newWidth || oldHeight != newHeight) {
			this.set_height(newHeight);
			var key = flixel_FlxG.bitmap.getUniqueKey("text");
			this.makeGraphic(newWidth | 0,newHeight | 0,0,false,key);
			if(this._hasBorderAlpha) {
				this._borderPixels = this.graphic.bitmap.clone();
			}
			this.frameHeight = this.get_height() | 0;
			this.textField.set_height(this.get_height() * 1.2);
			this._flashRect.x = 0;
			this._flashRect.y = 0;
			this._flashRect.width = newWidth;
			this._flashRect.height = newHeight;
		} else {
			this.graphic.bitmap.fillRect(this._flashRect,0);
			if(this._hasBorderAlpha) {
				if(this._borderPixels == null) {
					this._borderPixels = new openfl_display_BitmapData(this.frameWidth,this.frameHeight,true);
				} else {
					this._borderPixels.fillRect(this._flashRect,0);
				}
			}
		}
		if(this.textField != null && this.textField.get_text() != null && this.textField.get_text().length > 0) {
			this.copyTextFormat(this._defaultFormat,this._formatAdjusted);
			this._matrix.identity();
			this.applyBorderStyle();
			if(this._hasBorderAlpha) {
				if(this._borderColorTransform == null) {
					this._borderColorTransform = new openfl_geom_ColorTransform();
				}
				this._borderColorTransform.alphaMultiplier = (this.borderColor >> 24 & 255) / 255;
				this._borderPixels.colorTransform(this._borderPixels.rect,this._borderColorTransform);
				this.graphic.bitmap.draw(this._borderPixels);
			}
			this.applyFormats(this._formatAdjusted,false);
			this.drawTextFieldTo(this.graphic.bitmap);
		}
		this._regen = false;
		this.set_frame(this.frame);
	}
	,drawTextFieldTo: function(graphic) {
		graphic.draw(this.textField,this._matrix);
	}
	,draw: function() {
		this.regenGraphic();
		flixel_FlxSprite.prototype.draw.call(this);
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
		if(this.textField == null) {
			return;
		}
		if(flixel_FlxG.renderTile && !RunOnCpp) {
			return;
		}
		this.regenGraphic();
		flixel_FlxSprite.prototype.calcFrame.call(this,RunOnCpp);
	}
	,applyBorderStyle: function() {
		var iterations = this.borderSize * this.borderQuality | 0;
		if(iterations <= 0) {
			iterations = 1;
		}
		var delta = this.borderSize / iterations;
		switch(this.borderStyle._hx_index) {
		case 0:
			break;
		case 1:
			this.applyFormats(this._formatAdjusted,true);
			var _g = 0;
			var _g1 = iterations;
			while(_g < _g1) {
				var i = _g++;
				var graphic = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(delta,delta);
				this.drawTextFieldTo(graphic);
			}
			this._matrix.translate(-this.shadowOffset.x * this.borderSize,-this.shadowOffset.y * this.borderSize);
			break;
		case 2:
			this.applyFormats(this._formatAdjusted,true);
			var curDelta = delta;
			var _g = 0;
			var _g1 = iterations;
			while(_g < _g1) {
				var i = _g++;
				var graphic = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(-curDelta,-curDelta);
				this.drawTextFieldTo(graphic);
				var graphic1 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(curDelta,0);
				this.drawTextFieldTo(graphic1);
				var graphic2 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(curDelta,0);
				this.drawTextFieldTo(graphic2);
				var graphic3 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(0,curDelta);
				this.drawTextFieldTo(graphic3);
				var graphic4 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(0,curDelta);
				this.drawTextFieldTo(graphic4);
				var graphic5 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(-curDelta,0);
				this.drawTextFieldTo(graphic5);
				var graphic6 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(-curDelta,0);
				this.drawTextFieldTo(graphic6);
				var graphic7 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(0,-curDelta);
				this.drawTextFieldTo(graphic7);
				this._matrix.translate(curDelta,0);
				curDelta += delta;
			}
			break;
		case 3:
			this.applyFormats(this._formatAdjusted,true);
			var curDelta = delta;
			var _g = 0;
			var _g1 = iterations;
			while(_g < _g1) {
				var i = _g++;
				var graphic = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(-curDelta,-curDelta);
				this.drawTextFieldTo(graphic);
				var graphic1 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(curDelta * 2,0);
				this.drawTextFieldTo(graphic1);
				var graphic2 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(0,curDelta * 2);
				this.drawTextFieldTo(graphic2);
				var graphic3 = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
				this._matrix.translate(-curDelta * 2,0);
				this.drawTextFieldTo(graphic3);
				this._matrix.translate(curDelta,-curDelta);
				curDelta += delta;
			}
			break;
		}
	}
	,applyBorderTransparency: function() {
		if(!this._hasBorderAlpha) {
			return;
		}
		if(this._borderColorTransform == null) {
			this._borderColorTransform = new openfl_geom_ColorTransform();
		}
		this._borderColorTransform.alphaMultiplier = (this.borderColor >> 24 & 255) / 255;
		this._borderPixels.colorTransform(this._borderPixels.rect,this._borderColorTransform);
		this.graphic.bitmap.draw(this._borderPixels);
	}
	,copyTextWithOffset: function(x,y) {
		var graphic = this._hasBorderAlpha ? this._borderPixels : this.graphic.bitmap;
		this._matrix.translate(x,y);
		this.drawTextFieldTo(graphic);
	}
	,applyFormats: function(FormatAdjusted,UseBorderColor) {
		if(UseBorderColor == null) {
			UseBorderColor = false;
		}
		this.copyTextFormat(this._defaultFormat,FormatAdjusted,false);
		FormatAdjusted.color = UseBorderColor ? this.borderColor & 16777215 : this._defaultFormat.color;
		this.textField.setTextFormat(FormatAdjusted);
		var _g = 0;
		var _g1 = this._formatRanges;
		while(_g < _g1.length) {
			var formatRange = _g1[_g];
			++_g;
			if(this.textField.get_text().length - 1 < formatRange.range.start) {
				break;
			} else {
				var textFormat = formatRange.format.format;
				this.copyTextFormat(textFormat,FormatAdjusted,false);
				FormatAdjusted.color = UseBorderColor ? formatRange.format.borderColor & 16777215 : textFormat.color;
			}
			this.textField.setTextFormat(FormatAdjusted,formatRange.range.start,Math.min(formatRange.range.end,this.textField.get_text().length) | 0);
		}
	}
	,copyTextFormat: function(from,to,withAlign) {
		if(withAlign == null) {
			withAlign = true;
		}
		to.font = from.font;
		to.bold = from.bold;
		to.italic = from.italic;
		to.size = from.size;
		to.color = from.color;
		to.leading = from.leading;
		if(withAlign) {
			to.align = from.align;
		}
	}
	,dtfCopy: function() {
		var dtf = this.textField.get_defaultTextFormat();
		return new openfl_text_TextFormat(dtf.font,dtf.size,dtf.color,dtf.bold,dtf.italic,dtf.underline,dtf.url,dtf.target,dtf.align);
	}
	,updateDefaultFormat: function() {
		this.textField.set_defaultTextFormat(this._defaultFormat);
		this.textField.setTextFormat(this._defaultFormat);
		this._regen = true;
	}
	,set_frames: function(Frames) {
		flixel_FlxSprite.prototype.set_frames.call(this,Frames);
		this._regen = false;
		return Frames;
	}
	,__class__: flixel_text_FlxText
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_fieldWidth:"set_fieldWidth",get_fieldWidth:"get_fieldWidth",set_borderQuality:"set_borderQuality",set_borderSize:"set_borderSize",set_borderColor:"set_borderColor",set_borderStyle:"set_borderStyle",set_alignment:"set_alignment",get_alignment:"get_alignment",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_italic:"set_italic",get_italic:"get_italic",set_bold:"set_bold",get_bold:"get_bold",set_systemFont:"set_systemFont",get_systemFont:"get_systemFont",get_embedded:"get_embedded",set_font:"set_font",get_font:"get_font",set_size:"set_size",get_size:"get_size",set_text:"set_text"})
});
var ModchartText = function(x,y,text,width) {
	this.wasAdded = false;
	flixel_text_FlxText.call(this,x,y,width,text,16);
	this.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
	this.set_cameras([PlayState.instance.camHUD]);
	this.scrollFactor.set();
	this.set_borderSize(2);
};
$hxClasses["ModchartText"] = ModchartText;
ModchartText.__name__ = "ModchartText";
ModchartText.__super__ = flixel_text_FlxText;
ModchartText.prototype = $extend(flixel_text_FlxText.prototype,{
	wasAdded: null
	,__class__: ModchartText
});
var DebugLuaText = function(text,parentGroup) {
	this.disableTime = 6;
	this.parentGroup = parentGroup;
	flixel_text_FlxText.call(this,10,10,0,text,16);
	this.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),20,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
	this.scrollFactor.set();
	this.set_borderSize(1);
};
$hxClasses["DebugLuaText"] = DebugLuaText;
DebugLuaText.__name__ = "DebugLuaText";
DebugLuaText.__super__ = flixel_text_FlxText;
DebugLuaText.prototype = $extend(flixel_text_FlxText.prototype,{
	disableTime: null
	,parentGroup: null
	,update: function(elapsed) {
		flixel_text_FlxText.prototype.update.call(this,elapsed);
		this.disableTime -= elapsed;
		if(this.disableTime <= 0) {
			this.kill();
			this.parentGroup.remove(this);
			this.destroy();
		} else if(this.disableTime < 1) {
			this.set_alpha(this.disableTime);
		}
	}
	,__class__: DebugLuaText
});
var GameOverSubstate = function(x,y,camX,camY) {
	this.isEnding = false;
	this.isFollowingAlready = false;
	this.stageSuffix = "";
	this.updateCamera = false;
	MusicBeatSubstate.call(this);
	PlayState.instance.setOnLuas("inGameOver",true);
	Conductor.songPosition = 0;
	this.boyfriend = new Boyfriend(x,y,GameOverSubstate.characterName);
	var fh = this.boyfriend;
	fh.set_x(fh.x + this.boyfriend.positionArray[0]);
	var fh = this.boyfriend;
	fh.set_y(fh.y + this.boyfriend.positionArray[1]);
	this.add(this.boyfriend);
	this.camFollow = new flixel_math_FlxPoint(this.boyfriend.getGraphicMidpoint().x,this.boyfriend.getGraphicMidpoint().y);
	flixel_FlxG.sound.play(Paths.sound(GameOverSubstate.deathSoundName));
	Conductor.changeBPM(100);
	flixel_FlxG.camera.scroll.set();
	flixel_FlxG.camera.target = null;
	this.boyfriend.playAnim("firstDeath");
	this.camFollowPos = new flixel_FlxObject(0,0,1,1);
	this.camFollowPos.setPosition(flixel_FlxG.camera.scroll.x + flixel_FlxG.camera.width / 2,flixel_FlxG.camera.scroll.y + flixel_FlxG.camera.height / 2);
	this.add(this.camFollowPos);
	this.addVirtualPad(ui_FlxDPadMode.NONE,ui_FlxActionMode.A_B);
	var camcontrol = new flixel_FlxCamera();
	flixel_FlxG.cameras.add(camcontrol);
	camcontrol.bgColor &= 16777215;
	camcontrol.bgColor |= 0;
	this._virtualpad.set_cameras([camcontrol]);
};
$hxClasses["GameOverSubstate"] = GameOverSubstate;
GameOverSubstate.__name__ = "GameOverSubstate";
GameOverSubstate.instance = null;
GameOverSubstate.resetVariables = function() {
	GameOverSubstate.characterName = "bf";
	GameOverSubstate.deathSoundName = "fnf_loss_sfx";
	GameOverSubstate.loopSoundName = "gameOver";
	GameOverSubstate.endSoundName = "gameOverEnd";
};
GameOverSubstate.__super__ = MusicBeatSubstate;
GameOverSubstate.prototype = $extend(MusicBeatSubstate.prototype,{
	boyfriend: null
	,camFollow: null
	,camFollowPos: null
	,updateCamera: null
	,stageSuffix: null
	,create: function() {
		GameOverSubstate.instance = this;
		PlayState.instance.callOnLuas("onGameOverStart",[]);
		MusicBeatSubstate.prototype.create.call(this);
	}
	,isFollowingAlready: null
	,update: function(elapsed) {
		MusicBeatSubstate.prototype.update.call(this,elapsed);
		PlayState.instance.callOnLuas("onUpdate",[elapsed]);
		if(this.updateCamera) {
			var lerpVal = Math.max(0,Math.min(1,elapsed * 0.6));
			var a = this.camFollowPos.x;
			var a1 = this.camFollowPos.y;
			this.camFollowPos.setPosition(a + lerpVal * (this.camFollow.x - a),a1 + lerpVal * (this.camFollow.y - a1));
		}
		if(PlayerSettings.player1.controls._accept.check()) {
			this.endBullshit();
		}
		if(PlayerSettings.player1.controls._back.check()) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
			PlayState.deathCounter = 0;
			PlayState.seenCutscene = false;
			if(PlayState.isStoryMode) {
				MusicBeatState.switchState(new StoryMenuState());
			} else {
				MusicBeatState.switchState(new FreeplayState());
			}
			flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
			PlayState.instance.callOnLuas("onGameOverConfirm",[false]);
		}
		if(this.boyfriend.animation._curAnim.name == "firstDeath") {
			if(this.boyfriend.animation._curAnim.curFrame >= 12 && !this.isFollowingAlready) {
				flixel_FlxG.camera.follow(this.camFollowPos,flixel_FlxCameraFollowStyle.LOCKON,1);
				this.updateCamera = true;
				this.isFollowingAlready = true;
			}
			if(this.boyfriend.animation._curAnim.finished) {
				this.coolStartDeath();
				this.boyfriend.startedDeath = true;
			}
		}
		if(flixel_FlxG.sound.music._channel != null) {
			Conductor.songPosition = flixel_FlxG.sound.music._time;
		}
		PlayState.instance.callOnLuas("onUpdatePost",[elapsed]);
	}
	,beatHit: function() {
		MusicBeatSubstate.prototype.beatHit.call(this);
	}
	,isEnding: null
	,coolStartDeath: function(volume) {
		if(volume == null) {
			volume = 1;
		}
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + GameOverSubstate.loopSoundName + "." + "mp3","MUSIC",null),volume);
	}
	,endBullshit: function() {
		if(!this.isEnding) {
			this.isEnding = true;
			this.boyfriend.playAnim("deathConfirm",true);
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
			flixel_FlxG.sound.play(Paths.getPath("music/" + GameOverSubstate.endSoundName + "." + "mp3","MUSIC",null));
			new flixel_util_FlxTimer().start(0.7,function(tmr) {
				flixel_FlxG.camera.fade(-16777216,2,false,function() {
					MusicBeatState.resetState();
				});
			});
			PlayState.instance.callOnLuas("onGameOverConfirm",[true]);
		}
	}
	,__class__: GameOverSubstate
});
var GameplayChangersSubstate = function() {
	this.holdValue = 0;
	this.holdTime = 0;
	this.nextAccept = 5;
	this.optionsArray = [];
	this.curSelected = 0;
	this.curOption = null;
	MusicBeatSubstate.call(this);
	var bg = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
	bg.set_alpha(0.6);
	this.add(bg);
	this.grpOptions = new flixel_group_FlxTypedGroup();
	this.add(this.grpOptions);
	this.grpTexts = new flixel_group_FlxTypedGroup();
	this.add(this.grpTexts);
	this.checkboxGroup = new flixel_group_FlxTypedGroup();
	this.add(this.checkboxGroup);
	this.getOptions();
	var _g = 0;
	var _g1 = this.optionsArray.length;
	while(_g < _g1) {
		var i = _g++;
		var optionText = new Alphabet(0,70 * i,this.optionsArray[i].name,true,false,0.05,0.8);
		optionText.isMenuItem = true;
		optionText.set_x(optionText.x + 300);
		optionText.xAdd = 120;
		optionText.targetY = i;
		this.grpOptions.add(optionText);
		if(this.optionsArray[i].type == "bool") {
			var checkbox = new CheckboxThingie(optionText.x - 105,optionText.y,this.optionsArray[i].getValue() == true);
			checkbox.sprTracker = optionText;
			checkbox.offsetY = -60;
			checkbox.ID = i;
			this.checkboxGroup.add(checkbox);
			optionText.xAdd += 80;
		} else {
			var valueText = new AttachedText("" + Std.string(this.optionsArray[i].getValue()),optionText.get_width() + 80,null,true,0.8);
			valueText.sprTracker = optionText;
			valueText.copyAlpha = true;
			valueText.ID = i;
			this.grpTexts.add(valueText);
			this.optionsArray[i].setChild(valueText);
		}
		this.updateTextFrom(this.optionsArray[i]);
	}
	this.changeSelection();
	this.reloadCheckboxes();
	this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B_C);
	var camcontrol = new flixel_FlxCamera();
	flixel_FlxG.cameras.add(camcontrol);
	camcontrol.bgColor &= 16777215;
	camcontrol.bgColor |= 0;
	this._virtualpad.set_cameras([camcontrol]);
};
$hxClasses["GameplayChangersSubstate"] = GameplayChangersSubstate;
GameplayChangersSubstate.__name__ = "GameplayChangersSubstate";
GameplayChangersSubstate.__super__ = MusicBeatSubstate;
GameplayChangersSubstate.prototype = $extend(MusicBeatSubstate.prototype,{
	curOption: null
	,curSelected: null
	,optionsArray: null
	,grpOptions: null
	,checkboxGroup: null
	,grpTexts: null
	,getOptions: function() {
		var option = new GameplayOption("Scroll Speed","scrollspeed","float",1);
		option.scrollSpeed = 1.5;
		option.minValue = 0.5;
		option.maxValue = 3;
		option.changeValue = 0.1;
		option.displayFormat = "%vX";
		this.optionsArray.push(option);
		var option = new GameplayOption("Health Gain Multiplier","healthgain","float",1);
		option.scrollSpeed = 2.5;
		option.minValue = 0;
		option.maxValue = 5;
		option.changeValue = 0.1;
		option.displayFormat = "%vX";
		this.optionsArray.push(option);
		var option = new GameplayOption("Health Loss Multiplier","healthloss","float",1);
		option.scrollSpeed = 2.5;
		option.minValue = 0.5;
		option.maxValue = 5;
		option.changeValue = 0.1;
		option.displayFormat = "%vX";
		this.optionsArray.push(option);
		var option = new GameplayOption("Instakill on Miss","instakill","bool",false);
		this.optionsArray.push(option);
		var option = new GameplayOption("Practice Mode","practice","bool",false);
		this.optionsArray.push(option);
		var option = new GameplayOption("Botplay","botplay","bool",false);
		this.optionsArray.push(option);
	}
	,nextAccept: null
	,holdTime: null
	,holdValue: null
	,update: function(elapsed) {
		if(PlayerSettings.player1.controls._ui_upP.check()) {
			this.changeSelection(-1);
		}
		if(PlayerSettings.player1.controls._ui_downP.check()) {
			this.changeSelection(1);
		}
		if(PlayerSettings.player1.controls._back.check()) {
			MusicBeatState.resetState();
			ClientPrefs.saveSettings();
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
		}
		if(this.nextAccept <= 0) {
			var usesCheckbox = true;
			if(this.curOption.get_type() != "bool") {
				usesCheckbox = false;
			}
			if(usesCheckbox) {
				if(PlayerSettings.player1.controls._accept.check()) {
					flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
					this.curOption.setValue(this.curOption.getValue() == true ? false : true);
					this.curOption.change();
					this.reloadCheckboxes();
				}
			} else if(PlayerSettings.player1.controls._ui_left.check() || PlayerSettings.player1.controls._ui_right.check()) {
				var pressed = PlayerSettings.player1.controls._ui_leftP.check() || PlayerSettings.player1.controls._ui_rightP.check();
				if(this.holdTime > 0.5 || pressed) {
					if(pressed) {
						var add = null;
						if(this.curOption.get_type() != "string") {
							add = PlayerSettings.player1.controls._ui_left.check() ? -this.curOption.changeValue : this.curOption.changeValue;
						}
						switch(this.curOption.get_type()) {
						case "float":case "int":case "percent":
							this.holdValue = this.curOption.getValue() + add;
							if(this.holdValue < this.curOption.minValue) {
								this.holdValue = this.curOption.minValue;
							} else if(this.holdValue > this.curOption.maxValue) {
								this.holdValue = this.curOption.maxValue;
							}
							switch(this.curOption.get_type()) {
							case "int":
								this.holdValue = Math.round(this.holdValue);
								this.curOption.setValue(this.holdValue);
								break;
							case "float":case "percent":
								this.holdValue = flixel_math_FlxMath.roundDecimal(this.holdValue,this.curOption.decimals);
								this.curOption.setValue(this.holdValue);
								break;
							}
							break;
						case "string":
							var num = this.curOption.curOption;
							if(PlayerSettings.player1.controls._ui_leftP.check()) {
								--num;
							} else {
								++num;
							}
							if(num < 0) {
								num = this.curOption.options.length - 1;
							} else if(num >= this.curOption.options.length) {
								num = 0;
							}
							this.curOption.curOption = num;
							this.curOption.setValue(this.curOption.options[num]);
							break;
						}
						this.updateTextFrom(this.curOption);
						this.curOption.change();
						flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
					} else if(this.curOption.get_type() != "string") {
						this.holdValue += this.curOption.scrollSpeed * elapsed * (PlayerSettings.player1.controls._ui_left.check() ? -1 : 1);
						if(this.holdValue < this.curOption.minValue) {
							this.holdValue = this.curOption.minValue;
						} else if(this.holdValue > this.curOption.maxValue) {
							this.holdValue = this.curOption.maxValue;
						}
						switch(this.curOption.get_type()) {
						case "int":
							this.curOption.setValue(Math.round(this.holdValue));
							break;
						case "float":case "percent":
							this.curOption.setValue(flixel_math_FlxMath.roundDecimal(this.holdValue,this.curOption.decimals));
							break;
						}
						this.updateTextFrom(this.curOption);
						this.curOption.change();
					}
				}
				if(this.curOption.get_type() != "string") {
					this.holdTime += elapsed;
				}
			} else if(PlayerSettings.player1.controls._ui_leftR.check() || PlayerSettings.player1.controls._ui_rightR.check()) {
				this.clearHold();
			}
			if(PlayerSettings.player1.controls._reset.check() || this._virtualpad.buttonC.input.current == 2) {
				var _g = 0;
				var _g1 = this.optionsArray.length;
				while(_g < _g1) {
					var i = _g++;
					var leOption = this.optionsArray[i];
					leOption.setValue(leOption.defaultValue);
					if(leOption.get_type() != "bool") {
						if(leOption.get_type() == "string") {
							leOption.curOption = leOption.options.indexOf(leOption.getValue());
						}
						this.updateTextFrom(leOption);
					}
					leOption.change();
				}
				flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
				this.reloadCheckboxes();
			}
		}
		if(this.nextAccept > 0) {
			this.nextAccept -= 1;
		}
		MusicBeatSubstate.prototype.update.call(this,elapsed);
	}
	,updateTextFrom: function(option) {
		var text = option.displayFormat;
		var val = option.getValue();
		if(option.get_type() == "percent") {
			val *= 100;
		}
		var def = option.defaultValue;
		option.set_text(StringTools.replace(StringTools.replace(text,"%v",val),"%d",def));
	}
	,clearHold: function() {
		if(this.holdTime > 0.5) {
			flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
		}
		this.holdTime = 0;
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		this.curSelected += change;
		if(this.curSelected < 0) {
			this.curSelected = this.optionsArray.length - 1;
		}
		if(this.curSelected >= this.optionsArray.length) {
			this.curSelected = 0;
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.grpOptions.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - this.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
		var text = new flixel_group_FlxTypedGroupIterator(this.grpTexts.members,null);
		while(text.hasNext()) {
			var text1 = text.next();
			text1.set_alpha(0.6);
			if(text1.ID == this.curSelected) {
				text1.set_alpha(1);
			}
		}
		this.curOption = this.optionsArray[this.curSelected];
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
	}
	,reloadCheckboxes: function() {
		var checkbox = new flixel_group_FlxTypedGroupIterator(this.checkboxGroup.members,null);
		while(checkbox.hasNext()) {
			var checkbox1 = checkbox.next();
			checkbox1.set_daValue(this.optionsArray[checkbox1.ID].getValue() == true);
		}
	}
	,__class__: GameplayChangersSubstate
});
var GameplayOption = function(name,variable,type,defaultValue,options) {
	if(defaultValue == null) {
		defaultValue = "null variable value";
	}
	if(type == null) {
		type = "bool";
	}
	this.name = "Unknown";
	this.displayFormat = "%v";
	this.decimals = 1;
	this.maxValue = null;
	this.minValue = null;
	this.changeValue = 1;
	this.options = null;
	this.curOption = 0;
	this.defaultValue = null;
	this.variable = null;
	this.scrollSpeed = 50;
	this.showBoyfriend = false;
	this.type = "bool";
	this.onChange = null;
	this.name = name;
	this.variable = variable;
	this.type = type;
	this.defaultValue = defaultValue;
	this.options = options;
	if(defaultValue == "null variable value") {
		switch(type) {
		case "bool":
			defaultValue = false;
			break;
		case "float":case "int":
			defaultValue = 0;
			break;
		case "percent":
			defaultValue = 1;
			break;
		case "string":
			defaultValue = "";
			if(options.length > 0) {
				defaultValue = options[0];
			}
			break;
		}
	}
	if(this.getValue() == null) {
		this.setValue(defaultValue);
	}
	switch(type) {
	case "percent":
		this.displayFormat = "%v%";
		this.changeValue = 0.01;
		this.minValue = 0;
		this.maxValue = 1;
		this.scrollSpeed = 0.5;
		this.decimals = 2;
		break;
	case "string":
		var num = options.indexOf(this.getValue());
		if(num > -1) {
			this.curOption = num;
		}
		break;
	}
};
$hxClasses["GameplayOption"] = GameplayOption;
GameplayOption.__name__ = "GameplayOption";
GameplayOption.prototype = {
	child: null
	,onChange: null
	,type: null
	,showBoyfriend: null
	,scrollSpeed: null
	,variable: null
	,defaultValue: null
	,curOption: null
	,options: null
	,changeValue: null
	,minValue: null
	,maxValue: null
	,decimals: null
	,displayFormat: null
	,name: null
	,change: function() {
		if(this.onChange != null) {
			this.onChange();
		}
	}
	,getValue: function() {
		return ClientPrefs.gameplaySettings.h[this.variable];
	}
	,setValue: function(value) {
		ClientPrefs.gameplaySettings.h[this.variable] = value;
	}
	,setChild: function(child) {
		this.child = child;
	}
	,get_text: function() {
		if(this.child != null) {
			return this.child.text;
		}
		return null;
	}
	,set_text: function(newValue) {
		if(newValue == null) {
			newValue = "";
		}
		if(this.child != null) {
			this.child.changeText(newValue);
		}
		return null;
	}
	,get_type: function() {
		var newValue = "bool";
		switch(StringTools.trim(this.type.toLowerCase())) {
		case "fl":
			newValue = "float";
			break;
		case "integer":
			newValue = "int";
			break;
		case "float":case "int":case "percent":case "string":
			newValue = this.type;
			break;
		case "str":
			newValue = "string";
			break;
		}
		this.type = newValue;
		return this.type;
	}
	,__class__: GameplayOption
	,__properties__: {get_type:"get_type",set_text:"set_text",get_text:"get_text"}
};
var HealthIcon = function(char,isPlayer) {
	if(isPlayer == null) {
		isPlayer = false;
	}
	if(char == null) {
		char = "bf";
	}
	this.iconOffsets = [0,0];
	this.char = "";
	this.isPlayer = false;
	this.isOldIcon = false;
	flixel_FlxSprite.call(this);
	this.isOldIcon = char == "bf-old";
	this.isPlayer = isPlayer;
	this.changeIcon(char);
	this.scrollFactor.set();
};
$hxClasses["HealthIcon"] = HealthIcon;
HealthIcon.__name__ = "HealthIcon";
HealthIcon.__super__ = flixel_FlxSprite;
HealthIcon.prototype = $extend(flixel_FlxSprite.prototype,{
	sprTracker: null
	,isOldIcon: null
	,isPlayer: null
	,char: null
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x + this.sprTracker.get_width() + 10,this.sprTracker.y - 30);
		}
	}
	,swapOldIcon: function() {
		if(this.isOldIcon = !this.isOldIcon) {
			this.changeIcon("bf-old");
		} else {
			this.changeIcon("bf");
		}
	}
	,iconOffsets: null
	,changeIcon: function(char) {
		if(this.char != char) {
			var name = "icons/" + char;
			if(!openfl_utils_Assets.exists(Paths.getPath("images/" + name + ".png","IMAGE"))) {
				name = "icons/icon-" + char;
			}
			if(!openfl_utils_Assets.exists(Paths.getPath("images/" + name + ".png","IMAGE"))) {
				name = "icons/icon-face";
			}
			var file = Paths.getPath("images/" + name + ".png","IMAGE",null);
			this.loadGraphic(file);
			this.loadGraphic(file,true,Math.floor(this.get_width() / 2),Math.floor(this.get_height()));
			this.iconOffsets[0] = (this.get_width() - 150) / 2;
			this.iconOffsets[1] = (this.get_width() - 150) / 2;
			this.updateHitbox();
			this.animation.add(char,[0,1],0,false,this.isPlayer);
			this.animation.play(char);
			this.char = char;
			this.set_antialiasing(ClientPrefs.globalAntialiasing);
			if(StringTools.endsWith(char,"-pixel")) {
				this.set_antialiasing(false);
			}
		}
	}
	,updateHitbox: function() {
		flixel_FlxSprite.prototype.updateHitbox.call(this);
		this.offset.set_x(this.iconOffsets[0]);
		this.offset.set_y(this.iconOffsets[1]);
	}
	,getCharacter: function() {
		return this.char;
	}
	,__class__: HealthIcon
});
var Highscore = function() { };
$hxClasses["Highscore"] = Highscore;
Highscore.__name__ = "Highscore";
Highscore.resetSong = function(song,diff) {
	if(diff == null) {
		diff = 0;
	}
	var daSong = Highscore.formatSong(song,diff);
	Highscore.setScore(daSong,0);
	Highscore.setRating(daSong,0);
};
Highscore.resetWeek = function(week,diff) {
	if(diff == null) {
		diff = 0;
	}
	var daWeek = Highscore.formatSong(week,diff);
	Highscore.setWeekScore(daWeek,0);
};
Highscore.floorDecimal = function(value,decimals) {
	if(decimals < 1) {
		return Math.floor(value);
	}
	var tempMult = 1;
	var _g = 0;
	var _g1 = decimals;
	while(_g < _g1) {
		var i = _g++;
		tempMult *= 10;
	}
	var newValue = Math.floor(value * tempMult);
	return newValue / tempMult;
};
Highscore.saveScore = function(song,score,diff,rating) {
	if(rating == null) {
		rating = -1;
	}
	if(diff == null) {
		diff = 0;
	}
	if(score == null) {
		score = 0;
	}
	var daSong = Highscore.formatSong(song,diff);
	if(Object.prototype.hasOwnProperty.call(Highscore.songScores.h,daSong)) {
		if(Highscore.songScores.h[daSong] < score) {
			Highscore.setScore(daSong,score);
			if(rating >= 0) {
				Highscore.setRating(daSong,rating);
			}
		}
	} else {
		Highscore.setScore(daSong,score);
		if(rating >= 0) {
			Highscore.setRating(daSong,rating);
		}
	}
};
Highscore.saveWeekScore = function(week,score,diff) {
	if(diff == null) {
		diff = 0;
	}
	if(score == null) {
		score = 0;
	}
	var daWeek = Highscore.formatSong(week,diff);
	if(Object.prototype.hasOwnProperty.call(Highscore.weekScores.h,daWeek)) {
		if(Highscore.weekScores.h[daWeek] < score) {
			Highscore.setWeekScore(daWeek,score);
		}
	} else {
		Highscore.setWeekScore(daWeek,score);
	}
};
Highscore.setScore = function(song,score) {
	Highscore.songScores.h[song] = score;
	flixel_FlxG.save.data.songScores = Highscore.songScores;
	flixel_FlxG.save.flush();
};
Highscore.setWeekScore = function(week,score) {
	Highscore.weekScores.h[week] = score;
	flixel_FlxG.save.data.weekScores = Highscore.weekScores;
	flixel_FlxG.save.flush();
};
Highscore.setRating = function(song,rating) {
	Highscore.songRating.h[song] = rating;
	flixel_FlxG.save.data.songRating = Highscore.songRating;
	flixel_FlxG.save.flush();
};
Highscore.formatSong = function(song,diff) {
	return StringTools.replace(song.toLowerCase()," ","-") + CoolUtil.getDifficultyFilePath(diff);
};
Highscore.getScore = function(song,diff) {
	var daSong = Highscore.formatSong(song,diff);
	if(!Object.prototype.hasOwnProperty.call(Highscore.songScores.h,daSong)) {
		Highscore.setScore(daSong,0);
	}
	return Highscore.songScores.h[daSong];
};
Highscore.getRating = function(song,diff) {
	var daSong = Highscore.formatSong(song,diff);
	if(!Object.prototype.hasOwnProperty.call(Highscore.songRating.h,daSong)) {
		Highscore.setRating(daSong,0);
	}
	return Highscore.songRating.h[daSong];
};
Highscore.getWeekScore = function(week,diff) {
	var daWeek = Highscore.formatSong(week,diff);
	if(!Object.prototype.hasOwnProperty.call(Highscore.weekScores.h,daWeek)) {
		Highscore.setWeekScore(daWeek,0);
	}
	return Highscore.weekScores.h[daWeek];
};
Highscore.load = function() {
	if(flixel_FlxG.save.data.weekScores != null) {
		Highscore.weekScores = flixel_FlxG.save.data.weekScores;
	}
	if(flixel_FlxG.save.data.songScores != null) {
		Highscore.songScores = flixel_FlxG.save.data.songScores;
	}
	if(flixel_FlxG.save.data.songRating != null) {
		Highscore.songRating = flixel_FlxG.save.data.songRating;
	}
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = "HxOverrides";
HxOverrides.strDate = function(s) {
	switch(s.length) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k = s.split("-");
		return new Date(k[0],k[1] - 1,k[2],0,0,0);
	case 19:
		var k = s.split(" ");
		var y = k[0].split("-");
		var t = k[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw haxe_Exception.thrown("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.now = function() {
	return Date.now();
};
var InputFormatter = function() { };
$hxClasses["InputFormatter"] = InputFormatter;
InputFormatter.__name__ = "InputFormatter";
InputFormatter.getKeyName = function(key) {
	switch(key) {
	case -1:
		return "---";
	case 8:
		return "BckSpc";
	case 17:
		return "Ctrl";
	case 18:
		return "Alt";
	case 20:
		return "Caps";
	case 33:
		return "PgUp";
	case 34:
		return "PgDown";
	case 48:
		return "0";
	case 49:
		return "1";
	case 50:
		return "2";
	case 51:
		return "3";
	case 52:
		return "4";
	case 53:
		return "5";
	case 54:
		return "6";
	case 55:
		return "7";
	case 56:
		return "8";
	case 57:
		return "9";
	case 96:
		return "#0";
	case 97:
		return "#1";
	case 98:
		return "#2";
	case 99:
		return "#3";
	case 100:
		return "#4";
	case 101:
		return "#5";
	case 102:
		return "#6";
	case 103:
		return "#7";
	case 104:
		return "#8";
	case 105:
		return "#9";
	case 106:
		return "#*";
	case 107:
		return "#+";
	case 109:
		return "#-";
	case 110:
		return "#.";
	case 186:
		return ";";
	case 188:
		return ",";
	case 190:
		return ".";
	case 192:
		return "`";
	case 219:
		return "[";
	case 221:
		return "]";
	case 222:
		return "'";
	case 301:
		return "PrtScrn";
	default:
		var label = "" + (key == null ? "null" : flixel_input_keyboard_FlxKey.toStringMap.h[key]);
		if(label.toLowerCase() == "null") {
			return "---";
		}
		return "" + label.charAt(0).toUpperCase() + HxOverrides.substr(label,1,null).toLowerCase();
	}
};
var IntIterator = function(min,max) {
	this.min = min;
	this.max = max;
};
$hxClasses["IntIterator"] = IntIterator;
IntIterator.__name__ = "IntIterator";
IntIterator.prototype = {
	min: null
	,max: null
	,hasNext: function() {
		return this.min < this.max;
	}
	,next: function() {
		return this.min++;
	}
	,__class__: IntIterator
};
var Lambda = function() { };
$hxClasses["Lambda"] = Lambda;
Lambda.__name__ = "Lambda";
Lambda.array = function(it) {
	var a = [];
	var i = $getIterator(it);
	while(i.hasNext()) {
		var i1 = i.next();
		a.push(i1);
	}
	return a;
};
var LoadingState = function(target,stopMusic,directory) {
	this.targetShit = 0;
	this.stopMusic = false;
	MusicBeatState.call(this);
	this.target = target;
	this.stopMusic = stopMusic;
	this.directory = directory;
};
$hxClasses["LoadingState"] = LoadingState;
LoadingState.__name__ = "LoadingState";
LoadingState.getSongPath = function() {
	return "songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Inst." + "mp3";
};
LoadingState.getVocalPath = function() {
	return "songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Voices." + "mp3";
};
LoadingState.loadAndSwitchState = function(target,stopMusic) {
	if(stopMusic == null) {
		stopMusic = false;
	}
	MusicBeatState.switchState(LoadingState.getNextState(target,stopMusic));
};
LoadingState.getNextState = function(target,stopMusic) {
	if(stopMusic == null) {
		stopMusic = false;
	}
	var directory = "shared";
	var weekDir = StageData.forceNextDirectory;
	StageData.forceNextDirectory = null;
	if(weekDir != null && weekDir.length > 0 && weekDir != "") {
		directory = weekDir;
	}
	Paths.setCurrentLevel(directory);
	haxe_Log.trace("Setting asset folder to " + directory,{ fileName : "source/LoadingState.hx", lineNumber : 173, className : "LoadingState", methodName : "getNextState"});
	var loaded = false;
	if(PlayState.SONG != null) {
		loaded = LoadingState.isSoundLoaded(LoadingState.getSongPath()) && (!PlayState.SONG.needsVoices || LoadingState.isSoundLoaded(LoadingState.getVocalPath())) && LoadingState.isLibraryLoaded("shared") && LoadingState.isLibraryLoaded(directory);
	}
	if(!loaded) {
		return new LoadingState(target,stopMusic,directory);
	}
	if(stopMusic && flixel_FlxG.sound.music != null) {
		var _this = flixel_FlxG.sound.music;
		_this.cleanup(_this.autoDestroy,true);
	}
	return target;
};
LoadingState.isSoundLoaded = function(path) {
	return openfl_utils_Assets.cache.hasSound(path);
};
LoadingState.isLibraryLoaded = function(library) {
	return openfl_utils_Assets.getLibrary(library) != null;
};
LoadingState.initSongsManifest = function() {
	var id = "songs";
	var promise = new lime_app_Promise();
	var library = lime_utils_Assets.getLibrary(id);
	if(library != null) {
		return lime_app_Future.withValue(library);
	}
	var path = id;
	var rootPath = null;
	var libraryPaths = lime_utils_Assets.libraryPaths;
	if(Object.prototype.hasOwnProperty.call(libraryPaths.h,id)) {
		path = libraryPaths.h[id];
		rootPath = haxe_io_Path.directory(path);
	} else {
		if(StringTools.endsWith(path,".bundle")) {
			rootPath = path;
			path += "/library.json";
		} else {
			rootPath = haxe_io_Path.directory(path);
		}
		path = lime_utils_Assets.__cacheBreak(path);
	}
	lime_utils_AssetManifest.loadFromFile(path,rootPath).onComplete(function(manifest) {
		if(manifest == null) {
			promise.error("Cannot parse asset manifest for library \"" + id + "\"");
			return;
		}
		var library = lime_utils_AssetLibrary.fromManifest(manifest);
		if(library == null) {
			promise.error("Cannot open library \"" + id + "\"");
		} else {
			lime_utils_Assets.libraries.h[id] = library;
			library.onChange.add(($_=lime_utils_Assets.onChange,$bind($_,$_.dispatch)));
			promise.completeWith(lime_app_Future.withValue(library));
		}
	}).onError(function(_) {
		promise.error("There is no asset library with an ID of \"" + id + "\"");
	});
	return promise.future;
};
LoadingState.__super__ = MusicBeatState;
LoadingState.prototype = $extend(MusicBeatState.prototype,{
	target: null
	,stopMusic: null
	,directory: null
	,callbacks: null
	,targetShit: null
	,funkay: null
	,loadBar: null
	,create: function() {
		var _gthis = this;
		var bg = new flixel_FlxSprite(0,0).makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-3473587);
		this.add(bg);
		this.funkay = new flixel_FlxSprite(0,0).loadGraphic(Paths.getPath("images/funkay.png","IMAGE"));
		this.funkay.setGraphicSize(0,flixel_FlxG.height);
		this.funkay.updateHitbox();
		this.funkay.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.funkay);
		this.funkay.scrollFactor.set();
		var _this = this.funkay;
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.loadBar = new flixel_FlxSprite(0,flixel_FlxG.height - 20).makeGraphic(flixel_FlxG.width,10,-59694);
		var _this = this.loadBar;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.loadBar.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.loadBar);
		LoadingState.initSongsManifest().onComplete(function(lib) {
			_gthis.callbacks = new MultiCallback($bind(_gthis,_gthis.onLoad));
			var introComplete = _gthis.callbacks.add("introComplete");
			if(PlayState.SONG != null) {
				_gthis.checkLoadSong(LoadingState.getSongPath());
				if(PlayState.SONG.needsVoices) {
					_gthis.checkLoadSong(LoadingState.getVocalPath());
				}
			}
			_gthis.checkLibrary("shared");
			if(_gthis.directory != null && _gthis.directory.length > 0 && _gthis.directory != "shared") {
				_gthis.checkLibrary(_gthis.directory);
			}
			var fadeTime = 0.5;
			flixel_FlxG.camera.fade(flixel_FlxG.camera.bgColor,fadeTime,true);
			new flixel_util_FlxTimer().start(fadeTime + 1.0,function(_) {
				introComplete();
			});
		});
	}
	,checkLoadSong: function(path) {
		if(!openfl_utils_Assets.cache.hasSound(path)) {
			var library = openfl_utils_Assets.getLibrary("songs");
			var symbolPath = path.split(":").pop();
			var callback = this.callbacks.add("song:" + path);
			openfl_utils_Assets.loadSound(path).onComplete(function(_) {
				callback();
			});
		}
	}
	,checkLibrary: function(library) {
		haxe_Log.trace(openfl_utils_Assets.hasLibrary(library),{ fileName : "source/LoadingState.hx", lineNumber : 101, className : "LoadingState", methodName : "checkLibrary"});
		if(openfl_utils_Assets.getLibrary(library) == null) {
			if(!Object.prototype.hasOwnProperty.call(lime_utils_Assets.libraryPaths.h,library)) {
				throw haxe_Exception.thrown("Missing library: " + library);
			}
			var callback = this.callbacks.add("library:" + library);
			openfl_utils_Assets.loadLibrary(library).onComplete(function(_) {
				callback();
			});
		}
	}
	,update: function(elapsed) {
		MusicBeatState.prototype.update.call(this,elapsed);
		this.funkay.setGraphicSize(0.88 * flixel_FlxG.width + 0.9 * (this.funkay.get_width() - 0.88 * flixel_FlxG.width) | 0);
		this.funkay.updateHitbox();
		var _this = flixel_FlxG.keys.justPressed;
		var pressedEnter = _this.keyManager.checkStatusUnsafe(13,_this.status) || PlayerSettings.player1.controls._accept.check();
		var _g = 0;
		var _g1 = flixel_FlxG.touches.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			if(touch.input.current == 2) {
				pressedEnter = true;
			}
		}
		if(pressedEnter) {
			this.funkay.setGraphicSize(this.funkay.get_width() + 60 | 0);
			this.funkay.updateHitbox();
		}
		if(this.callbacks != null) {
			this.targetShit = flixel_math_FlxMath.remapToRange(this.callbacks.numRemaining / this.callbacks.length,1,0,0,1);
			var fh = this.loadBar.scale;
			fh.set_x(fh.x + 0.5 * (this.targetShit - this.loadBar.scale.x));
		}
	}
	,onLoad: function() {
		if(this.stopMusic && flixel_FlxG.sound.music != null) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		MusicBeatState.switchState(this.target);
	}
	,destroy: function() {
		MusicBeatState.prototype.destroy.call(this);
		this.callbacks = null;
	}
	,__class__: LoadingState
});
var MultiCallback = function(callback,logId) {
	this.fired = [];
	this.unfired = new haxe_ds_StringMap();
	this.numRemaining = 0;
	this.length = 0;
	this.logId = null;
	this.callback = callback;
	this.logId = logId;
};
$hxClasses["MultiCallback"] = MultiCallback;
MultiCallback.__name__ = "MultiCallback";
MultiCallback.prototype = {
	callback: null
	,logId: null
	,length: null
	,numRemaining: null
	,unfired: null
	,fired: null
	,add: function(id) {
		if(id == null) {
			id = "untitled";
		}
		var _gthis = this;
		id = "" + this.length + ":" + id;
		this.length++;
		this.numRemaining++;
		var func = null;
		func = function() {
			if(Object.prototype.hasOwnProperty.call(_gthis.unfired.h,id)) {
				var _this = _gthis.unfired;
				if(Object.prototype.hasOwnProperty.call(_this.h,id)) {
					delete(_this.h[id]);
				}
				_gthis.fired.push(id);
				_gthis.numRemaining--;
				if(_gthis.logId != null) {
					if(_gthis.logId != null) {
						haxe_Log.trace("" + _gthis.logId + ": " + ("fired " + id + ", " + _gthis.numRemaining + " remaining"),{ fileName : "source/LoadingState.hx", lineNumber : 326, className : "MultiCallback", methodName : "log"});
					}
				}
				if(_gthis.numRemaining == 0) {
					if(_gthis.logId != null) {
						if(_gthis.logId != null) {
							haxe_Log.trace("" + _gthis.logId + ": " + "all callbacks fired",{ fileName : "source/LoadingState.hx", lineNumber : 326, className : "MultiCallback", methodName : "log"});
						}
					}
					_gthis.callback();
				}
			} else if(_gthis.logId != null) {
				haxe_Log.trace("" + _gthis.logId + ": " + ("already fired " + id),{ fileName : "source/LoadingState.hx", lineNumber : 326, className : "MultiCallback", methodName : "log"});
			}
		};
		this.unfired.h[id] = func;
		return func;
	}
	,log: function(msg) {
		if(this.logId != null) {
			haxe_Log.trace("" + this.logId + ": " + msg,{ fileName : "source/LoadingState.hx", lineNumber : 326, className : "MultiCallback", methodName : "log"});
		}
	}
	,getFired: function() {
		return this.fired.slice();
	}
	,getUnfired: function() {
		var _g = [];
		var h = this.unfired.h;
		var id_h = h;
		var id_keys = Object.keys(h);
		var id_length = id_keys.length;
		var id_current = 0;
		while(id_current < id_length) {
			var id = id_keys[id_current++];
			_g.push(id);
		}
		return _g;
	}
	,__class__: MultiCallback
};
var MainMenuState = function(TransIn,TransOut) {
	this.selectedSomethin = false;
	this.optionShit = ["story_mode","freeplay","credits","options"];
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["MainMenuState"] = MainMenuState;
MainMenuState.__name__ = "MainMenuState";
MainMenuState.__super__ = MusicBeatState;
MainMenuState.prototype = $extend(MusicBeatState.prototype,{
	menuItems: null
	,camGame: null
	,camAchievement: null
	,optionShit: null
	,magenta: null
	,camFollow: null
	,camFollowPos: null
	,debugKeys: null
	,create: function() {
		this.debugKeys = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["debug_1"]);
		this.camGame = new flixel_FlxCamera();
		this.camAchievement = new flixel_FlxCamera();
		this.camAchievement.bgColor &= 16777215;
		this.camAchievement.bgColor |= 0;
		flixel_FlxG.cameras.reset(this.camGame);
		flixel_FlxG.cameras.add(this.camAchievement);
		flixel_FlxCamera._defaultCameras = [this.camGame];
		this.transIn = flixel_addons_transition_FlxTransitionableState.defaultTransIn;
		this.transOut = flixel_addons_transition_FlxTransitionableState.defaultTransOut;
		this.persistentUpdate = this.persistentDraw = true;
		var yScroll = Math.max(0.25 - 0.05 * (this.optionShit.length - 4),0.1);
		var bg = new flixel_FlxSprite(-80).loadGraphic(Paths.getPath("images/" + "menuBG" + ".png","IMAGE",null));
		bg.scrollFactor.set(0,yScroll);
		bg.setGraphicSize(bg.get_width() * 1.175 | 0);
		bg.updateHitbox();
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			bg.set_x((flixel_FlxG.width - bg.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			bg.set_y((flixel_FlxG.height - bg.get_height()) / 2);
		}
		bg.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(bg);
		this.camFollow = new flixel_FlxObject(0,0,1,1);
		this.camFollowPos = new flixel_FlxObject(0,0,1,1);
		this.add(this.camFollow);
		this.add(this.camFollowPos);
		this.magenta = new flixel_FlxSprite(-80).loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		this.magenta.scrollFactor.set(0,yScroll);
		this.magenta.setGraphicSize(this.magenta.get_width() * 1.175 | 0);
		this.magenta.updateHitbox();
		var _this = this.magenta;
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.magenta.set_visible(false);
		this.magenta.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.magenta.set_color(-167525);
		this.add(this.magenta);
		this.menuItems = new flixel_group_FlxTypedGroup();
		this.add(this.menuItems);
		var scale = 1;
		var _g = 0;
		var _g1 = this.optionShit.length;
		while(_g < _g1) {
			var i = _g++;
			var offset = 108 - (Math.max(this.optionShit.length,4) - 4) * 80;
			var menuItem = new flixel_FlxSprite(0,i * 140 + offset);
			menuItem.scale.set_x(scale);
			menuItem.scale.set_y(scale);
			var key = "mainmenu/menu_" + this.optionShit[i];
			var library = null;
			menuItem.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
			menuItem.animation.addByPrefix("idle",this.optionShit[i] + " basic",24);
			menuItem.animation.addByPrefix("selected",this.optionShit[i] + " white",24);
			menuItem.animation.play("idle");
			menuItem.ID = i;
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				menuItem.set_x((flixel_FlxG.width - menuItem.get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				menuItem.set_y((flixel_FlxG.height - menuItem.get_height()) / 2);
			}
			this.menuItems.add(menuItem);
			var scr = (this.optionShit.length - 4) * 0.135;
			if(this.optionShit.length < 6) {
				scr = 0;
			}
			menuItem.scrollFactor.set(0,scr);
			menuItem.set_antialiasing(ClientPrefs.globalAntialiasing);
			menuItem.updateHitbox();
		}
		flixel_FlxG.camera.follow(this.camFollowPos,null,1);
		var versionShit = new flixel_text_FlxText(12,flixel_FlxG.height - 44,0,"Psych Engine v" + MainMenuState.psychEngineVersion,12);
		versionShit.scrollFactor.set();
		versionShit.setFormat("VCR OSD Mono",16,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.add(versionShit);
		var versionShit = new flixel_text_FlxText(12,flixel_FlxG.height - 24,0,"Friday Night Funkin' v" + lime_app_Application.current.meta.h["version"],12);
		versionShit.scrollFactor.set();
		versionShit.setFormat("VCR OSD Mono",16,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.add(versionShit);
		this.changeItem();
		Achievements.loadAchievements();
		var leDate = new Date();
		if(leDate.getDay() == 5 && leDate.getHours() >= 18) {
			var achieveID = Achievements.getAchievementIndex("friday_night_play");
			if(!Achievements.isAchievementUnlocked(Achievements.achievementsStuff[achieveID][2])) {
				Achievements.achievementsMap.h[Achievements.achievementsStuff[achieveID][2]] = true;
				this.giveAchievement();
				ClientPrefs.saveSettings();
			}
		}
		this.addVirtualPad(ui_FlxDPadMode.UP_DOWN,ui_FlxActionMode.A_B_7);
		MusicBeatState.prototype.create.call(this);
	}
	,giveAchievement: function() {
		this.add(new AchievementObject("friday_night_play",this.camAchievement));
		flixel_FlxG.sound.play(Paths.sound("confirmMenu"),0.7);
		haxe_Log.trace("Giving achievement \"friday_night_play\"",{ fileName : "source/MainMenuState.hx", lineNumber : 164, className : "MainMenuState", methodName : "giveAchievement"});
	}
	,selectedSomethin: null
	,update: function(elapsed) {
		var _gthis = this;
		if(flixel_FlxG.sound.music._volume < 0.8) {
			var fh = flixel_FlxG.sound.music;
			fh.set_volume(fh._volume + 0.5 * flixel_FlxG.elapsed);
		}
		var lerpVal = Math.max(0,Math.min(1,elapsed * 7.5));
		var a = this.camFollowPos.x;
		var a1 = this.camFollowPos.y;
		this.camFollowPos.setPosition(a + lerpVal * (this.camFollow.x - a),a1 + lerpVal * (this.camFollow.y - a1));
		if(!this.selectedSomethin) {
			if(PlayerSettings.player1.controls._ui_upP.check()) {
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
				this.changeItem(-1);
			}
			if(PlayerSettings.player1.controls._ui_downP.check()) {
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
				this.changeItem(1);
			}
			if(PlayerSettings.player1.controls._back.check()) {
				this.selectedSomethin = true;
				flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
				MusicBeatState.switchState(new TitleState());
			}
			if(PlayerSettings.player1.controls._accept.check()) {
				if(this.optionShit[MainMenuState.curSelected] == "donate") {
					CoolUtil.browserLoad("https://ninja-muffin24.itch.io/funkin");
				} else {
					this.selectedSomethin = true;
					flixel_FlxG.sound.play(Paths.sound("confirmMenu"));
					if(ClientPrefs.flashing) {
						flixel_effects_FlxFlicker.flicker(this.magenta,1.1,0.15,false);
					}
					this.menuItems.forEach(function(spr) {
						if(MainMenuState.curSelected != spr.ID) {
							flixel_tweens_FlxTween.tween(spr,{ alpha : 0},0.4,{ ease : flixel_tweens_FlxEase.quadOut, onComplete : function(twn) {
								spr.kill();
							}});
						} else {
							flixel_effects_FlxFlicker.flicker(spr,1,0.06,false,false,function(flick) {
								var daChoice = _gthis.optionShit[MainMenuState.curSelected];
								switch(daChoice) {
								case "credits":
									MusicBeatState.switchState(new CreditsState());
									break;
								case "freeplay":
									MusicBeatState.switchState(new FreeplayState());
									break;
								case "options":
									MusicBeatState.switchState(new options_OptionsState());
									break;
								case "story_mode":
									MusicBeatState.switchState(new StoryMenuState());
									break;
								}
							});
						}
					});
				}
			} else if(flixel_FlxG.keys.checkKeyArrayState(this.debugKeys,2) || this._virtualpad.button7.input.current == 2) {
				this.selectedSomethin = true;
				MusicBeatState.switchState(new editors_MasterEditorMenu());
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
		this.menuItems.forEach(function(spr) {
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				spr.set_x((flixel_FlxG.width - spr.get_width()) / 2);
			}
			var tmp;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				spr.set_y((flixel_FlxG.height - spr.get_height()) / 2);
			}
		});
	}
	,changeItem: function(huh) {
		if(huh == null) {
			huh = 0;
		}
		var _gthis = this;
		MainMenuState.curSelected += huh;
		if(MainMenuState.curSelected >= this.menuItems.length) {
			MainMenuState.curSelected = 0;
		}
		if(MainMenuState.curSelected < 0) {
			MainMenuState.curSelected = this.menuItems.length - 1;
		}
		this.menuItems.forEach(function(spr) {
			spr.animation.play("idle");
			spr.updateHitbox();
			if(spr.ID == MainMenuState.curSelected) {
				spr.animation.play("selected");
				var add = 0;
				if(_gthis.menuItems.length > 4) {
					add = _gthis.menuItems.length * 8;
				}
				_gthis.camFollow.setPosition(spr.getGraphicMidpoint().x,spr.getGraphicMidpoint().y - add);
				spr.centerOffsets();
			}
		});
	}
	,__class__: MainMenuState
});
var ManifestResources = function() { };
$hxClasses["ManifestResources"] = ManifestResources;
ManifestResources.__name__ = "ManifestResources";
ManifestResources.preloadLibraries = null;
ManifestResources.preloadLibraryNames = null;
ManifestResources.rootPath = null;
ManifestResources.init = function(config) {
	ManifestResources.preloadLibraries = [];
	ManifestResources.preloadLibraryNames = [];
	ManifestResources.rootPath = null;
	if(config != null && Object.prototype.hasOwnProperty.call(config,"rootPath")) {
		ManifestResources.rootPath = Reflect.field(config,"rootPath");
	}
	if(ManifestResources.rootPath == null) {
		ManifestResources.rootPath = "./";
	}
	openfl_text_Font.registerFont(_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf);
	openfl_text_Font.registerFont(_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf);
	openfl_text_Font.registerFont(_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf);
	openfl_text_Font.registerFont(_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf);
	var bundle;
	var v = ManifestResources.rootPath + "manifest/videos.json";
	lime_utils_Assets.libraryPaths.h["videos"] = v;
	var v = ManifestResources.rootPath + "manifest/songs.json";
	lime_utils_Assets.libraryPaths.h["songs"] = v;
	var v = ManifestResources.rootPath + "manifest/shared.json";
	lime_utils_Assets.libraryPaths.h["shared"] = v;
	var data = "{\"name\":null,\"assets\":\"aoy4:pathy29:assets%2Fcharacters%2Fbf.jsony4:sizei3146y4:typey4:TEXTy2:idR1y7:preloadtgoR0y30:assets%2Fcharacters%2Fdad.jsonR2i1905R3R4R5R7R6tgoR0y35:assets%2Fcharacters%2Ffinn-alt.jsonR2i1884R3R4R5R8R6tgoR0y31:assets%2Fcharacters%2Ffinn.jsonR2i1053R3R4R5R9R6tgoR0y32:assets%2Fcharacters%2Finvis.jsonR2i436R3R4R5R10R6tgoR0y31:assets%2Fcharacters%2Fjake.jsonR2i1854R3R4R5R11R6tgoR0y56:assets%2Fdata%2Fbrothers-in-arms%2Fbrothers-in-arms.jsonR2i103360R3R4R5R12R6tgoR0y33:assets%2Fdata%2FcharacterList.txtR2i38R3R4R5R13R6tgoR0y34:assets%2Fdata%2Fdata-goes-here.txtR2zR3R4R5R14R6tgoR0y34:assets%2Fdata%2FfreeplayColors.txtR2i82R3R4R5R15R6tgoR0y29:assets%2Fdata%2FintroText.txtR2i2198R3R4R5R16R6tgoR0y29:assets%2Fdata%2Fmain-view.xmlR2i125R3R4R5R17R6tgoR0y44:assets%2Fdata%2Fmy-brother%2Fmy-brother.jsonR2i74655R3R4R5R18R6tgoR0y35:assets%2Fdata%2Fquiet%2Fevents.jsonR2i4461R3R4R5R19R6tgoR0y34:assets%2Fdata%2Fquiet%2Fquiet.jsonR2i127839R3R4R5R20R6tgoR0y41:assets%2Fdata%2Fquiet-retro%2Fevents.jsonR2i15290R3R4R5R21R6tgoR0y46:assets%2Fdata%2Fquiet-retro%2Fquiet-retro.jsonR2i68231R3R4R5R22R6tgoR0y33:assets%2Fdata%2FspecialThanks.txtR2i322R3R4R5R23R6tgoR0y29:assets%2Fdata%2FstageList.txtR2i5R3R4R5R24R6tgoR0y37:assets%2Fimages%2Fachievementgrid.pngR2i263971R3y5:IMAGER5R25R6tgoR0y30:assets%2Fimages%2Falphabet.pngR2i187033R3R26R5R27R6tgoR0y30:assets%2Fimages%2Falphabet.xmlR2i52694R3R4R5R28R6tgoR0y45:assets%2Fimages%2Fcampaign_menu_UI_assets.pngR2i7511R3R26R5R29R6tgoR0y45:assets%2Fimages%2Fcampaign_menu_UI_assets.xmlR2i607R3R4R5R30R6tgoR0y44:assets%2Fimages%2Fcharacters%2FBOYFRIEND.pngR2i3973897R3R26R5R31R6tgoR0y44:assets%2Fimages%2Fcharacters%2FBOYFRIEND.xmlR2i65874R3R4R5R32R6tgoR0y33:assets%2Fimages%2Fchart_quant.pngR2i2593R3R26R5R33R6tgoR0y33:assets%2Fimages%2Fchart_quant.xmlR2i592R3R4R5R34R6tgoR0y34:assets%2Fimages%2Fcheckboxanim.pngR2i42746R3R26R5R35R6tgoR0y34:assets%2Fimages%2Fcheckboxanim.xmlR2i2001R3R4R5R36R6tgoR0y40:assets%2Fimages%2Fcredits%2Fbb-panzu.pngR2i4703R3R26R5R37R6tgoR0y39:assets%2Fimages%2Fcredits%2Fdiscord.pngR2i3505R3R26R5R38R6tgoR0y40:assets%2Fimages%2Fcredits%2Fevilsk8r.pngR2i7602R3R26R5R39R6tgoR0y36:assets%2Fimages%2Fcredits%2Fg3yt.pngR2i21251R3R26R5R40R6tgoR0y40:assets%2Fimages%2Fcredits%2Fgedehari.pngR2i5983R3R26R5R41R6tgoR0y39:assets%2Fimages%2Fcredits%2Fiflicky.pngR2i7191R3R26R5R42R6tgoR0y37:assets%2Fimages%2Fcredits%2Finvis.pngR2i120R3R26R5R43R6tgoR0y43:assets%2Fimages%2Fcredits%2Fkawaisprite.pngR2i3871R3R26R5R44R6tgoR0y38:assets%2Fimages%2Fcredits%2Fkeoiki.pngR2i4291R3R26R5R45R6tgoR0y40:assets%2Fimages%2Fcredits%2Fmajigsaw.pngR2i8738R3R26R5R46R6tgoR0y45:assets%2Fimages%2Fcredits%2Fninjamuffin99.pngR2i4336R3R26R5R47R6tgoR0y45:assets%2Fimages%2Fcredits%2Fphantomarcade.pngR2i7875R3R26R5R48R6tgoR0y45:assets%2Fimages%2Fcredits%2Fpolybiusproxy.pngR2i8864R3R26R5R49R6tgoR0y42:assets%2Fimages%2Fcredits%2Friveroaken.pngR2i6881R3R26R5R50R6tgoR0y43:assets%2Fimages%2Fcredits%2Fshadowmario.pngR2i3081R3R26R5R51R6tgoR0y37:assets%2Fimages%2Fcredits%2Fshubs.pngR2i9626R3R26R5R52R6tgoR0y42:assets%2Fimages%2Fcredits%2Funstop4ble.pngR2i20543R3R26R5R53R6tgoR0y34:assets%2Fimages%2Fcry_about_it.pngR2i380631R3R26R5R54R6tgoR0y36:assets%2Fimages%2Fdialogue%2Fbf.jsonR2i1062R3R4R5R55R6tgoR0y36:assets%2Fimages%2Fdialogue%2Fgf.jsonR2i869R3R4R5R56R6tgoR0y28:assets%2Fimages%2Ffunkay.pngR2i135548R3R26R5R57R6tgoR0y35:assets%2Fimages%2FgfDanceTitle.jsonR2i134R3R4R5R58R6tgoR0y34:assets%2Fimages%2FgfDanceTitle.pngR2i385654R3R26R5R59R6tgoR0y34:assets%2Fimages%2FgfDanceTitle.xmlR2i618R3R4R5R60R6tgoR0y30:assets%2Fimages%2Fhahadumb.pngR2i16097R3R26R5R61R6tgoR0y27:assets%2Fimages%2FhugeW.pngR2i18069R3R26R5R62R6tgoR0y38:assets%2Fimages%2FHURTnoteSplashes.pngR2i62608R3R26R5R63R6tgoR0y38:assets%2Fimages%2FHURTnoteSplashes.xmlR2i4894R3R4R5R64R6tgoR0y37:assets%2Fimages%2FHURTNOTE_assets.pngR2i26086R3R26R5R65R6tgoR0y37:assets%2Fimages%2FHURTNOTE_assets.xmlR2i1133R3R4R5R66R6tgoR0y41:assets%2Fimages%2Ficons%2Ficon-bf-old.pngR2i10263R3R26R5R67R6tgoR0y37:assets%2Fimages%2Ficons%2Ficon-bf.pngR2i19936R3R26R5R68R6tgoR0y43:assets%2Fimages%2Ficons%2Ficon-brothers.pngR2i14825R3R26R5R69R6tgoR0y38:assets%2Fimages%2Ficons%2Ficon-dad.pngR2i14488R3R26R5R70R6tgoR0y39:assets%2Fimages%2Ficons%2Ficon-face.pngR2i7096R3R26R5R71R6tgoR0y39:assets%2Fimages%2Ficons%2Ficon-finn.pngR2i10904R3R26R5R72R6tgoR0y37:assets%2Fimages%2Ficons%2Ficon-gf.pngR2i11992R3R26R5R73R6tgoR0y39:assets%2Fimages%2Ficons%2Ficon-jake.pngR2i9771R3R26R5R74R6tgoR0y39:assets%2Fimages%2Flockedachievement.pngR2i13055R3R26R5R75R6tgoR0y26:assets%2Fimages%2Flogo.pngR2i86924R3R26R5R76R6tgoR0y32:assets%2Fimages%2FlogoBumpin.pngR2i906266R3R26R5R77R6tgoR0y32:assets%2Fimages%2FlogoBumpin.xmlR2i2198R3R4R5R78R6tgoR0y44:assets%2Fimages%2Fmainmenu%2Fmenu_awards.pngR2i67591R3R26R5R79R6tgoR0y44:assets%2Fimages%2Fmainmenu%2Fmenu_awards.xmlR2i1397R3R4R5R80R6tgoR0y45:assets%2Fimages%2Fmainmenu%2Fmenu_credits.pngR2i69937R3R26R5R81R6tgoR0y45:assets%2Fimages%2Fmainmenu%2Fmenu_credits.xmlR2i1402R3R4R5R82R6tgoR0y44:assets%2Fimages%2Fmainmenu%2Fmenu_donate.pngR2i58703R3R26R5R83R6tgoR0y44:assets%2Fimages%2Fmainmenu%2Fmenu_donate.xmlR2i1392R3R4R5R84R6tgoR0y46:assets%2Fimages%2Fmainmenu%2Fmenu_freeplay.pngR2i71504R3R26R5R85R6tgoR0y46:assets%2Fimages%2Fmainmenu%2Fmenu_freeplay.xmlR2i1416R3R4R5R86R6tgoR0y42:assets%2Fimages%2Fmainmenu%2Fmenu_mods.pngR2i54051R3R26R5R87R6tgoR0y42:assets%2Fimages%2Fmainmenu%2Fmenu_mods.xmlR2i1661R3R4R5R88R6tgoR0y45:assets%2Fimages%2Fmainmenu%2Fmenu_options.pngR2i66084R3R26R5R89R6tgoR0y45:assets%2Fimages%2Fmainmenu%2Fmenu_options.xmlR2i1349R3R4R5R90R6tgoR0y48:assets%2Fimages%2Fmainmenu%2Fmenu_story_mode.pngR2i119619R3R26R5R91R6tgoR0y48:assets%2Fimages%2Fmainmenu%2Fmenu_story_mode.xmlR2i1461R3R4R5R92R6tgoR0y56:assets%2Fimages%2Fmenubackgrounds%2Fmenu_jake%26finn.pngR2i399545R3R26R5R93R6tgoR0y28:assets%2Fimages%2FmenuBG.pngR2i620342R3R26R5R94R6tgoR0y32:assets%2Fimages%2FmenuBGBlue.pngR2i614586R3R26R5R95R6tgoR0y35:assets%2Fimages%2FmenuBGMagenta.pngR2i553468R3R26R5R96R6tgoR0y42:assets%2Fimages%2Fmenucharacters%2Fbf.jsonR2i135R3R4R5R97R6tgoR0y43:assets%2Fimages%2Fmenucharacters%2Fdad.jsonR2i136R3R4R5R98R6tgoR0y42:assets%2Fimages%2Fmenucharacters%2Fgf.jsonR2i135R3R4R5R99R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2FMenu_BF.pngR2i208834R3R26R5R100R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2FMenu_BF.xmlR2i5627R3R4R5R101R6tgoR0y47:assets%2Fimages%2Fmenucharacters%2FMenu_Dad.pngR2i116690R3R26R5R102R6tgoR0y47:assets%2Fimages%2Fmenucharacters%2FMenu_Dad.xmlR2i2134R3R4R5R103R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2FMenu_GF.pngR2i330213R3R26R5R104R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2FMenu_GF.xmlR2i3837R3R4R5R105R6tgoR0y47:assets%2Fimages%2Fmenucharacters%2FMenu_Mom.pngR2i156895R3R26R5R106R6tgoR0y47:assets%2Fimages%2Fmenucharacters%2FMenu_Mom.xmlR2i2132R3R4R5R107R6tgoR0y51:assets%2Fimages%2Fmenucharacters%2FMenu_Parents.pngR2i351693R3R26R5R108R6tgoR0y51:assets%2Fimages%2Fmenucharacters%2FMenu_Parents.xmlR2i2207R3R4R5R109R6tgoR0y48:assets%2Fimages%2Fmenucharacters%2FMenu_Pico.pngR2i113929R3R26R5R110R6tgoR0y48:assets%2Fimages%2Fmenucharacters%2FMenu_Pico.xmlR2i2161R3R4R5R111R6tgoR0y50:assets%2Fimages%2Fmenucharacters%2FMenu_Senpai.pngR2i66773R3R26R5R112R6tgoR0y50:assets%2Fimages%2Fmenucharacters%2FMenu_Senpai.xmlR2i1367R3R4R5R113R6tgoR0y55:assets%2Fimages%2Fmenucharacters%2FMenu_Spooky_Kids.pngR2i81655R3R26R5R114R6tgoR0y55:assets%2Fimages%2Fmenucharacters%2FMenu_Spooky_Kids.xmlR2i2564R3R4R5R115R6tgoR0y43:assets%2Fimages%2Fmenucharacters%2Fmom.jsonR2i134R3R4R5R116R6tgoR0y57:assets%2Fimages%2Fmenucharacters%2Fparents-christmas.jsonR2i144R3R4R5R117R6tgoR0y44:assets%2Fimages%2Fmenucharacters%2Fpico.jsonR2i138R3R4R5R118R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2Fsenpai.jsonR2i142R3R4R5R119R6tgoR0y46:assets%2Fimages%2Fmenucharacters%2Fspooky.jsonR2i151R3R4R5R120R6tgoR0y31:assets%2Fimages%2FmenuDesat.pngR2i357911R3R26R5R121R6tgoR0y45:assets%2Fimages%2Fmenudifficulties%2Feasy.pngR2i3453R3R26R5R122R6tgoR0y45:assets%2Fimages%2Fmenudifficulties%2Fhard.pngR2i3880R3R26R5R123R6tgoR0y47:assets%2Fimages%2Fmenudifficulties%2Fnormal.pngR2i4853R3R26R5R124R6tgoR0y33:assets%2Fimages%2FMenu_Tracks.pngR2i3487R3R26R5R125R6tgoR0y37:assets%2Fimages%2Fnewgrounds_logo.pngR2i57747R3R26R5R126R6tgoR0y34:assets%2Fimages%2FnoteSplashes.pngR2i203739R3R26R5R127R6tgoR0y34:assets%2Fimages%2FnoteSplashes.xmlR2i4710R3R4R5R128R6tgoR0y33:assets%2Fimages%2FNOTE_assets.pngR2i129989R3R26R5R129R6tgoR0y33:assets%2Fimages%2FNOTE_assets.xmlR2i8267R3R4R5R130R6tgoR0y26:assets%2Fimages%2Fnum0.pngR2i3738R3R26R5R131R6tgoR0y26:assets%2Fimages%2Fnum1.pngR2i3390R3R26R5R132R6tgoR0y26:assets%2Fimages%2Fnum2.pngR2i3990R3R26R5R133R6tgoR0y26:assets%2Fimages%2Fnum3.pngR2i4022R3R26R5R134R6tgoR0y26:assets%2Fimages%2Fnum4.pngR2i3989R3R26R5R135R6tgoR0y26:assets%2Fimages%2Fnum5.pngR2i4113R3R26R5R136R6tgoR0y26:assets%2Fimages%2Fnum6.pngR2i4181R3R26R5R137R6tgoR0y26:assets%2Fimages%2Fnum7.pngR2i3692R3R26R5R138R6tgoR0y26:assets%2Fimages%2Fnum8.pngR2i3914R3R26R5R139R6tgoR0y26:assets%2Fimages%2Fnum9.pngR2i3687R3R26R5R140R6tgoR0y41:assets%2Fimages%2FpixelUI%2Fbad-pixel.pngR2i418R3R26R5R141R6tgoR0y43:assets%2Fimages%2FpixelUI%2Fcombo-pixel.pngR2i417R3R26R5R142R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fdate-pixel.pngR2i1055R3R26R5R143R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fgood-pixel.pngR2i396R3R26R5R144R6tgoR0y47:assets%2Fimages%2FpixelUI%2FHURTNOTE_assets.pngR2i1586R3R26R5R145R6tgoR0y51:assets%2Fimages%2FpixelUI%2FHURTNOTE_assetsENDS.pngR2i228R3R26R5R146R6tgoR0y43:assets%2Fimages%2FpixelUI%2FNOTE_assets.pngR2i4806R3R26R5R147R6tgoR0y47:assets%2Fimages%2FpixelUI%2FNOTE_assetsENDS.pngR2i357R3R26R5R148R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum0-pixel.pngR2i189R3R26R5R149R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum1-pixel.pngR2i169R3R26R5R150R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum2-pixel.pngR2i220R3R26R5R151R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum3-pixel.pngR2i204R3R26R5R152R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum4-pixel.pngR2i181R3R26R5R153R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum5-pixel.pngR2i203R3R26R5R154R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum6-pixel.pngR2i214R3R26R5R155R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum7-pixel.pngR2i197R3R26R5R156R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum8-pixel.pngR2i187R3R26R5R157R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fnum9-pixel.pngR2i176R3R26R5R158R6tgoR0y43:assets%2Fimages%2FpixelUI%2Fready-pixel.pngR2i1092R3R26R5R159R6tgoR0y41:assets%2Fimages%2FpixelUI%2Fset-pixel.pngR2i1068R3R26R5R160R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fshit-pixel.pngR2i628R3R26R5R161R6tgoR0y42:assets%2Fimages%2FpixelUI%2Fsick-pixel.pngR2i553R3R26R5R162R6tgoR0y42:assets%2Fimages%2Fstorymenu%2Ftutorial.pngR2i7056R3R26R5R163R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek1.pngR2i6261R3R26R5R164R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek2.pngR2i6517R3R26R5R165R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek3.pngR2i7148R3R26R5R166R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek4.pngR2i6262R3R26R5R167R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek5.pngR2i6440R3R26R5R168R6tgoR0y39:assets%2Fimages%2Fstorymenu%2Fweek6.pngR2i8979R3R26R5R169R6tgoR0y29:assets%2Fimages%2Ftitlebg.pngR2i144834R3R26R5R170R6tgoR0y32:assets%2Fimages%2FtitleEnter.pngR2i1449202R3R26R5R171R6tgoR0y32:assets%2Fimages%2FtitleEnter.xmlR2i4934R3R4R5R172R6tgoR0y41:assets%2Fimages%2Fui%2Fbutt_graph0001.pngR2i432R3R26R5R173R6tgoR0y41:assets%2Fimages%2Fui%2Fbutt_graph0002.pngR2i421R3R26R5R174R6tgoR0y41:assets%2Fimages%2Fui%2Fbutt_graph0003.pngR2i612R3R26R5R175R6tgoR0y41:assets%2Fimages%2Fui%2Fbutt_graph0004.pngR2i890R3R26R5R176R6tgoR0y41:assets%2Fimages%2Fui%2Fbutt_graph0005.pngR2i907R3R26R5R177R6tgoR0y32:assets%2Fimages%2FunknownMod.pngR2i4493R3R26R5R178R6tgoR0y32:assets%2Fimages%2Fvirtualpad.pngR2i395457R3R26R5R179R6tgoR0y32:assets%2Fimages%2Fvirtualpad.txtR2i333R3R4R5R180R6tgoR2i2410414R3y5:MUSICR5y31:assets%2Fmusic%2FfreakyMenu.mp3y9:pathGroupaR182hR6tgoR2i2402257R3R181R5y31:assets%2Fmusic%2FoffsetSong.mp3R183aR184hR6tgoR2i17762R3R181R5y32:assets%2Fsounds%2FcancelMenu.mp3R183aR185hR6tgoR2i91950R3R181R5y33:assets%2Fsounds%2FconfirmMenu.mp3R183aR186hR6tgoR2i9155R3R181R5y34:assets%2Fsounds%2Fintro1-pixel.mp3R183aR187hR6tgoR2i9912R3R181R5y34:assets%2Fsounds%2Fintro2-pixel.mp3R183aR188hR6tgoR2i9128R3R181R5y34:assets%2Fsounds%2Fintro3-pixel.mp3R183aR189hR6tgoR2i21651R3R181R5y35:assets%2Fsounds%2FintroGo-pixel.mp3R183aR190hR6tgoR2i17762R3R181R5y32:assets%2Fsounds%2FscrollMenu.mp3R183aR191hR6tgoR2i42970R3R181R5y33:assets%2Fsounds%2FsecretSound.mp3R183aR192hR6tgoR0y30:assets%2Fstages%2FstageQM.jsonR2i293R3R4R5R193R6tgoR0y27:assets%2Fweeks%2Fweek1.jsonR2i635R3R4R5R194R6tgoR0y27:assets%2Fweeks%2Fweek2.jsonR2i396R3R4R5R195R6tgoR0y29:assets%2Fweeks%2FweekList.txtR2i24R3R4R5R196R6tgoR0y21:do%20NOT%20readme.txtR2i4417R3R4R5R197R6tgoR0y34:assets%2Ffonts%2Ffonts-go-here.txtR2zR3R4R5R198R6tgoR2i14656R3y4:FONTy9:classNamey31:__ASSET__assets_fonts_pixel_otfR5y26:assets%2Ffonts%2Fpixel.otfR6tgoR2i75864R3R199R200y29:__ASSET__assets_fonts_vcr_ttfR5y24:assets%2Ffonts%2Fvcr.ttfR6tgoR2i2114R3R181R5y26:flixel%2Fsounds%2Fbeep.mp3R183aR205y26:flixel%2Fsounds%2Fbeep.ogghR6tgoR2i39706R3R181R5y28:flixel%2Fsounds%2Fflixel.mp3R183aR207y28:flixel%2Fsounds%2Fflixel.ogghR6tgoR2i5794R3y5:SOUNDR5R206R183aR205R206hgoR2i33629R3R209R5R208R183aR207R208hgoR2i15744R3R199R200y35:__ASSET__flixel_fonts_nokiafc22_ttfR5y30:flixel%2Ffonts%2Fnokiafc22.ttfR6tgoR2i29724R3R199R200y36:__ASSET__flixel_fonts_monsterrat_ttfR5y31:flixel%2Ffonts%2Fmonsterrat.ttfR6tgoR0y33:flixel%2Fimages%2Fui%2Fbutton.pngR2i519R3R26R5R214R6tgoR0y36:flixel%2Fimages%2Flogo%2Fdefault.pngR2i3280R3R26R5R215R6tgoR0y34:flixel%2Fflixel-ui%2Fimg%2Fbox.pngR2i912R3R26R5R216R6tgoR0y37:flixel%2Fflixel-ui%2Fimg%2Fbutton.pngR2i433R3R26R5R217R6tgoR0y48:flixel%2Fflixel-ui%2Fimg%2Fbutton_arrow_down.pngR2i446R3R26R5R218R6tgoR0y48:flixel%2Fflixel-ui%2Fimg%2Fbutton_arrow_left.pngR2i459R3R26R5R219R6tgoR0y49:flixel%2Fflixel-ui%2Fimg%2Fbutton_arrow_right.pngR2i511R3R26R5R220R6tgoR0y46:flixel%2Fflixel-ui%2Fimg%2Fbutton_arrow_up.pngR2i493R3R26R5R221R6tgoR0y42:flixel%2Fflixel-ui%2Fimg%2Fbutton_thin.pngR2i247R3R26R5R222R6tgoR0y44:flixel%2Fflixel-ui%2Fimg%2Fbutton_toggle.pngR2i534R3R26R5R223R6tgoR0y40:flixel%2Fflixel-ui%2Fimg%2Fcheck_box.pngR2i922R3R26R5R224R6tgoR0y41:flixel%2Fflixel-ui%2Fimg%2Fcheck_mark.pngR2i946R3R26R5R225R6tgoR0y37:flixel%2Fflixel-ui%2Fimg%2Fchrome.pngR2i253R3R26R5R226R6tgoR0y42:flixel%2Fflixel-ui%2Fimg%2Fchrome_flat.pngR2i212R3R26R5R227R6tgoR0y43:flixel%2Fflixel-ui%2Fimg%2Fchrome_inset.pngR2i192R3R26R5R228R6tgoR0y43:flixel%2Fflixel-ui%2Fimg%2Fchrome_light.pngR2i214R3R26R5R229R6tgoR0y44:flixel%2Fflixel-ui%2Fimg%2Fdropdown_mark.pngR2i156R3R26R5R230R6tgoR0y41:flixel%2Fflixel-ui%2Fimg%2Ffinger_big.pngR2i1724R3R26R5R231R6tgoR0y43:flixel%2Fflixel-ui%2Fimg%2Ffinger_small.pngR2i294R3R26R5R232R6tgoR0y38:flixel%2Fflixel-ui%2Fimg%2Fhilight.pngR2i129R3R26R5R233R6tgoR0y36:flixel%2Fflixel-ui%2Fimg%2Finvis.pngR2i128R3R26R5R234R6tgoR0y41:flixel%2Fflixel-ui%2Fimg%2Fminus_mark.pngR2i136R3R26R5R235R6tgoR0y40:flixel%2Fflixel-ui%2Fimg%2Fplus_mark.pngR2i147R3R26R5R236R6tgoR0y36:flixel%2Fflixel-ui%2Fimg%2Fradio.pngR2i191R3R26R5R237R6tgoR0y40:flixel%2Fflixel-ui%2Fimg%2Fradio_dot.pngR2i153R3R26R5R238R6tgoR0y37:flixel%2Fflixel-ui%2Fimg%2Fswatch.pngR2i185R3R26R5R239R6tgoR0y34:flixel%2Fflixel-ui%2Fimg%2Ftab.pngR2i201R3R26R5R240R6tgoR0y39:flixel%2Fflixel-ui%2Fimg%2Ftab_back.pngR2i210R3R26R5R241R6tgoR0y44:flixel%2Fflixel-ui%2Fimg%2Ftooltip_arrow.pngR2i18509R3R26R5R242R6tgoR0y39:flixel%2Fflixel-ui%2Fxml%2Fdefaults.xmlR2i1263R3R4R5R243R6tgoR0y53:flixel%2Fflixel-ui%2Fxml%2Fdefault_loading_screen.xmlR2i1953R3R4R5R244R6tgoR0y44:flixel%2Fflixel-ui%2Fxml%2Fdefault_popup.xmlR2i1848R3R4R5R245R6tgh\",\"rootPath\":null,\"version\":2,\"libraryArgs\":[],\"libraryType\":null}";
	var manifest = lime_utils_AssetManifest.parse(data,ManifestResources.rootPath);
	var library = lime_utils_AssetLibrary.fromManifest(manifest);
	lime_utils_Assets.registerLibrary("default",library);
	library = lime_utils_Assets.getLibrary("videos");
	if(library != null) {
		ManifestResources.preloadLibraries.push(library);
	} else {
		ManifestResources.preloadLibraryNames.push("videos");
	}
	library = lime_utils_Assets.getLibrary("default");
	if(library != null) {
		ManifestResources.preloadLibraries.push(library);
	} else {
		ManifestResources.preloadLibraryNames.push("default");
	}
};
var lime_text_Font = function(name) {
	if(name != null) {
		this.name = name;
	}
	if(!this.__init) {
		if(this.ascender == undefined) {
			this.ascender = 0;
		}
		if(this.descender == undefined) {
			this.descender = 0;
		}
		if(this.height == undefined) {
			this.height = 0;
		}
		if(this.numGlyphs == undefined) {
			this.numGlyphs = 0;
		}
		if(this.underlinePosition == undefined) {
			this.underlinePosition = 0;
		}
		if(this.underlineThickness == undefined) {
			this.underlineThickness = 0;
		}
		if(this.unitsPerEM == undefined) {
			this.unitsPerEM = 0;
		}
		if(this.__fontID != null) {
			if(lime_utils_Assets.isLocal(this.__fontID)) {
				this.__fromBytes(lime_utils_Assets.getBytes(this.__fontID));
			}
		} else if(this.__fontPath != null) {
			this.__fromFile(this.__fontPath);
		}
	}
};
$hxClasses["lime.text.Font"] = lime_text_Font;
lime_text_Font.__name__ = "lime.text.Font";
lime_text_Font.fromBytes = function(bytes) {
	if(bytes == null) {
		return null;
	}
	var font = new lime_text_Font();
	font.__fromBytes(bytes);
	return font;
};
lime_text_Font.fromFile = function(path) {
	if(path == null) {
		return null;
	}
	var font = new lime_text_Font();
	font.__fromFile(path);
	return font;
};
lime_text_Font.loadFromBytes = function(bytes) {
	return lime_app_Future.withValue(lime_text_Font.fromBytes(bytes));
};
lime_text_Font.loadFromFile = function(path) {
	var request = new lime_net__$HTTPRequest_$lime_$text_$Font();
	return request.load(path).then(function(font) {
		if(font != null) {
			return lime_app_Future.withValue(font);
		} else {
			return lime_app_Future.withError("");
		}
	});
};
lime_text_Font.loadFromName = function(path) {
	var font = new lime_text_Font();
	return font.__loadFromName(path);
};
lime_text_Font.__measureFontNode = function(fontFamily) {
	var node = window.document.createElement("span");
	node.setAttribute("aria-hidden","true");
	var text = window.document.createTextNode("BESbswy");
	node.appendChild(text);
	var style = node.style;
	style.display = "block";
	style.position = "absolute";
	style.top = "-9999px";
	style.left = "-9999px";
	style.fontSize = "300px";
	style.width = "auto";
	style.height = "auto";
	style.lineHeight = "normal";
	style.margin = "0";
	style.padding = "0";
	style.fontVariant = "normal";
	style.whiteSpace = "nowrap";
	style.fontFamily = fontFamily;
	window.document.body.appendChild(node);
	return node;
};
lime_text_Font.prototype = {
	ascender: null
	,descender: null
	,height: null
	,name: null
	,numGlyphs: null
	,src: null
	,underlinePosition: null
	,underlineThickness: null
	,unitsPerEM: null
	,__fontID: null
	,__fontPath: null
	,__init: null
	,decompose: function() {
		return null;
	}
	,getGlyph: function(character) {
		return -1;
	}
	,getGlyphs: function(characters) {
		if(characters == null) {
			characters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. ";
		}
		return null;
	}
	,getGlyphMetrics: function(glyph) {
		return null;
	}
	,renderGlyph: function(glyph,fontSize) {
		return null;
	}
	,renderGlyphs: function(glyphs,fontSize) {
		return null;
	}
	,__copyFrom: function(other) {
		if(other != null) {
			this.ascender = other.ascender;
			this.descender = other.descender;
			this.height = other.height;
			this.name = other.name;
			this.numGlyphs = other.numGlyphs;
			this.src = other.src;
			this.underlinePosition = other.underlinePosition;
			this.underlineThickness = other.underlineThickness;
			this.unitsPerEM = other.unitsPerEM;
			this.__fontID = other.__fontID;
			this.__fontPath = other.__fontPath;
			this.__init = true;
		}
	}
	,__fromBytes: function(bytes) {
		this.__fontPath = null;
	}
	,__fromFile: function(path) {
		this.__fontPath = path;
	}
	,__initializeSource: function() {
		this.__init = true;
	}
	,__loadFromName: function(name) {
		var _gthis = this;
		var promise = new lime_app_Promise();
		this.name = name;
		var userAgent = $global.navigator.userAgent.toLowerCase();
		var isSafari = userAgent.indexOf(" safari/") >= 0 && userAgent.indexOf(" chrome/") < 0;
		var isUIWebView = new EReg("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i").match(userAgent);
		if(!isSafari && !isUIWebView && (window.document.fonts && ($_=window.document.fonts,$bind($_,$_.load)))) {
			window.document.fonts.load("1em '" + name + "'").then(function(_) {
				promise.complete(_gthis);
			},function(_) {
				lime_utils_Log.warn("Could not load web font \"" + name + "\"",{ fileName : "lime/text/Font.hx", lineNumber : 513, className : "lime.text.Font", methodName : "__loadFromName"});
				promise.complete(_gthis);
			});
		} else {
			var node1 = lime_text_Font.__measureFontNode("'" + name + "', sans-serif");
			var node2 = lime_text_Font.__measureFontNode("'" + name + "', serif");
			var width1 = node1.offsetWidth;
			var width2 = node2.offsetWidth;
			var interval = -1;
			var timeout = 3000;
			var intervalLength = 50;
			var intervalCount = 0;
			var loaded;
			var timeExpired;
			var checkFont = function() {
				intervalCount += 1;
				loaded = node1.offsetWidth != width1 || node2.offsetWidth != width2;
				timeExpired = intervalCount * intervalLength >= timeout;
				if(loaded || timeExpired) {
					window.clearInterval(interval);
					node1.parentNode.removeChild(node1);
					node2.parentNode.removeChild(node2);
					node1 = null;
					node2 = null;
					if(timeExpired) {
						lime_utils_Log.warn("Could not load web font \"" + name + "\"",{ fileName : "lime/text/Font.hx", lineNumber : 548, className : "lime.text.Font", methodName : "__loadFromName"});
					}
					promise.complete(_gthis);
				}
			};
			interval = window.setInterval(checkFont,intervalLength);
		}
		return promise.future;
	}
	,__setSize: function(size) {
	}
	,__class__: lime_text_Font
};
var _$_$ASSET_$_$assets_$fonts_$pixel_$otf = $hx_exports["__ASSET__assets_fonts_pixel_otf"] = function() {
	this.ascender = 1125;
	this.descender = -250;
	this.height = 1375;
	this.numGlyphs = 262;
	this.underlinePosition = -143;
	this.underlineThickness = 20;
	this.unitsPerEM = 1000;
	this.name = "Pixel Arial 11 Bold";
	lime_text_Font.call(this);
};
$hxClasses["__ASSET__assets_fonts_pixel_otf"] = _$_$ASSET_$_$assets_$fonts_$pixel_$otf;
_$_$ASSET_$_$assets_$fonts_$pixel_$otf.__name__ = "__ASSET__assets_fonts_pixel_otf";
_$_$ASSET_$_$assets_$fonts_$pixel_$otf.__super__ = lime_text_Font;
_$_$ASSET_$_$assets_$fonts_$pixel_$otf.prototype = $extend(lime_text_Font.prototype,{
	__class__: _$_$ASSET_$_$assets_$fonts_$pixel_$otf
});
var _$_$ASSET_$_$assets_$fonts_$vcr_$ttf = $hx_exports["__ASSET__assets_fonts_vcr_ttf"] = function() {
	this.ascender = 1800;
	this.descender = 0;
	this.height = 2000;
	this.numGlyphs = 204;
	this.underlinePosition = -292;
	this.underlineThickness = 150;
	this.unitsPerEM = 2048;
	this.name = "VCR OSD Mono";
	lime_text_Font.call(this);
};
$hxClasses["__ASSET__assets_fonts_vcr_ttf"] = _$_$ASSET_$_$assets_$fonts_$vcr_$ttf;
_$_$ASSET_$_$assets_$fonts_$vcr_$ttf.__name__ = "__ASSET__assets_fonts_vcr_ttf";
_$_$ASSET_$_$assets_$fonts_$vcr_$ttf.__super__ = lime_text_Font;
_$_$ASSET_$_$assets_$fonts_$vcr_$ttf.prototype = $extend(lime_text_Font.prototype,{
	__class__: _$_$ASSET_$_$assets_$fonts_$vcr_$ttf
});
var _$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf = $hx_exports["__ASSET__flixel_fonts_nokiafc22_ttf"] = function() {
	this.ascender = 2048;
	this.descender = -512;
	this.height = 2816;
	this.numGlyphs = 172;
	this.underlinePosition = -640;
	this.underlineThickness = 256;
	this.unitsPerEM = 2048;
	this.name = "Nokia Cellphone FC Small";
	lime_text_Font.call(this);
};
$hxClasses["__ASSET__flixel_fonts_nokiafc22_ttf"] = _$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf;
_$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf.__name__ = "__ASSET__flixel_fonts_nokiafc22_ttf";
_$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf.__super__ = lime_text_Font;
_$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf.prototype = $extend(lime_text_Font.prototype,{
	__class__: _$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf
});
var _$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf = $hx_exports["__ASSET__flixel_fonts_monsterrat_ttf"] = function() {
	this.ascender = 968;
	this.descender = -251;
	this.height = 1219;
	this.numGlyphs = 263;
	this.underlinePosition = -150;
	this.underlineThickness = 50;
	this.unitsPerEM = 1000;
	this.name = "Monsterrat";
	lime_text_Font.call(this);
};
$hxClasses["__ASSET__flixel_fonts_monsterrat_ttf"] = _$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf;
_$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf.__name__ = "__ASSET__flixel_fonts_monsterrat_ttf";
_$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf.__super__ = lime_text_Font;
_$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf.prototype = $extend(lime_text_Font.prototype,{
	__class__: _$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf
});
var openfl_text_Font = function(name) {
	lime_text_Font.call(this,name);
};
$hxClasses["openfl.text.Font"] = openfl_text_Font;
openfl_text_Font.__name__ = "openfl.text.Font";
openfl_text_Font.enumerateFonts = function(enumerateDeviceFonts) {
	if(enumerateDeviceFonts == null) {
		enumerateDeviceFonts = false;
	}
	return openfl_text_Font.__registeredFonts;
};
openfl_text_Font.fromBytes = function(bytes) {
	var font = new openfl_text_Font();
	font.__fromBytes(openfl_utils_ByteArray.toBytes(bytes));
	return font;
};
openfl_text_Font.fromFile = function(path) {
	var font = new openfl_text_Font();
	font.__fromFile(path);
	return font;
};
openfl_text_Font.loadFromBytes = function(bytes) {
	return lime_text_Font.loadFromBytes(openfl_utils_ByteArray.toBytes(bytes)).then(function(limeFont) {
		var font = new openfl_text_Font();
		font.__fromLimeFont(limeFont);
		return lime_app_Future.withValue(font);
	});
};
openfl_text_Font.loadFromFile = function(path) {
	return lime_text_Font.loadFromFile(path).then(function(limeFont) {
		var font = new openfl_text_Font();
		font.__fromLimeFont(limeFont);
		return lime_app_Future.withValue(font);
	});
};
openfl_text_Font.loadFromName = function(path) {
	return lime_text_Font.loadFromName(path).then(function(limeFont) {
		var font = new openfl_text_Font();
		font.__fromLimeFont(limeFont);
		return lime_app_Future.withValue(font);
	});
};
openfl_text_Font.registerFont = function(font) {
	var instance = null;
	if(js_Boot.getClass(font) == null) {
		instance = js_Boot.__cast(Type.createInstance(font,[]) , openfl_text_Font);
	} else {
		instance = js_Boot.__cast(font , openfl_text_Font);
	}
	if(instance != null) {
		openfl_text_Font.__registeredFonts.push(instance);
		openfl_text_Font.__fontByName.h[instance.name] = instance;
	}
};
openfl_text_Font.__super__ = lime_text_Font;
openfl_text_Font.prototype = $extend(lime_text_Font.prototype,{
	fontStyle: null
	,fontType: null
	,__initialized: null
	,__fromLimeFont: function(font) {
		this.__copyFrom(font);
	}
	,__initialize: function() {
		return this.__initialized;
	}
	,get_fontName: function() {
		return this.name;
	}
	,set_fontName: function(value) {
		return this.name = value;
	}
	,__class__: openfl_text_Font
	,__properties__: {set_fontName:"set_fontName",get_fontName:"get_fontName"}
});
var _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf = $hx_exports["__ASSET__OPENFL__assets_fonts_pixel_otf"] = function() {
	this.__fromLimeFont(new _$_$ASSET_$_$assets_$fonts_$pixel_$otf());
	openfl_text_Font.call(this);
};
$hxClasses["__ASSET__OPENFL__assets_fonts_pixel_otf"] = _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf;
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf.__name__ = "__ASSET__OPENFL__assets_fonts_pixel_otf";
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf.__super__ = openfl_text_Font;
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf.prototype = $extend(openfl_text_Font.prototype,{
	__class__: _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$pixel_$otf
});
var _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf = $hx_exports["__ASSET__OPENFL__assets_fonts_vcr_ttf"] = function() {
	this.__fromLimeFont(new _$_$ASSET_$_$assets_$fonts_$vcr_$ttf());
	openfl_text_Font.call(this);
};
$hxClasses["__ASSET__OPENFL__assets_fonts_vcr_ttf"] = _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf;
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf.__name__ = "__ASSET__OPENFL__assets_fonts_vcr_ttf";
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf.__super__ = openfl_text_Font;
_$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf.prototype = $extend(openfl_text_Font.prototype,{
	__class__: _$_$ASSET_$_$OPENFL_$_$assets_$fonts_$vcr_$ttf
});
var _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf = $hx_exports["__ASSET__OPENFL__flixel_fonts_nokiafc22_ttf"] = function() {
	this.__fromLimeFont(new _$_$ASSET_$_$flixel_$fonts_$nokiafc22_$ttf());
	openfl_text_Font.call(this);
};
$hxClasses["__ASSET__OPENFL__flixel_fonts_nokiafc22_ttf"] = _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf;
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf.__name__ = "__ASSET__OPENFL__flixel_fonts_nokiafc22_ttf";
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf.__super__ = openfl_text_Font;
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf.prototype = $extend(openfl_text_Font.prototype,{
	__class__: _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$nokiafc22_$ttf
});
var _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf = $hx_exports["__ASSET__OPENFL__flixel_fonts_monsterrat_ttf"] = function() {
	this.__fromLimeFont(new _$_$ASSET_$_$flixel_$fonts_$monsterrat_$ttf());
	openfl_text_Font.call(this);
};
$hxClasses["__ASSET__OPENFL__flixel_fonts_monsterrat_ttf"] = _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf;
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf.__name__ = "__ASSET__OPENFL__flixel_fonts_monsterrat_ttf";
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf.__super__ = openfl_text_Font;
_$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf.prototype = $extend(openfl_text_Font.prototype,{
	__class__: _$_$ASSET_$_$OPENFL_$_$flixel_$fonts_$monsterrat_$ttf
});
Math.__name__ = "Math";
var MenuCharacter = function(x,character) {
	if(character == null) {
		character = "bf";
	}
	flixel_FlxSprite.call(this,x);
	this.changeCharacter(character);
};
$hxClasses["MenuCharacter"] = MenuCharacter;
MenuCharacter.__name__ = "MenuCharacter";
MenuCharacter.__super__ = flixel_FlxSprite;
MenuCharacter.prototype = $extend(flixel_FlxSprite.prototype,{
	character: null
	,changeCharacter: function(character) {
		if(character == null) {
			character = "bf";
		}
		if(character == null) {
			character = "";
		}
		if(character == this.character) {
			return;
		}
		this.character = character;
		this.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.set_visible(true);
		var dontPlayAnim = false;
		this.scale.set(1,1);
		this.updateHitbox();
		if(character == null) {
			var characterPath = "images/menucharacters/" + character + ".json";
			var rawJson = null;
			var file = characterPath;
			if(file == null) {
				file = "";
			}
			var path = "assets/" + file;
			if(!openfl_utils_Assets.exists(path)) {
				var file = "images/menucharacters/" + MenuCharacter.DEFAULT_CHARACTER + ".json";
				if(file == null) {
					file = "";
				}
				path = "assets/" + file;
			}
			rawJson = openfl_utils_Assets.getText(path);
			var charFile = JSON.parse(rawJson);
			var key = "menucharacters/" + charFile.image;
			var library = null;
			this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
			this.animation.addByPrefix("idle",charFile.idle_anim,24);
			this.animation.addByPrefix("confirm",charFile.confirm_anim,24,false);
			if(charFile.scale != 1) {
				this.scale.set(charFile.scale,charFile.scale);
				this.updateHitbox();
			}
			this.offset.set(charFile.position[0],charFile.position[1]);
			this.animation.play("idle");
		} else if(character == "") {
			this.set_visible(false);
			dontPlayAnim = true;
		} else {
			var characterPath = "images/menucharacters/" + character + ".json";
			var rawJson = null;
			var file = characterPath;
			if(file == null) {
				file = "";
			}
			var path = "assets/" + file;
			if(!openfl_utils_Assets.exists(path)) {
				var file = "images/menucharacters/" + MenuCharacter.DEFAULT_CHARACTER + ".json";
				if(file == null) {
					file = "";
				}
				path = "assets/" + file;
			}
			rawJson = openfl_utils_Assets.getText(path);
			var charFile = JSON.parse(rawJson);
			var key = "menucharacters/" + charFile.image;
			var library = null;
			this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
			this.animation.addByPrefix("idle",charFile.idle_anim,24);
			this.animation.addByPrefix("confirm",charFile.confirm_anim,24,false);
			if(charFile.scale != 1) {
				this.scale.set(charFile.scale,charFile.scale);
				this.updateHitbox();
			}
			this.offset.set(charFile.position[0],charFile.position[1]);
			this.animation.play("idle");
		}
	}
	,__class__: MenuCharacter
});
var MenuItem = function(x,y,weekName) {
	if(weekName == null) {
		weekName = "";
	}
	this.fakeFramerate = Math.round(1 / flixel_FlxG.elapsed / 10);
	this.isFlashing = false;
	this.flashingInt = 0;
	this.targetY = 0;
	flixel_FlxSprite.call(this,x,y);
	this.loadGraphic(Paths.getPath("images/" + ("storymenu/" + weekName) + ".png","IMAGE",null));
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["MenuItem"] = MenuItem;
MenuItem.__name__ = "MenuItem";
MenuItem.__super__ = flixel_FlxSprite;
MenuItem.prototype = $extend(flixel_FlxSprite.prototype,{
	targetY: null
	,flashingInt: null
	,isFlashing: null
	,startFlashing: function() {
		this.isFlashing = true;
	}
	,fakeFramerate: null
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		var a = this.y;
		this.set_y(a + Math.max(0,Math.min(1,elapsed * 10.2)) * (this.targetY * 120 + 480 - a));
		if(this.isFlashing) {
			this.flashingInt += 1;
		}
		if(this.flashingInt % this.fakeFramerate >= Math.floor(this.fakeFramerate / 2)) {
			this.set_color(-13369345);
		} else {
			this.set_color(-1);
		}
	}
	,__class__: MenuItem
});
var Note = function(strumTime,noteData,prevNote,sustainNote,inEditor) {
	if(inEditor == null) {
		inEditor = false;
	}
	if(sustainNote == null) {
		sustainNote = false;
	}
	this.distance = 2000;
	this.hitCausesMiss = false;
	this.noAnimation = false;
	this.texture = null;
	this.missHealth = 0.0475;
	this.hitHealth = 0.023;
	this.copyAlpha = true;
	this.copyAngle = true;
	this.copyY = true;
	this.copyX = true;
	this.multAlpha = 1;
	this.offsetAngle = 0;
	this.offsetY = 0;
	this.offsetX = 0;
	this.noteSplashBrt = 0;
	this.noteSplashSat = 0;
	this.noteSplashHue = 0;
	this.noteSplashTexture = null;
	this.noteSplashDisabled = false;
	this.earlyHitMult = 0.5;
	this.gfNote = false;
	this.inEditor = false;
	this.eventVal2 = "";
	this.eventVal1 = "";
	this.eventLength = 0;
	this.eventName = "";
	this.noteType = null;
	this.isSustainNote = false;
	this.sustainLength = 0;
	this.noteWasHit = false;
	this.hitByOpponent = false;
	this.ignoreNote = false;
	this.wasGoodHit = false;
	this.tooLate = false;
	this.canBeHit = false;
	this.noteData = 0;
	this.mustPress = false;
	this.strumTime = 0;
	flixel_FlxSprite.call(this);
	if(prevNote == null) {
		prevNote = this;
	}
	this.prevNote = prevNote;
	this.isSustainNote = sustainNote;
	this.inEditor = inEditor;
	this.set_x(this.x + ((ClientPrefs.middleScroll ? PlayState.STRUM_X_MIDDLESCROLL : PlayState.STRUM_X) + 50));
	this.set_y(this.y - 2000);
	this.strumTime = strumTime;
	if(!inEditor) {
		this.strumTime += ClientPrefs.noteOffset;
	}
	this.noteData = noteData;
	if(noteData > -1) {
		this.set_texture("");
		this.colorSwap = new ColorSwap();
		this.shader = this.colorSwap.shader;
		this.set_x(this.x + Note.swagWidth * (noteData % 4));
		if(!this.isSustainNote) {
			var animToPlay = "";
			switch(noteData % 4) {
			case 0:
				animToPlay = "purple";
				break;
			case 1:
				animToPlay = "blue";
				break;
			case 2:
				animToPlay = "green";
				break;
			case 3:
				animToPlay = "red";
				break;
			}
			this.animation.play(animToPlay + "Scroll");
		}
	}
	if(this.isSustainNote && prevNote != null) {
		this.set_alpha(0.6);
		this.multAlpha = 0.6;
		if(ClientPrefs.downScroll) {
			this.set_flipY(true);
		}
		this.offsetX += this.get_width() / 2;
		this.copyAngle = false;
		switch(noteData) {
		case 0:
			this.animation.play("purpleholdend");
			break;
		case 1:
			this.animation.play("blueholdend");
			break;
		case 2:
			this.animation.play("greenholdend");
			break;
		case 3:
			this.animation.play("redholdend");
			break;
		}
		this.updateHitbox();
		this.offsetX -= this.get_width() / 2;
		if(PlayState.isPixelStage) {
			this.offsetX += 30;
		}
		if(prevNote.isSustainNote) {
			switch(prevNote.noteData) {
			case 0:
				prevNote.animation.play("purplehold");
				break;
			case 1:
				prevNote.animation.play("bluehold");
				break;
			case 2:
				prevNote.animation.play("greenhold");
				break;
			case 3:
				prevNote.animation.play("redhold");
				break;
			}
			var fh = prevNote.scale;
			fh.set_y(fh.y * (Conductor.stepCrochet / 100 * 1.05));
			if(PlayState.instance != null) {
				var fh = prevNote.scale;
				fh.set_y(fh.y * PlayState.instance.songSpeed);
			}
			if(PlayState.isPixelStage) {
				var fh = prevNote.scale;
				fh.set_y(fh.y * 1.19);
			}
			prevNote.updateHitbox();
		}
		if(PlayState.isPixelStage) {
			var fh = this.scale;
			fh.set_y(fh.y * PlayState.daPixelZoom);
			this.updateHitbox();
		}
	} else if(!this.isSustainNote) {
		this.earlyHitMult = 1;
	}
	this.set_x(this.x + this.offsetX);
};
$hxClasses["Note"] = Note;
Note.__name__ = "Note";
Note.__super__ = flixel_FlxSprite;
Note.prototype = $extend(flixel_FlxSprite.prototype,{
	strumTime: null
	,mustPress: null
	,noteData: null
	,canBeHit: null
	,tooLate: null
	,wasGoodHit: null
	,ignoreNote: null
	,hitByOpponent: null
	,noteWasHit: null
	,prevNote: null
	,sustainLength: null
	,isSustainNote: null
	,noteType: null
	,eventName: null
	,eventLength: null
	,eventVal1: null
	,eventVal2: null
	,colorSwap: null
	,inEditor: null
	,gfNote: null
	,earlyHitMult: null
	,noteSplashDisabled: null
	,noteSplashTexture: null
	,noteSplashHue: null
	,noteSplashSat: null
	,noteSplashBrt: null
	,offsetX: null
	,offsetY: null
	,offsetAngle: null
	,multAlpha: null
	,copyX: null
	,copyY: null
	,copyAngle: null
	,copyAlpha: null
	,hitHealth: null
	,missHealth: null
	,texture: null
	,noAnimation: null
	,hitCausesMiss: null
	,distance: null
	,set_texture: function(value) {
		if(this.texture != value) {
			this.reloadNote("",value);
		}
		this.texture = value;
		return value;
	}
	,set_noteType: function(value) {
		this.noteSplashTexture = PlayState.SONG.splashSkin;
		this.colorSwap.set_hue(ClientPrefs.arrowHSV[this.noteData % 4][0] / 360);
		this.colorSwap.set_saturation(ClientPrefs.arrowHSV[this.noteData % 4][1] / 100);
		this.colorSwap.set_brightness(ClientPrefs.arrowHSV[this.noteData % 4][2] / 100);
		if(this.noteData > -1 && this.noteType != value) {
			switch(value) {
			case "GF Sing":
				this.gfNote = true;
				break;
			case "Hurt Note":
				this.ignoreNote = this.mustPress;
				this.reloadNote("HURT");
				this.noteSplashTexture = "HURTnoteSplashes";
				this.colorSwap.set_hue(0);
				this.colorSwap.set_saturation(0);
				this.colorSwap.set_brightness(0);
				if(this.isSustainNote) {
					this.missHealth = 0.1;
				} else {
					this.missHealth = 0.3;
				}
				this.hitCausesMiss = true;
				break;
			case "No Animation":
				this.noAnimation = true;
				break;
			}
			this.noteType = value;
		}
		this.noteSplashHue = this.colorSwap.hue;
		this.noteSplashSat = this.colorSwap.saturation;
		this.noteSplashBrt = this.colorSwap.brightness;
		return value;
	}
	,reloadNote: function(prefix,texture,suffix) {
		if(suffix == null) {
			suffix = "";
		}
		if(texture == null) {
			texture = "";
		}
		if(prefix == null) {
			prefix = "";
		}
		if(prefix == null) {
			prefix = "";
		}
		if(texture == null) {
			texture = "";
		}
		if(suffix == null) {
			suffix = "";
		}
		var skin = texture;
		if(texture.length < 1) {
			skin = PlayState.SONG.arrowSkin;
			if(skin == null || skin.length < 1) {
				skin = "NOTE_assets";
			}
		}
		var animName = null;
		if(this.animation._curAnim != null) {
			animName = this.animation._curAnim.name;
		}
		var arraySkin = skin.split("/");
		arraySkin[arraySkin.length - 1] = prefix + arraySkin[arraySkin.length - 1] + suffix;
		var lastScaleY = this.scale.y;
		var blahblah = arraySkin.join("/");
		if(PlayState.isPixelStage) {
			if(this.isSustainNote) {
				this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + blahblah + "ENDS") + ".png","IMAGE",null));
				this.set_width(this.get_width() / 4);
				this.set_height(this.get_height() / 2);
				this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + blahblah + "ENDS") + ".png","IMAGE",null),true,Math.floor(this.get_width()),Math.floor(this.get_height()));
			} else {
				this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + blahblah) + ".png","IMAGE",null));
				this.set_width(this.get_width() / 4);
				this.set_height(this.get_height() / 5);
				this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + blahblah) + ".png","IMAGE",null),true,Math.floor(this.get_width()),Math.floor(this.get_height()));
			}
			this.setGraphicSize(this.get_width() * PlayState.daPixelZoom | 0);
			this.loadPixelNoteAnims();
			this.set_antialiasing(false);
		} else {
			var library = null;
			this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + blahblah + ".png","IMAGE",library),Paths.getPath("images/" + blahblah + ".xml","TEXT",library)));
			this.loadNoteAnims();
			this.set_antialiasing(ClientPrefs.globalAntialiasing);
		}
		if(this.isSustainNote) {
			this.scale.set_y(lastScaleY);
			if(ClientPrefs.keSustains) {
				var fh = this.scale;
				fh.set_y(fh.y * 0.75);
			}
		}
		this.updateHitbox();
		if(animName != null) {
			this.animation.play(animName,true);
		}
		if(this.inEditor) {
			this.setGraphicSize(editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE);
			this.updateHitbox();
		}
	}
	,loadNoteAnims: function() {
		this.animation.addByPrefix("greenScroll","green0");
		this.animation.addByPrefix("redScroll","red0");
		this.animation.addByPrefix("blueScroll","blue0");
		this.animation.addByPrefix("purpleScroll","purple0");
		if(this.isSustainNote) {
			this.animation.addByPrefix("purpleholdend","pruple end hold");
			this.animation.addByPrefix("greenholdend","green hold end");
			this.animation.addByPrefix("redholdend","red hold end");
			this.animation.addByPrefix("blueholdend","blue hold end");
			this.animation.addByPrefix("purplehold","purple hold piece");
			this.animation.addByPrefix("greenhold","green hold piece");
			this.animation.addByPrefix("redhold","red hold piece");
			this.animation.addByPrefix("bluehold","blue hold piece");
		}
		this.setGraphicSize(this.get_width() * 0.7 | 0);
		this.updateHitbox();
	}
	,loadPixelNoteAnims: function() {
		if(this.isSustainNote) {
			this.animation.add("purpleholdend",[Note.PURP_NOTE + 4]);
			this.animation.add("greenholdend",[Note.GREEN_NOTE + 4]);
			this.animation.add("redholdend",[Note.RED_NOTE + 4]);
			this.animation.add("blueholdend",[Note.BLUE_NOTE + 4]);
			this.animation.add("purplehold",[Note.PURP_NOTE]);
			this.animation.add("greenhold",[Note.GREEN_NOTE]);
			this.animation.add("redhold",[Note.RED_NOTE]);
			this.animation.add("bluehold",[Note.BLUE_NOTE]);
		} else {
			this.animation.add("greenScroll",[Note.GREEN_NOTE + 4]);
			this.animation.add("redScroll",[Note.RED_NOTE + 4]);
			this.animation.add("blueScroll",[Note.BLUE_NOTE + 4]);
			this.animation.add("purpleScroll",[Note.PURP_NOTE + 4]);
		}
	}
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.mustPress) {
			if(this.strumTime > Conductor.songPosition - Conductor.safeZoneOffset && this.strumTime < Conductor.songPosition + Conductor.safeZoneOffset * this.earlyHitMult) {
				this.canBeHit = true;
			} else {
				this.canBeHit = false;
			}
			if(this.strumTime < Conductor.songPosition - Conductor.safeZoneOffset && !this.wasGoodHit) {
				this.tooLate = true;
			}
		} else {
			this.canBeHit = false;
			if(this.strumTime <= Conductor.songPosition) {
				this.wasGoodHit = true;
			}
		}
		if(this.tooLate && !this.inEditor) {
			if(this.alpha > 0.3) {
				this.set_alpha(0.3);
			}
		}
	}
	,__class__: Note
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_texture:"set_texture",set_noteType:"set_noteType"})
});
var NoteSplash = function(x,y,note) {
	if(note == null) {
		note = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.textureLoaded = null;
	this.colorSwap = null;
	flixel_FlxSprite.call(this,x,y);
	var skin = "noteSplashes";
	if(PlayState.SONG.splashSkin != null && PlayState.SONG.splashSkin.length > 0) {
		skin = PlayState.SONG.splashSkin;
	}
	this.loadAnims(skin);
	this.colorSwap = new ColorSwap();
	this.shader = this.colorSwap.shader;
	this.setupNoteSplash(x,y,note);
	this.set_antialiasing(ClientPrefs.globalAntialiasing);
};
$hxClasses["NoteSplash"] = NoteSplash;
NoteSplash.__name__ = "NoteSplash";
NoteSplash.__super__ = flixel_FlxSprite;
NoteSplash.prototype = $extend(flixel_FlxSprite.prototype,{
	colorSwap: null
	,idleAnim: null
	,textureLoaded: null
	,setupNoteSplash: function(x,y,note,texture,hueColor,satColor,brtColor) {
		if(brtColor == null) {
			brtColor = 0;
		}
		if(satColor == null) {
			satColor = 0;
		}
		if(hueColor == null) {
			hueColor = 0;
		}
		if(note == null) {
			note = 0;
		}
		this.setPosition(x - Note.swagWidth * 0.95,y - Note.swagWidth);
		this.set_alpha(0.6);
		if(texture == null) {
			texture = "noteSplashes";
			if(PlayState.SONG.splashSkin != null && PlayState.SONG.splashSkin.length > 0) {
				texture = PlayState.SONG.splashSkin;
			}
		}
		if(this.textureLoaded != texture) {
			this.loadAnims(texture);
		}
		this.colorSwap.set_hue(hueColor);
		this.colorSwap.set_saturation(satColor);
		this.colorSwap.set_brightness(brtColor);
		this.offset.set(10,10);
		var animNum = flixel_FlxG.random.int(1,2);
		this.animation.play("note" + note + "-" + animNum,true);
		if(this.animation._curAnim != null) {
			this.animation._curAnim.set_frameRate(24 + flixel_FlxG.random.int(-2,2));
		}
	}
	,loadAnims: function(skin) {
		var library = null;
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + skin + ".png","IMAGE",library),Paths.getPath("images/" + skin + ".xml","TEXT",library)));
		this.animation.addByPrefix("note1-" + 1,"note splash blue " + 1,24,false);
		this.animation.addByPrefix("note2-" + 1,"note splash green " + 1,24,false);
		this.animation.addByPrefix("note0-" + 1,"note splash purple " + 1,24,false);
		this.animation.addByPrefix("note3-" + 1,"note splash red " + 1,24,false);
		this.animation.addByPrefix("note1-" + 2,"note splash blue " + 2,24,false);
		this.animation.addByPrefix("note2-" + 2,"note splash green " + 2,24,false);
		this.animation.addByPrefix("note0-" + 2,"note splash purple " + 2,24,false);
		this.animation.addByPrefix("note3-" + 2,"note splash red " + 2,24,false);
	}
	,update: function(elapsed) {
		if(this.animation._curAnim != null) {
			if(this.animation._curAnim.finished) {
				this.kill();
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,__class__: NoteSplash
});
var OutdatedState = function(TransIn,TransOut) {
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["OutdatedState"] = OutdatedState;
OutdatedState.__name__ = "OutdatedState";
OutdatedState.__super__ = MusicBeatState;
OutdatedState.prototype = $extend(MusicBeatState.prototype,{
	warnText: null
	,create: function() {
		MusicBeatState.prototype.create.call(this);
		var bg = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		this.add(bg);
		this.warnText = new flixel_text_FlxText(0,0,flixel_FlxG.width,"Sup bro, looks like you're running an   \n\r\n\t\t\toutdated version of Psych Engine (" + MainMenuState.psychEngineVersion + "),\n\r\n\t\t\tplease update to " + TitleState.updateVersion + "!\n\r\n\t\t\t\n\r\n\t\t\tThank you for using the Engine!",32);
		this.warnText.setFormat("VCR OSD Mono",32,-1,"center");
		var _this = this.warnText;
		var axes = flixel_util_FlxAxes.Y;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.add(this.warnText);
		this.addVirtualPad(ui_FlxDPadMode.NONE,ui_FlxActionMode.A_B);
	}
	,update: function(elapsed) {
		if(!OutdatedState.leftState) {
			if(PlayerSettings.player1.controls._accept.check() || PlayerSettings.player1.controls._back.check()) {
				OutdatedState.leftState = true;
				CoolUtil.browserLoad("https://github.com/ShadowMario/FNF-PsychEngine/releases");
				flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
				flixel_tweens_FlxTween.tween(this.warnText,{ alpha : 0},1,{ onComplete : function(twn) {
					MusicBeatState.switchState(new MainMenuState());
				}});
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,__class__: OutdatedState
});
var Paths = function() { };
$hxClasses["Paths"] = Paths;
Paths.__name__ = "Paths";
Paths.destroyLoadedImages = function(ignoreCheck) {
	if(ignoreCheck == null) {
		ignoreCheck = false;
	}
};
Paths.currentLevel = null;
Paths.setCurrentLevel = function(name) {
	Paths.currentLevel = name.toLowerCase();
};
Paths.getPath = function(file,type,library) {
	if(library != null) {
		return Paths.getLibraryPath(file,library);
	}
	if(Paths.currentLevel != null) {
		var levelPath = "";
		if(Paths.currentLevel != "shared") {
			var library = Paths.currentLevel;
			levelPath = "" + library + ":assets/" + library + "/" + file;
			if(openfl_utils_Assets.exists(levelPath,type)) {
				return levelPath;
			}
		}
		levelPath = "shared" + ":assets/" + "shared" + "/" + file;
		if(openfl_utils_Assets.exists(levelPath,type)) {
			return levelPath;
		}
	}
	var file1 = file;
	if(file1 == null) {
		file1 = "";
	}
	return "assets/" + file1;
};
Paths.getLibraryPath = function(file,library) {
	if(library == null) {
		library = "preload";
	}
	if(library == "preload" || library == "default") {
		var file1 = file;
		if(file1 == null) {
			file1 = "";
		}
		return "assets/" + file1;
	} else {
		return "" + library + ":assets/" + library + "/" + file;
	}
};
Paths.getLibraryPathForce = function(file,library) {
	return "" + library + ":assets/" + library + "/" + file;
};
Paths.getPreloadPath = function(file) {
	if(file == null) {
		file = "";
	}
	return "assets/" + file;
};
Paths.file = function(file,type,library) {
	if(type == null) {
		type = "TEXT";
	}
	return Paths.getPath(file,type,library);
};
Paths.txt = function(key,library) {
	return Paths.getPath("data/" + key + ".txt","TEXT",library);
};
Paths.xml = function(key,library) {
	return Paths.getPath("data/" + key + ".xml","TEXT",library);
};
Paths.json = function(key,library) {
	return Paths.getPath("data/" + key + ".json","TEXT",library);
};
Paths.lua = function(key,library) {
	return Paths.getPath("" + key + ".lua","TEXT",library);
};
Paths.video = function(key) {
	return Main.getDataPath() + ("assets/videos/" + key + "." + "html");
};
Paths.sound = function(key,library) {
	return Paths.getPath("sounds/" + key + "." + "mp3","SOUND",library);
};
Paths.soundRandom = function(key,min,max,library) {
	return Paths.sound(key + flixel_FlxG.random.int(min,max),library);
};
Paths.music = function(key,library) {
	return Paths.getPath("music/" + key + "." + "mp3","MUSIC",library);
};
Paths.voices = function(song) {
	return "songs:assets/songs/" + StringTools.replace(song.toLowerCase()," ","-") + "/Voices." + "mp3";
};
Paths.inst = function(song) {
	return "songs:assets/songs/" + StringTools.replace(song.toLowerCase()," ","-") + "/Inst." + "mp3";
};
Paths.image = function(key,library) {
	return Paths.getPath("images/" + key + ".png","IMAGE",library);
};
Paths.getTextFromFile = function(key,ignoreMods) {
	if(ignoreMods == null) {
		ignoreMods = false;
	}
	return lime_utils_Assets.getText(Paths.getPath(key,"TEXT"));
};
Paths.font = function(key) {
	return Main.getDataPath() + ("assets/fonts/" + key);
};
Paths.fileExists = function(key,type,ignoreMods,library) {
	if(ignoreMods == null) {
		ignoreMods = false;
	}
	if(openfl_utils_Assets.exists(Paths.getPath(key,type))) {
		return true;
	}
	return false;
};
Paths.getSparrowAtlas = function(key,library) {
	return flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library));
};
Paths.getPackerAtlas = function(key,library) {
	return flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".txt","TEXT",library));
};
Paths.formatToSongPath = function(path) {
	return StringTools.replace(path.toLowerCase()," ","-");
};
var PauseSubState = function(x,y) {
	this.curSelected = 0;
	this.difficultyChoices = [];
	this.menuItemsOG = ["Resume","Restart Song","Chart Editor","Exit to menu"];
	this.menuItems = [];
	MusicBeatSubstate.call(this);
	if(PlayState.chartingMode) {
		this.menuItemsOG.splice(2,0,"Toggle Practice Mode");
		this.menuItemsOG.splice(3,0,"Toggle Botplay");
	}
	this.menuItems = this.menuItemsOG;
	var _g = 0;
	var _g1 = CoolUtil.difficulties.length;
	while(_g < _g1) {
		var i = _g++;
		var diff = "" + CoolUtil.difficulties[i];
		this.difficultyChoices.push(diff);
	}
	this.difficultyChoices.push("BACK");
	this.pauseMusic = new flixel_system_FlxSound().loadEmbedded(Paths.getPath("music/" + "breakfast" + "." + "mp3","MUSIC",null),true,true);
	this.pauseMusic.set_volume(0);
	this.pauseMusic.play(false,flixel_FlxG.random.int(0,this.pauseMusic._length / 2 | 0));
	flixel_FlxG.sound.list.add(this.pauseMusic);
	var bg = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
	bg.set_alpha(0);
	bg.scrollFactor.set();
	this.add(bg);
	var levelInfo = new flixel_text_FlxText(20,15,0,"",32);
	levelInfo.set_text(levelInfo.text + PlayState.SONG.song);
	levelInfo.scrollFactor.set();
	levelInfo.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
	levelInfo.updateHitbox();
	this.add(levelInfo);
	var levelDifficulty = new flixel_text_FlxText(20,47,0,"",32);
	levelDifficulty.set_text(levelDifficulty.text + CoolUtil.difficultyString());
	levelDifficulty.scrollFactor.set();
	levelDifficulty.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
	levelDifficulty.updateHitbox();
	this.add(levelDifficulty);
	var blueballedTxt = new flixel_text_FlxText(20,79,0,"",32);
	blueballedTxt.set_text("Blueballed: " + PlayState.deathCounter);
	blueballedTxt.scrollFactor.set();
	blueballedTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
	blueballedTxt.updateHitbox();
	this.add(blueballedTxt);
	this.practiceText = new flixel_text_FlxText(20,116,0,"PRACTICE MODE",32);
	this.practiceText.scrollFactor.set();
	this.practiceText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
	this.practiceText.set_x(flixel_FlxG.width - (this.practiceText.get_width() + 20));
	this.practiceText.updateHitbox();
	this.practiceText.set_visible(PlayState.instance.practiceMode);
	this.add(this.practiceText);
	var chartingText = new flixel_text_FlxText(20,116,0,"CHARTING MODE",32);
	chartingText.scrollFactor.set();
	chartingText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
	chartingText.set_x(flixel_FlxG.width - (chartingText.get_width() + 20));
	chartingText.set_y(flixel_FlxG.height - (chartingText.get_height() + 20));
	chartingText.updateHitbox();
	chartingText.set_visible(PlayState.chartingMode);
	this.add(chartingText);
	blueballedTxt.set_alpha(0);
	levelDifficulty.set_alpha(0);
	levelInfo.set_alpha(0);
	levelInfo.set_x(flixel_FlxG.width - (levelInfo.get_width() + 20));
	levelDifficulty.set_x(flixel_FlxG.width - (levelDifficulty.get_width() + 20));
	blueballedTxt.set_x(flixel_FlxG.width - (blueballedTxt.get_width() + 20));
	flixel_tweens_FlxTween.tween(bg,{ alpha : 0.6},0.4,{ ease : flixel_tweens_FlxEase.quartInOut});
	flixel_tweens_FlxTween.tween(levelInfo,{ alpha : 1, y : 20},0.4,{ ease : flixel_tweens_FlxEase.quartInOut, startDelay : 0.3});
	flixel_tweens_FlxTween.tween(levelDifficulty,{ alpha : 1, y : levelDifficulty.y + 5},0.4,{ ease : flixel_tweens_FlxEase.quartInOut, startDelay : 0.5});
	flixel_tweens_FlxTween.tween(blueballedTxt,{ alpha : 1, y : blueballedTxt.y + 5},0.4,{ ease : flixel_tweens_FlxEase.quartInOut, startDelay : 0.7});
	this.grpMenuShit = new flixel_group_FlxTypedGroup();
	this.add(this.grpMenuShit);
	var _g = 0;
	var _g1 = this.menuItems.length;
	while(_g < _g1) {
		var i = _g++;
		var songText = new Alphabet(0,70 * i + 30,this.menuItems[i],true,false);
		songText.isMenuItem = true;
		songText.targetY = i;
		this.grpMenuShit.add(songText);
	}
	this.changeSelection();
	this.set_cameras([flixel_FlxG.cameras.list[flixel_FlxG.cameras.list.length - 1]]);
	this.addVirtualPad(ui_FlxDPadMode.UP_DOWN,ui_FlxActionMode.A_B);
	var camcontrol = new flixel_FlxCamera();
	flixel_FlxG.cameras.add(camcontrol);
	camcontrol.bgColor &= 16777215;
	camcontrol.bgColor |= 0;
	this._virtualpad.set_cameras([camcontrol]);
};
$hxClasses["PauseSubState"] = PauseSubState;
PauseSubState.__name__ = "PauseSubState";
PauseSubState.transCamera = null;
PauseSubState.restartSong = function(noTrans) {
	if(noTrans == null) {
		noTrans = false;
	}
	PlayState.instance.paused = true;
	flixel_FlxG.sound.music.set_volume(0);
	PlayState.instance.vocals.set_volume(0);
	if(noTrans) {
		flixel_addons_transition_FlxTransitionableState.skipNextTransOut = true;
		var nextState = Type.createInstance(js_Boot.getClass(flixel_FlxG.game._state),[]);
		if(flixel_FlxG.game._state.switchTo(nextState)) {
			flixel_FlxG.game._requestedState = nextState;
		}
	} else {
		MusicBeatState.resetState();
	}
};
PauseSubState.__super__ = MusicBeatSubstate;
PauseSubState.prototype = $extend(MusicBeatSubstate.prototype,{
	grpMenuShit: null
	,menuItems: null
	,menuItemsOG: null
	,difficultyChoices: null
	,curSelected: null
	,pauseMusic: null
	,practiceText: null
	,update: function(elapsed) {
		if(this.pauseMusic._volume < 0.5) {
			var fh = this.pauseMusic;
			fh.set_volume(fh._volume + 0.01 * elapsed);
		}
		MusicBeatSubstate.prototype.update.call(this,elapsed);
		var upP = PlayerSettings.player1.controls._ui_upP.check();
		var downP = PlayerSettings.player1.controls._ui_downP.check();
		var accepted = PlayerSettings.player1.controls._accept.check();
		if(upP) {
			this.changeSelection(-1);
		}
		if(downP) {
			this.changeSelection(1);
		}
		if(accepted) {
			var daSelected = this.menuItems[this.curSelected];
			if(daSelected != "BACK" && this.difficultyChoices.indexOf(daSelected) != -1) {
				var name = PlayState.SONG.song.toLowerCase();
				var poop = Highscore.formatSong(name,this.curSelected);
				PlayState.SONG = Song.loadFromJson(poop,name);
				PlayState.storyDifficulty = this.curSelected;
				CustomFadeTransition.nextCamera = PauseSubState.transCamera;
				MusicBeatState.resetState();
				flixel_FlxG.sound.music.set_volume(0);
				PlayState.changedDifficulty = true;
				PlayState.chartingMode = false;
				return;
			}
			switch(daSelected) {
			case "BACK":
				this.menuItems = this.menuItemsOG;
				this.regenMenu();
				break;
			case "Chart Editor":
				MusicBeatState.switchState(new editors_ChartingState());
				break;
			case "Exit to menu":
				PlayState.deathCounter = 0;
				PlayState.seenCutscene = false;
				if(PlayState.isStoryMode) {
					MusicBeatState.switchState(new StoryMenuState());
				} else {
					MusicBeatState.switchState(new FreeplayState());
				}
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
				PlayState.changedDifficulty = false;
				PlayState.chartingMode = false;
				break;
			case "Restart Song":
				PauseSubState.restartSong();
				break;
			case "Resume":
				this.close();
				break;
			case "Toggle Botplay":
				PlayState.instance.cpuControlled = !PlayState.instance.cpuControlled;
				PlayState.changedDifficulty = true;
				PlayState.instance.botplayTxt.set_visible(PlayState.instance.cpuControlled);
				PlayState.instance.botplayTxt.set_alpha(1);
				PlayState.instance.botplaySine = 0;
				break;
			case "Toggle Practice Mode":
				PlayState.instance.practiceMode = !PlayState.instance.practiceMode;
				PlayState.changedDifficulty = true;
				this.practiceText.set_visible(PlayState.instance.practiceMode);
				break;
			}
		}
	}
	,destroy: function() {
		this.pauseMusic.destroy();
		MusicBeatSubstate.prototype.destroy.call(this);
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		this.curSelected += change;
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		if(this.curSelected < 0) {
			this.curSelected = this.menuItems.length - 1;
		}
		if(this.curSelected >= this.menuItems.length) {
			this.curSelected = 0;
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.grpMenuShit.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - this.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
	}
	,regenMenu: function() {
		var _g = 0;
		var _g1 = this.grpMenuShit.members.length;
		while(_g < _g1) {
			var i = _g++;
			this.grpMenuShit.remove(this.grpMenuShit.members[0],true);
		}
		var _g = 0;
		var _g1 = this.menuItems.length;
		while(_g < _g1) {
			var i = _g++;
			var item = new Alphabet(0,70 * i + 30,this.menuItems[i],true,false);
			item.isMenuItem = true;
			item.targetY = i;
			this.grpMenuShit.add(item);
		}
		this.curSelected = 0;
		this.changeSelection();
	}
	,__class__: PauseSubState
});
var PlayState = function(TransIn,TransOut) {
	this.curLightEvent = 0;
	this.curLight = 0;
	this.ratingName = "?";
	this.closeLuas = [];
	this.lastBeatHit = -1;
	this.lightningOffset = 8;
	this.lightningStrikeBeat = 0;
	this.lastStepHit = -1;
	this.preventLuaRemove = false;
	this.startedMoving = false;
	this.trainCooldown = 0;
	this.trainFinishing = false;
	this.trainCars = 8;
	this.trainFrameTiming = 0;
	this.trainMoving = false;
	this.fastCarCanDrive = true;
	this.totalNotesHit = 0.0;
	this.totalPlayed = 0;
	this.achievementObj = null;
	this.transitioning = false;
	this.isDead = false;
	this.limoSpeed = 0;
	this.canPause = true;
	this.startedCountdown = false;
	this.paused = false;
	this.eventPushedMap = new haxe_ds_StringMap();
	this.noteTypeMap = new haxe_ds_StringMap();
	this.debugNum = 0;
	this.songTime = 0;
	this.lastReportedPlayheadPosition = 0;
	this.previousFrameTime = 0;
	this.finishTimer = null;
	this.dialogueCount = 0;
	this.introSoundsSuffix = "";
	this.luaArray = [];
	this.boyfriendIdled = false;
	this.boyfriendIdleTime = 0.0;
	this.keysPressed = [];
	this.songLength = 0;
	this.inCutscene = false;
	this.singAnimations = ["singLEFT","singDOWN","singUP","singRIGHT"];
	this.defaultCamZoom = 1.05;
	this.songMisses = 0;
	this.songHits = 0;
	this.songScore = 0;
	this.wiggleShit = new WiggleEffect();
	this.limoKillingState = 0;
	this.dialogueJson = null;
	this.dialogue = ["blah blah blah","coolswag"];
	this.cameraSpeed = 1;
	this.botplaySine = 0;
	this.practiceMode = false;
	this.cpuControlled = false;
	this.instakillOnMiss = false;
	this.healthLoss = 1;
	this.healthGain = 1;
	this.updateTime = true;
	this.startingSong = false;
	this.endingSong = false;
	this.generatedMusic = false;
	this.shits = 0;
	this.bads = 0;
	this.goods = 0;
	this.sicks = 0;
	this.songPercent = 0;
	this.combo = 0;
	this.health = 1;
	this.gfSpeed = 1;
	this.curSong = "";
	this.camZooming = false;
	this.eventNotes = [];
	this.unspawnNotes = [];
	this.songSpeed = 1;
	this.GF_Y = 130;
	this.GF_X = 400;
	this.DAD_Y = 100;
	this.DAD_X = 100;
	this.BF_Y = 100;
	this.BF_X = 770;
	this.gfMap = new haxe_ds_StringMap();
	this.dadMap = new haxe_ds_StringMap();
	this.boyfriendMap = new haxe_ds_StringMap();
	this.isCameraOnForcedPos = false;
	this.modchartTexts = new haxe_ds_StringMap();
	this.modchartSounds = new haxe_ds_StringMap();
	this.modchartTimers = new haxe_ds_StringMap();
	this.modchartSprites = new haxe_ds_StringMap();
	this.modchartTweens = new haxe_ds_StringMap();
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["PlayState"] = PlayState;
PlayState.__name__ = "PlayState";
PlayState.prevCamFollow = null;
PlayState.prevCamFollowPos = null;
PlayState.instance = null;
PlayState.cancelMusicFadeTween = function() {
	if(flixel_FlxG.sound.music.fadeTween != null) {
		flixel_FlxG.sound.music.fadeTween.cancel();
	}
	flixel_FlxG.sound.music.fadeTween = null;
};
PlayState.__super__ = MusicBeatState;
PlayState.prototype = $extend(MusicBeatState.prototype,{
	modchartTweens: null
	,modchartSprites: null
	,modchartTimers: null
	,modchartSounds: null
	,modchartTexts: null
	,isCameraOnForcedPos: null
	,boyfriendMap: null
	,dadMap: null
	,gfMap: null
	,BF_X: null
	,BF_Y: null
	,DAD_X: null
	,DAD_Y: null
	,GF_X: null
	,GF_Y: null
	,songSpeedTween: null
	,songSpeed: null
	,boyfriendGroup: null
	,dadGroup: null
	,gfGroup: null
	,vocals: null
	,dad: null
	,gf: null
	,boyfriend: null
	,notes: null
	,unspawnNotes: null
	,eventNotes: null
	,strumLine: null
	,camFollow: null
	,camFollowPos: null
	,strumLineNotes: null
	,opponentStrums: null
	,playerStrums: null
	,grpNoteSplashes: null
	,camZooming: null
	,curSong: null
	,gfSpeed: null
	,health: null
	,combo: null
	,healthBarBG: null
	,healthBar: null
	,songPercent: null
	,timeBarBG: null
	,timeBar: null
	,sicks: null
	,goods: null
	,bads: null
	,shits: null
	,generatedMusic: null
	,endingSong: null
	,startingSong: null
	,updateTime: null
	,healthGain: null
	,healthLoss: null
	,instakillOnMiss: null
	,cpuControlled: null
	,practiceMode: null
	,botplaySine: null
	,botplayTxt: null
	,iconP1: null
	,iconP2: null
	,camHUD: null
	,camGame: null
	,camControls: null
	,camOther: null
	,cameraSpeed: null
	,dialogue: null
	,dialogueJson: null
	,halloweenBG: null
	,halloweenWhite: null
	,phillyCityLights: null
	,phillyTrain: null
	,blammedLightsBlack: null
	,blammedLightsBlackTween: null
	,phillyCityLightsEvent: null
	,phillyCityLightsEventTween: null
	,trainSound: null
	,limoKillingState: null
	,limo: null
	,limoMetalPole: null
	,limoLight: null
	,limoCorpse: null
	,limoCorpseTwo: null
	,bgLimo: null
	,grpLimoParticles: null
	,grpLimoDancers: null
	,fastCar: null
	,heyTimer: null
	,bgGirls: null
	,wiggleShit: null
	,bgGhouls: null
	,songScore: null
	,songHits: null
	,songMisses: null
	,scoreTxt: null
	,timeTxt: null
	,scoreTxtTween: null
	,defaultCamZoom: null
	,singAnimations: null
	,inCutscene: null
	,songLength: null
	,mcontrols: null
	,keysPressed: null
	,boyfriendIdleTime: null
	,boyfriendIdled: null
	,luaArray: null
	,luaDebugGroup: null
	,introSoundsSuffix: null
	,debugKeysChart: null
	,debugKeysCharacter: null
	,keysArray: null
	,create: function() {
		var _gthis = this;
		PlayState.instance = this;
		this.debugKeysChart = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["debug_1"]);
		this.debugKeysCharacter = ClientPrefs.copyKey(ClientPrefs.keyBinds.h["debug_2"]);
		this.keysArray = [ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_left"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_down"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_up"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_right"])];
		var _g = 0;
		var _g1 = this.keysArray.length;
		while(_g < _g1) {
			var i = _g++;
			this.keysPressed.push(false);
		}
		if(flixel_FlxG.sound.music != null) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		this.healthGain = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"healthgain") ? ClientPrefs.gameplaySettings.h["healthgain"] : 1;
		this.healthLoss = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"healthloss") ? ClientPrefs.gameplaySettings.h["healthloss"] : 1;
		this.instakillOnMiss = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"instakill") && ClientPrefs.gameplaySettings.h["instakill"];
		this.practiceMode = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"practice") && ClientPrefs.gameplaySettings.h["practice"];
		this.cpuControlled = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"botplay") && ClientPrefs.gameplaySettings.h["botplay"];
		this.camGame = new flixel_FlxCamera();
		this.camHUD = new flixel_FlxCamera();
		this.camOther = new flixel_FlxCamera();
		this.camControls = new flixel_FlxCamera();
		this.camHUD.bgColor &= 16777215;
		this.camHUD.bgColor |= 0;
		this.camOther.bgColor &= 16777215;
		this.camOther.bgColor |= 0;
		this.camControls.bgColor &= 16777215;
		this.camControls.bgColor |= 0;
		flixel_FlxG.cameras.reset(this.camGame);
		flixel_FlxG.cameras.add(this.camHUD);
		flixel_FlxG.cameras.add(this.camControls);
		flixel_FlxG.cameras.add(this.camOther);
		this.grpNoteSplashes = new flixel_group_FlxTypedGroup();
		flixel_FlxCamera._defaultCameras = [this.camGame];
		CustomFadeTransition.nextCamera = this.camOther;
		this.persistentUpdate = true;
		this.persistentDraw = true;
		if(PlayState.SONG == null) {
			PlayState.SONG = Song.loadFromJson("tutorial");
		}
		Conductor.mapBPMChanges(PlayState.SONG);
		Conductor.changeBPM(PlayState.SONG.bpm);
		GameOverSubstate.resetVariables();
		var songName = StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-");
		PlayState.curStage = PlayState.SONG.stage;
		if(PlayState.SONG.stage == null || PlayState.SONG.stage.length < 1) {
			switch(songName) {
			case "cocoa":case "eggnog":
				PlayState.curStage = "mall";
				break;
			case "monster":case "south":case "spookeez":
				PlayState.curStage = "spooky";
				break;
			case "blammed":case "philly":case "philly-nice":case "pico":
				PlayState.curStage = "philly";
				break;
			case "high":case "milf":case "satin-panties":
				PlayState.curStage = "limo";
				break;
			case "roses":case "senpai":
				PlayState.curStage = "school";
				break;
			case "thorns":
				PlayState.curStage = "schoolEvil";
				break;
			case "winter-horrorland":
				PlayState.curStage = "mallEvil";
				break;
			default:
				PlayState.curStage = "stage";
			}
		}
		var stageData = StageData.getStageFile(PlayState.curStage);
		if(stageData == null) {
			stageData = { directory : "", defaultZoom : 0.9, isPixelStage : false, boyfriend : [770,100], girlfriend : [400,130], opponent : [100,100]};
		}
		this.defaultCamZoom = stageData.defaultZoom;
		PlayState.isPixelStage = stageData.isPixelStage;
		this.BF_X = stageData.boyfriend[0];
		this.BF_Y = stageData.boyfriend[1];
		this.GF_X = stageData.girlfriend[0];
		this.GF_Y = stageData.girlfriend[1];
		this.DAD_X = stageData.opponent[0];
		this.DAD_Y = stageData.opponent[1];
		this.boyfriendGroup = new flixel_group_FlxTypedSpriteGroup(this.BF_X,this.BF_Y);
		this.dadGroup = new flixel_group_FlxTypedSpriteGroup(this.DAD_X,this.DAD_Y);
		this.gfGroup = new flixel_group_FlxTypedSpriteGroup(this.GF_X,this.GF_Y);
		if(!ClientPrefs.lowQuality) {
			if(PlayState.curStage == "stageQM") {
				if(songName == "quiet" || songName == "quiet-retro") {
					var jake = new BGSprite("jake",-950,-570,1,1);
					this.add(jake);
				} else if(songName == "brothers-in-arms") {
					var bubble = new BGSprite("bubble",-950,-570,1,1);
					this.add(bubble);
				} else {
					var finn = new BGSprite("finn",-950,-570,1,1);
					this.add(finn);
				}
			}
		}
		if(PlayState.isPixelStage) {
			this.introSoundsSuffix = "-pixel";
		}
		this.add(this.gfGroup);
		if(PlayState.curStage == "limo") {
			this.add(this.limo);
		}
		this.add(this.dadGroup);
		this.add(this.boyfriendGroup);
		if(!ClientPrefs.lowQuality) {
			if(songName == "quiet") {
				PlayState_credit = new BGSprite("quiet",-200,550,0,0);
			} else if(songName == "quiet-retro") {
				PlayState_credit = new BGSprite("quietr",-200,550,0,0);
			} else if(songName == "my-brother") {
				PlayState_credit = new BGSprite("mybro",-200,550,0,0);
			} else {
				PlayState_credit = new BGSprite("brosinarms",-200,550,0,0);
			}
			PlayState_credit.setGraphicSize(PlayState_credit.get_width() * 1.3 | 0);
			PlayState_credit.updateHitbox();
			this.add(PlayState_credit);
		}
		if(PlayState.curStage == "spooky") {
			this.add(this.halloweenWhite);
		}
		if(PlayState.curStage == "philly" && !ClientPrefs.lowQuality) {
			this.phillyCityLightsEvent = new flixel_group_FlxTypedGroup();
			var light = new BGSprite("philly/win" + 0,-10,0,0.3,0.3);
			light.set_visible(false);
			light.setGraphicSize(light.get_width() * 0.85 | 0);
			light.updateHitbox();
			this.phillyCityLightsEvent.add(light);
			var light = new BGSprite("philly/win" + 1,-10,0,0.3,0.3);
			light.set_visible(false);
			light.setGraphicSize(light.get_width() * 0.85 | 0);
			light.updateHitbox();
			this.phillyCityLightsEvent.add(light);
			var light = new BGSprite("philly/win" + 2,-10,0,0.3,0.3);
			light.set_visible(false);
			light.setGraphicSize(light.get_width() * 0.85 | 0);
			light.updateHitbox();
			this.phillyCityLightsEvent.add(light);
			var light = new BGSprite("philly/win" + 3,-10,0,0.3,0.3);
			light.set_visible(false);
			light.setGraphicSize(light.get_width() * 0.85 | 0);
			light.updateHitbox();
			this.phillyCityLightsEvent.add(light);
			var light = new BGSprite("philly/win" + 4,-10,0,0.3,0.3);
			light.set_visible(false);
			light.setGraphicSize(light.get_width() * 0.85 | 0);
			light.updateHitbox();
			this.phillyCityLightsEvent.add(light);
		}
		if(!Object.prototype.hasOwnProperty.call(this.modchartSprites.h,"blammedLightsBlack")) {
			this.blammedLightsBlack = new ModchartSprite(flixel_FlxG.width * -0.5,flixel_FlxG.height * -0.5);
			this.blammedLightsBlack.makeGraphic(flixel_FlxG.width * 2 | 0,flixel_FlxG.height * 2 | 0,-16777216);
			var position = this.members.indexOf(this.gfGroup);
			if(this.members.indexOf(this.boyfriendGroup) < position) {
				position = this.members.indexOf(this.boyfriendGroup);
			} else if(this.members.indexOf(this.dadGroup) < position) {
				position = this.members.indexOf(this.dadGroup);
			}
			this.insert(position,this.blammedLightsBlack);
			this.blammedLightsBlack.wasAdded = true;
			this.modchartSprites.h["blammedLightsBlack"] = this.blammedLightsBlack;
		}
		if(PlayState.curStage == "philly" && !ClientPrefs.lowQuality) {
			this.insert(this.members.indexOf(this.blammedLightsBlack) + 1,this.phillyCityLightsEvent);
		}
		this.blammedLightsBlack = this.modchartSprites.h["blammedLightsBlack"];
		this.blammedLightsBlack.set_alpha(0.0);
		var gfVersion = PlayState.SONG.gfVersion;
		if(gfVersion == null || gfVersion.length < 1) {
			switch(PlayState.curStage) {
			case "limo":
				gfVersion = "gf-car";
				break;
			case "mall":case "mallEvil":
				gfVersion = "gf-christmas";
				break;
			case "school":case "schoolEvil":
				gfVersion = "gf-pixel";
				break;
			default:
				gfVersion = "gf";
			}
			PlayState.SONG.gfVersion = gfVersion;
		}
		this.gf = new Character(0,0,gfVersion);
		this.startCharacterPos(this.gf);
		this.gf.scrollFactor.set(0.95,0.95);
		this.gfGroup.add(this.gf);
		this.startCharacterLua(this.gf.curCharacter);
		this.dad = new Character(0,0,PlayState.SONG.player2);
		this.startCharacterPos(this.dad,true);
		this.dadGroup.add(this.dad);
		this.startCharacterLua(this.dad.curCharacter);
		this.boyfriend = new Boyfriend(0,0,PlayState.SONG.player1);
		this.startCharacterPos(this.boyfriend);
		this.boyfriendGroup.add(this.boyfriend);
		this.startCharacterLua(this.boyfriend.curCharacter);
		var camPos = new flixel_math_FlxPoint(this.gf.getGraphicMidpoint().x,this.gf.getGraphicMidpoint().y);
		camPos.set_x(camPos.x + this.gf.cameraPosition[0]);
		camPos.set_y(camPos.y + this.gf.cameraPosition[1]);
		if(StringTools.startsWith(this.dad.curCharacter,"gf")) {
			this.dad.setPosition(this.GF_X,this.GF_Y);
			this.gf.set_visible(false);
		}
		switch(PlayState.curStage) {
		case "limo":
			this.resetFastCar();
			this.insert(this.members.indexOf(this.gfGroup) - 1,this.fastCar);
			break;
		case "schoolEvil":
			var evilTrail = new flixel_addons_effects_FlxTrail(this.dad,null,4,24,0.3,0.069);
			this.insert(this.members.indexOf(this.dadGroup) - 1,evilTrail);
			break;
		}
		var file = Paths.getPath("data/" + (songName + "/dialogue") + ".json","TEXT",null);
		if(openfl_utils_Assets.exists(file)) {
			this.dialogueJson = DialogueBoxPsych.parseDialogue(Main.getDataPath() + file);
		}
		var file = Paths.getPath("data/" + (songName + "/" + songName + "Dialogue") + ".txt","TEXT",null);
		if(openfl_utils_Assets.exists(file)) {
			this.dialogue = CoolUtil.coolTextFile(Main.getDataPath() + file);
		}
		var doof = new DialogueBox(false,this.dialogue);
		doof.scrollFactor.set();
		doof.finishThing = $bind(this,this.startCountdown);
		doof.nextDialogueThing = $bind(this,this.startNextDialogue);
		doof.skipDialogueThing = $bind(this,this.skipDialogue);
		Conductor.songPosition = -5000;
		this.strumLine = new flixel_FlxSprite(ClientPrefs.middleScroll ? PlayState.STRUM_X_MIDDLESCROLL : PlayState.STRUM_X,50).makeGraphic(flixel_FlxG.width,10);
		if(ClientPrefs.downScroll) {
			this.strumLine.set_y(flixel_FlxG.height - 150);
		}
		this.strumLine.scrollFactor.set();
		var showTime = ClientPrefs.timeBarType != "Disabled";
		this.timeTxt = new flixel_text_FlxText(PlayState.STRUM_X + flixel_FlxG.width / 2 - 248,19,400,"",32);
		this.timeTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.timeTxt.scrollFactor.set();
		this.timeTxt.set_alpha(0);
		this.timeTxt.set_borderSize(2);
		this.timeTxt.set_visible(showTime);
		if(ClientPrefs.downScroll) {
			this.timeTxt.set_y(flixel_FlxG.height - 44);
		}
		if(ClientPrefs.timeBarType == "Song Name") {
			this.timeTxt.set_text(PlayState.SONG.song);
		}
		this.updateTime = showTime;
		this.timeBarBG = new AttachedSprite("timeBar");
		this.timeBarBG.set_x(this.timeTxt.x);
		this.timeBarBG.set_y(this.timeTxt.y + this.timeTxt.get_height() / 4);
		this.timeBarBG.scrollFactor.set();
		this.timeBarBG.set_alpha(0);
		this.timeBarBG.set_visible(showTime);
		this.timeBarBG.set_color(-16777216);
		this.timeBarBG.xAdd = -4;
		this.timeBarBG.yAdd = -4;
		this.add(this.timeBarBG);
		this.timeBar = new flixel_ui_FlxBar(this.timeBarBG.x + 4,this.timeBarBG.y + 4,flixel_ui_FlxBarFillDirection.LEFT_TO_RIGHT,this.timeBarBG.get_width() - 8 | 0,this.timeBarBG.get_height() - 8 | 0,this,"songPercent",0,1);
		this.timeBar.scrollFactor.set();
		this.timeBar.createFilledBar(-16777216,-1);
		this.timeBar.set_numDivisions(800);
		this.timeBar.set_alpha(0);
		this.timeBar.set_visible(showTime);
		this.add(this.timeBar);
		this.add(this.timeTxt);
		this.timeBarBG.sprTracker = this.timeBar;
		this.strumLineNotes = new flixel_group_FlxTypedGroup();
		this.add(this.strumLineNotes);
		this.add(this.grpNoteSplashes);
		if(ClientPrefs.timeBarType == "Song Name") {
			this.timeTxt.set_size(24);
			var fh = this.timeTxt;
			fh.set_y(fh.y + 3);
		}
		var splash = new NoteSplash(100,100,0);
		this.grpNoteSplashes.add(splash);
		splash.set_alpha(0.0);
		this.opponentStrums = new flixel_group_FlxTypedGroup();
		this.playerStrums = new flixel_group_FlxTypedGroup();
		this.generateSong(PlayState.SONG.song);
		this.noteTypeMap.h = Object.create(null);
		this.noteTypeMap = null;
		this.eventPushedMap.h = Object.create(null);
		this.eventPushedMap = null;
		this.camFollow = new flixel_math_FlxPoint();
		this.camFollowPos = new flixel_FlxObject(0,0,1,1);
		this.snapCamFollowToPos(camPos.x,camPos.y);
		if(PlayState.prevCamFollow != null) {
			this.camFollow = PlayState.prevCamFollow;
			PlayState.prevCamFollow = null;
		}
		if(PlayState.prevCamFollowPos != null) {
			this.camFollowPos = PlayState.prevCamFollowPos;
			PlayState.prevCamFollowPos = null;
		}
		this.add(this.camFollowPos);
		flixel_FlxG.camera.follow(this.camFollowPos,flixel_FlxCameraFollowStyle.LOCKON,1);
		flixel_FlxG.camera.set_zoom(this.defaultCamZoom);
		var _this = flixel_FlxG.camera;
		var point = this.camFollow;
		_this.scroll.set(point.x - _this.width * 0.5,point.y - _this.height * 0.5);
		if(point._weak) {
			point.put();
		}
		var _this = flixel_FlxG.worldBounds;
		var X = 0;
		var Y = 0;
		var Width = flixel_FlxG.width;
		var Height = flixel_FlxG.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_FlxG.fixedTimestep = false;
		this.moveCameraSection(0);
		this.healthBarBG = new AttachedSprite("healthBar");
		this.healthBarBG.set_y(flixel_FlxG.height * 0.89);
		var _this = this.healthBarBG;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.healthBarBG.scrollFactor.set();
		this.healthBarBG.set_visible(!ClientPrefs.hideHud);
		this.healthBarBG.xAdd = -4;
		this.healthBarBG.yAdd = -4;
		this.add(this.healthBarBG);
		if(ClientPrefs.downScroll) {
			this.healthBarBG.set_y(0.11 * flixel_FlxG.height);
		}
		this.healthBar = new flixel_ui_FlxBar(this.healthBarBG.x + 4,this.healthBarBG.y + 4,flixel_ui_FlxBarFillDirection.RIGHT_TO_LEFT,this.healthBarBG.get_width() - 8 | 0,this.healthBarBG.get_height() - 8 | 0,this,"health",0,2);
		this.healthBar.scrollFactor.set();
		this.healthBar.set_visible(!ClientPrefs.hideHud);
		this.healthBar.set_alpha(ClientPrefs.healthBarAlpha);
		this.add(this.healthBar);
		this.healthBarBG.sprTracker = this.healthBar;
		this.iconP1 = new HealthIcon(this.boyfriend.healthIcon,true);
		this.iconP1.set_y(this.healthBar.y - 75);
		this.iconP1.set_visible(!ClientPrefs.hideHud);
		this.iconP1.set_alpha(ClientPrefs.healthBarAlpha);
		this.add(this.iconP1);
		this.iconP2 = new HealthIcon(this.dad.healthIcon,false);
		this.iconP2.set_y(this.healthBar.y - 75);
		this.iconP2.set_visible(!ClientPrefs.hideHud);
		this.iconP2.set_alpha(ClientPrefs.healthBarAlpha);
		this.add(this.iconP2);
		this.reloadHealthBarColors();
		this.scoreTxt = new flixel_text_FlxText(0,this.healthBarBG.y + 36,flixel_FlxG.width,"",20);
		this.scoreTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),20,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.scoreTxt.scrollFactor.set();
		this.scoreTxt.set_borderSize(1.25);
		this.scoreTxt.set_visible(!ClientPrefs.hideHud);
		this.add(this.scoreTxt);
		this.botplayTxt = new flixel_text_FlxText(400,this.timeBarBG.y + 55,flixel_FlxG.width - 800,"BOTPLAY",32);
		this.botplayTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.botplayTxt.scrollFactor.set();
		this.botplayTxt.set_borderSize(1.25);
		this.botplayTxt.set_visible(this.cpuControlled);
		this.add(this.botplayTxt);
		if(ClientPrefs.downScroll) {
			this.botplayTxt.set_y(this.timeBarBG.y - 78);
		}
		this.strumLineNotes.set_cameras([this.camHUD]);
		this.grpNoteSplashes.set_cameras([this.camHUD]);
		this.notes.set_cameras([this.camHUD]);
		this.healthBar.set_cameras([this.camHUD]);
		this.healthBarBG.set_cameras([this.camHUD]);
		this.iconP1.set_cameras([this.camHUD]);
		this.iconP2.set_cameras([this.camHUD]);
		this.scoreTxt.set_cameras([this.camHUD]);
		this.botplayTxt.set_cameras([this.camHUD]);
		this.timeBar.set_cameras([this.camHUD]);
		this.timeBarBG.set_cameras([this.camHUD]);
		this.timeTxt.set_cameras([this.camHUD]);
		doof.set_cameras([this.camHUD]);
		this.mcontrols = new ui_Mobilecontrols();
		switch(this.mcontrols.mode._hx_index) {
		case 0:case 1:case 3:
			PlayerSettings.player1.controls.setVirtualPadNOTES(this.mcontrols._virtualPad,ui_FlxDPadMode.FULL,ui_FlxActionMode.NONE);
			break;
		case 4:
			PlayerSettings.player1.controls.setHitBoxNOTES(this.mcontrols._hitbox);
			break;
		default:
		}
		this.trackedinputsNOTES = PlayerSettings.player1.controls.trackedinputsNOTES;
		PlayerSettings.player1.controls.trackedinputsNOTES = [];
		this.mcontrols.set_cameras([this.camControls]);
		this.mcontrols.set_visible(false);
		this.addVirtualPad(ui_FlxDPadMode.NONE,ui_FlxActionMode.B2);
		var camcontrol = new flixel_FlxCamera();
		flixel_FlxG.cameras.add(camcontrol);
		camcontrol.bgColor &= 16777215;
		camcontrol.bgColor |= 0;
		this._virtualpad.set_cameras([camcontrol]);
		this.add(this.mcontrols);
		this.startingSong = true;
		var daSong = StringTools.replace(this.curSong.toLowerCase()," ","-");
		if(PlayState.isStoryMode && !PlayState.seenCutscene) {
			switch(daSong) {
			case "monster":
				var whiteScreen = new flixel_FlxSprite(0,0).makeGraphic(flixel_FlxG.width * 2 | 0,flixel_FlxG.height * 2 | 0,-1);
				this.add(whiteScreen);
				whiteScreen.scrollFactor.set();
				whiteScreen.set_blend(0);
				this.camHUD.set_visible(false);
				this.snapCamFollowToPos(this.dad.getMidpoint().x + 150,this.dad.getMidpoint().y - 100);
				this.inCutscene = true;
				flixel_tweens_FlxTween.tween(whiteScreen,{ alpha : 0},1,{ startDelay : 0.1, ease : flixel_tweens_FlxEase.linear, onComplete : function(twn) {
					_gthis.camHUD.set_visible(true);
					_gthis.remove(whiteScreen);
					_gthis.startCountdown();
				}});
				flixel_FlxG.sound.play(Paths.sound("thunder_" + flixel_FlxG.random.int(1,2),null));
				this.gf.playAnim("scared",true);
				this.boyfriend.playAnim("scared",true);
				break;
			case "roses":case "senpai":case "thorns":
				if(daSong == "roses") {
					flixel_FlxG.sound.play(Paths.sound("ANGRY"));
				}
				this.schoolIntro(doof);
				break;
			case "winter-horrorland":
				var blackScreen = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width * 2 | 0,flixel_FlxG.height * 2 | 0,-16777216);
				this.add(blackScreen);
				blackScreen.scrollFactor.set();
				this.camHUD.set_visible(false);
				this.inCutscene = true;
				flixel_tweens_FlxTween.tween(blackScreen,{ alpha : 0},0.7,{ ease : flixel_tweens_FlxEase.linear, onComplete : function(twn) {
					_gthis.remove(blackScreen);
				}});
				flixel_FlxG.sound.play(Paths.sound("Lights_Turn_On"));
				this.snapCamFollowToPos(400,-2050);
				var _this = flixel_FlxG.camera;
				var point = this.camFollow;
				_this.scroll.set(point.x - _this.width * 0.5,point.y - _this.height * 0.5);
				if(point._weak) {
					point.put();
				}
				flixel_FlxG.camera.set_zoom(1.5);
				new flixel_util_FlxTimer().start(0.8,function(tmr) {
					_gthis.camHUD.set_visible(true);
					_gthis.remove(blackScreen);
					flixel_tweens_FlxTween.tween(flixel_FlxG.camera,{ zoom : _gthis.defaultCamZoom},2.5,{ ease : flixel_tweens_FlxEase.quadInOut, onComplete : function(twn) {
						_gthis.startCountdown();
					}});
				});
				break;
			default:
				this.startCountdown();
			}
			PlayState.seenCutscene = true;
		} else {
			this.startCountdown();
		}
		this.RecalculateRating();
		CoolUtil.precacheSound("missnote1");
		CoolUtil.precacheSound("missnote2");
		CoolUtil.precacheSound("missnote3");
		if(!ClientPrefs.controllerMode) {
			openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.onKeyPress));
			openfl_Lib.get_current().stage.addEventListener("keyUp",$bind(this,this.onKeyRelease));
		}
		Conductor.safeZoneOffset = ClientPrefs.safeFrames / 60 * 1000;
		this.callOnLuas("onCreatePost",[]);
		MusicBeatState.prototype.create.call(this);
	}
	,set_songSpeed: function(value) {
		if(this.generatedMusic) {
			var ratio = value / this.songSpeed;
			var note = new flixel_group_FlxTypedGroupIterator(this.notes.members,null);
			while(note.hasNext()) {
				var note1 = note.next();
				if(note1.isSustainNote && !StringTools.endsWith(note1.animation._curAnim.name,"end")) {
					var fh = note1.scale;
					fh.set_y(fh.y * ratio);
					note1.updateHitbox();
				}
			}
			var _g = 0;
			var _g1 = this.unspawnNotes;
			while(_g < _g1.length) {
				var note = _g1[_g];
				++_g;
				if(note.isSustainNote && !StringTools.endsWith(note.animation._curAnim.name,"end")) {
					var fh = note.scale;
					fh.set_y(fh.y * ratio);
					note.updateHitbox();
				}
			}
		}
		this.songSpeed = value;
		return value;
	}
	,addTextToDebug: function(text) {
	}
	,reloadHealthBarColors: function() {
		var tmp = this.healthBar;
		var Red = this.dad.healthColorArray[0];
		var Green = this.dad.healthColorArray[1];
		var Blue = this.dad.healthColorArray[2];
		var color = flixel_util_FlxColor._new();
		var Alpha = 255;
		if(Alpha == null) {
			Alpha = 255;
		}
		color &= -16711681;
		color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
		color &= -65281;
		color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
		color &= -256;
		color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
		color &= 16777215;
		color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
		var Red = this.boyfriend.healthColorArray[0];
		var Green = this.boyfriend.healthColorArray[1];
		var Blue = this.boyfriend.healthColorArray[2];
		var color1 = flixel_util_FlxColor._new();
		var Alpha = 255;
		if(Alpha == null) {
			Alpha = 255;
		}
		color1 &= -16711681;
		color1 |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
		color1 &= -65281;
		color1 |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
		color1 &= -256;
		color1 |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
		color1 &= 16777215;
		color1 |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
		tmp.createFilledBar(color,color1);
		this.healthBar.updateBar();
	}
	,addCharacterToList: function(newCharacter,type) {
		switch(type) {
		case 0:
			if(!Object.prototype.hasOwnProperty.call(this.boyfriendMap.h,newCharacter)) {
				var newBoyfriend = new Boyfriend(0,0,newCharacter);
				this.boyfriendMap.h[newCharacter] = newBoyfriend;
				this.boyfriendGroup.add(newBoyfriend);
				this.startCharacterPos(newBoyfriend);
				newBoyfriend.set_alpha(0.00001);
				this.startCharacterLua(newBoyfriend.curCharacter);
			}
			break;
		case 1:
			if(!Object.prototype.hasOwnProperty.call(this.dadMap.h,newCharacter)) {
				var newDad = new Character(0,0,newCharacter);
				this.dadMap.h[newCharacter] = newDad;
				this.dadGroup.add(newDad);
				this.startCharacterPos(newDad,true);
				newDad.set_alpha(0.00001);
				this.startCharacterLua(newDad.curCharacter);
			}
			break;
		case 2:
			if(!Object.prototype.hasOwnProperty.call(this.gfMap.h,newCharacter)) {
				var newGf = new Character(0,0,newCharacter);
				newGf.scrollFactor.set(0.95,0.95);
				this.gfMap.h[newCharacter] = newGf;
				this.gfGroup.add(newGf);
				this.startCharacterPos(newGf);
				newGf.set_alpha(0.00001);
				this.startCharacterLua(newGf.curCharacter);
			}
			break;
		}
	}
	,startCharacterLua: function(name) {
	}
	,startCharacterPos: function(char,gfCheck) {
		if(gfCheck == null) {
			gfCheck = false;
		}
		if(gfCheck && StringTools.startsWith(char.curCharacter,"gf")) {
			char.setPosition(this.GF_X,this.GF_Y);
			char.scrollFactor.set(0.95,0.95);
		}
		char.set_x(char.x + char.positionArray[0]);
		char.set_y(char.y + char.positionArray[1]);
	}
	,startVideo: function(name) {
		var _gthis = this;
		var foundFile = false;
		var fileName = "";
		if(!foundFile) {
			fileName = Paths.video(name);
			if(openfl_utils_Assets.exists(fileName)) {
				foundFile = true;
			}
		}
		if(foundFile) {
			this.inCutscene = true;
			var bg = new flixel_FlxSprite(-flixel_FlxG.width,-flixel_FlxG.height).makeGraphic(flixel_FlxG.width * 3,flixel_FlxG.height * 3,-16777216);
			bg.scrollFactor.set();
			bg.set_cameras([this.camHUD]);
			this.add(bg);
			new FlxVideo(fileName).finishCallback = function() {
				_gthis.remove(bg);
				if(_gthis.endingSong) {
					_gthis.endSong();
				} else {
					_gthis.startCountdown();
				}
			};
			return;
		} else {
			lime_app_Application.current.__window.alert(fileName,"Couldnt find video file: ");
			if(this.endingSong) {
				this.endSong();
			} else {
				this.startCountdown();
			}
		}
		if(this.endingSong) {
			this.endSong();
		} else {
			this.startCountdown();
		}
	}
	,dialogueCount: null
	,psychDialogue: null
	,startDialogue: function(dialogueFile,song) {
		var _gthis = this;
		if(this.psychDialogue != null) {
			return;
		}
		if(dialogueFile.dialogue.length > 0) {
			this.inCutscene = true;
			CoolUtil.precacheSound("dialogue");
			CoolUtil.precacheSound("dialogueClose");
			this.psychDialogue = new DialogueBoxPsych(dialogueFile,song);
			this.psychDialogue.scrollFactor.set();
			if(this.endingSong) {
				this.psychDialogue.finishThing = function() {
					_gthis.psychDialogue = null;
					_gthis.endSong();
				};
			} else {
				this.psychDialogue.finishThing = function() {
					_gthis.psychDialogue = null;
					_gthis.startCountdown();
				};
			}
			this.psychDialogue.nextDialogueThing = $bind(this,this.startNextDialogue);
			this.psychDialogue.skipDialogueThing = $bind(this,this.skipDialogue);
			this.psychDialogue.set_cameras([this.camHUD]);
			this.add(this.psychDialogue);
		} else if(this.endingSong) {
			this.endSong();
		} else {
			this.startCountdown();
		}
	}
	,schoolIntro: function(dialogueBox) {
		var _gthis = this;
		this.inCutscene = true;
		var black = new flixel_FlxSprite(-100,-100).makeGraphic(flixel_FlxG.width * 2,flixel_FlxG.height * 2,-16777216);
		black.scrollFactor.set();
		this.add(black);
		var red = new flixel_FlxSprite(-100,-100).makeGraphic(flixel_FlxG.width * 2,flixel_FlxG.height * 2,-58575);
		red.scrollFactor.set();
		var senpaiEvil = new flixel_FlxSprite();
		var library = null;
		senpaiEvil.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/senpaiCrazy" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/senpaiCrazy" + ".xml","TEXT",library)));
		senpaiEvil.animation.addByPrefix("idle","Senpai Pre Explosion",24,false);
		senpaiEvil.setGraphicSize(senpaiEvil.get_width() * 6 | 0);
		senpaiEvil.scrollFactor.set();
		senpaiEvil.updateHitbox();
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			senpaiEvil.set_x((flixel_FlxG.width - senpaiEvil.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			senpaiEvil.set_y((flixel_FlxG.height - senpaiEvil.get_height()) / 2);
		}
		senpaiEvil.set_x(senpaiEvil.x + 300);
		var songName = StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-");
		if(songName == "roses" || songName == "thorns") {
			this.remove(black);
			if(songName == "thorns") {
				this.add(red);
				this.camHUD.set_visible(false);
			}
		}
		new flixel_util_FlxTimer().start(0.3,function(tmr) {
			black.set_alpha(black.alpha - 0.15);
			if(black.alpha > 0) {
				tmr.reset(0.3);
			} else {
				if(dialogueBox != null) {
					if(StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") == "thorns") {
						_gthis.add(senpaiEvil);
						senpaiEvil.set_alpha(0);
						new flixel_util_FlxTimer().start(0.3,function(swagTimer) {
							senpaiEvil.set_alpha(senpaiEvil.alpha + 0.15);
							if(senpaiEvil.alpha < 1) {
								swagTimer.reset();
							} else {
								senpaiEvil.animation.play("idle");
								flixel_FlxG.sound.play(Paths.sound("Senpai_Dies"),1,false,null,true,function() {
									_gthis.remove(senpaiEvil);
									_gthis.remove(red);
									flixel_FlxG.camera.fade(-1,0.01,true,function() {
										_gthis.add(dialogueBox);
										_gthis.camHUD.set_visible(true);
									},true);
								});
								new flixel_util_FlxTimer().start(3.2,function(deadTime) {
									flixel_FlxG.camera.fade(-1,1.6,false);
								});
							}
						});
					} else {
						_gthis.add(dialogueBox);
					}
				} else {
					_gthis.startCountdown();
				}
				_gthis.remove(black);
			}
		});
	}
	,startTimer: null
	,finishTimer: null
	,countdownReady: null
	,countdownSet: null
	,countdownGo: null
	,startCountdown: function() {
		var _gthis = this;
		if(this.startedCountdown) {
			this.callOnLuas("onStartCountdown",[]);
			return;
		}
		this.inCutscene = false;
		var ret = this.callOnLuas("onStartCountdown",[]);
		if(ret != FunkinLua.Function_Stop) {
			this.mcontrols.set_visible(true);
			this.generateStaticArrows(0);
			this.generateStaticArrows(1);
			var _g = 0;
			var _g1 = this.playerStrums.length;
			while(_g < _g1) {
				var i = _g++;
				this.setOnLuas("defaultPlayerStrumX" + i,this.playerStrums.members[i].x);
				this.setOnLuas("defaultPlayerStrumY" + i,this.playerStrums.members[i].y);
			}
			var _g = 0;
			var _g1 = this.opponentStrums.length;
			while(_g < _g1) {
				var i = _g++;
				this.setOnLuas("defaultOpponentStrumX" + i,this.opponentStrums.members[i].x);
				this.setOnLuas("defaultOpponentStrumY" + i,this.opponentStrums.members[i].y);
			}
			this.startedCountdown = true;
			Conductor.songPosition = 0;
			Conductor.songPosition -= Conductor.crochet * 5;
			this.setOnLuas("startedCountdown",true);
			this.callOnLuas("onCountdownStarted",[]);
			var swagCounter = 0;
			this.startTimer = new flixel_util_FlxTimer().start(Conductor.crochet / 1000,function(tmr) {
				if((tmr.loops - tmr._loopsCounter) % _gthis.gfSpeed == 0 && !_gthis.gf.stunned && _gthis.gf.animation._curAnim.name != null && !StringTools.startsWith(_gthis.gf.animation._curAnim.name,"sing")) {
					_gthis.gf.dance();
				}
				if((tmr.loops - tmr._loopsCounter) % 2 == 0) {
					if(_gthis.boyfriend.animation._curAnim != null && !StringTools.startsWith(_gthis.boyfriend.animation._curAnim.name,"sing")) {
						_gthis.boyfriend.dance();
					}
					if(_gthis.dad.animation._curAnim != null && !StringTools.startsWith(_gthis.dad.animation._curAnim.name,"sing") && !_gthis.dad.stunned) {
						_gthis.dad.dance();
					}
				} else if(_gthis.dad.danceIdle && _gthis.dad.animation._curAnim != null && !_gthis.dad.stunned && !StringTools.startsWith(_gthis.dad.curCharacter,"gf") && !StringTools.startsWith(_gthis.dad.animation._curAnim.name,"sing")) {
					_gthis.dad.dance();
				}
				var introAssets_h = Object.create(null);
				introAssets_h["default"] = ["ready","set","go"];
				introAssets_h["pixel"] = ["pixelUI/ready-pixel","pixelUI/set-pixel","pixelUI/date-pixel"];
				var introAlts = introAssets_h["default"];
				var antialias = ClientPrefs.globalAntialiasing;
				if(PlayState.isPixelStage) {
					introAlts = introAssets_h["pixel"];
					antialias = false;
				}
				switch(swagCounter) {
				case 0:
					flixel_FlxG.sound.play(Paths.sound("intro3" + _gthis.introSoundsSuffix),0.6);
					break;
				case 1:
					var tmp = new flixel_FlxSprite();
					var tmp1 = Paths.getPath("images/" + introAlts[0] + ".png","IMAGE",null);
					_gthis.countdownReady = tmp.loadGraphic(tmp1);
					_gthis.countdownReady.scrollFactor.set();
					_gthis.countdownReady.updateHitbox();
					if(PlayState.isPixelStage) {
						_gthis.countdownReady.setGraphicSize(_gthis.countdownReady.get_width() * PlayState.daPixelZoom | 0);
					}
					var _this = _gthis.countdownReady;
					var axes = flixel_util_FlxAxes.XY;
					var tmp;
					switch(axes._hx_index) {
					case 0:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
					}
					var tmp;
					switch(axes._hx_index) {
					case 1:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
					}
					_gthis.countdownReady.set_antialiasing(antialias);
					_gthis.add(_gthis.countdownReady);
					flixel_tweens_FlxTween.tween(_gthis.countdownReady,{ alpha : 0},Conductor.crochet / 1000,{ ease : flixel_tweens_FlxEase.cubeInOut, onComplete : function(twn) {
						_gthis.remove(_gthis.countdownReady);
						_gthis.countdownReady.destroy();
					}});
					flixel_FlxG.sound.play(Paths.sound("intro2" + _gthis.introSoundsSuffix),0.6);
					break;
				case 2:
					var tmp = new flixel_FlxSprite();
					var tmp1 = Paths.getPath("images/" + introAlts[1] + ".png","IMAGE",null);
					_gthis.countdownSet = tmp.loadGraphic(tmp1);
					_gthis.countdownSet.scrollFactor.set();
					if(PlayState.isPixelStage) {
						_gthis.countdownSet.setGraphicSize(_gthis.countdownSet.get_width() * PlayState.daPixelZoom | 0);
					}
					var _this = _gthis.countdownSet;
					var axes = flixel_util_FlxAxes.XY;
					var tmp;
					switch(axes._hx_index) {
					case 0:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
					}
					var tmp;
					switch(axes._hx_index) {
					case 1:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
					}
					_gthis.countdownSet.set_antialiasing(antialias);
					_gthis.add(_gthis.countdownSet);
					flixel_tweens_FlxTween.tween(_gthis.countdownSet,{ alpha : 0},Conductor.crochet / 1000,{ ease : flixel_tweens_FlxEase.cubeInOut, onComplete : function(twn) {
						_gthis.remove(_gthis.countdownSet);
						_gthis.countdownSet.destroy();
					}});
					flixel_FlxG.sound.play(Paths.sound("intro1" + _gthis.introSoundsSuffix),0.6);
					break;
				case 3:
					var tmp = new flixel_FlxSprite();
					var tmp1 = Paths.getPath("images/" + introAlts[2] + ".png","IMAGE",null);
					_gthis.countdownGo = tmp.loadGraphic(tmp1);
					_gthis.countdownGo.scrollFactor.set();
					if(PlayState.isPixelStage) {
						_gthis.countdownGo.setGraphicSize(_gthis.countdownGo.get_width() * PlayState.daPixelZoom | 0);
					}
					_gthis.countdownGo.updateHitbox();
					var _this = _gthis.countdownGo;
					var axes = flixel_util_FlxAxes.XY;
					var tmp;
					switch(axes._hx_index) {
					case 0:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
					}
					var tmp;
					switch(axes._hx_index) {
					case 1:case 2:
						tmp = true;
						break;
					default:
						tmp = false;
					}
					if(tmp) {
						_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
					}
					_gthis.countdownGo.set_antialiasing(antialias);
					_gthis.add(_gthis.countdownGo);
					flixel_tweens_FlxTween.tween(_gthis.countdownGo,{ alpha : 0},Conductor.crochet / 1000,{ ease : flixel_tweens_FlxEase.cubeInOut, onComplete : function(twn) {
						_gthis.remove(_gthis.countdownGo);
						_gthis.countdownGo.destroy();
					}});
					flixel_FlxG.sound.play(Paths.sound("introGo" + _gthis.introSoundsSuffix),0.6);
					break;
				case 4:
					break;
				}
				_gthis.notes.forEachAlive(function(note) {
					note.copyAlpha = false;
					note.set_alpha(note.multAlpha);
					if(ClientPrefs.middleScroll && !note.mustPress) {
						note.set_alpha(note.alpha * 0.5);
					}
				});
				_gthis.callOnLuas("onCountdownTick",[swagCounter]);
				swagCounter += 1;
			},5);
		}
	}
	,startNextDialogue: function() {
		this.dialogueCount++;
		this.callOnLuas("onNextDialogue",[this.dialogueCount]);
	}
	,skipDialogue: function() {
		this.callOnLuas("onSkipDialogue",[this.dialogueCount]);
	}
	,previousFrameTime: null
	,lastReportedPlayheadPosition: null
	,songTime: null
	,startSong: function() {
		this.startingSong = false;
		this.previousFrameTime = flixel_FlxG.game.ticks;
		this.lastReportedPlayheadPosition = 0;
		flixel_FlxG.sound.playMusic("songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Inst." + "mp3",1,false);
		flixel_FlxG.sound.music.onComplete = $bind(this,this.finishSong);
		this.vocals.play();
		if(this.paused) {
			flixel_FlxG.sound.music.pause();
			this.vocals.pause();
		}
		this.songLength = flixel_FlxG.sound.music._length;
		flixel_tweens_FlxTween.tween(this.timeBar,{ alpha : 1},0.5,{ ease : flixel_tweens_FlxEase.circOut});
		flixel_tweens_FlxTween.tween(this.timeTxt,{ alpha : 1},0.5,{ ease : flixel_tweens_FlxEase.circOut});
		this.setOnLuas("songLength",this.songLength);
		this.callOnLuas("onSongStart",[]);
	}
	,debugNum: null
	,noteTypeMap: null
	,eventPushedMap: null
	,generateSong: function(dataPath) {
		this.set_songSpeed(PlayState.SONG.speed * (Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"scrollspeed") ? ClientPrefs.gameplaySettings.h["scrollspeed"] : 1));
		var songData = PlayState.SONG;
		Conductor.changeBPM(songData.bpm);
		this.curSong = songData.song;
		if(PlayState.SONG.needsVoices) {
			this.vocals = new flixel_system_FlxSound().loadEmbedded("songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Voices." + "mp3");
		} else {
			this.vocals = new flixel_system_FlxSound();
		}
		flixel_FlxG.sound.list.add(this.vocals);
		flixel_FlxG.sound.list.add(new flixel_system_FlxSound().loadEmbedded("songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Inst." + "mp3"));
		this.notes = new flixel_group_FlxTypedGroup();
		this.add(this.notes);
		var noteData = songData.notes;
		var playerCounter = 0;
		var daBeats = 0;
		var songName = StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-");
		var file = Main.getDataPath() + Paths.getPath("data/" + (songName + "/events") + ".json","TEXT",null);
		if(openfl_utils_Assets.exists(file)) {
			var eventsData = Song.loadFromJson("events",songName).events;
			var _g = 0;
			while(_g < eventsData.length) {
				var event = eventsData[_g];
				++_g;
				var _g1 = 0;
				var _g2 = event[1].length;
				while(_g1 < _g2) {
					var i = _g1++;
					var newEventNote = [event[0],event[1][i][0],event[1][i][1],event[1][i][2]];
					var subEvent = [newEventNote[0] + ClientPrefs.noteOffset - this.eventNoteEarlyTrigger(newEventNote),newEventNote[1],newEventNote[2],newEventNote[3]];
					this.eventNotes.push(subEvent);
					this.eventPushed(subEvent);
				}
			}
		}
		var _g = 0;
		while(_g < noteData.length) {
			var section = noteData[_g];
			++_g;
			var _g1 = 0;
			var _g2 = section.sectionNotes;
			while(_g1 < _g2.length) {
				var songNotes = _g2[_g1];
				++_g1;
				var daStrumTime = songNotes[0];
				var daNoteData = songNotes[1] % 4 | 0;
				var gottaHitNote = section.mustHitSection;
				if(songNotes[1] > 3) {
					gottaHitNote = !section.mustHitSection;
				}
				var oldNote;
				if(this.unspawnNotes.length > 0) {
					oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
				} else {
					oldNote = null;
				}
				var swagNote = new Note(daStrumTime,daNoteData,oldNote);
				swagNote.mustPress = gottaHitNote;
				swagNote.sustainLength = songNotes[2];
				swagNote.gfNote = section.gfSection && songNotes[1] < 4;
				swagNote.set_noteType(songNotes[3]);
				if(typeof(songNotes[3]) != "string") {
					swagNote.set_noteType(editors_ChartingState.noteTypeList[songNotes[3]]);
				}
				swagNote.scrollFactor.set();
				var susLength = swagNote.sustainLength;
				susLength /= Conductor.stepCrochet;
				this.unspawnNotes.push(swagNote);
				var floorSus = Math.floor(susLength);
				if(floorSus > 0) {
					var _g3 = 0;
					var _g4 = floorSus + 1;
					while(_g3 < _g4) {
						var susNote = _g3++;
						oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
						var sustainNote = new Note(daStrumTime + Conductor.stepCrochet * susNote + Conductor.stepCrochet / flixel_math_FlxMath.roundDecimal(this.songSpeed,2),daNoteData,oldNote,true);
						sustainNote.mustPress = gottaHitNote;
						sustainNote.gfNote = section.gfSection && songNotes[1] < 4;
						sustainNote.set_noteType(swagNote.noteType);
						sustainNote.scrollFactor.set();
						this.unspawnNotes.push(sustainNote);
						if(sustainNote.mustPress) {
							sustainNote.set_x(sustainNote.x + flixel_FlxG.width / 2);
						} else if(ClientPrefs.middleScroll) {
							sustainNote.set_x(sustainNote.x + 310);
							if(daNoteData > 1) {
								sustainNote.set_x(sustainNote.x + (flixel_FlxG.width / 2 + 25));
							}
						}
					}
				}
				if(swagNote.mustPress) {
					swagNote.set_x(swagNote.x + flixel_FlxG.width / 2);
				} else if(ClientPrefs.middleScroll) {
					swagNote.set_x(swagNote.x + 310);
					if(daNoteData > 1) {
						swagNote.set_x(swagNote.x + (flixel_FlxG.width / 2 + 25));
					}
				}
				if(!Object.prototype.hasOwnProperty.call(this.noteTypeMap.h,swagNote.noteType)) {
					this.noteTypeMap.h[swagNote.noteType] = true;
				}
			}
			++daBeats;
		}
		var _g = 0;
		var _g1 = songData.events;
		while(_g < _g1.length) {
			var event = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = event[1].length;
			while(_g2 < _g3) {
				var i = _g2++;
				var newEventNote = [event[0],event[1][i][0],event[1][i][1],event[1][i][2]];
				var subEvent = [newEventNote[0] + ClientPrefs.noteOffset - this.eventNoteEarlyTrigger(newEventNote),newEventNote[1],newEventNote[2],newEventNote[3]];
				this.eventNotes.push(subEvent);
				this.eventPushed(subEvent);
			}
		}
		this.unspawnNotes.sort($bind(this,this.sortByShit));
		if(this.eventNotes.length > 1) {
			this.eventNotes.sort($bind(this,this.sortByTime));
		}
		this.checkEventNote();
		this.generatedMusic = true;
	}
	,eventPushed: function(event) {
		if(event[1] == "Change Character") {
			var charType = 0;
			switch(event[2].toLowerCase()) {
			case "1":case "gf":case "girlfriend":
				charType = 2;
				break;
			case "0":case "dad":case "opponent":
				charType = 1;
				break;
			default:
				charType = Std.parseInt(event[2]);
				if(isNaN(charType)) {
					charType = 0;
				}
			}
			var newCharacter = event[3];
			this.addCharacterToList(newCharacter,charType);
		}
		if(!Object.prototype.hasOwnProperty.call(this.eventPushedMap.h,event[1])) {
			this.eventPushedMap.h[event[1]] = true;
		}
	}
	,eventNoteEarlyTrigger: function(event) {
		var returnedValue = this.callOnLuas("eventEarlyTrigger",[event[1]]);
		if(returnedValue != 0) {
			return returnedValue;
		}
		if(event[1] == "Kill Henchmen") {
			return 280;
		}
		return 0;
	}
	,sortByShit: function(Obj1,Obj2) {
		var Value1 = Obj1.strumTime;
		var Value2 = Obj2.strumTime;
		var result = 0;
		if(Value1 < Value2) {
			result = -1;
		} else if(Value1 > Value2) {
			result = 1;
		}
		return result;
	}
	,sortByTime: function(Obj1,Obj2) {
		var Value1 = Obj1[0];
		var Value2 = Obj2[0];
		var result = 0;
		if(Value1 < Value2) {
			result = -1;
		} else if(Value1 > Value2) {
			result = 1;
		}
		return result;
	}
	,generateStaticArrows: function(player) {
		var _g = 0;
		while(_g < 4) {
			var i = _g++;
			var targetAlpha = 1;
			if(player < 1 && ClientPrefs.middleScroll) {
				targetAlpha = 0.35;
			}
			var babyArrow = new StrumNote(ClientPrefs.middleScroll ? PlayState.STRUM_X_MIDDLESCROLL : PlayState.STRUM_X,this.strumLine.y,i,player);
			if(!PlayState.isStoryMode) {
				babyArrow.set_y(babyArrow.y - 10);
				babyArrow.set_alpha(0);
				flixel_tweens_FlxTween.tween(babyArrow,{ y : babyArrow.y + 10, alpha : targetAlpha},1,{ ease : flixel_tweens_FlxEase.circOut, startDelay : 0.5 + 0.2 * i});
			} else {
				babyArrow.set_alpha(targetAlpha);
			}
			if(player == 1) {
				this.playerStrums.add(babyArrow);
			} else {
				if(ClientPrefs.middleScroll) {
					babyArrow.set_x(babyArrow.x + 310);
					if(i > 1) {
						babyArrow.set_x(babyArrow.x + (flixel_FlxG.width / 2 + 25));
					}
				}
				this.opponentStrums.add(babyArrow);
			}
			this.strumLineNotes.add(babyArrow);
			babyArrow.postAddedToGroup();
		}
	}
	,openSubState: function(SubState) {
		if(this.paused) {
			if(flixel_FlxG.sound.music != null) {
				flixel_FlxG.sound.music.pause();
				this.vocals.pause();
			}
			if(!this.startTimer.finished) {
				this.startTimer.active = false;
			}
			if(this.finishTimer != null && !this.finishTimer.finished) {
				this.finishTimer.active = false;
			}
			if(this.songSpeedTween != null) {
				this.songSpeedTween.set_active(false);
			}
			if(this.blammedLightsBlackTween != null) {
				this.blammedLightsBlackTween.set_active(false);
			}
			if(this.phillyCityLightsEventTween != null && !ClientPrefs.lowQuality) {
				this.phillyCityLightsEventTween.set_active(false);
			}
			if(this.carTimer != null) {
				this.carTimer.active = false;
			}
			var chars = [this.boyfriend,this.gf,this.dad];
			var _g = 0;
			var _g1 = chars.length;
			while(_g < _g1) {
				var i = _g++;
				if(chars[i].colorTween != null) {
					chars[i].colorTween.set_active(false);
				}
			}
			var h = this.modchartTweens.h;
			var tween_h = h;
			var tween_keys = Object.keys(h);
			var tween_length = tween_keys.length;
			var tween_current = 0;
			while(tween_current < tween_length) {
				var tween = tween_h[tween_keys[tween_current++]];
				tween.set_active(false);
			}
			var h = this.modchartTimers.h;
			var timer_h = h;
			var timer_keys = Object.keys(h);
			var timer_length = timer_keys.length;
			var timer_current = 0;
			while(timer_current < timer_length) {
				var timer = timer_h[timer_keys[timer_current++]];
				timer.active = false;
			}
		}
		MusicBeatState.prototype.openSubState.call(this,SubState);
	}
	,closeSubState: function() {
		if(this.paused) {
			if(flixel_FlxG.sound.music != null && !this.startingSong) {
				this.resyncVocals();
			}
			if(!this.startTimer.finished) {
				this.startTimer.active = true;
			}
			if(this.finishTimer != null && !this.finishTimer.finished) {
				this.finishTimer.active = true;
			}
			if(this.songSpeedTween != null) {
				this.songSpeedTween.set_active(true);
			}
			if(this.blammedLightsBlackTween != null) {
				this.blammedLightsBlackTween.set_active(true);
			}
			if(this.phillyCityLightsEventTween != null && !ClientPrefs.lowQuality) {
				this.phillyCityLightsEventTween.set_active(true);
			}
			if(this.carTimer != null) {
				this.carTimer.active = true;
			}
			var chars = [this.boyfriend,this.gf,this.dad];
			var _g = 0;
			var _g1 = chars.length;
			while(_g < _g1) {
				var i = _g++;
				if(chars[i].colorTween != null) {
					chars[i].colorTween.set_active(true);
				}
			}
			var h = this.modchartTweens.h;
			var tween_h = h;
			var tween_keys = Object.keys(h);
			var tween_length = tween_keys.length;
			var tween_current = 0;
			while(tween_current < tween_length) {
				var tween = tween_h[tween_keys[tween_current++]];
				tween.set_active(true);
			}
			var h = this.modchartTimers.h;
			var timer_h = h;
			var timer_keys = Object.keys(h);
			var timer_length = timer_keys.length;
			var timer_current = 0;
			while(timer_current < timer_length) {
				var timer = timer_h[timer_keys[timer_current++]];
				timer.active = true;
			}
			this.paused = false;
			this.callOnLuas("onResume",[]);
		}
		MusicBeatState.prototype.closeSubState.call(this);
	}
	,onFocus: function() {
		MusicBeatState.prototype.onFocus.call(this);
	}
	,onFocusLost: function() {
		MusicBeatState.prototype.onFocusLost.call(this);
	}
	,resyncVocals: function() {
		if(this.finishTimer != null) {
			return;
		}
		this.vocals.pause();
		flixel_FlxG.sound.music.play();
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this.vocals.set_time(Conductor.songPosition);
		this.vocals.play();
	}
	,paused: null
	,startedCountdown: null
	,canPause: null
	,limoSpeed: null
	,update: function(elapsed) {
		var _gthis = this;
		if(this.curStep >= 50 && PlayState_credit.x >= -790) {
			var fh = PlayState_credit;
			fh.set_x(fh.x - 15);
		}
		this.callOnLuas("onUpdate",[elapsed]);
		switch(PlayState.curStage) {
		case "limo":
			if(!ClientPrefs.lowQuality) {
				this.grpLimoParticles.forEach(function(spr) {
					if(spr.animation._curAnim.finished) {
						spr.kill();
						_gthis.grpLimoParticles.remove(spr,true);
						spr.destroy();
					}
				});
				switch(this.limoKillingState) {
				case 1:
					var fh = this.limoMetalPole;
					fh.set_x(fh.x + 5000 * elapsed);
					this.limoLight.set_x(this.limoMetalPole.x - 180);
					this.limoCorpse.set_x(this.limoLight.x - 50);
					this.limoCorpseTwo.set_x(this.limoLight.x + 35);
					var dancers = this.grpLimoDancers.members;
					var _g = 0;
					var _g1 = dancers.length;
					while(_g < _g1) {
						var i = _g++;
						if(dancers[i].x < flixel_FlxG.width * 1.5 && this.limoLight.x > 370 * i + 130) {
							switch(i) {
							case 1:
								this.limoCorpse.set_visible(true);
								break;
							case 2:
								this.limoCorpseTwo.set_visible(true);
								break;
							case 0:case 3:
								if(i == 0) {
									flixel_FlxG.sound.play(Paths.sound("dancerdeath"),0.5);
								}
								var diffStr = i == 3 ? " 2 " : " ";
								var particle = new BGSprite("gore/noooooo",dancers[i].x + 200,dancers[i].y,0.4,0.4,["hench leg spin" + diffStr + "PINK"],false);
								this.grpLimoParticles.add(particle);
								var particle1 = new BGSprite("gore/noooooo",dancers[i].x + 160,dancers[i].y + 200,0.4,0.4,["hench arm spin" + diffStr + "PINK"],false);
								this.grpLimoParticles.add(particle1);
								var particle2 = new BGSprite("gore/noooooo",dancers[i].x,dancers[i].y + 50,0.4,0.4,["hench head spin" + diffStr + "PINK"],false);
								this.grpLimoParticles.add(particle2);
								var particle3 = new BGSprite("gore/stupidBlood",dancers[i].x - 110,dancers[i].y + 20,0.4,0.4,["blood"],false);
								particle3.set_flipX(true);
								particle3.set_angle(-57.5);
								this.grpLimoParticles.add(particle3);
								break;
							}
							var fh = dancers[i];
							fh.set_x(fh.x + flixel_FlxG.width * 2);
						}
					}
					if(this.limoMetalPole.x > flixel_FlxG.width * 2) {
						this.resetLimoKill();
						this.limoSpeed = 800;
						this.limoKillingState = 2;
					}
					break;
				case 2:
					this.limoSpeed -= 4000 * elapsed;
					var fh = this.bgLimo;
					fh.set_x(fh.x - this.limoSpeed * elapsed);
					if(this.bgLimo.x > flixel_FlxG.width * 1.5) {
						this.limoSpeed = 3000;
						this.limoKillingState = 3;
					}
					break;
				case 3:
					this.limoSpeed -= 2000 * elapsed;
					if(this.limoSpeed < 1000) {
						this.limoSpeed = 1000;
					}
					var fh = this.bgLimo;
					fh.set_x(fh.x - this.limoSpeed * elapsed);
					if(this.bgLimo.x < -275) {
						this.limoKillingState = 4;
						this.limoSpeed = 800;
					}
					break;
				case 4:
					var a = this.bgLimo.x;
					this.bgLimo.set_x(a + Math.max(0,Math.min(1,elapsed * 9)) * (-150 - a));
					if(Math.round(this.bgLimo.x) == -150) {
						this.bgLimo.set_x(-150);
						this.limoKillingState = 0;
					}
					break;
				}
				if(this.limoKillingState > 2) {
					var dancers = this.grpLimoDancers.members;
					var _g = 0;
					var _g1 = dancers.length;
					while(_g < _g1) {
						var i = _g++;
						dancers[i].set_x(370 * i + this.bgLimo.x + 280);
					}
				}
			}
			break;
		case "philly":
			if(this.trainMoving) {
				this.trainFrameTiming += elapsed;
				if(this.trainFrameTiming >= 0.041666666666666664) {
					this.updateTrainPos();
					this.trainFrameTiming = 0;
				}
			}
			if(!ClientPrefs.lowQuality) {
				var fh = this.phillyCityLights.members[this.curLight];
				fh.set_alpha(fh.alpha - Conductor.crochet / 1000 * flixel_FlxG.elapsed * 1.5);
			}
			break;
		case "schoolEvil":
			if(!ClientPrefs.lowQuality && this.bgGhouls.animation._curAnim.finished) {
				this.bgGhouls.set_visible(false);
			}
			break;
		}
		if(!this.inCutscene) {
			var lerpVal = Math.max(0,Math.min(1,elapsed * 2.4 * this.cameraSpeed));
			var a = this.camFollowPos.x;
			var a1 = this.camFollowPos.y;
			this.camFollowPos.setPosition(a + lerpVal * (this.camFollow.x - a),a1 + lerpVal * (this.camFollow.y - a1));
			if(!this.startingSong && !this.endingSong && StringTools.startsWith(this.boyfriend.animation._curAnim.name,"idle")) {
				this.boyfriendIdleTime += elapsed;
				if(this.boyfriendIdleTime >= 0.15) {
					this.boyfriendIdled = true;
				}
			} else {
				this.boyfriendIdleTime = 0;
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
		if(this.ratingName == "?") {
			this.scoreTxt.set_text("Score: " + this.songScore + " | Misses: " + this.songMisses + " | Rating: " + this.ratingName);
		} else {
			this.scoreTxt.set_text("Score: " + this.songScore + " | Misses: " + this.songMisses + " | Rating: " + this.ratingName + " (" + Highscore.floorDecimal(this.ratingPercent * 100,2) + "%)" + " - " + this.ratingFC);
		}
		if(this.botplayTxt.visible) {
			this.botplaySine += 180 * elapsed;
			this.botplayTxt.set_alpha(1 - Math.sin(Math.PI * this.botplaySine / 180));
		}
		if(PlayerSettings.player1.controls._pause.check() || PlayerSettings.player1.controls._back.check() && this.startedCountdown && this.canPause) {
			var ret = this.callOnLuas("onPause",[]);
			if(ret != FunkinLua.Function_Stop) {
				this.persistentUpdate = false;
				this.persistentDraw = true;
				this.paused = true;
				if(flixel_FlxG.sound.music != null) {
					flixel_FlxG.sound.music.pause();
					this.vocals.pause();
				}
				this.openSubState(new PauseSubState(this.boyfriend.getScreenPosition().x,this.boyfriend.getScreenPosition().y));
			}
		}
		if(flixel_FlxG.keys.checkKeyArrayState(this.debugKeysChart,2) && !this.endingSong && !this.inCutscene) {
			this.openChartEditor();
		}
		var mult = 1 + Math.max(0,Math.min(1,1 - elapsed * 9)) * (this.iconP1.scale.x - 1);
		this.iconP1.scale.set(mult,mult);
		this.iconP1.updateHitbox();
		var mult = 1 + Math.max(0,Math.min(1,1 - elapsed * 9)) * (this.iconP2.scale.x - 1);
		this.iconP2.scale.set(mult,mult);
		this.iconP2.updateHitbox();
		var iconOffset = 26;
		this.iconP1.set_x(this.healthBar.x + this.healthBar.get_width() * (flixel_math_FlxMath.remapToRange(this.healthBar.get_percent(),0,100,100,0) * 0.01) + (150 * this.iconP1.scale.x - 150) / 2 - iconOffset);
		this.iconP2.set_x(this.healthBar.x + this.healthBar.get_width() * (flixel_math_FlxMath.remapToRange(this.healthBar.get_percent(),0,100,100,0) * 0.01) - 150 * this.iconP2.scale.x / 2 - iconOffset * 2);
		if(this.health > 2) {
			this.health = 2;
		}
		if(this.healthBar.get_percent() < 20) {
			this.iconP1.animation._curAnim.set_curFrame(1);
		} else {
			this.iconP1.animation._curAnim.set_curFrame(0);
		}
		if(this.healthBar.get_percent() > 80) {
			this.iconP2.animation._curAnim.set_curFrame(1);
		} else {
			this.iconP2.animation._curAnim.set_curFrame(0);
		}
		if(flixel_FlxG.keys.checkKeyArrayState(this.debugKeysCharacter,2) && !this.endingSong && !this.inCutscene) {
			this.persistentUpdate = false;
			this.paused = true;
			PlayState.cancelMusicFadeTween();
			CustomFadeTransition.nextCamera = this.camOther;
			MusicBeatState.switchState(new editors_CharacterEditorState(PlayState.SONG.player2));
		}
		if(this.startingSong) {
			if(this.startedCountdown) {
				Conductor.songPosition += flixel_FlxG.elapsed * 1000;
				if(Conductor.songPosition >= 0) {
					this.startSong();
				}
			}
		} else {
			Conductor.songPosition += flixel_FlxG.elapsed * 1000;
			if(!this.paused) {
				this.songTime += flixel_FlxG.game.ticks - this.previousFrameTime;
				this.previousFrameTime = flixel_FlxG.game.ticks;
				if(Conductor.lastSongPos != Conductor.songPosition) {
					this.songTime = (this.songTime + Conductor.songPosition) / 2;
					Conductor.lastSongPos = Conductor.songPosition;
				}
				if(this.updateTime) {
					var curTime = Conductor.songPosition - ClientPrefs.noteOffset;
					if(curTime < 0) {
						curTime = 0;
					}
					this.songPercent = curTime / this.songLength;
					var songCalc = this.songLength - curTime;
					if(ClientPrefs.timeBarType == "Time Elapsed") {
						songCalc = curTime;
					}
					var secondsTotal = Math.floor(songCalc / 1000);
					if(secondsTotal < 0) {
						secondsTotal = 0;
					}
					if(ClientPrefs.timeBarType != "Song Name") {
						this.timeTxt.set_text(flixel_util_FlxStringUtil.formatTime(secondsTotal,false));
					}
				}
			}
		}
		if(this.camZooming) {
			var a = this.defaultCamZoom;
			flixel_FlxG.camera.set_zoom(a + Math.max(0,Math.min(1,1 - elapsed * 3.125)) * (flixel_FlxG.camera.zoom - a));
			this.camHUD.set_zoom(1 + Math.max(0,Math.min(1,1 - elapsed * 3.125)) * (this.camHUD.zoom - 1));
		}
		if(!ClientPrefs.noReset && PlayerSettings.player1.controls._reset.check() && !this.inCutscene && !this.endingSong) {
			this.health = 0;
			haxe_Log.trace("RESET = True",{ fileName : "source/PlayState.hx", lineNumber : 2117, className : "PlayState", methodName : "update"});
		}
		this.doDeathCheck();
		var roundedSpeed = flixel_math_FlxMath.roundDecimal(this.songSpeed,2);
		if(this.unspawnNotes[0] != null) {
			var time = 1500;
			if(roundedSpeed < 1) {
				time /= roundedSpeed;
			}
			while(this.unspawnNotes.length > 0 && this.unspawnNotes[0].strumTime - Conductor.songPosition < time) {
				var dunceNote = this.unspawnNotes[0];
				this.notes.insert(0,dunceNote);
				var index = this.unspawnNotes.indexOf(dunceNote);
				this.unspawnNotes.splice(index,1);
			}
		}
		if(this.generatedMusic) {
			var fakeCrochet = 60 / PlayState.SONG.bpm * 1000;
			this.notes.forEachAlive(function(daNote) {
				var strumX = 0;
				var strumY = 0;
				var strumAngle = 0;
				var strumAlpha = 0;
				if(daNote.mustPress) {
					strumX = _gthis.playerStrums.members[daNote.noteData].x;
					strumY = _gthis.playerStrums.members[daNote.noteData].y;
					strumAngle = _gthis.playerStrums.members[daNote.noteData].angle;
					strumAlpha = _gthis.playerStrums.members[daNote.noteData].alpha;
				} else {
					strumX = _gthis.opponentStrums.members[daNote.noteData].x;
					strumY = _gthis.opponentStrums.members[daNote.noteData].y;
					strumAngle = _gthis.opponentStrums.members[daNote.noteData].angle;
					strumAlpha = _gthis.opponentStrums.members[daNote.noteData].alpha;
				}
				strumX += daNote.offsetX;
				strumY += daNote.offsetY;
				strumAngle += daNote.offsetAngle;
				strumAlpha *= daNote.multAlpha;
				var center = strumY + Note.swagWidth / 2;
				if(daNote.copyX) {
					daNote.set_x(strumX);
				}
				if(daNote.copyAngle) {
					daNote.set_angle(strumAngle);
				}
				if(daNote.copyAlpha) {
					daNote.set_alpha(strumAlpha);
				}
				if(daNote.copyY) {
					if(ClientPrefs.downScroll) {
						daNote.set_y(strumY + 0.45 * (Conductor.songPosition - daNote.strumTime) * roundedSpeed);
						if(daNote.isSustainNote && !ClientPrefs.keSustains) {
							if(StringTools.endsWith(daNote.animation._curAnim.name,"end")) {
								daNote.set_y(daNote.y + (10.5 * (fakeCrochet / 400) * 1.5 * roundedSpeed + 46 * (roundedSpeed - 1)));
								daNote.set_y(daNote.y - 46 * (1 - fakeCrochet / 600) * roundedSpeed);
								if(PlayState.isPixelStage) {
									daNote.set_y(daNote.y + 8);
								} else {
									daNote.set_y(daNote.y - 19);
								}
							}
							daNote.set_y(daNote.y + (Note.swagWidth / 2 - 60.5 * (roundedSpeed - 1)));
							daNote.set_y(daNote.y + 27.5 * (PlayState.SONG.bpm / 100 - 1) * (roundedSpeed - 1));
							if(daNote.mustPress || !daNote.ignoreNote) {
								if(daNote.y - daNote.offset.y * daNote.scale.y + daNote.get_height() >= center && (!daNote.mustPress || (daNote.wasGoodHit || daNote.prevNote.wasGoodHit && !daNote.canBeHit))) {
									var swagRect = new flixel_math_FlxRect(0,0,daNote.frameWidth,daNote.frameHeight);
									swagRect.height = (center - daNote.y) / daNote.scale.y;
									swagRect.y = daNote.frameHeight - swagRect.height;
									daNote.set_clipRect(swagRect);
								}
							}
						}
					} else {
						daNote.set_y(strumY - 0.45 * (Conductor.songPosition - daNote.strumTime) * roundedSpeed);
						if(!ClientPrefs.keSustains) {
							if(daNote.mustPress || !daNote.ignoreNote) {
								if(daNote.isSustainNote && daNote.y + daNote.offset.y * daNote.scale.y <= center && (!daNote.mustPress || (daNote.wasGoodHit || daNote.prevNote.wasGoodHit && !daNote.canBeHit))) {
									var swagRect = new flixel_math_FlxRect(0,0,daNote.get_width() / daNote.scale.x,daNote.get_height() / daNote.scale.y);
									swagRect.y = (center - daNote.y) / daNote.scale.y;
									swagRect.height -= swagRect.y;
									daNote.set_clipRect(swagRect);
								}
							}
						}
					}
				}
				if(!daNote.mustPress && daNote.wasGoodHit && !daNote.hitByOpponent && !daNote.ignoreNote) {
					_gthis.opponentNoteHit(daNote);
					if(_gthis.health >= 0.4 && ClientPrefs.HPDrain) {
						_gthis.health -= 0.03;
					}
				}
				if(daNote.mustPress && _gthis.cpuControlled) {
					if(daNote.isSustainNote) {
						if(daNote.canBeHit) {
							_gthis.goodNoteHit(daNote);
						}
					} else if(daNote.strumTime <= Conductor.songPosition || daNote.isSustainNote && daNote.canBeHit && daNote.mustPress) {
						_gthis.goodNoteHit(daNote);
					}
				}
				var doKill = daNote.y < -daNote.get_height();
				if(ClientPrefs.downScroll) {
					doKill = daNote.y > flixel_FlxG.height;
				}
				if(ClientPrefs.keSustains && daNote.isSustainNote && daNote.wasGoodHit) {
					doKill = true;
				}
				if(doKill) {
					if(daNote.mustPress && !_gthis.cpuControlled && !daNote.ignoreNote && !_gthis.endingSong && (daNote.tooLate || !daNote.wasGoodHit)) {
						_gthis.noteMiss(daNote);
					}
					daNote.set_active(false);
					daNote.set_visible(false);
					daNote.kill();
					_gthis.notes.remove(daNote,true);
					daNote.destroy();
				}
			});
		}
		this.checkEventNote();
		if(!this.inCutscene) {
			if(!this.cpuControlled) {
				this.keyShit();
			} else if(this.boyfriend.holdTimer > Conductor.stepCrochet * 0.001 * this.boyfriend.singDuration && StringTools.startsWith(this.boyfriend.animation._curAnim.name,"sing") && !StringTools.endsWith(this.boyfriend.animation._curAnim.name,"miss")) {
				this.boyfriend.dance();
			}
		}
		this.setOnLuas("cameraX",this.camFollowPos.x);
		this.setOnLuas("cameraY",this.camFollowPos.y);
		this.setOnLuas("botPlay",this.cpuControlled);
		this.callOnLuas("onUpdatePost",[elapsed]);
	}
	,openChartEditor: function() {
		this.persistentUpdate = false;
		this.paused = true;
		PlayState.cancelMusicFadeTween();
		CustomFadeTransition.nextCamera = this.camOther;
		MusicBeatState.switchState(new editors_ChartingState());
		PlayState.chartingMode = true;
	}
	,isDead: null
	,doDeathCheck: function(skipHealthCheck) {
		if(skipHealthCheck == null) {
			skipHealthCheck = false;
		}
		if((skipHealthCheck && this.instakillOnMiss || this.health <= 0) && !this.practiceMode && !this.isDead) {
			var ret = this.callOnLuas("onGameOver",[]);
			if(ret != FunkinLua.Function_Stop) {
				this.boyfriend.stunned = true;
				PlayState.deathCounter++;
				this.paused = true;
				var _this = this.vocals;
				_this.cleanup(_this.autoDestroy,true);
				var _this = flixel_FlxG.sound.music;
				_this.cleanup(_this.autoDestroy,true);
				this.persistentUpdate = false;
				this.persistentDraw = false;
				var h = this.modchartTweens.h;
				var tween_h = h;
				var tween_keys = Object.keys(h);
				var tween_length = tween_keys.length;
				var tween_current = 0;
				while(tween_current < tween_length) {
					var tween = tween_h[tween_keys[tween_current++]];
					tween.set_active(true);
				}
				var h = this.modchartTimers.h;
				var timer_h = h;
				var timer_keys = Object.keys(h);
				var timer_length = timer_keys.length;
				var timer_current = 0;
				while(timer_current < timer_length) {
					var timer = timer_h[timer_keys[timer_current++]];
					timer.active = true;
				}
				this.openSubState(new GameOverSubstate(this.boyfriend.getScreenPosition().x - this.boyfriend.positionArray[0],this.boyfriend.getScreenPosition().y - this.boyfriend.positionArray[1],this.camFollowPos.x,this.camFollowPos.y));
				this.isDead = true;
				return true;
			}
		}
		return false;
	}
	,checkEventNote: function() {
		while(this.eventNotes.length > 0) {
			var leStrumTime = this.eventNotes[0][0];
			if(Conductor.songPosition < leStrumTime) {
				break;
			}
			var value1 = "";
			if(this.eventNotes[0][2] != null) {
				value1 = this.eventNotes[0][2];
			}
			var value2 = "";
			if(this.eventNotes[0][3] != null) {
				value2 = this.eventNotes[0][3];
			}
			this.triggerEventNote(this.eventNotes[0][1],value1,value2);
			this.eventNotes.shift();
		}
	}
	,getControl: function(key) {
		var pressed = Reflect.getProperty(PlayerSettings.player1.controls,key);
		return pressed;
	}
	,triggerEventNote: function(eventName,value1,value2) {
		var _gthis = this;
		switch(eventName) {
		case "Add Camera Zoom":
			if(ClientPrefs.camZooms && flixel_FlxG.camera.zoom < 1.35) {
				var camZoom = parseFloat(value1);
				var hudZoom = parseFloat(value2);
				if(isNaN(camZoom)) {
					camZoom = 0.015;
				}
				if(isNaN(hudZoom)) {
					hudZoom = 0.03;
				}
				var fh = flixel_FlxG.camera;
				fh.set_zoom(fh.zoom + camZoom);
				var fh = this.camHUD;
				fh.set_zoom(fh.zoom + hudZoom);
			}
			break;
		case "Alt Idle Animation":
			var char = this.dad;
			switch(value1.toLowerCase()) {
			case "bf":case "boyfriend":
				char = this.boyfriend;
				break;
			case "gf":case "girlfriend":
				char = this.gf;
				break;
			default:
				var val = Std.parseInt(value1);
				if(isNaN(val)) {
					val = 0;
				}
				switch(val) {
				case 1:
					char = this.boyfriend;
					break;
				case 2:
					char = this.gf;
					break;
				}
			}
			char.idleSuffix = value2;
			char.recalculateDanceIdle();
			break;
		case "BG Freaks Expression":
			if(this.bgGirls != null) {
				this.bgGirls.swapDanceType();
			}
			break;
		case "Blammed Lights":
			var lightId = Std.parseInt(value1);
			if(isNaN(lightId)) {
				lightId = 0;
			}
			if(lightId > 0 && this.curLightEvent != lightId) {
				if(lightId > 5) {
					lightId = flixel_FlxG.random.int(1,5,[this.curLightEvent]);
				}
				var color = -1;
				switch(lightId) {
				case 1:
					color = -13524227;
					break;
				case 2:
					color = -13501044;
					break;
				case 3:
					color = -551689;
					break;
				case 4:
					color = -430749;
					break;
				case 5:
					color = -285133;
					break;
				}
				this.curLightEvent = lightId;
				if(this.blammedLightsBlack.alpha == 0) {
					if(this.blammedLightsBlackTween != null) {
						this.blammedLightsBlackTween.cancel();
					}
					this.blammedLightsBlackTween = flixel_tweens_FlxTween.tween(this.blammedLightsBlack,{ alpha : 1},1,{ ease : flixel_tweens_FlxEase.quadInOut, onComplete : function(twn) {
						_gthis.blammedLightsBlackTween = null;
					}});
					var chars = [this.boyfriend,this.gf,this.dad];
					var _g = 0;
					var _g1 = chars.length;
					while(_g < _g1) {
						var i = [_g++];
						if(chars[i[0]].colorTween != null) {
							chars[i[0]].colorTween.cancel();
						}
						chars[i[0]].colorTween = flixel_tweens_FlxTween.color(chars[i[0]],1,-1,color,{ onComplete : (function(i) {
							return function(twn) {
								chars[i[0]].colorTween = null;
							};
						})(i), ease : flixel_tweens_FlxEase.quadInOut});
					}
				} else {
					if(this.blammedLightsBlackTween != null) {
						this.blammedLightsBlackTween.cancel();
					}
					this.blammedLightsBlackTween = null;
					this.blammedLightsBlack.set_alpha(1);
					var chars1 = [this.boyfriend,this.gf,this.dad];
					var _g = 0;
					var _g1 = chars1.length;
					while(_g < _g1) {
						var i1 = _g++;
						if(chars1[i1].colorTween != null) {
							chars1[i1].colorTween.cancel();
						}
						chars1[i1].colorTween = null;
					}
					this.dad.set_color(color);
					this.boyfriend.set_color(color);
					this.gf.set_color(color);
				}
				if(PlayState.curStage == "philly" && !ClientPrefs.lowQuality) {
					if(this.phillyCityLightsEvent != null) {
						this.phillyCityLightsEvent.forEach(function(spr) {
							spr.set_visible(false);
						});
						this.phillyCityLightsEvent.members[lightId - 1].set_visible(true);
						this.phillyCityLightsEvent.members[lightId - 1].set_alpha(1);
					}
				}
			} else {
				if(this.blammedLightsBlack.alpha != 0) {
					if(this.blammedLightsBlackTween != null) {
						this.blammedLightsBlackTween.cancel();
					}
					this.blammedLightsBlackTween = flixel_tweens_FlxTween.tween(this.blammedLightsBlack,{ alpha : 0},1,{ ease : flixel_tweens_FlxEase.quadInOut, onComplete : function(twn) {
						_gthis.blammedLightsBlackTween = null;
					}});
				}
				if(PlayState.curStage == "philly" && !ClientPrefs.lowQuality) {
					this.phillyCityLights.forEach(function(spr) {
						spr.set_visible(false);
					});
					this.phillyCityLightsEvent.forEach(function(spr) {
						spr.set_visible(false);
					});
					var memb = this.phillyCityLightsEvent.members[this.curLightEvent - 1];
					if(memb != null) {
						memb.set_visible(true);
						memb.set_alpha(1);
						if(this.phillyCityLightsEventTween != null) {
							this.phillyCityLightsEventTween.cancel();
						}
						this.phillyCityLightsEventTween = flixel_tweens_FlxTween.tween(memb,{ alpha : 0},1,{ onComplete : function(twn) {
							_gthis.phillyCityLightsEventTween = null;
						}, ease : flixel_tweens_FlxEase.quadInOut});
					}
				}
				var chars1 = [this.boyfriend,this.gf,this.dad];
				var _g = 0;
				var _g1 = chars1.length;
				while(_g < _g1) {
					var i1 = [_g++];
					if(chars1[i1[0]].colorTween != null) {
						chars1[i1[0]].colorTween.cancel();
					}
					chars1[i1[0]].colorTween = flixel_tweens_FlxTween.color(chars1[i1[0]],1,chars1[i1[0]].color,-1,{ onComplete : (function(i) {
						return function(twn) {
							chars1[i[0]].colorTween = null;
						};
					})(i1), ease : flixel_tweens_FlxEase.quadInOut});
				}
				this.curLight = 0;
				this.curLightEvent = 0;
			}
			break;
		case "Camera Follow Pos":
			var val1 = parseFloat(value1);
			var val2 = parseFloat(value2);
			if(isNaN(val1)) {
				val1 = 0;
			}
			if(isNaN(val2)) {
				val2 = 0;
			}
			this.isCameraOnForcedPos = false;
			var tmp;
			var f = parseFloat(value1);
			if(isNaN(f)) {
				var f = parseFloat(value2);
				tmp = !isNaN(f);
			} else {
				tmp = true;
			}
			if(tmp) {
				this.camFollow.set_x(val1);
				this.camFollow.set_y(val2);
				this.isCameraOnForcedPos = true;
			}
			break;
		case "Change Character":
			var charType = 0;
			switch(value1) {
			case "gf":case "girlfriend":
				charType = 2;
				break;
			case "dad":case "opponent":
				charType = 1;
				break;
			default:
				charType = Std.parseInt(value1);
				if(isNaN(charType)) {
					charType = 0;
				}
			}
			switch(charType) {
			case 0:
				if(this.boyfriend.curCharacter != value2) {
					if(!Object.prototype.hasOwnProperty.call(this.boyfriendMap.h,value2)) {
						this.addCharacterToList(value2,charType);
					}
					var lastAlpha = this.boyfriend.alpha;
					this.boyfriend.set_alpha(0.00001);
					this.boyfriend = this.boyfriendMap.h[value2];
					this.boyfriend.set_alpha(lastAlpha);
					this.iconP1.changeIcon(this.boyfriend.healthIcon);
				}
				this.setOnLuas("boyfriendName",this.boyfriend.curCharacter);
				break;
			case 1:
				if(this.dad.curCharacter != value2) {
					if(!Object.prototype.hasOwnProperty.call(this.dadMap.h,value2)) {
						this.addCharacterToList(value2,charType);
					}
					var wasGf = StringTools.startsWith(this.dad.curCharacter,"gf");
					var lastAlpha = this.dad.alpha;
					this.dad.set_alpha(0.00001);
					this.dad = this.dadMap.h[value2];
					if(!StringTools.startsWith(this.dad.curCharacter,"gf")) {
						if(wasGf) {
							this.gf.set_visible(true);
						}
					} else {
						this.gf.set_visible(false);
					}
					this.dad.set_alpha(lastAlpha);
					this.iconP2.changeIcon(this.dad.healthIcon);
				}
				this.setOnLuas("dadName",this.dad.curCharacter);
				break;
			case 2:
				if(this.gf.curCharacter != value2) {
					if(!Object.prototype.hasOwnProperty.call(this.gfMap.h,value2)) {
						this.addCharacterToList(value2,charType);
					}
					var lastAlpha = this.gf.alpha;
					this.gf.set_alpha(0.00001);
					this.gf = this.gfMap.h[value2];
					this.gf.set_alpha(lastAlpha);
				}
				this.setOnLuas("gfName",this.gf.curCharacter);
				break;
			}
			this.reloadHealthBarColors();
			break;
		case "Change Scroll Speed":
			var val1 = parseFloat(value1);
			var val2 = parseFloat(value2);
			if(isNaN(val1)) {
				val1 = 1;
			}
			if(isNaN(val2)) {
				val2 = 0;
			}
			var newValue = PlayState.SONG.speed * (Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"scrollspeed") ? ClientPrefs.gameplaySettings.h["scrollspeed"] : 1) * val1;
			if(val2 <= 0) {
				this.set_songSpeed(newValue);
			} else {
				this.songSpeedTween = flixel_tweens_FlxTween.tween(this,{ songSpeed : newValue},val2,{ ease : flixel_tweens_FlxEase.linear, onComplete : function(twn) {
					_gthis.songSpeedTween = null;
				}});
			}
			break;
		case "Hey!":
			var value = 2;
			switch(StringTools.trim(value1.toLowerCase())) {
			case "1":case "gf":case "girlfriend":
				value = 1;
				break;
			case "0":case "bf":case "boyfriend":
				value = 0;
				break;
			}
			var time = parseFloat(value2);
			if(isNaN(time) || time <= 0) {
				time = 0.6;
			}
			if(value != 0) {
				if(StringTools.startsWith(this.dad.curCharacter,"gf")) {
					this.dad.playAnim("cheer",true);
					this.dad.specialAnim = true;
					this.dad.heyTimer = time;
				} else {
					this.gf.playAnim("cheer",true);
					this.gf.specialAnim = true;
					this.gf.heyTimer = time;
				}
			}
			if(value != 1) {
				this.boyfriend.playAnim("hey",true);
				this.boyfriend.specialAnim = true;
				this.boyfriend.heyTimer = time;
			}
			break;
		case "Kill Henchmen":
			this.killHenchmen();
			break;
		case "Play Animation":
			var char = this.dad;
			switch(StringTools.trim(value2.toLowerCase())) {
			case "bf":case "boyfriend":
				char = this.boyfriend;
				break;
			case "gf":case "girlfriend":
				char = this.gf;
				break;
			default:
				var val2 = Std.parseInt(value2);
				if(isNaN(val2)) {
					val2 = 0;
				}
				switch(val2) {
				case 1:
					char = this.boyfriend;
					break;
				case 2:
					char = this.gf;
					break;
				}
			}
			char.playAnim(value1,true);
			char.specialAnim = true;
			break;
		case "Screen Shake":
			var valuesArray = [value1,value2];
			var targetsArray = [this.camGame,this.camHUD];
			var _g = 0;
			var _g1 = targetsArray.length;
			while(_g < _g1) {
				var i2 = _g++;
				var split = valuesArray[i2].split(",");
				var duration = 0;
				var intensity = 0;
				if(split[0] != null) {
					duration = parseFloat(StringTools.trim(split[0]));
				}
				if(split[1] != null) {
					intensity = parseFloat(StringTools.trim(split[1]));
				}
				if(isNaN(duration)) {
					duration = 0;
				}
				if(isNaN(intensity)) {
					intensity = 0;
				}
				if(duration > 0 && intensity != 0) {
					targetsArray[i2].shake(intensity,duration);
				}
			}
			break;
		case "Set GF Speed":
			var value = Std.parseInt(value1);
			if(isNaN(value)) {
				value = 1;
			}
			this.gfSpeed = value;
			break;
		case "Trigger BG Ghouls":
			if(PlayState.curStage == "schoolEvil" && !ClientPrefs.lowQuality) {
				this.bgGhouls.dance(true);
				this.bgGhouls.set_visible(true);
			}
			break;
		}
		this.callOnLuas("onEvent",[eventName,value1,value2]);
	}
	,moveCameraSection: function(id) {
		if(id == null) {
			id = 0;
		}
		if(PlayState.SONG.notes[id] == null) {
			return;
		}
		if(PlayState.SONG.notes[id].gfSection) {
			this.camFollow.set(this.gf.getMidpoint().x,this.gf.getMidpoint().y);
			var fh = this.camFollow;
			fh.set_x(fh.x + this.gf.cameraPosition[0]);
			var fh = this.camFollow;
			fh.set_y(fh.y + this.gf.cameraPosition[1]);
			this.tweenCamIn();
			this.callOnLuas("onMoveCamera",["gf"]);
			return;
		}
		if(!PlayState.SONG.notes[id].mustHitSection) {
			this.moveCamera(true);
			this.callOnLuas("onMoveCamera",["dad"]);
		} else {
			this.moveCamera(false);
			this.callOnLuas("onMoveCamera",["boyfriend"]);
		}
	}
	,cameraTwn: null
	,moveCamera: function(isDad) {
		var _gthis = this;
		if(isDad) {
			this.camFollow.set(this.dad.getMidpoint().x + 150,this.dad.getMidpoint().y - 100);
			var fh = this.camFollow;
			fh.set_x(fh.x + this.dad.cameraPosition[0]);
			var fh = this.camFollow;
			fh.set_y(fh.y + this.dad.cameraPosition[1]);
			this.tweenCamIn();
		} else {
			this.camFollow.set(this.boyfriend.getMidpoint().x - 100,this.boyfriend.getMidpoint().y - 100);
			switch(PlayState.curStage) {
			case "limo":
				this.camFollow.set_x(this.boyfriend.getMidpoint().x - 300);
				break;
			case "mall":
				this.camFollow.set_y(this.boyfriend.getMidpoint().y - 200);
				break;
			case "school":case "schoolEvil":
				this.camFollow.set_x(this.boyfriend.getMidpoint().x - 200);
				this.camFollow.set_y(this.boyfriend.getMidpoint().y - 200);
				break;
			}
			var fh = this.camFollow;
			fh.set_x(fh.x - this.boyfriend.cameraPosition[0]);
			var fh = this.camFollow;
			fh.set_y(fh.y + this.boyfriend.cameraPosition[1]);
			if(StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") == "tutorial" && this.cameraTwn == null && flixel_FlxG.camera.zoom != 1) {
				this.cameraTwn = flixel_tweens_FlxTween.tween(flixel_FlxG.camera,{ zoom : 1},Conductor.stepCrochet * 4 / 1000,{ ease : flixel_tweens_FlxEase.elasticInOut, onComplete : function(twn) {
					_gthis.cameraTwn = null;
				}});
			}
		}
	}
	,tweenCamIn: function() {
		var _gthis = this;
		if(StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") == "tutorial" && this.cameraTwn == null && flixel_FlxG.camera.zoom != 1.3) {
			this.cameraTwn = flixel_tweens_FlxTween.tween(flixel_FlxG.camera,{ zoom : 1.3},Conductor.stepCrochet * 4 / 1000,{ ease : flixel_tweens_FlxEase.elasticInOut, onComplete : function(twn) {
				_gthis.cameraTwn = null;
			}});
		}
	}
	,snapCamFollowToPos: function(x,y) {
		this.camFollow.set(x,y);
		this.camFollowPos.setPosition(x,y);
	}
	,finishSong: function() {
		var finishCallback = $bind(this,this.endSong);
		this.updateTime = false;
		flixel_FlxG.sound.music.set_volume(0);
		this.vocals.set_volume(0);
		this.vocals.pause();
		if(ClientPrefs.noteOffset <= 0) {
			finishCallback();
		} else {
			this.finishTimer = new flixel_util_FlxTimer().start(ClientPrefs.noteOffset / 1000,function(tmr) {
				finishCallback();
			});
		}
	}
	,transitioning: null
	,endSong: function() {
		var _gthis = this;
		if(!this.startingSong) {
			this.notes.forEach(function(daNote) {
				if(daNote.strumTime < _gthis.songLength - Conductor.safeZoneOffset) {
					_gthis.health -= 0.05 * _gthis.healthLoss;
				}
			});
			var _g = 0;
			var _g1 = this.unspawnNotes;
			while(_g < _g1.length) {
				var daNote = _g1[_g];
				++_g;
				if(daNote.strumTime < this.songLength - Conductor.safeZoneOffset) {
					this.health -= 0.05 * this.healthLoss;
				}
			}
			if(this.doDeathCheck()) {
				return;
			}
		}
		this.timeBarBG.set_visible(false);
		this.timeBar.set_visible(false);
		this.timeTxt.set_visible(false);
		this.canPause = false;
		this.endingSong = true;
		this.camZooming = false;
		this.inCutscene = false;
		this.updateTime = false;
		PlayState.deathCounter = 0;
		PlayState.seenCutscene = false;
		this.mcontrols.set_visible(false);
		if(this.achievementObj != null) {
			return;
		} else {
			var achieve = this.checkForAchievement(["week1_nomiss","week2_nomiss","week3_nomiss","week4_nomiss","week5_nomiss","week6_nomiss","week7_nomiss","ur_bad","ur_good","hype","two_keys","toastie","debugger"]);
			if(achieve != null) {
				this.startAchievement(achieve);
				return;
			}
		}
		var ret = FunkinLua.Function_Continue;
		if(ret != FunkinLua.Function_Stop && !this.transitioning) {
			if(PlayState.SONG.validScore) {
				var percent = this.ratingPercent;
				if(isNaN(percent)) {
					percent = 0;
				}
				Highscore.saveScore(PlayState.SONG.song,this.songScore,PlayState.storyDifficulty,percent);
			}
			if(PlayState.chartingMode) {
				this.openChartEditor();
				return;
			}
			if(PlayState.isStoryMode) {
				PlayState.campaignScore += this.songScore;
				PlayState.campaignMisses += this.songMisses;
				HxOverrides.remove(PlayState.storyPlaylist,PlayState.storyPlaylist[0]);
				if(PlayState.storyPlaylist.length <= 0) {
					flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
					PlayState.cancelMusicFadeTween();
					CustomFadeTransition.nextCamera = this.camOther;
					if(flixel_addons_transition_FlxTransitionableState.skipNextTransIn) {
						CustomFadeTransition.nextCamera = null;
					}
					MusicBeatState.switchState(new StoryMenuState());
					if(!(Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"practice") && ClientPrefs.gameplaySettings.h["practice"]) && !(Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"botplay") && ClientPrefs.gameplaySettings.h["botplay"])) {
						StoryMenuState.weekCompleted.h[WeekData.weeksList[PlayState.storyWeek]] = true;
						if(PlayState.SONG.validScore) {
							Highscore.saveWeekScore(WeekData.getWeekFileName(),PlayState.campaignScore,PlayState.storyDifficulty);
						}
						flixel_FlxG.save.data.weekCompleted = StoryMenuState.weekCompleted;
						flixel_FlxG.save.flush();
					}
					PlayState.changedDifficulty = false;
				} else {
					var difficulty = CoolUtil.getDifficultyFilePath();
					haxe_Log.trace("LOADING NEXT SONG",{ fileName : "source/PlayState.hx", lineNumber : 2956, className : "PlayState", methodName : "endSong"});
					haxe_Log.trace(StringTools.replace(PlayState.storyPlaylist[0].toLowerCase()," ","-") + difficulty,{ fileName : "source/PlayState.hx", lineNumber : 2957, className : "PlayState", methodName : "endSong"});
					var winterHorrorlandNext = StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") == "eggnog";
					if(winterHorrorlandNext) {
						var blackShit = new flixel_FlxSprite(-flixel_FlxG.width * flixel_FlxG.camera.zoom,-flixel_FlxG.height * flixel_FlxG.camera.zoom).makeGraphic(flixel_FlxG.width * 3,flixel_FlxG.height * 3,-16777216);
						blackShit.scrollFactor.set();
						this.add(blackShit);
						this.camHUD.set_visible(false);
						flixel_FlxG.sound.play(Paths.sound("Lights_Shut_off"));
					}
					flixel_addons_transition_FlxTransitionableState.skipNextTransIn = true;
					flixel_addons_transition_FlxTransitionableState.skipNextTransOut = true;
					PlayState.prevCamFollow = this.camFollow;
					PlayState.prevCamFollowPos = this.camFollowPos;
					PlayState.SONG = Song.loadFromJson(PlayState.storyPlaylist[0] + difficulty,PlayState.storyPlaylist[0]);
					var _this = flixel_FlxG.sound.music;
					_this.cleanup(_this.autoDestroy,true);
					if(winterHorrorlandNext) {
						new flixel_util_FlxTimer().start(1.5,function(tmr) {
							PlayState.cancelMusicFadeTween();
							MusicBeatState.switchState(LoadingState.getNextState(new PlayState(),false));
						});
					} else {
						PlayState.cancelMusicFadeTween();
						MusicBeatState.switchState(LoadingState.getNextState(new PlayState(),false));
					}
				}
			} else {
				haxe_Log.trace("WENT BACK TO FREEPLAY??",{ fileName : "source/PlayState.hx", lineNumber : 2993, className : "PlayState", methodName : "endSong"});
				PlayState.cancelMusicFadeTween();
				CustomFadeTransition.nextCamera = this.camOther;
				if(flixel_addons_transition_FlxTransitionableState.skipNextTransIn) {
					CustomFadeTransition.nextCamera = null;
				}
				MusicBeatState.switchState(new FreeplayState());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
				PlayState.changedDifficulty = false;
			}
			this.transitioning = true;
		}
	}
	,achievementObj: null
	,startAchievement: function(achieve) {
		this.achievementObj = new AchievementObject(achieve,this.camOther);
		this.achievementObj.onFinish = $bind(this,this.achievementEnd);
		this.add(this.achievementObj);
		haxe_Log.trace("Giving achievement " + achieve,{ fileName : "source/PlayState.hx", lineNumber : 3013, className : "PlayState", methodName : "startAchievement"});
	}
	,achievementEnd: function() {
		this.achievementObj = null;
		if(this.endingSong && !this.inCutscene) {
			this.endSong();
		}
	}
	,KillNotes: function() {
		while(this.notes.length > 0) {
			var daNote = this.notes.members[0];
			daNote.set_active(false);
			daNote.set_visible(false);
			daNote.kill();
			this.notes.remove(daNote,true);
			daNote.destroy();
		}
		this.unspawnNotes = [];
		this.eventNotes = [];
	}
	,totalPlayed: null
	,totalNotesHit: null
	,popUpScore: function(note) {
		var _gthis = this;
		var noteDiff = Math.abs(note.strumTime - Conductor.songPosition + ClientPrefs.ratingOffset);
		this.vocals.set_volume(1);
		var placement = Std.string(this.combo);
		var coolText = new flixel_text_FlxText(0,0,0,placement,32);
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			coolText.set_x((flixel_FlxG.width - coolText.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			coolText.set_y((flixel_FlxG.height - coolText.get_height()) / 2);
		}
		coolText.set_x(flixel_FlxG.width * 0.35);
		var rating = new flixel_FlxSprite();
		var score = 350;
		var daRating = Conductor.judgeNote(note,noteDiff);
		switch(daRating) {
		case "bad":
			this.totalNotesHit += 0.5;
			this.bads++;
			break;
		case "good":
			this.totalNotesHit += 0.75;
			this.goods++;
			break;
		case "shit":
			this.totalNotesHit += 0;
			this.shits++;
			break;
		case "sick":
			this.totalNotesHit += 1;
			this.sicks++;
			break;
		}
		if(daRating == "sick" && !note.noteSplashDisabled) {
			this.spawnNoteSplashOnNote(note);
		}
		if(!this.practiceMode && !this.cpuControlled) {
			this.songScore += score;
			this.songHits++;
			this.totalPlayed++;
			this.RecalculateRating();
			if(ClientPrefs.scoreZoom) {
				if(this.scoreTxtTween != null) {
					this.scoreTxtTween.cancel();
				}
				this.scoreTxt.scale.set_x(1.075);
				this.scoreTxt.scale.set_y(1.075);
				this.scoreTxtTween = flixel_tweens_FlxTween.tween(this.scoreTxt.scale,{ x : 1, y : 1},0.2,{ onComplete : function(twn) {
					_gthis.scoreTxtTween = null;
				}});
			}
		}
		var pixelShitPart1 = "";
		var pixelShitPart2 = "";
		if(PlayState.isPixelStage) {
			pixelShitPart1 = "pixelUI/";
			pixelShitPart2 = "-pixel";
		}
		rating.loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + daRating + pixelShitPart2) + ".png","IMAGE",null));
		rating.set_cameras([this.camHUD]);
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rating.set_x((flixel_FlxG.width - rating.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rating.set_y((flixel_FlxG.height - rating.get_height()) / 2);
		}
		rating.set_x(coolText.x - 40);
		rating.set_y(rating.y - 60);
		rating.acceleration.set_y(550);
		var fh = rating.velocity;
		fh.set_y(fh.y - flixel_FlxG.random.int(140,175));
		var fh = rating.velocity;
		fh.set_x(fh.x - flixel_FlxG.random.int(0,10));
		rating.set_visible(!ClientPrefs.hideHud);
		rating.set_x(rating.x + ClientPrefs.comboOffset[0]);
		rating.set_y(rating.y - ClientPrefs.comboOffset[1]);
		var comboSpr = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + "combo" + pixelShitPart2) + ".png","IMAGE",null));
		comboSpr.set_cameras([this.camHUD]);
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			comboSpr.set_x((flixel_FlxG.width - comboSpr.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			comboSpr.set_y((flixel_FlxG.height - comboSpr.get_height()) / 2);
		}
		comboSpr.set_x(coolText.x);
		comboSpr.acceleration.set_y(600);
		var fh = comboSpr.velocity;
		fh.set_y(fh.y - 150);
		comboSpr.set_visible(!ClientPrefs.hideHud);
		comboSpr.set_x(comboSpr.x + ClientPrefs.comboOffset[0]);
		comboSpr.set_y(comboSpr.y - ClientPrefs.comboOffset[1]);
		var fh = comboSpr.velocity;
		fh.set_x(fh.x + flixel_FlxG.random.int(1,10));
		this.insert(this.members.indexOf(this.strumLineNotes),rating);
		if(!PlayState.isPixelStage) {
			rating.setGraphicSize(rating.get_width() * 0.7 | 0);
			rating.set_antialiasing(ClientPrefs.globalAntialiasing);
			comboSpr.setGraphicSize(comboSpr.get_width() * 0.7 | 0);
			comboSpr.set_antialiasing(ClientPrefs.globalAntialiasing);
		} else {
			rating.setGraphicSize(rating.get_width() * PlayState.daPixelZoom * 0.85 | 0);
			comboSpr.setGraphicSize(comboSpr.get_width() * PlayState.daPixelZoom * 0.85 | 0);
		}
		comboSpr.updateHitbox();
		rating.updateHitbox();
		var seperatedScore = [];
		if(this.combo >= 1000) {
			seperatedScore.push(Math.floor(this.combo / 1000) % 10);
		}
		seperatedScore.push(Math.floor(this.combo / 100) % 10);
		seperatedScore.push(Math.floor(this.combo / 10) % 10);
		seperatedScore.push(this.combo % 10);
		var daLoop = 0;
		var _g = 0;
		while(_g < seperatedScore.length) {
			var i = seperatedScore[_g];
			++_g;
			var numScore = [new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + "num" + (i | 0) + pixelShitPart2) + ".png","IMAGE",null))];
			numScore[0].set_cameras([this.camHUD]);
			var axes = flixel_util_FlxAxes.XY;
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				numScore[0].set_x((flixel_FlxG.width - numScore[0].get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				numScore[0].set_y((flixel_FlxG.height - numScore[0].get_height()) / 2);
			}
			numScore[0].set_x(coolText.x + 43 * daLoop - 90);
			numScore[0].set_y(numScore[0].y + 80);
			numScore[0].set_x(numScore[0].x + ClientPrefs.comboOffset[2]);
			numScore[0].set_y(numScore[0].y - ClientPrefs.comboOffset[3]);
			if(!PlayState.isPixelStage) {
				numScore[0].set_antialiasing(ClientPrefs.globalAntialiasing);
				numScore[0].setGraphicSize(numScore[0].get_width() * 0.5 | 0);
			} else {
				numScore[0].setGraphicSize(numScore[0].get_width() * PlayState.daPixelZoom | 0);
			}
			numScore[0].updateHitbox();
			numScore[0].acceleration.set_y(flixel_FlxG.random.int(200,300));
			var fh = numScore[0].velocity;
			fh.set_y(fh.y - flixel_FlxG.random.int(140,160));
			numScore[0].velocity.set_x(flixel_FlxG.random.float(-5,5));
			numScore[0].set_visible(!ClientPrefs.hideHud);
			if(this.combo >= 10 || this.combo == 0) {
				this.insert(this.members.indexOf(this.strumLineNotes),numScore[0]);
			}
			flixel_tweens_FlxTween.tween(numScore[0],{ alpha : 0},0.2,{ onComplete : (function(numScore) {
				return function(tween) {
					numScore[0].destroy();
				};
			})(numScore), startDelay : Conductor.crochet * 0.002});
			++daLoop;
		}
		coolText.set_text(Std.string(seperatedScore));
		flixel_tweens_FlxTween.tween(rating,{ alpha : 0},0.2,{ startDelay : Conductor.crochet * 0.001});
		flixel_tweens_FlxTween.tween(comboSpr,{ alpha : 0},0.2,{ onComplete : function(tween) {
			coolText.destroy();
			comboSpr.destroy();
			rating.destroy();
		}, startDelay : Conductor.crochet * 0.001});
	}
	,onKeyPress: function(event) {
		var eventKey = event.keyCode;
		var key = this.getKeyFromEvent(eventKey);
		if(!this.cpuControlled && !this.paused && key > -1 && (flixel_FlxG.keys.checkStatus(eventKey,2) || ClientPrefs.controllerMode)) {
			if(!this.boyfriend.stunned && this.generatedMusic && !this.endingSong) {
				var lastTime = Conductor.songPosition;
				Conductor.songPosition = flixel_FlxG.sound.music._time;
				var canMiss = !ClientPrefs.ghostTapping;
				var pressNotes = [];
				var notesStopped = false;
				var sortedNotesList = [];
				this.notes.forEachAlive(function(daNote) {
					if(daNote.canBeHit && daNote.mustPress && !daNote.tooLate && !daNote.wasGoodHit && !daNote.isSustainNote) {
						if(daNote.noteData == key) {
							sortedNotesList.push(daNote);
						}
						canMiss = true;
					}
				});
				sortedNotesList.sort(function(a,b) {
					return a.strumTime - b.strumTime | 0;
				});
				if(sortedNotesList.length > 0) {
					var _g = 0;
					while(_g < sortedNotesList.length) {
						var epicNote = sortedNotesList[_g];
						++_g;
						var _g1 = 0;
						while(_g1 < pressNotes.length) {
							var doubleNote = pressNotes[_g1];
							++_g1;
							if(Math.abs(doubleNote.strumTime - epicNote.strumTime) < 1) {
								doubleNote.kill();
								this.notes.remove(doubleNote,true);
								doubleNote.destroy();
							} else {
								notesStopped = true;
							}
						}
						if(!notesStopped) {
							this.goodNoteHit(epicNote);
							pressNotes.push(epicNote);
						}
					}
				} else if(canMiss) {
					this.noteMissPress(key);
					this.callOnLuas("noteMissPress",[key]);
				}
				this.keysPressed[key] = true;
				Conductor.songPosition = lastTime;
			}
			var spr = this.playerStrums.members[key];
			if(spr != null && spr.animation._curAnim.name != "confirm") {
				spr.playAnim("pressed");
				spr.resetAnim = 0;
			}
			this.callOnLuas("onKeyPress",[key]);
		}
	}
	,onKeyRelease: function(event) {
		var eventKey = event.keyCode;
		var key = this.getKeyFromEvent(eventKey);
		if(!this.cpuControlled && !this.paused && key > -1) {
			var spr = this.playerStrums.members[key];
			if(spr != null) {
				spr.playAnim("static");
				spr.resetAnim = 0;
			}
			this.callOnLuas("onKeyRelease",[key]);
		}
	}
	,getKeyFromEvent: function(key) {
		if(key != -1) {
			var _g = 0;
			var _g1 = this.keysArray.length;
			while(_g < _g1) {
				var i = _g++;
				var _g2 = 0;
				var _g3 = this.keysArray[i].length;
				while(_g2 < _g3) {
					var j = _g2++;
					if(key == this.keysArray[i][j]) {
						return i;
					}
				}
			}
		}
		return -1;
	}
	,keyShit: function() {
		var _gthis = this;
		var up = PlayerSettings.player1.controls._note_up.check();
		var right = PlayerSettings.player1.controls._note_right.check();
		var down = PlayerSettings.player1.controls._note_down.check();
		var left = PlayerSettings.player1.controls._note_left.check();
		var controlHoldArray = [left,down,up,right];
		if(ClientPrefs.controllerMode) {
			var controlArray = [PlayerSettings.player1.controls._note_leftP.check(),PlayerSettings.player1.controls._note_downP.check(),PlayerSettings.player1.controls._note_upP.check(),PlayerSettings.player1.controls._note_rightP.check()];
			if(controlArray.indexOf(true) != -1) {
				var _g = 0;
				var _g1 = controlArray.length;
				while(_g < _g1) {
					var i = _g++;
					if(controlArray[i]) {
						this.onKeyPress(new openfl_events_KeyboardEvent("keyDown",true,true,-1,this.keysArray[i][0]));
					}
				}
			}
		}
		if(!this.boyfriend.stunned && this.generatedMusic) {
			this.notes.forEachAlive(function(daNote) {
				if(daNote.isSustainNote && controlHoldArray[daNote.noteData] && daNote.canBeHit && daNote.mustPress && !daNote.tooLate && !daNote.wasGoodHit) {
					_gthis.goodNoteHit(daNote);
				}
			});
			if(controlHoldArray.indexOf(true) != -1 && !this.endingSong) {
				var achieve = this.checkForAchievement(["oversinging"]);
				if(achieve != null) {
					this.startAchievement(achieve);
				}
			} else if(this.boyfriend.holdTimer > Conductor.stepCrochet * 0.001 * this.boyfriend.singDuration && StringTools.startsWith(this.boyfriend.animation._curAnim.name,"sing") && !StringTools.endsWith(this.boyfriend.animation._curAnim.name,"miss")) {
				this.boyfriend.dance();
			}
		}
		if(ClientPrefs.controllerMode) {
			var controlArray = [PlayerSettings.player1.controls._note_leftR.check(),PlayerSettings.player1.controls._note_downR.check(),PlayerSettings.player1.controls._note_upR.check(),PlayerSettings.player1.controls._note_rightR.check()];
			if(controlArray.indexOf(true) != -1) {
				var _g = 0;
				var _g1 = controlArray.length;
				while(_g < _g1) {
					var i = _g++;
					if(controlArray[i]) {
						this.onKeyRelease(new openfl_events_KeyboardEvent("keyUp",true,true,-1,this.keysArray[i][0]));
					}
				}
			}
		}
	}
	,noteMiss: function(daNote) {
		var _gthis = this;
		this.notes.forEachAlive(function(note) {
			if(daNote != note && daNote.mustPress && daNote.noteData == note.noteData && daNote.isSustainNote == note.isSustainNote && Math.abs(daNote.strumTime - note.strumTime) < 1) {
				note.kill();
				_gthis.notes.remove(note,true);
				note.destroy();
			}
		});
		this.combo = 0;
		this.health -= daNote.missHealth * this.healthLoss;
		if(this.instakillOnMiss) {
			this.vocals.set_volume(0);
			this.doDeathCheck(true);
		}
		this.songMisses++;
		this.vocals.set_volume(0);
		if(!this.practiceMode) {
			this.songScore -= 10;
		}
		this.totalPlayed++;
		this.RecalculateRating();
		var char = this.boyfriend;
		if(daNote.gfNote) {
			char = this.gf;
		}
		if(char.hasMissAnimations) {
			var daAlt = "";
			if(daNote.noteType == "Alt Animation") {
				daAlt = "-alt";
			}
			var animToPlay = this.singAnimations[Math.abs(daNote.noteData) | 0] + "miss" + daAlt;
			char.playAnim(animToPlay,true);
		}
		this.callOnLuas("noteMiss",[this.notes.members.indexOf(daNote),daNote.noteData,daNote.noteType,daNote.isSustainNote]);
	}
	,noteMissPress: function(direction) {
		if(direction == null) {
			direction = 1;
		}
		if(!this.boyfriend.stunned) {
			this.health -= 0.05 * this.healthLoss;
			if(this.instakillOnMiss) {
				this.vocals.set_volume(0);
				this.doDeathCheck(true);
			}
			if(ClientPrefs.ghostTapping) {
				return;
			}
			if(this.combo > 5 && Object.prototype.hasOwnProperty.call(this.gf.animOffsets.h,"sad")) {
				this.gf.playAnim("sad");
			}
			this.combo = 0;
			if(!this.practiceMode) {
				this.songScore -= 10;
			}
			if(!this.endingSong) {
				this.songMisses++;
			}
			this.totalPlayed++;
			this.RecalculateRating();
			flixel_FlxG.sound.play(Paths.sound("missnote" + flixel_FlxG.random.int(1,3),null),flixel_FlxG.random.float(0.1,0.2));
			if(this.boyfriend.hasMissAnimations) {
				this.boyfriend.playAnim(this.singAnimations[Math.abs(direction) | 0] + "miss",true);
			}
			this.vocals.set_volume(0);
		}
	}
	,opponentNoteHit: function(note) {
		if(StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") != "tutorial") {
			this.camZooming = true;
		}
		if(note.noteType == "Hey!" && Object.prototype.hasOwnProperty.call(this.dad.animOffsets.h,"hey")) {
			this.dad.playAnim("hey",true);
			this.dad.specialAnim = true;
			this.dad.heyTimer = 0.6;
		} else if(!note.noAnimation) {
			var altAnim = "";
			var curSection = Math.floor(this.curStep / 16);
			if(PlayState.SONG.notes[curSection] != null) {
				if(PlayState.SONG.notes[curSection].altAnim || note.noteType == "Alt Animation") {
					altAnim = "-alt";
				}
			}
			var char = this.dad;
			var animToPlay = this.singAnimations[Math.abs(note.noteData) | 0] + altAnim;
			if(note.gfNote) {
				char = this.gf;
			}
			char.playAnim(animToPlay,true);
			char.holdTimer = 0;
		}
		if(PlayState.SONG.needsVoices) {
			this.vocals.set_volume(1);
		}
		var time = 0.15;
		if(note.isSustainNote && !StringTools.endsWith(note.animation._curAnim.name,"end")) {
			time += 0.15;
		}
		this.StrumPlayAnim(true,(Math.abs(note.noteData) | 0) % 4,time);
		note.hitByOpponent = true;
		this.callOnLuas("opponentNoteHit",[this.notes.members.indexOf(note),Math.abs(note.noteData),note.noteType,note.isSustainNote]);
		if(!note.isSustainNote) {
			note.kill();
			this.notes.remove(note,true);
			note.destroy();
		}
	}
	,goodNoteHit: function(note) {
		if(!note.wasGoodHit) {
			if(this.cpuControlled && (note.ignoreNote || note.hitCausesMiss)) {
				return;
			}
			if(note.hitCausesMiss) {
				this.noteMiss(note);
				if(!note.noteSplashDisabled && !note.isSustainNote) {
					this.spawnNoteSplashOnNote(note);
				}
				if(note.noteType == "Hurt Note") {
					if(this.boyfriend.animation._animations.h["hurt"] != null) {
						this.boyfriend.playAnim("hurt",true);
						this.boyfriend.specialAnim = true;
					}
				}
				note.wasGoodHit = true;
				if(!note.isSustainNote) {
					note.kill();
					this.notes.remove(note,true);
					note.destroy();
				}
				return;
			}
			if(!note.isSustainNote) {
				this.combo += 1;
				this.popUpScore(note);
				if(this.combo > 9999) {
					this.combo = 9999;
				}
			}
			this.health += note.hitHealth * this.healthGain;
			if(!note.noAnimation) {
				var daAlt = "";
				if(note.noteType == "Alt Animation") {
					daAlt = "-alt";
				}
				var animToPlay = this.singAnimations[Math.abs(note.noteData) | 0];
				if(note.gfNote) {
					this.gf.playAnim(animToPlay + daAlt,true);
					this.gf.holdTimer = 0;
				} else {
					this.boyfriend.playAnim(animToPlay + daAlt,true);
					this.boyfriend.holdTimer = 0;
				}
				if(note.noteType == "Hey!") {
					if(Object.prototype.hasOwnProperty.call(this.boyfriend.animOffsets.h,"hey")) {
						this.boyfriend.playAnim("hey",true);
						this.boyfriend.specialAnim = true;
						this.boyfriend.heyTimer = 0.6;
					}
					if(Object.prototype.hasOwnProperty.call(this.gf.animOffsets.h,"cheer")) {
						this.gf.playAnim("cheer",true);
						this.gf.specialAnim = true;
						this.gf.heyTimer = 0.6;
					}
				}
			}
			if(this.cpuControlled) {
				var time = 0.15;
				if(note.isSustainNote && !StringTools.endsWith(note.animation._curAnim.name,"end")) {
					time += 0.15;
				}
				this.StrumPlayAnim(false,(Math.abs(note.noteData) | 0) % 4,time);
			} else {
				this.playerStrums.forEach(function(spr) {
					if(Math.abs(note.noteData) == spr.ID) {
						spr.playAnim("confirm",true);
					}
				});
			}
			note.wasGoodHit = true;
			this.vocals.set_volume(1);
			var isSus = note.isSustainNote;
			var leData = Math.round(Math.abs(note.noteData));
			var leType = note.noteType;
			this.callOnLuas("goodNoteHit",[this.notes.members.indexOf(note),leData,leType,isSus]);
			if(!note.isSustainNote) {
				note.kill();
				this.notes.remove(note,true);
				note.destroy();
			}
		}
	}
	,spawnNoteSplashOnNote: function(note) {
		if(ClientPrefs.noteSplashes && note != null) {
			var strum = this.playerStrums.members[note.noteData];
			if(strum != null) {
				this.spawnNoteSplash(strum.x,strum.y,note.noteData,note);
			}
		}
	}
	,spawnNoteSplash: function(x,y,data,note) {
		var skin = "noteSplashes";
		if(PlayState.SONG.splashSkin != null && PlayState.SONG.splashSkin.length > 0) {
			skin = PlayState.SONG.splashSkin;
		}
		var hue = ClientPrefs.arrowHSV[data % 4][0] / 360;
		var sat = ClientPrefs.arrowHSV[data % 4][1] / 100;
		var brt = ClientPrefs.arrowHSV[data % 4][2] / 100;
		if(note != null) {
			skin = note.noteSplashTexture;
			hue = note.noteSplashHue;
			sat = note.noteSplashSat;
			brt = note.noteSplashBrt;
		}
		var splash = this.grpNoteSplashes.recycle(NoteSplash);
		splash.setupNoteSplash(x,y,data,skin,hue,sat,brt);
		this.grpNoteSplashes.add(splash);
	}
	,fastCarCanDrive: null
	,resetFastCar: function() {
		this.fastCar.set_x(-12600);
		this.fastCar.set_y(flixel_FlxG.random.int(140,250));
		this.fastCar.velocity.set_x(0);
		this.fastCarCanDrive = true;
	}
	,carTimer: null
	,fastCarDrive: function() {
		var _gthis = this;
		flixel_FlxG.sound.play(Paths.sound("carPass" + flixel_FlxG.random.int(0,1),null),0.7);
		this.fastCar.velocity.set_x(flixel_FlxG.random.int(170,220) / flixel_FlxG.elapsed * 3);
		this.fastCarCanDrive = false;
		this.carTimer = new flixel_util_FlxTimer().start(2,function(tmr) {
			_gthis.resetFastCar();
			_gthis.carTimer = null;
		});
	}
	,trainMoving: null
	,trainFrameTiming: null
	,trainCars: null
	,trainFinishing: null
	,trainCooldown: null
	,trainStart: function() {
		this.trainMoving = true;
		if(this.trainSound._channel == null) {
			this.trainSound.play(true);
		}
	}
	,startedMoving: null
	,updateTrainPos: function() {
		if(this.trainSound._time >= 4700) {
			this.startedMoving = true;
			this.gf.playAnim("hairBlow");
			this.gf.specialAnim = true;
		}
		if(this.startedMoving) {
			var fh = this.phillyTrain;
			fh.set_x(fh.x - 400);
			if(this.phillyTrain.x < -2000 && !this.trainFinishing) {
				this.phillyTrain.set_x(-1150);
				this.trainCars -= 1;
				if(this.trainCars <= 0) {
					this.trainFinishing = true;
				}
			}
			if(this.phillyTrain.x < -4000 && this.trainFinishing) {
				this.trainReset();
			}
		}
	}
	,trainReset: function() {
		this.gf.danced = false;
		this.gf.playAnim("hairFall");
		this.gf.specialAnim = true;
		this.phillyTrain.set_x(flixel_FlxG.width + 200);
		this.trainMoving = false;
		this.trainCars = 8;
		this.trainFinishing = false;
		this.startedMoving = false;
	}
	,lightningStrikeShit: function() {
		flixel_FlxG.sound.play(Paths.sound("thunder_" + flixel_FlxG.random.int(1,2),null));
		if(!ClientPrefs.lowQuality) {
			this.halloweenBG.animation.play("halloweem bg lightning strike");
		}
		this.lightningStrikeBeat = this.curBeat;
		this.lightningOffset = flixel_FlxG.random.int(8,24);
		if(Object.prototype.hasOwnProperty.call(this.boyfriend.animOffsets.h,"scared")) {
			this.boyfriend.playAnim("scared",true);
		}
		if(Object.prototype.hasOwnProperty.call(this.gf.animOffsets.h,"scared")) {
			this.gf.playAnim("scared",true);
		}
		if(ClientPrefs.camZooms) {
			var fh = flixel_FlxG.camera;
			fh.set_zoom(fh.zoom + 0.015);
			var fh = this.camHUD;
			fh.set_zoom(fh.zoom + 0.03);
			if(!this.camZooming) {
				flixel_tweens_FlxTween.tween(flixel_FlxG.camera,{ zoom : this.defaultCamZoom},0.5);
				flixel_tweens_FlxTween.tween(this.camHUD,{ zoom : 1},0.5);
			}
		}
		if(ClientPrefs.flashing) {
			this.halloweenWhite.set_alpha(0.4);
			flixel_tweens_FlxTween.tween(this.halloweenWhite,{ alpha : 0.5},0.075);
			flixel_tweens_FlxTween.tween(this.halloweenWhite,{ alpha : 0},0.25,{ startDelay : 0.15});
		}
	}
	,killHenchmen: function() {
		if(!ClientPrefs.lowQuality && ClientPrefs.violence && PlayState.curStage == "limo") {
			if(this.limoKillingState < 1) {
				this.limoMetalPole.set_x(-400);
				this.limoMetalPole.set_visible(true);
				this.limoLight.set_visible(true);
				this.limoCorpse.set_visible(false);
				this.limoCorpseTwo.set_visible(false);
				this.limoKillingState = 1;
				Achievements.henchmenDeath++;
				flixel_FlxG.save.data.henchmenDeath = Achievements.henchmenDeath;
				var achieve = this.checkForAchievement(["roadkill_enthusiast"]);
				if(achieve != null) {
					this.startAchievement(achieve);
				} else {
					flixel_FlxG.save.flush();
				}
			}
		}
	}
	,resetLimoKill: function() {
		if(PlayState.curStage == "limo") {
			this.limoMetalPole.set_x(-500);
			this.limoMetalPole.set_visible(false);
			this.limoLight.set_x(-500);
			this.limoLight.set_visible(false);
			this.limoCorpse.set_x(-500);
			this.limoCorpse.set_visible(false);
			this.limoCorpseTwo.set_x(-500);
			this.limoCorpseTwo.set_visible(false);
		}
	}
	,preventLuaRemove: null
	,destroy: function() {
		this.preventLuaRemove = true;
		var _g = 0;
		var _g1 = this.luaArray.length;
		while(_g < _g1) {
			var i = _g++;
			this.luaArray[i].call("onDestroy",[]);
			this.luaArray[i].stop();
		}
		this.luaArray = [];
		if(!ClientPrefs.controllerMode) {
			openfl_Lib.get_current().stage.removeEventListener("keyDown",$bind(this,this.onKeyPress));
			openfl_Lib.get_current().stage.removeEventListener("keyUp",$bind(this,this.onKeyRelease));
		}
		MusicBeatState.prototype.destroy.call(this);
	}
	,removeLua: function(lua) {
		if(this.luaArray != null && !this.preventLuaRemove) {
			HxOverrides.remove(this.luaArray,lua);
		}
	}
	,lastStepHit: null
	,stepHit: function() {
		MusicBeatState.prototype.stepHit.call(this);
		if(flixel_FlxG.sound.music._time > Conductor.songPosition + 20 || flixel_FlxG.sound.music._time < Conductor.songPosition - 20) {
			this.resyncVocals();
		}
		if(this.curStep == this.lastStepHit) {
			return;
		}
		this.lastStepHit = this.curStep;
		this.setOnLuas("curStep",this.curStep);
		this.callOnLuas("onStepHit",[]);
	}
	,lightningStrikeBeat: null
	,lightningOffset: null
	,lastBeatHit: null
	,beatHit: function() {
		MusicBeatState.prototype.beatHit.call(this);
		if(this.lastBeatHit >= this.curBeat) {
			return;
		}
		if(this.generatedMusic) {
			var Order = ClientPrefs.downScroll ? -1 : 1;
			if(Order == null) {
				Order = -1;
			}
			var _g = flixel_util_FlxSort.byY;
			var a1 = Order;
			var tmp = function(a2,a3) {
				return _g(a1,a2,a3);
			};
			this.notes.members.sort(tmp);
		}
		if(PlayState.SONG.notes[Math.floor(this.curStep / 16)] != null) {
			if(PlayState.SONG.notes[Math.floor(this.curStep / 16)].changeBPM) {
				Conductor.changeBPM(PlayState.SONG.notes[Math.floor(this.curStep / 16)].bpm);
				this.setOnLuas("curBpm",Conductor.bpm);
				this.setOnLuas("crochet",Conductor.crochet);
				this.setOnLuas("stepCrochet",Conductor.stepCrochet);
			}
			this.setOnLuas("mustHitSection",PlayState.SONG.notes[Math.floor(this.curStep / 16)].mustHitSection);
			this.setOnLuas("altAnim",PlayState.SONG.notes[Math.floor(this.curStep / 16)].altAnim);
			this.setOnLuas("gfSection",PlayState.SONG.notes[Math.floor(this.curStep / 16)].gfSection);
		}
		if(this.generatedMusic && PlayState.SONG.notes[this.curStep / 16 | 0] != null && !this.endingSong && !this.isCameraOnForcedPos) {
			this.moveCameraSection(this.curStep / 16 | 0);
		}
		if(this.camZooming && flixel_FlxG.camera.zoom < 1.35 && ClientPrefs.camZooms && this.curBeat % 4 == 0) {
			var fh = flixel_FlxG.camera;
			fh.set_zoom(fh.zoom + 0.015);
			var fh = this.camHUD;
			fh.set_zoom(fh.zoom + 0.03);
		}
		this.iconP1.scale.set(1.2,1.2);
		this.iconP2.scale.set(1.2,1.2);
		this.iconP1.updateHitbox();
		this.iconP2.updateHitbox();
		if(this.curBeat % this.gfSpeed == 0 && !this.gf.stunned && this.gf.animation._curAnim.name != null && !StringTools.startsWith(this.gf.animation._curAnim.name,"sing")) {
			this.gf.dance();
		}
		if(this.curBeat % 2 == 0) {
			if(this.boyfriend.animation._curAnim.name != null && !StringTools.startsWith(this.boyfriend.animation._curAnim.name,"sing")) {
				this.boyfriend.dance();
			}
			if(this.dad.animation._curAnim.name != null && !StringTools.startsWith(this.dad.animation._curAnim.name,"sing") && !this.dad.stunned) {
				this.dad.dance();
			}
		} else if(this.dad.danceIdle && this.dad.animation._curAnim.name != null && !StringTools.startsWith(this.dad.curCharacter,"gf") && !StringTools.startsWith(this.dad.animation._curAnim.name,"sing") && !this.dad.stunned) {
			this.dad.dance();
		}
		switch(PlayState.curStage) {
		case "limo":
			if(!ClientPrefs.lowQuality) {
				this.grpLimoDancers.forEach(function(dancer) {
					dancer.dance();
				});
			}
			var Chance = 10;
			if(Chance == null) {
				Chance = 50;
			}
			if(flixel_FlxG.random.float(0,100) < Chance && this.fastCarCanDrive) {
				this.fastCarDrive();
			}
			break;
		case "philly":
			if(!this.trainMoving) {
				this.trainCooldown += 1;
			}
			if(this.curBeat % 4 == 0 && !ClientPrefs.lowQuality) {
				this.phillyCityLights.forEach(function(light) {
					light.set_visible(false);
				});
				this.curLight = flixel_FlxG.random.int(0,this.phillyCityLights.length - 1,[this.curLight]);
				this.phillyCityLights.members[this.curLight].set_visible(true);
				this.phillyCityLights.members[this.curLight].set_alpha(1);
			}
			var tmp;
			if(this.curBeat % 8 == 4) {
				var Chance = 30;
				if(Chance == null) {
					Chance = 50;
				}
				tmp = flixel_FlxG.random.float(0,100) < Chance;
			} else {
				tmp = false;
			}
			if(tmp && !this.trainMoving && this.trainCooldown > 8) {
				this.trainCooldown = flixel_FlxG.random.int(-4,0);
				this.trainStart();
			}
			break;
		case "school":
			if(!ClientPrefs.lowQuality) {
				this.bgGirls.dance();
			}
			break;
		}
		var tmp;
		if(PlayState.curStage == "spooky") {
			var Chance = 10;
			if(Chance == null) {
				Chance = 50;
			}
			tmp = flixel_FlxG.random.float(0,100) < Chance;
		} else {
			tmp = false;
		}
		if(tmp && this.curBeat > this.lightningStrikeBeat + this.lightningOffset) {
			this.lightningStrikeShit();
		}
		this.lastBeatHit = this.curBeat;
		this.setOnLuas("curBeat",this.curBeat);
		this.callOnLuas("onBeatHit",[]);
	}
	,closeLuas: null
	,callOnLuas: function(event,args) {
		var returnVal = FunkinLua.Function_Continue;
		return returnVal;
	}
	,setOnLuas: function(variable,arg) {
	}
	,StrumPlayAnim: function(isDad,id,time) {
		var spr = null;
		if(isDad) {
			spr = this.strumLineNotes.members[id];
		} else {
			spr = this.playerStrums.members[id];
		}
		if(spr != null) {
			spr.playAnim("confirm",true);
			spr.resetAnim = time;
		}
	}
	,ratingName: null
	,ratingPercent: null
	,ratingFC: null
	,RecalculateRating: function() {
		this.setOnLuas("score",this.songScore);
		this.setOnLuas("misses",this.songMisses);
		this.setOnLuas("hits",this.songHits);
		var ret = this.callOnLuas("onRecalculateRating",[]);
		if(ret != FunkinLua.Function_Stop) {
			if(this.totalPlayed < 1) {
				this.ratingName = "?";
			} else {
				this.ratingPercent = Math.min(1,Math.max(0,this.totalNotesHit / this.totalPlayed));
				if(this.ratingPercent >= 1) {
					this.ratingName = PlayState.ratingStuff[PlayState.ratingStuff.length - 1][0];
				} else {
					var _g = 0;
					var _g1 = PlayState.ratingStuff.length - 1;
					while(_g < _g1) {
						var i = _g++;
						if(this.ratingPercent < PlayState.ratingStuff[i][1]) {
							this.ratingName = PlayState.ratingStuff[i][0];
							break;
						}
					}
				}
			}
			this.ratingFC = "";
			if(this.sicks > 0) {
				this.ratingFC = "SFC";
			}
			if(this.goods > 0) {
				this.ratingFC = "GFC";
			}
			if(this.bads > 0 || this.shits > 0) {
				this.ratingFC = "FC";
			}
			if(this.songMisses > 0 && this.songMisses < 10) {
				this.ratingFC = "SDCB";
			} else if(this.songMisses >= 10) {
				this.ratingFC = "Clear";
			}
		}
		this.setOnLuas("rating",this.ratingPercent);
		this.setOnLuas("ratingName",this.ratingName);
		this.setOnLuas("ratingFC",this.ratingFC);
	}
	,checkForAchievement: function(achievesToCheck) {
		if(PlayState.chartingMode) {
			return null;
		}
		var usedPractice = Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"practice") && ClientPrefs.gameplaySettings.h["practice"] || Object.prototype.hasOwnProperty.call(ClientPrefs.gameplaySettings.h,"botplay") && ClientPrefs.gameplaySettings.h["botplay"];
		var _g = 0;
		var _g1 = achievesToCheck.length;
		while(_g < _g1) {
			var i = _g++;
			var achievementName = achievesToCheck[i];
			if(!Achievements.isAchievementUnlocked(achievementName) && !this.cpuControlled) {
				var unlock = false;
				switch(achievementName) {
				case "debugger":
					if(StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") == "test" && !usedPractice) {
						unlock = true;
					}
					break;
				case "hype":
					if(!this.boyfriendIdled && !usedPractice) {
						unlock = true;
					}
					break;
				case "oversinging":
					if(this.boyfriend.holdTimer >= 10 && !usedPractice) {
						unlock = true;
					}
					break;
				case "roadkill_enthusiast":
					if(Achievements.henchmenDeath >= 100) {
						unlock = true;
					}
					break;
				case "toastie":
					if(ClientPrefs.lowQuality && !ClientPrefs.globalAntialiasing && !ClientPrefs.imagesPersist) {
						unlock = true;
					}
					break;
				case "two_keys":
					if(!usedPractice) {
						var howManyPresses = 0;
						var _g2 = 0;
						var _g3 = this.keysPressed.length;
						while(_g2 < _g3) {
							var j = _g2++;
							if(this.keysPressed[j]) {
								++howManyPresses;
							}
						}
						if(howManyPresses <= 2) {
							unlock = true;
						}
					}
					break;
				case "ur_bad":
					if(this.ratingPercent < 0.2 && !this.practiceMode) {
						unlock = true;
					}
					break;
				case "ur_good":
					if(this.ratingPercent >= 1 && !usedPractice) {
						unlock = true;
					}
					break;
				case "week1_nomiss":case "week2_nomiss":case "week3_nomiss":case "week4_nomiss":case "week5_nomiss":case "week6_nomiss":case "week7_nomiss":
					if(PlayState.isStoryMode && PlayState.campaignMisses + this.songMisses < 1 && CoolUtil.difficultyString() == "HARD" && PlayState.storyPlaylist.length <= 1 && !PlayState.changedDifficulty && !usedPractice) {
						var weekName = WeekData.getWeekFileName();
						switch(weekName) {
						case "week1":
							if(achievementName == "week1_nomiss") {
								unlock = true;
							}
							break;
						case "week2":
							if(achievementName == "week2_nomiss") {
								unlock = true;
							}
							break;
						case "week3":
							if(achievementName == "week3_nomiss") {
								unlock = true;
							}
							break;
						case "week4":
							if(achievementName == "week4_nomiss") {
								unlock = true;
							}
							break;
						case "week5":
							if(achievementName == "week5_nomiss") {
								unlock = true;
							}
							break;
						case "week6":
							if(achievementName == "week6_nomiss") {
								unlock = true;
							}
							break;
						case "week7":
							if(achievementName == "week7_nomiss") {
								unlock = true;
							}
							break;
						}
					}
					break;
				}
				if(unlock) {
					Achievements.unlockAchievement(achievementName);
					return achievementName;
				}
			}
		}
		return null;
	}
	,curLight: null
	,curLightEvent: null
	,__class__: PlayState
	,__properties__: $extend(MusicBeatState.prototype.__properties__,{set_songSpeed:"set_songSpeed"})
});
var PlayState_credit = null;
var flixel_util_FlxTypedSignal = {};
flixel_util_FlxTypedSignal.__properties__ = {get_dispatch:"get_dispatch"};
flixel_util_FlxTypedSignal.add = function(this1,listener) {
	this1.add(listener);
};
flixel_util_FlxTypedSignal.addOnce = function(this1,listener) {
	this1.addOnce(listener);
};
flixel_util_FlxTypedSignal.remove = function(this1,listener) {
	this1.remove(listener);
};
flixel_util_FlxTypedSignal.has = function(this1,listener) {
	return this1.has(listener);
};
flixel_util_FlxTypedSignal.removeAll = function(this1) {
	this1.removeAll();
};
flixel_util_FlxTypedSignal.get_dispatch = function(this1) {
	return this1.dispatch;
};
flixel_util_FlxTypedSignal.toSignal0 = function(signal) {
	return new flixel_util__$FlxSignal_FlxSignal0();
};
flixel_util_FlxTypedSignal.toSignal1 = function(signal) {
	return new flixel_util__$FlxSignal_FlxSignal1();
};
flixel_util_FlxTypedSignal.toSignal2 = function(signal) {
	return new flixel_util__$FlxSignal_FlxSignal2();
};
flixel_util_FlxTypedSignal.toSignal3 = function(signal) {
	return new flixel_util__$FlxSignal_FlxSignal3();
};
flixel_util_FlxTypedSignal.toSignal4 = function(signal) {
	return new flixel_util__$FlxSignal_FlxSignal4();
};
var PlayerSettings = function(id,scheme) {
	this.id = id;
	this.controls = new Controls("player" + id,scheme);
};
$hxClasses["PlayerSettings"] = PlayerSettings;
PlayerSettings.__name__ = "PlayerSettings";
PlayerSettings.player1 = null;
PlayerSettings.player2 = null;
PlayerSettings.init = function() {
	if(PlayerSettings.player1 == null) {
		PlayerSettings.player1 = new PlayerSettings(0,KeyboardScheme.Solo);
		++PlayerSettings.numPlayers;
	}
	var numGamepads = flixel_FlxG.gamepads.get_numActiveGamepads();
	if(numGamepads > 0) {
		var gamepad = flixel_FlxG.gamepads._activeGamepads[0];
		if(gamepad == null) {
			throw haxe_Exception.thrown("Unexpected null gamepad. id:0");
		}
		PlayerSettings.player1.controls.addDefaultGamepad(0);
	}
	if(numGamepads > 1) {
		if(PlayerSettings.player2 == null) {
			PlayerSettings.player2 = new PlayerSettings(1,KeyboardScheme.None);
			++PlayerSettings.numPlayers;
		}
		var gamepad = flixel_FlxG.gamepads._activeGamepads[1];
		if(gamepad == null) {
			throw haxe_Exception.thrown("Unexpected null gamepad. id:0");
		}
		PlayerSettings.player2.controls.addDefaultGamepad(1);
	}
};
PlayerSettings.reset = function() {
	PlayerSettings.player1 = null;
	PlayerSettings.player2 = null;
	PlayerSettings.numPlayers = 0;
};
PlayerSettings.prototype = {
	id: null
	,controls: null
	,setKeyboardScheme: function(scheme) {
		this.controls.setKeyboardScheme(scheme);
	}
	,__class__: PlayerSettings
};
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = "Reflect";
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( _g ) {
		haxe_NativeStackTrace.lastError = _g;
		return null;
	}
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.setProperty = function(o,field,value) {
	var tmp;
	var tmp1;
	if(o.__properties__) {
		tmp = o.__properties__["set_" + field];
		tmp1 = tmp;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		o[tmp](value);
	} else {
		o[field] = value;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.compare = function(a,b) {
	if(a == b) {
		return 0;
	} else if(a > b) {
		return 1;
	} else {
		return -1;
	}
};
Reflect.compareMethods = function(f1,f2) {
	if(f1 == f2) {
		return true;
	}
	if(!Reflect.isFunction(f1) || !Reflect.isFunction(f2)) {
		return false;
	}
	if(f1.scope == f2.scope && f1.method == f2.method) {
		return f1.method != null;
	} else {
		return false;
	}
};
Reflect.isObject = function(v) {
	if(v == null) {
		return false;
	}
	var t = typeof(v);
	if(!(t == "string" || t == "object" && v.__enum__ == null)) {
		if(t == "function") {
			return (v.__name__ || v.__ename__) != null;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
Reflect.isEnumValue = function(v) {
	if(v != null) {
		return v.__enum__ != null;
	} else {
		return false;
	}
};
Reflect.deleteField = function(o,field) {
	if(!Object.prototype.hasOwnProperty.call(o,field)) {
		return false;
	}
	delete(o[field]);
	return true;
};
Reflect.makeVarArgs = function(f) {
	return function() {
		var a = Array.prototype.slice;
		var a1 = arguments;
		var a2 = a.call(a1);
		return f(a2);
	};
};
var ResetScoreSubState = function(song,difficulty,character,week) {
	if(week == null) {
		week = -1;
	}
	this.onYes = false;
	this.alphabetArray = [];
	this.song = song;
	this.difficulty = difficulty;
	this.week = week;
	MusicBeatSubstate.call(this);
	var name = song;
	if(week > -1) {
		name = WeekData.weeksLoaded.h[WeekData.weeksList[week]].weekName;
	}
	name += " (" + CoolUtil.difficulties[difficulty] + ")?";
	this.bg = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
	this.bg.set_alpha(0);
	this.bg.scrollFactor.set();
	this.add(this.bg);
	var tooLong = name.length > 18 ? 0.8 : 1;
	var text = new Alphabet(0,180,"Reset the score of",true);
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		text.set_x((flixel_FlxG.width - text.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		text.set_y((flixel_FlxG.height - text.get_height()) / 2);
	}
	this.alphabetArray.push(text);
	text.set_alpha(0);
	this.add(text);
	var text1 = new Alphabet(0,text.y + 90,name,true,false,0.05,tooLong);
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		text1.set_x((flixel_FlxG.width - text1.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		text1.set_y((flixel_FlxG.height - text1.get_height()) / 2);
	}
	if(week == -1) {
		text1.set_x(text1.x + 60 * tooLong);
	}
	this.alphabetArray.push(text1);
	text1.set_alpha(0);
	this.add(text1);
	if(week == -1) {
		this.icon = new HealthIcon(character);
		this.icon.setGraphicSize(this.icon.get_width() * tooLong | 0);
		this.icon.updateHitbox();
		this.icon.setPosition(text1.x - this.icon.get_width() + 10 * tooLong,text1.y - 30);
		this.icon.set_alpha(0);
		this.add(this.icon);
	}
	this.yesText = new Alphabet(0,text1.y + 150,"Yes",true);
	var _this = this.yesText;
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
	}
	var fh = this.yesText;
	fh.set_x(fh.x - 200);
	this.add(this.yesText);
	this.noText = new Alphabet(0,text1.y + 150,"No",true);
	var _this = this.noText;
	var axes = flixel_util_FlxAxes.X;
	if(axes == null) {
		axes = flixel_util_FlxAxes.XY;
	}
	var tmp;
	switch(axes._hx_index) {
	case 0:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
	}
	var tmp;
	switch(axes._hx_index) {
	case 1:case 2:
		tmp = true;
		break;
	default:
		tmp = false;
	}
	if(tmp) {
		_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
	}
	var fh = this.noText;
	fh.set_x(fh.x + 200);
	this.add(this.noText);
	this.updateOptions();
	this.addVirtualPad(ui_FlxDPadMode.LEFT_RIGHT,ui_FlxActionMode.A_B);
	var camcontrol = new flixel_FlxCamera();
	flixel_FlxG.cameras.add(camcontrol);
	camcontrol.bgColor &= 16777215;
	camcontrol.bgColor |= 0;
	this._virtualpad.set_cameras([camcontrol]);
};
$hxClasses["ResetScoreSubState"] = ResetScoreSubState;
ResetScoreSubState.__name__ = "ResetScoreSubState";
ResetScoreSubState.__super__ = MusicBeatSubstate;
ResetScoreSubState.prototype = $extend(MusicBeatSubstate.prototype,{
	bg: null
	,alphabetArray: null
	,icon: null
	,onYes: null
	,yesText: null
	,noText: null
	,song: null
	,difficulty: null
	,week: null
	,update: function(elapsed) {
		var fh = this.bg;
		fh.set_alpha(fh.alpha + elapsed * 1.5);
		if(this.bg.alpha > 0.6) {
			this.bg.set_alpha(0.6);
		}
		var _g = 0;
		var _g1 = this.alphabetArray.length;
		while(_g < _g1) {
			var i = _g++;
			var spr = this.alphabetArray[i];
			spr.set_alpha(spr.alpha + elapsed * 2.5);
		}
		if(this.week == -1) {
			var fh = this.icon;
			fh.set_alpha(fh.alpha + elapsed * 2.5);
		}
		if(PlayerSettings.player1.controls._ui_leftP.check() || PlayerSettings.player1.controls._ui_rightP.check()) {
			flixel_FlxG.sound.play(Paths.sound("scrollMenu"),1);
			this.onYes = !this.onYes;
			this.updateOptions();
		}
		if(PlayerSettings.player1.controls._back.check()) {
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"),1);
			MusicBeatState.resetState();
		} else if(PlayerSettings.player1.controls._accept.check()) {
			if(this.onYes) {
				if(this.week == -1) {
					Highscore.resetSong(this.song,this.difficulty);
				} else {
					Highscore.resetWeek(WeekData.weeksList[this.week],this.difficulty);
				}
			}
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"),1);
			MusicBeatState.resetState();
		}
		MusicBeatSubstate.prototype.update.call(this,elapsed);
	}
	,updateOptions: function() {
		var scales = [0.75,1];
		var alphas = [0.6,1.25];
		var confirmInt = this.onYes ? 1 : 0;
		this.yesText.set_alpha(alphas[confirmInt]);
		this.yesText.scale.set(scales[confirmInt],scales[confirmInt]);
		this.noText.set_alpha(alphas[1 - confirmInt]);
		this.noText.scale.set(scales[1 - confirmInt],scales[1 - confirmInt]);
		if(this.week == -1) {
			this.icon.animation._curAnim.set_curFrame(confirmInt);
		}
	}
	,__class__: ResetScoreSubState
});
var Section = function(lengthInSteps) {
	if(lengthInSteps == null) {
		lengthInSteps = 16;
	}
	this.mustHitSection = true;
	this.typeOfSection = 0;
	this.gfSection = false;
	this.lengthInSteps = 16;
	this.sectionNotes = [];
	this.lengthInSteps = lengthInSteps;
};
$hxClasses["Section"] = Section;
Section.__name__ = "Section";
Section.prototype = {
	sectionNotes: null
	,lengthInSteps: null
	,gfSection: null
	,typeOfSection: null
	,mustHitSection: null
	,__class__: Section
};
var Song = function(song,notes,bpm) {
	this.gfVersion = "gf";
	this.player3 = "gf";
	this.player2 = "dad";
	this.player1 = "bf";
	this.speed = 1;
	this.needsVoices = true;
	this.song = song;
	this.notes = notes;
	this.bpm = bpm;
};
$hxClasses["Song"] = Song;
Song.__name__ = "Song";
Song.onLoadJson = function(songJson) {
	if(songJson.gfVersion == null) {
		songJson.gfVersion = songJson.player3;
		songJson.player3 = null;
	}
	if(songJson.events == null) {
		songJson.events = [];
		var _g = 0;
		var _g1 = songJson.notes.length;
		while(_g < _g1) {
			var secNum = _g++;
			var sec = songJson.notes[secNum];
			var i = 0;
			var notes = sec.sectionNotes;
			var len = notes.length;
			while(i < len) {
				var note = notes[i];
				if(note[1] < 0) {
					songJson.events.push([note[0],[[note[2],note[3],note[4]]]]);
					HxOverrides.remove(notes,note);
					len = notes.length;
				} else {
					++i;
				}
			}
		}
	}
};
Song.loadFromJson = function(jsonInput,folder) {
	var rawJson = null;
	var formattedFolder = StringTools.replace(folder.toLowerCase()," ","-");
	var formattedSong = StringTools.replace(jsonInput.toLowerCase()," ","-");
	if(rawJson == null) {
		rawJson = StringTools.trim(lime_utils_Assets.getText(Paths.getPath("data/" + (formattedFolder + "/" + formattedSong) + ".json","TEXT",null)));
	}
	while(!StringTools.endsWith(rawJson,"}")) rawJson = HxOverrides.substr(rawJson,0,rawJson.length - 1);
	var songJson = Song.parseJSONshit(rawJson);
	if(jsonInput != "events") {
		StageData.loadDirectory(songJson);
	}
	Song.onLoadJson(songJson);
	return songJson;
};
Song.parseJSONshit = function(rawJson) {
	var swagShit = JSON.parse(rawJson).song;
	swagShit.validScore = true;
	return swagShit;
};
Song.prototype = {
	song: null
	,notes: null
	,events: null
	,bpm: null
	,needsVoices: null
	,arrowSkin: null
	,splashSkin: null
	,speed: null
	,stage: null
	,player1: null
	,player2: null
	,player3: null
	,gfVersion: null
	,__class__: Song
};
var StageData = function() { };
$hxClasses["StageData"] = StageData;
StageData.__name__ = "StageData";
StageData.loadDirectory = function(SONG) {
	var stage = "";
	if(SONG.stage != null) {
		stage = SONG.stage;
	} else if(SONG.song != null) {
		switch(StringTools.replace(SONG.song.toLowerCase()," ","-")) {
		case "cocoa":case "eggnog":
			stage = "mall";
			break;
		case "monster":case "south":case "spookeez":
			stage = "spooky";
			break;
		case "blammed":case "philly":case "philly-nice":case "pico":
			stage = "philly";
			break;
		case "high":case "milf":case "satin-panties":
			stage = "limo";
			break;
		case "roses":case "senpai":
			stage = "school";
			break;
		case "thorns":
			stage = "schoolEvil";
			break;
		case "winter-horrorland":
			stage = "mallEvil";
			break;
		default:
			stage = "stage";
		}
	} else {
		stage = "stage";
	}
	var stageFile = StageData.getStageFile(stage);
	if(stageFile == null) {
		StageData.forceNextDirectory = "";
	} else {
		StageData.forceNextDirectory = stageFile.directory;
	}
};
StageData.getStageFile = function(stage) {
	var rawJson = null;
	var path = Main.getDataPath();
	var file = "stages/" + stage + ".json";
	if(file == null) {
		file = "";
	}
	var path1 = path + ("assets/" + file);
	if(openfl_utils_Assets.exists(path1)) {
		rawJson = openfl_utils_Assets.getText(path1);
	} else {
		return null;
	}
	return JSON.parse(rawJson);
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = "Std";
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	if(x != null) {
		var _g = 0;
		var _g1 = x.length;
		while(_g < _g1) {
			var i = _g++;
			var c = x.charCodeAt(i);
			if(c <= 8 || c >= 14 && c != 32 && c != 45) {
				var nc = x.charCodeAt(i + 1);
				var v = parseInt(x,nc == 120 || nc == 88 ? 16 : 10);
				if(isNaN(v)) {
					return null;
				} else {
					return v;
				}
			}
		}
	}
	return null;
};
var StoryMenuState = function(TransIn,TransOut) {
	this.intendedScore = 0;
	this.lerpScore = 0;
	this.stopspamming = false;
	this.selectedWeek = false;
	this.movedBack = false;
	this.curDifficulty = 1;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["StoryMenuState"] = StoryMenuState;
StoryMenuState.__name__ = "StoryMenuState";
StoryMenuState.__super__ = MusicBeatState;
StoryMenuState.prototype = $extend(MusicBeatState.prototype,{
	scoreText: null
	,curDifficulty: null
	,txtWeekTitle: null
	,bgSprite: null
	,txtTracklist: null
	,grpWeekText: null
	,grpWeekCharacters: null
	,grpLocks: null
	,difficultySelectors: null
	,sprDifficulty: null
	,leftArrow: null
	,rightArrow: null
	,create: function() {
		PlayState.isStoryMode = true;
		WeekData.reloadWeekFiles(true);
		if(StoryMenuState.curWeek >= WeekData.weeksList.length) {
			StoryMenuState.curWeek = 0;
		}
		this.persistentUpdate = this.persistentDraw = true;
		this.scoreText = new flixel_text_FlxText(10,10,0,"SCORE: 49324858",36);
		this.scoreText.setFormat("VCR OSD Mono",32);
		this.txtWeekTitle = new flixel_text_FlxText(flixel_FlxG.width * 0.7,10,0,"",32);
		this.txtWeekTitle.setFormat("VCR OSD Mono",32,-1,"right");
		this.txtWeekTitle.set_alpha(0.7);
		var rankText = new flixel_text_FlxText(0,10);
		rankText.set_text("RANK: GREAT");
		rankText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32);
		rankText.set_size(this.scoreText._defaultFormat.size | 0);
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rankText.set_x((flixel_FlxG.width - rankText.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rankText.set_y((flixel_FlxG.height - rankText.get_height()) / 2);
		}
		var library = null;
		var ui_tex = flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "campaign_menu_UI_assets" + ".png","IMAGE",library),Paths.getPath("images/" + "campaign_menu_UI_assets" + ".xml","TEXT",library));
		var bgYellow = new flixel_FlxSprite(0,56).makeGraphic(flixel_FlxG.width,386,-405679);
		this.bgSprite = new flixel_FlxSprite(0,56);
		this.bgSprite.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.grpWeekText = new flixel_group_FlxTypedGroup();
		this.add(this.grpWeekText);
		var blackBarThingie = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,56,-16777216);
		this.add(blackBarThingie);
		this.grpWeekCharacters = new flixel_group_FlxTypedGroup();
		this.grpLocks = new flixel_group_FlxTypedGroup();
		this.add(this.grpLocks);
		var _g = 0;
		var _g1 = WeekData.weeksList.length;
		while(_g < _g1) {
			var i = _g++;
			WeekData.setDirectoryFromWeek(WeekData.weeksLoaded.h[WeekData.weeksList[i]]);
			var weekThing = new MenuItem(0,this.bgSprite.y + 396,WeekData.weeksList[i]);
			weekThing.set_y(weekThing.y + (weekThing.get_height() + 20) * i);
			weekThing.targetY = i;
			this.grpWeekText.add(weekThing);
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				weekThing.set_x((flixel_FlxG.width - weekThing.get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				weekThing.set_y((flixel_FlxG.height - weekThing.get_height()) / 2);
			}
			weekThing.set_antialiasing(ClientPrefs.globalAntialiasing);
			if(this.weekIsLocked(i)) {
				var lock = new flixel_FlxSprite(weekThing.get_width() + 10 + weekThing.x);
				lock.set_frames(ui_tex);
				lock.animation.addByPrefix("lock","lock");
				lock.animation.play("lock");
				lock.ID = i;
				lock.set_antialiasing(ClientPrefs.globalAntialiasing);
				this.grpLocks.add(lock);
			}
		}
		WeekData.setDirectoryFromWeek(WeekData.weeksLoaded.h[WeekData.weeksList[0]]);
		var charArray = WeekData.weeksLoaded.h[WeekData.weeksList[0]].weekCharacters;
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 - 150,charArray[0]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 2 - 150,charArray[1]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 3 - 150,charArray[2]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		this.difficultySelectors = new flixel_group_FlxTypedGroup();
		this.add(this.difficultySelectors);
		this.leftArrow = new flixel_FlxSprite(this.grpWeekText.members[0].x + this.grpWeekText.members[0].get_width() + 10,this.grpWeekText.members[0].y + 10);
		this.leftArrow.set_frames(ui_tex);
		this.leftArrow.animation.addByPrefix("idle","arrow left");
		this.leftArrow.animation.addByPrefix("press","arrow push left");
		this.leftArrow.animation.play("idle");
		this.leftArrow.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.difficultySelectors.add(this.leftArrow);
		CoolUtil.difficulties = CoolUtil.defaultDifficulties.slice();
		if(StoryMenuState.lastDifficultyName == "") {
			StoryMenuState.lastDifficultyName = CoolUtil.defaultDifficulty;
		}
		this.curDifficulty = Math.round(Math.max(0,CoolUtil.defaultDifficulties.indexOf(StoryMenuState.lastDifficultyName)));
		this.sprDifficulty = new flixel_FlxSprite(0,this.leftArrow.y);
		this.sprDifficulty.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.changeDifficulty();
		this.difficultySelectors.add(this.sprDifficulty);
		this.rightArrow = new flixel_FlxSprite(this.leftArrow.x + 376,this.leftArrow.y);
		this.rightArrow.set_frames(ui_tex);
		this.rightArrow.animation.addByPrefix("idle","arrow right");
		this.rightArrow.animation.addByPrefix("press","arrow push right",24,false);
		this.rightArrow.animation.play("idle");
		this.rightArrow.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.difficultySelectors.add(this.rightArrow);
		this.add(bgYellow);
		this.add(this.bgSprite);
		this.add(this.grpWeekCharacters);
		var tracksSprite = new flixel_FlxSprite(flixel_FlxG.width * 0.07,this.bgSprite.y + 425).loadGraphic(Paths.getPath("images/" + "Menu_Tracks" + ".png","IMAGE",null));
		tracksSprite.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(tracksSprite);
		this.txtTracklist = new flixel_text_FlxText(flixel_FlxG.width * 0.05,tracksSprite.y + 60,0,"",32);
		this.txtTracklist.set_alignment("center");
		this.txtTracklist.set_font(rankText._font);
		this.txtTracklist.set_color(-1747081);
		this.add(this.txtTracklist);
		this.add(this.scoreText);
		this.add(this.txtWeekTitle);
		this.changeWeek();
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B_X_Y);
		MusicBeatState.prototype.create.call(this);
	}
	,closeSubState: function() {
		this.persistentUpdate = true;
		this.changeWeek();
		MusicBeatState.prototype.closeSubState.call(this);
	}
	,update: function(elapsed) {
		var _gthis = this;
		var a = this.lerpScore;
		this.lerpScore = Math.floor(a + Math.max(0,Math.min(1,elapsed * 30)) * (this.intendedScore - a));
		if(Math.abs(this.intendedScore - this.lerpScore) < 10) {
			this.lerpScore = this.intendedScore;
		}
		this.scoreText.set_text("WEEK SCORE:" + this.lerpScore);
		this.difficultySelectors.set_visible(!this.weekIsLocked(StoryMenuState.curWeek));
		if(!this.movedBack && !this.selectedWeek) {
			var upP = PlayerSettings.player1.controls._ui_upP.check();
			var downP = PlayerSettings.player1.controls._ui_downP.check();
			if(upP) {
				this.changeWeek(-1);
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
			}
			if(downP) {
				this.changeWeek(1);
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(17,_this.status) || this._virtualpad.buttonX.input.current == 2) {
				this.openSubState(new GameplayChangersSubstate());
			} else if(PlayerSettings.player1.controls._reset.check() || this._virtualpad.buttonY.input.current == 2) {
				this.persistentUpdate = false;
				this.openSubState(new ResetScoreSubState("",this.curDifficulty,"",StoryMenuState.curWeek));
			} else if(PlayerSettings.player1.controls._accept.check()) {
				this.selectWeek();
			}
		}
		if(PlayerSettings.player1.controls._back.check() && !this.movedBack && !this.selectedWeek) {
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
			this.movedBack = true;
			MusicBeatState.switchState(new MainMenuState());
		}
		MusicBeatState.prototype.update.call(this,elapsed);
		this.grpLocks.forEach(function(lock) {
			lock.set_y(_gthis.grpWeekText.members[lock.ID].y);
		});
	}
	,movedBack: null
	,selectedWeek: null
	,stopspamming: null
	,selectWeek: function() {
		if(!this.weekIsLocked(StoryMenuState.curWeek)) {
			if(this.stopspamming == false) {
				flixel_FlxG.sound.play(Paths.sound("confirmMenu"));
				this.grpWeekText.members[StoryMenuState.curWeek].startFlashing();
				if(this.grpWeekCharacters.members[1].character != "") {
					this.grpWeekCharacters.members[1].animation.play("confirm");
				}
				this.stopspamming = true;
			}
			var songArray = [];
			var leWeek = WeekData.weeksLoaded.h[WeekData.weeksList[StoryMenuState.curWeek]].songs;
			var _g = 0;
			var _g1 = leWeek.length;
			while(_g < _g1) {
				var i = _g++;
				songArray.push(leWeek[i][0]);
			}
			PlayState.storyPlaylist = songArray;
			PlayState.isStoryMode = true;
			this.selectedWeek = true;
			var diffic = CoolUtil.getDifficultyFilePath(this.curDifficulty);
			if(diffic == null) {
				diffic = "";
			}
			PlayState.storyDifficulty = this.curDifficulty;
			PlayState.SONG = Song.loadFromJson(PlayState.storyPlaylist[0].toLowerCase() + diffic,PlayState.storyPlaylist[0].toLowerCase());
			PlayState.campaignScore = 0;
			PlayState.campaignMisses = 0;
			new flixel_util_FlxTimer().start(1,function(tmr) {
				var target = new PlayState();
				var stopMusic = true;
				if(stopMusic == null) {
					stopMusic = false;
				}
				MusicBeatState.switchState(LoadingState.getNextState(target,stopMusic));
				FreeplayState.destroyFreeplayVocals();
			});
		} else {
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
		}
	}
	,tweenDifficulty: null
	,lastImagePath: null
	,changeDifficulty: function(change) {
		if(change == null) {
			change = 0;
		}
		var _gthis = this;
		this.curDifficulty += change;
		if(this.curDifficulty < 0) {
			this.curDifficulty = CoolUtil.difficulties.length - 1;
		}
		if(this.curDifficulty >= CoolUtil.difficulties.length) {
			this.curDifficulty = 0;
		}
		var image = Paths.getPath("images/" + ("menudifficulties/" + StringTools.replace(CoolUtil.difficulties[this.curDifficulty].toLowerCase()," ","-")) + ".png","IMAGE",null);
		var newImagePath = "";
		if(((image) instanceof flixel_graphics_FlxGraphic)) {
			var graphic = image;
			newImagePath = graphic.assetsKey;
		} else {
			newImagePath = image;
		}
		if(newImagePath != this.lastImagePath) {
			this.sprDifficulty.loadGraphic(image);
			this.sprDifficulty.set_x(this.leftArrow.x + 60);
			var fh = this.sprDifficulty;
			fh.set_x(fh.x + (308 - this.sprDifficulty.get_width()) / 2);
			this.sprDifficulty.set_alpha(0);
			this.sprDifficulty.set_y(this.leftArrow.y - 15);
			if(this.tweenDifficulty != null) {
				this.tweenDifficulty.cancel();
			}
			this.tweenDifficulty = flixel_tweens_FlxTween.tween(this.sprDifficulty,{ y : this.leftArrow.y + 15, alpha : 1},0.07,{ onComplete : function(twn) {
				_gthis.tweenDifficulty = null;
			}});
		}
		this.lastImagePath = newImagePath;
		StoryMenuState.lastDifficultyName = CoolUtil.difficulties[this.curDifficulty];
		this.intendedScore = Highscore.getWeekScore(WeekData.weeksList[StoryMenuState.curWeek],this.curDifficulty);
	}
	,lerpScore: null
	,intendedScore: null
	,changeWeek: function(change) {
		if(change == null) {
			change = 0;
		}
		StoryMenuState.curWeek += change;
		if(StoryMenuState.curWeek >= WeekData.weeksList.length) {
			StoryMenuState.curWeek = 0;
		}
		if(StoryMenuState.curWeek < 0) {
			StoryMenuState.curWeek = WeekData.weeksList.length - 1;
		}
		var leWeek = WeekData.weeksLoaded.h[WeekData.weeksList[StoryMenuState.curWeek]];
		WeekData.setDirectoryFromWeek(leWeek);
		var leName = leWeek.storyName;
		this.txtWeekTitle.set_text(leName.toUpperCase());
		this.txtWeekTitle.set_x(flixel_FlxG.width - (this.txtWeekTitle.get_width() + 10));
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.grpWeekText.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - StoryMenuState.curWeek;
			if(item.targetY == 0 && !this.weekIsLocked(StoryMenuState.curWeek)) {
				item.set_alpha(1);
			} else {
				item.set_alpha(0.6);
			}
			++bullShit;
		}
		this.bgSprite.set_visible(true);
		var assetName = leWeek.weekBackground;
		if(assetName == null || assetName.length < 1) {
			this.bgSprite.set_visible(false);
		} else {
			this.bgSprite.loadGraphic(Paths.getPath("images/" + ("menubackgrounds/menu_" + assetName) + ".png","IMAGE",null));
		}
		PlayState.storyWeek = StoryMenuState.curWeek;
		CoolUtil.difficulties = CoolUtil.defaultDifficulties.slice();
		var diffStr = WeekData.getCurrentWeek().difficulties;
		if(diffStr != null) {
			diffStr = StringTools.trim(diffStr);
		}
		if(diffStr != null && diffStr.length > 0) {
			var diffs = diffStr.split(",");
			var i = diffs.length - 1;
			while(i > 0) {
				if(diffs[i] != null) {
					diffs[i] = StringTools.trim(diffs[i]);
					if(diffs[i].length < 1) {
						HxOverrides.remove(diffs,diffs[i]);
					}
				}
				--i;
			}
			if(diffs.length > 0 && diffs[0].length > 0) {
				CoolUtil.difficulties = diffs;
			}
		}
		this.curDifficulty = Math.round(Math.max(0,CoolUtil.defaultDifficulties.indexOf(CoolUtil.defaultDifficulty)));
		var newPos = CoolUtil.difficulties.indexOf(StoryMenuState.lastDifficultyName);
		if(newPos > -1) {
			this.curDifficulty = newPos;
		}
		this.updateText();
	}
	,weekIsLocked: function(weekNum) {
		var leWeek = WeekData.weeksLoaded.h[WeekData.weeksList[weekNum]];
		if(!leWeek.startUnlocked && leWeek.weekBefore.length > 0) {
			if(Object.prototype.hasOwnProperty.call(StoryMenuState.weekCompleted.h,leWeek.weekBefore)) {
				return !StoryMenuState.weekCompleted.h[leWeek.weekBefore];
			} else {
				return true;
			}
		} else {
			return false;
		}
	}
	,updateText: function() {
		var weekArray = WeekData.weeksLoaded.h[WeekData.weeksList[StoryMenuState.curWeek]].weekCharacters;
		var _g = 0;
		var _g1 = this.grpWeekCharacters.length;
		while(_g < _g1) {
			var i = _g++;
			this.grpWeekCharacters.members[i].changeCharacter(weekArray[i]);
		}
		var leWeek = WeekData.weeksLoaded.h[WeekData.weeksList[StoryMenuState.curWeek]];
		var stringThing = [];
		var _g = 0;
		var _g1 = leWeek.songs.length;
		while(_g < _g1) {
			var i = _g++;
			stringThing.push(leWeek.songs[i][0]);
		}
		this.txtTracklist.set_text("");
		var _g = 0;
		var _g1 = stringThing.length;
		while(_g < _g1) {
			var i = _g++;
			var fh = this.txtTracklist;
			fh.set_text(fh.text + (stringThing[i] + "\n"));
		}
		this.txtTracklist.set_text(this.txtTracklist.text.toUpperCase());
		var _this = this.txtTracklist;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		var fh = this.txtTracklist;
		fh.set_x(fh.x - flixel_FlxG.width * 0.35);
		this.intendedScore = Highscore.getWeekScore(WeekData.weeksList[StoryMenuState.curWeek],this.curDifficulty);
	}
	,__class__: StoryMenuState
});
var _$String_String_$Impl_$ = function() { };
$hxClasses["_String.String_Impl_"] = _$String_String_$Impl_$;
_$String_String_$Impl_$.__name__ = "_String.String_Impl_";
_$String_String_$Impl_$.fromCharCode = function(code) {
	return String.fromCodePoint(code);
};
var StringBuf = function() {
	this.b = "";
};
$hxClasses["StringBuf"] = StringBuf;
StringBuf.__name__ = "StringBuf";
StringBuf.prototype = {
	b: null
	,__class__: StringBuf
};
var StringTools = function() { };
$hxClasses["StringTools"] = StringTools;
StringTools.__name__ = "StringTools";
StringTools.htmlEscape = function(s,quotes) {
	var buf_b = "";
	var _g_offset = 0;
	var _g_s = s;
	while(_g_offset < _g_s.length) {
		var s = _g_s;
		var index = _g_offset++;
		var c = s.charCodeAt(index);
		if(c >= 55296 && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(index + 1) & 1023;
		}
		var c1 = c;
		if(c1 >= 65536) {
			++_g_offset;
		}
		var code = c1;
		switch(code) {
		case 34:
			if(quotes) {
				buf_b += "&quot;";
			} else {
				buf_b += String.fromCodePoint(code);
			}
			break;
		case 38:
			buf_b += "&amp;";
			break;
		case 39:
			if(quotes) {
				buf_b += "&#039;";
			} else {
				buf_b += String.fromCodePoint(code);
			}
			break;
		case 60:
			buf_b += "&lt;";
			break;
		case 62:
			buf_b += "&gt;";
			break;
		default:
			buf_b += String.fromCodePoint(code);
		}
	}
	return buf_b;
};
StringTools.htmlUnescape = function(s) {
	return s.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join("\"").split("&#039;").join("'").split("&amp;").join("&");
};
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return s.lastIndexOf(start,0) == 0;
	} else {
		return false;
	}
};
StringTools.endsWith = function(s,end) {
	var elen = end.length;
	var slen = s.length;
	if(slen >= elen) {
		return s.indexOf(end,slen - elen) == slen - elen;
	} else {
		return false;
	}
};
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
StringTools.hex = function(n,digits) {
	var s = "";
	var hexChars = "0123456789ABCDEF";
	while(true) {
		s = hexChars.charAt(n & 15) + s;
		n >>>= 4;
		if(!(n > 0)) {
			break;
		}
	}
	if(digits != null) {
		while(s.length < digits) s = "0" + s;
	}
	return s;
};
var StrumNote = function(x,y,leData,player) {
	this.texture = null;
	this.direction = 30;
	this.noteData = 0;
	this.resetAnim = 0;
	this.colorSwap = new ColorSwap();
	this.shader = this.colorSwap.shader;
	this.noteData = leData;
	this.player = player;
	this.noteData = leData;
	flixel_FlxSprite.call(this,x,y);
	var skin = "NOTE_assets";
	if(PlayState.SONG.arrowSkin != null && PlayState.SONG.arrowSkin.length > 1) {
		skin = PlayState.SONG.arrowSkin;
	}
	this.set_texture(skin);
	this.scrollFactor.set();
};
$hxClasses["StrumNote"] = StrumNote;
StrumNote.__name__ = "StrumNote";
StrumNote.__super__ = flixel_FlxSprite;
StrumNote.prototype = $extend(flixel_FlxSprite.prototype,{
	colorSwap: null
	,resetAnim: null
	,noteData: null
	,direction: null
	,player: null
	,texture: null
	,set_texture: function(value) {
		if(this.texture != value) {
			this.texture = value;
			this.reloadNote();
		}
		return value;
	}
	,reloadNote: function() {
		var lastAnim = null;
		if(this.animation._curAnim != null) {
			lastAnim = this.animation._curAnim.name;
		}
		if(PlayState.isPixelStage) {
			this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + this.texture) + ".png","IMAGE",null));
			this.set_width(this.get_width() / 4);
			this.set_height(this.get_height() / 5);
			this.loadGraphic(Paths.getPath("images/" + ("pixelUI/" + this.texture) + ".png","IMAGE",null),true,Math.floor(this.get_width()),Math.floor(this.get_height()));
			this.set_antialiasing(false);
			this.setGraphicSize(this.get_width() * PlayState.daPixelZoom | 0);
			this.animation.add("green",[6]);
			this.animation.add("red",[7]);
			this.animation.add("blue",[5]);
			this.animation.add("purple",[4]);
			switch(Math.abs(this.noteData)) {
			case 0:
				this.animation.add("static",[0]);
				this.animation.add("pressed",[4,8],12,false);
				this.animation.add("confirm",[12,16],24,false);
				break;
			case 1:
				this.animation.add("static",[1]);
				this.animation.add("pressed",[5,9],12,false);
				this.animation.add("confirm",[13,17],24,false);
				break;
			case 2:
				this.animation.add("static",[2]);
				this.animation.add("pressed",[6,10],12,false);
				this.animation.add("confirm",[14,18],12,false);
				break;
			case 3:
				this.animation.add("static",[3]);
				this.animation.add("pressed",[7,11],12,false);
				this.animation.add("confirm",[15,19],24,false);
				break;
			}
		} else {
			var key = this.texture;
			var library = null;
			this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
			this.animation.addByPrefix("green","arrowUP");
			this.animation.addByPrefix("blue","arrowDOWN");
			this.animation.addByPrefix("purple","arrowLEFT");
			this.animation.addByPrefix("red","arrowRIGHT");
			this.set_antialiasing(ClientPrefs.globalAntialiasing);
			this.setGraphicSize(this.get_width() * 0.7 | 0);
			switch(Math.abs(this.noteData)) {
			case 0:
				this.animation.addByPrefix("static","arrowLEFT");
				this.animation.addByPrefix("pressed","left press",24,false);
				this.animation.addByPrefix("confirm","left confirm",24,false);
				break;
			case 1:
				this.animation.addByPrefix("static","arrowDOWN");
				this.animation.addByPrefix("pressed","down press",24,false);
				this.animation.addByPrefix("confirm","down confirm",24,false);
				break;
			case 2:
				this.animation.addByPrefix("static","arrowUP");
				this.animation.addByPrefix("pressed","up press",24,false);
				this.animation.addByPrefix("confirm","up confirm",24,false);
				break;
			case 3:
				this.animation.addByPrefix("static","arrowRIGHT");
				this.animation.addByPrefix("pressed","right press",24,false);
				this.animation.addByPrefix("confirm","right confirm",24,false);
				break;
			}
		}
		this.updateHitbox();
		if(lastAnim != null) {
			this.playAnim(lastAnim,true);
		}
	}
	,postAddedToGroup: function() {
		this.playAnim("static");
		this.set_x(this.x + Note.swagWidth * this.noteData);
		this.set_x(this.x + 50);
		this.set_x(this.x + flixel_FlxG.width / 2 * this.player);
		this.ID = this.noteData;
	}
	,update: function(elapsed) {
		if(this.resetAnim > 0) {
			this.resetAnim -= elapsed;
			if(this.resetAnim <= 0) {
				this.playAnim("static");
				this.resetAnim = 0;
			}
		}
		if(this.animation._curAnim.name == "confirm" && !PlayState.isPixelStage) {
			this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,playAnim: function(anim,force) {
		if(force == null) {
			force = false;
		}
		this.animation.play(anim,force);
		this.centerOffsets();
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
		if(this.animation._curAnim == null || this.animation._curAnim.name == "static") {
			this.colorSwap.set_hue(0);
			this.colorSwap.set_saturation(0);
			this.colorSwap.set_brightness(0);
		} else {
			this.colorSwap.set_hue(ClientPrefs.arrowHSV[this.noteData % 4][0] / 360);
			this.colorSwap.set_saturation(ClientPrefs.arrowHSV[this.noteData % 4][1] / 100);
			this.colorSwap.set_brightness(ClientPrefs.arrowHSV[this.noteData % 4][2] / 100);
			if(this.animation._curAnim.name == "confirm" && !PlayState.isPixelStage) {
				this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
			}
		}
	}
	,__class__: StrumNote
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_texture:"set_texture"})
});
var TitleState = function(TransIn,TransOut) {
	this.skippedIntro = false;
	this.sickBeats = 0;
	this.transitioning = false;
	this.swagShader = null;
	this.danceLeft = false;
	this.mustUpdate = false;
	this.lastKeysPressed = [];
	this.easterEggKeyCombination = [66,66];
	this.easterEggEnabled = true;
	this.curWacky = [];
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["TitleState"] = TitleState;
TitleState.__name__ = "TitleState";
TitleState.__super__ = MusicBeatState;
TitleState.prototype = $extend(MusicBeatState.prototype,{
	blackScreen: null
	,credGroup: null
	,credTextShit: null
	,textGroup: null
	,ngSpr: null
	,curWacky: null
	,wackyImage: null
	,easterEggEnabled: null
	,easterEggKeyCombination: null
	,lastKeysPressed: null
	,mustUpdate: null
	,titleJSON: null
	,create: function() {
		var _gthis = this;
		var file = "images/gfDanceTitle.json";
		if(file == null) {
			file = "";
		}
		var path = "assets/" + file;
		this.titleJSON = JSON.parse(openfl_utils_Assets.getText(path));
		flixel_FlxG.game.focusLostFramerate = 60;
		flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
		flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
		flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
		flixel_FlxG.keys.preventDefaultKeys = [9];
		PlayerSettings.init();
		this.curWacky = flixel_FlxG.random.getObject_Array_String(this.getIntroTextShit());
		this.swagShader = new ColorSwap();
		MusicBeatState.prototype.create.call(this);
		flixel_FlxG.save.bind("funkin","ninjamuffin99");
		ClientPrefs.loadPrefs();
		Highscore.load();
		if(flixel_FlxG.save.data.weekCompleted != null) {
			StoryMenuState.weekCompleted = flixel_FlxG.save.data.weekCompleted;
		}
		flixel_FlxG.mouse.set_visible(false);
		if(flixel_FlxG.save.data.flashing == null && !FlashingState.leftState) {
			flixel_addons_transition_FlxTransitionableState.skipNextTransIn = true;
			flixel_addons_transition_FlxTransitionableState.skipNextTransOut = true;
			MusicBeatState.switchState(new FlashingState());
		} else {
			new flixel_util_FlxTimer().start(1,function(tmr) {
				_gthis.startIntro();
			});
		}
	}
	,logoBl: null
	,gfDance: null
	,danceLeft: null
	,titleText: null
	,swagShader: null
	,startIntro: function() {
		if(!TitleState.initialized) {
			if(flixel_FlxG.sound.music == null) {
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null),0);
				var _this = flixel_FlxG.sound.music;
				var Duration = 4;
				var From = 0;
				var To = 0.7;
				if(To == null) {
					To = 1;
				}
				if(From == null) {
					From = 0;
				}
				if(Duration == null) {
					Duration = 1;
				}
				if(_this._channel == null) {
					_this.play();
				}
				if(_this.fadeTween != null) {
					_this.fadeTween.cancel();
				}
				_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
			}
		}
		Conductor.changeBPM(this.titleJSON.bpm);
		this.persistentUpdate = true;
		var bg = new flixel_FlxSprite();
		if(this.titleJSON.backgroundSprite != null && this.titleJSON.backgroundSprite.length > 0 && this.titleJSON.backgroundSprite != "none") {
			bg.loadGraphic(Paths.getPath("images/" + this.titleJSON.backgroundSprite + ".png","IMAGE",null));
		} else {
			bg.makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		}
		this.add(bg);
		this.logoBl = new flixel_FlxSprite(this.titleJSON.titlex,this.titleJSON.titley);
		var library = null;
		this.logoBl.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "logoBumpin" + ".png","IMAGE",library),Paths.getPath("images/" + "logoBumpin" + ".xml","TEXT",library)));
		this.logoBl.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.logoBl.animation.addByPrefix("bump","logo bumpin",24,false);
		this.logoBl.animation.play("bump");
		this.logoBl.updateHitbox();
		this.swagShader = new ColorSwap();
		this.gfDance = new flixel_FlxSprite(this.titleJSON.gfx,this.titleJSON.gfy);
		var library = null;
		this.gfDance.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "gfDanceTitle" + ".png","IMAGE",library),Paths.getPath("images/" + "gfDanceTitle" + ".xml","TEXT",library)));
		this.gfDance.animation.addByIndices("danceLeft","gfDance",[0,1,2],"",24,true);
		this.gfDance.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.gfDance);
		this.gfDance.shader = this.swagShader.shader;
		this.add(this.logoBl);
		this.titleText = new flixel_FlxSprite(this.titleJSON.startx,this.titleJSON.starty);
		var library = null;
		this.titleText.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "titleEnter" + ".png","IMAGE",library),Paths.getPath("images/" + "titleEnter" + ".xml","TEXT",library)));
		this.titleText.animation.addByPrefix("idle","Press Enter to Begin",24);
		this.titleText.animation.addByPrefix("press","ENTER PRESSED",24);
		this.titleText.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.titleText.animation.play("idle");
		this.titleText.updateHitbox();
		this.add(this.titleText);
		var logo = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "logo" + ".png","IMAGE",null));
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			logo.set_x((flixel_FlxG.width - logo.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			logo.set_y((flixel_FlxG.height - logo.get_height()) / 2);
		}
		logo.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.credGroup = new flixel_group_FlxTypedGroup();
		this.add(this.credGroup);
		this.textGroup = new flixel_group_FlxTypedGroup();
		this.blackScreen = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		this.credGroup.add(this.blackScreen);
		this.credTextShit = new Alphabet(0,0,"",true);
		var _this = this.credTextShit;
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.credTextShit.set_visible(false);
		this.ngSpr = new flixel_FlxSprite(0,flixel_FlxG.height * 0.52).loadGraphic(Paths.getPath("images/" + "newgrounds_logo" + ".png","IMAGE",null));
		this.add(this.ngSpr);
		this.ngSpr.set_visible(false);
		this.ngSpr.setGraphicSize(this.ngSpr.get_width() * 0.8 | 0);
		this.ngSpr.updateHitbox();
		var _this = this.ngSpr;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.ngSpr.set_antialiasing(true);
		flixel_tweens_FlxTween.tween(this.credTextShit,{ y : this.credTextShit.y + 20},2.9,{ ease : flixel_tweens_FlxEase.quadInOut, type : 4});
		if(TitleState.initialized) {
			this.skipIntro();
		} else {
			TitleState.initialized = true;
		}
	}
	,getIntroTextShit: function() {
		var fullText = openfl_utils_Assets.getText(Paths.getPath("data/" + "introText" + ".txt","TEXT",null));
		var firstArray = fullText.split("\n");
		var swagGoodArray = [];
		var _g = 0;
		while(_g < firstArray.length) {
			var i = firstArray[_g];
			++_g;
			swagGoodArray.push(i.split("--"));
		}
		return swagGoodArray;
	}
	,transitioning: null
	,update: function(elapsed) {
		var _gthis = this;
		if(flixel_FlxG.sound.music != null) {
			Conductor.songPosition = flixel_FlxG.sound.music._time;
		}
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatusUnsafe(70,_this.status)) {
			flixel_FlxG.set_fullscreen(!flixel_FlxG.get_fullscreen());
		}
		var _this = flixel_FlxG.keys.justPressed;
		var pressedEnter = _this.keyManager.checkStatusUnsafe(13,_this.status) || PlayerSettings.player1.controls._accept.check();
		var _g = 0;
		var _g1 = flixel_FlxG.touches.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			if(touch.input.current == 2) {
				pressedEnter = true;
			}
		}
		var gamepad = flixel_FlxG.gamepads.lastActive;
		if(gamepad != null) {
			var _this = gamepad.justPressed;
			var id = 7;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				pressedEnter = true;
			}
		}
		if(!this.transitioning && this.skippedIntro) {
			if(pressedEnter) {
				if(this.titleText != null) {
					this.titleText.animation.play("press");
				}
				flixel_FlxG.camera.flash(-1,1);
				flixel_FlxG.sound.play(Paths.sound("confirmMenu"),0.7);
				this.transitioning = true;
				new flixel_util_FlxTimer().start(1,function(tmr) {
					if(_gthis.mustUpdate) {
						MusicBeatState.switchState(new OutdatedState());
					} else {
						MusicBeatState.switchState(new MainMenuState());
					}
					TitleState.closedState = true;
				});
			} else if(this.easterEggEnabled) {
				var finalKey = flixel_FlxG.keys.firstJustPressed();
				if(finalKey != -1) {
					this.lastKeysPressed.push(finalKey);
					if(this.lastKeysPressed.length > this.easterEggKeyCombination.length) {
						this.lastKeysPressed.shift();
					}
					if(this.lastKeysPressed.length == this.easterEggKeyCombination.length) {
						var isDifferent = false;
						var _g = 0;
						var _g1 = this.lastKeysPressed.length;
						while(_g < _g1) {
							var i = _g++;
							if(this.lastKeysPressed[i] != this.easterEggKeyCombination[i]) {
								isDifferent = true;
								break;
							}
						}
					}
				}
			}
		}
		if(pressedEnter && !this.skippedIntro) {
			this.skipIntro();
		}
		if(this.swagShader != null) {
			if(PlayerSettings.player1.controls._ui_left.check()) {
				var fh = this.swagShader;
				fh.set_hue(fh.hue - elapsed * 0.1);
			}
			if(PlayerSettings.player1.controls._ui_right.check()) {
				var fh = this.swagShader;
				fh.set_hue(fh.hue + elapsed * 0.1);
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,createCoolText: function(textArray,offset) {
		if(offset == null) {
			offset = 0;
		}
		var _g = 0;
		var _g1 = textArray.length;
		while(_g < _g1) {
			var i = _g++;
			var money = new Alphabet(0,0,textArray[i],true,false);
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				money.set_x((flixel_FlxG.width - money.get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				money.set_y((flixel_FlxG.height - money.get_height()) / 2);
			}
			money.set_y(money.y + (i * 60 + 200 + offset));
			if(this.credGroup != null && this.textGroup != null) {
				this.credGroup.add(money);
				this.textGroup.add(money);
			}
		}
	}
	,addMoreText: function(text,offset) {
		if(offset == null) {
			offset = 0;
		}
		if(this.textGroup != null && this.credGroup != null) {
			var coolText = new Alphabet(0,0,text,true,false);
			var axes = flixel_util_FlxAxes.X;
			if(axes == null) {
				axes = flixel_util_FlxAxes.XY;
			}
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				coolText.set_x((flixel_FlxG.width - coolText.get_width()) / 2);
			}
			var tmp;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				coolText.set_y((flixel_FlxG.height - coolText.get_height()) / 2);
			}
			coolText.set_y(coolText.y + (this.textGroup.length * 60 + 200 + offset));
			this.credGroup.add(coolText);
			this.textGroup.add(coolText);
		}
	}
	,deleteCoolText: function() {
		while(this.textGroup.members.length > 0) {
			this.credGroup.remove(this.textGroup.members[0],true);
			this.textGroup.remove(this.textGroup.members[0],true);
		}
	}
	,sickBeats: null
	,beatHit: function() {
		MusicBeatState.prototype.beatHit.call(this);
		if(this.logoBl != null) {
			this.logoBl.animation.play("bump",true);
		}
		if(this.gfDance != null) {
			this.danceLeft = !this.danceLeft;
			this.gfDance.animation.play("danceLeft");
		}
		if(!TitleState.closedState) {
			this.sickBeats++;
			switch(this.sickBeats) {
			case 1:
				this.createCoolText(["Cn Takeover mobile by"],15);
				break;
			case 3:
				this.addMoreText("UNSTOP4BLE",15);
				break;
			case 4:
				this.deleteCoolText();
				break;
			case 5:
				this.createCoolText(["Not associated","with"],-40);
				break;
			case 7:
				this.addMoreText("newgrounds",-40);
				this.ngSpr.set_visible(true);
				break;
			case 8:
				this.deleteCoolText();
				this.ngSpr.set_visible(false);
				break;
			case 9:
				this.createCoolText([this.curWacky[0]]);
				break;
			case 11:
				this.addMoreText(this.curWacky[1]);
				break;
			case 12:
				this.deleteCoolText();
				break;
			case 13:
				this.addMoreText("FNF");
				break;
			case 14:
				this.addMoreText("Cn");
				break;
			case 15:
				this.addMoreText("Takeover");
				break;
			case 16:
				this.skipIntro();
				break;
			}
		}
	}
	,skippedIntro: null
	,skipIntro: function() {
		if(!this.skippedIntro) {
			this.remove(this.ngSpr);
			flixel_FlxG.camera.flash(-1,4);
			this.remove(this.credGroup);
			this.skippedIntro = true;
		}
	}
	,__class__: TitleState
});
var ValueType = $hxEnums["ValueType"] = { __ename__:"ValueType",__constructs__:null
	,TNull: {_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:$estr}
	,TInt: {_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:$estr}
	,TFloat: {_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:$estr}
	,TBool: {_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:$estr}
	,TObject: {_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:$estr}
	,TFunction: {_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:$estr}
	,TClass: ($_=function(c) { return {_hx_index:6,c:c,__enum__:"ValueType",toString:$estr}; },$_._hx_name="TClass",$_.__params__ = ["c"],$_)
	,TEnum: ($_=function(e) { return {_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}; },$_._hx_name="TEnum",$_.__params__ = ["e"],$_)
	,TUnknown: {_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:$estr}
};
ValueType.__constructs__ = [ValueType.TNull,ValueType.TInt,ValueType.TFloat,ValueType.TBool,ValueType.TObject,ValueType.TFunction,ValueType.TClass,ValueType.TEnum,ValueType.TUnknown];
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = "Type";
Type.getEnum = function(o) {
	if(o == null) {
		return null;
	}
	return $hxEnums[o.__enum__];
};
Type.resolveEnum = function(name) {
	return $hxEnums[name];
};
Type.createInstance = function(cl,args) {
	var ctor = Function.prototype.bind.apply(cl,[null].concat(args));
	return new (ctor);
};
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw haxe_Exception.thrown("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw haxe_Exception.thrown("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw haxe_Exception.thrown("Constructor " + constr + " does not need parameters");
	}
	return f;
};
Type.getInstanceFields = function(c) {
	var a = [];
	for(var i in c.prototype) a.push(i);
	HxOverrides.remove(a,"__class__");
	HxOverrides.remove(a,"__properties__");
	return a;
};
Type.getClassFields = function(c) {
	var a = Reflect.fields(c);
	HxOverrides.remove(a,"__name__");
	HxOverrides.remove(a,"__interfaces__");
	HxOverrides.remove(a,"__properties__");
	HxOverrides.remove(a,"__super__");
	HxOverrides.remove(a,"__meta__");
	HxOverrides.remove(a,"prototype");
	return a;
};
Type.typeof = function(v) {
	switch(typeof(v)) {
	case "boolean":
		return ValueType.TBool;
	case "function":
		if(v.__name__ || v.__ename__) {
			return ValueType.TObject;
		}
		return ValueType.TFunction;
	case "number":
		if(Math.ceil(v) == v % 2147483648.0) {
			return ValueType.TInt;
		}
		return ValueType.TFloat;
	case "object":
		if(v == null) {
			return ValueType.TNull;
		}
		var e = v.__enum__;
		if(e != null) {
			return ValueType.TEnum($hxEnums[e]);
		}
		var c = js_Boot.getClass(v);
		if(c != null) {
			return ValueType.TClass(c);
		}
		return ValueType.TObject;
	case "string":
		return ValueType.TClass(String);
	case "undefined":
		return ValueType.TNull;
	default:
		return ValueType.TUnknown;
	}
};
Type.enumEq = function(a,b) {
	if(a == b) {
		return true;
	}
	try {
		var e = a.__enum__;
		if(e == null || e != b.__enum__) {
			return false;
		}
		if(a._hx_index != b._hx_index) {
			return false;
		}
		var enm = $hxEnums[e];
		var params = enm.__constructs__[a._hx_index].__params__;
		var _g = 0;
		while(_g < params.length) {
			var f = params[_g];
			++_g;
			if(!Type.enumEq(a[f],b[f])) {
				return false;
			}
		}
	} catch( _g ) {
		haxe_NativeStackTrace.lastError = _g;
		return false;
	}
	return true;
};
Type.enumParameters = function(e) {
	var enm = $hxEnums[e.__enum__];
	var params = enm.__constructs__[e._hx_index].__params__;
	if(params != null) {
		var _g = [];
		var _g1 = 0;
		while(_g1 < params.length) {
			var p = params[_g1];
			++_g1;
			_g.push(e[p]);
		}
		return _g;
	} else {
		return [];
	}
};
var UInt = {};
UInt.gt = function(a,b) {
	var aNeg = a < 0;
	var bNeg = b < 0;
	if(aNeg != bNeg) {
		return aNeg;
	} else {
		return a > b;
	}
};
UInt.toFloat = function(this1) {
	var int = this1;
	if(int < 0) {
		return 4294967296.0 + int;
	} else {
		return int + 0.0;
	}
};
var UnicodeString = {};
UnicodeString.__properties__ = {get_length:"get_length"};
UnicodeString.charCodeAt = function(this1,index) {
	if(index < 0) {
		return null;
	}
	var unicodeOffset = 0;
	var nativeOffset = 0;
	while(nativeOffset < this1.length) {
		var index1 = nativeOffset++;
		var c = this1.charCodeAt(index1);
		if(c >= 55296 && c <= 56319) {
			c = c - 55232 << 10 | this1.charCodeAt(index1 + 1) & 1023;
		}
		var c1 = c;
		if(unicodeOffset == index) {
			return c1;
		}
		if(c1 >= 65536) {
			++nativeOffset;
		}
		++unicodeOffset;
	}
	return null;
};
UnicodeString.substr = function(this1,pos,len) {
	if(pos < 0) {
		pos = UnicodeString.get_length(this1) + pos;
		if(pos < 0) {
			pos = 0;
		}
	}
	if(len != null) {
		if(len < 0) {
			len = UnicodeString.get_length(this1) + len;
		}
		if(len <= 0) {
			return "";
		}
	}
	var unicodeOffset = 0;
	var nativeOffset = 0;
	var fromOffset = -1;
	var subLength = 0;
	while(nativeOffset < this1.length) {
		var c = this1.charCodeAt(nativeOffset);
		if(c >= 55296 && c <= 56319) {
			c = c - 55232 << 10 | this1.charCodeAt(nativeOffset + 1) & 1023;
		}
		var c1 = c;
		if(unicodeOffset >= pos) {
			if(fromOffset < 0) {
				if(len == null) {
					return HxOverrides.substr(this1,nativeOffset,null);
				}
				fromOffset = nativeOffset;
			}
			++subLength;
			if(subLength >= len) {
				var lastOffset = c1 < 65536 ? nativeOffset : nativeOffset + 1;
				return HxOverrides.substr(this1,fromOffset,lastOffset - fromOffset + 1);
			}
		}
		nativeOffset += c1 >= 65536 ? 2 : 1;
		++unicodeOffset;
	}
	if(fromOffset < 0) {
		return "";
	} else {
		return HxOverrides.substr(this1,fromOffset,null);
	}
};
UnicodeString.get_length = function(this1) {
	var l = 0;
	var _g_offset = 0;
	var _g_s = this1;
	while(_g_offset < _g_s.length) {
		var s = _g_s;
		var index = _g_offset++;
		var c = s.charCodeAt(index);
		if(c >= 55296 && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(index + 1) & 1023;
		}
		var c1 = c;
		if(c1 >= 65536) {
			++_g_offset;
		}
		var c2 = c1;
		++l;
	}
	return l;
};
var WeekData = function(weekFile) {
	this.folder = "";
	this.songs = weekFile.songs;
	this.weekCharacters = weekFile.weekCharacters;
	this.weekBackground = weekFile.weekBackground;
	this.weekBefore = weekFile.weekBefore;
	this.storyName = weekFile.storyName;
	this.weekName = weekFile.weekName;
	this.freeplayColor = weekFile.freeplayColor;
	this.startUnlocked = weekFile.startUnlocked;
	this.hideStoryMode = weekFile.hideStoryMode;
	this.hideFreeplay = weekFile.hideFreeplay;
	this.difficulties = weekFile.difficulties;
};
$hxClasses["WeekData"] = WeekData;
WeekData.__name__ = "WeekData";
WeekData.createWeekFile = function() {
	var weekFile = { songs : [["Bopeebo","dad",[146,113,253]],["Fresh","dad",[146,113,253]],["Dad Battle","dad",[146,113,253]]], weekCharacters : ["dad","bf","gf"], weekBackground : "stage", weekBefore : "tutorial", storyName : "Your New Week", weekName : "Custom Week", freeplayColor : [146,113,253], startUnlocked : true, hideStoryMode : false, hideFreeplay : false, difficulties : ""};
	return weekFile;
};
WeekData.reloadWeekFiles = function(isStoryMode) {
	if(isStoryMode == null) {
		isStoryMode = false;
	}
	WeekData.weeksList = [];
	WeekData.weeksLoaded.h = Object.create(null);
	var directories = ["assets/"];
	var originalLength = directories.length;
	var sexList = Main.getDataPath();
	var file = "weeks/weekList.txt";
	if(file == null) {
		file = "";
	}
	var sexList1 = CoolUtil.coolTextFile(sexList + ("assets/" + file));
	var _g = 0;
	var _g1 = sexList1.length;
	while(_g < _g1) {
		var i = _g++;
		var _g2 = 0;
		var _g3 = directories.length;
		while(_g2 < _g3) {
			var j = _g2++;
			var fileToCheck = directories[j] + "weeks/" + sexList1[i] + ".json";
			if(!Object.prototype.hasOwnProperty.call(WeekData.weeksLoaded.h,sexList1[i])) {
				var week = WeekData.getWeekFile(fileToCheck);
				if(week != null) {
					var weekFile = new WeekData(week);
					if(weekFile != null && (isStoryMode == null || isStoryMode && !weekFile.hideStoryMode || !isStoryMode && !weekFile.hideFreeplay)) {
						WeekData.weeksLoaded.h[sexList1[i]] = weekFile;
						WeekData.weeksList.push(sexList1[i]);
					}
				}
			}
		}
	}
};
WeekData.addWeek = function(weekToCheck,path,directory,i,originalLength) {
	if(!Object.prototype.hasOwnProperty.call(WeekData.weeksLoaded.h,weekToCheck)) {
		var week = WeekData.getWeekFile(path);
		if(week != null) {
			var weekFile = new WeekData(week);
			var tmp = i >= originalLength;
			if(PlayState.isStoryMode && !weekFile.hideStoryMode || !PlayState.isStoryMode && !weekFile.hideFreeplay) {
				WeekData.weeksLoaded.h[weekToCheck] = weekFile;
				WeekData.weeksList.push(weekToCheck);
			}
		}
	}
};
WeekData.getWeekFile = function(path) {
	var rawJson = null;
	if(openfl_utils_Assets.exists(path)) {
		rawJson = lime_utils_Assets.getText(path);
	}
	if(rawJson != null && rawJson.length > 0) {
		return JSON.parse(rawJson);
	}
	return null;
};
WeekData.getWeekFileName = function() {
	return WeekData.weeksList[PlayState.storyWeek];
};
WeekData.getCurrentWeek = function() {
	return WeekData.weeksLoaded.h[WeekData.weeksList[PlayState.storyWeek]];
};
WeekData.setDirectoryFromWeek = function(data) {
	Paths.currentModDirectory = "";
	if(data != null && data.folder != null && data.folder.length > 0) {
		Paths.currentModDirectory = data.folder;
	}
};
WeekData.prototype = {
	folder: null
	,songs: null
	,weekCharacters: null
	,weekBackground: null
	,weekBefore: null
	,storyName: null
	,weekName: null
	,freeplayColor: null
	,startUnlocked: null
	,hideStoryMode: null
	,hideFreeplay: null
	,difficulties: null
	,__class__: WeekData
};
var WiggleEffectType = $hxEnums["WiggleEffectType"] = { __ename__:"WiggleEffectType",__constructs__:null
	,DREAMY: {_hx_name:"DREAMY",_hx_index:0,__enum__:"WiggleEffectType",toString:$estr}
	,WAVY: {_hx_name:"WAVY",_hx_index:1,__enum__:"WiggleEffectType",toString:$estr}
	,HEAT_WAVE_HORIZONTAL: {_hx_name:"HEAT_WAVE_HORIZONTAL",_hx_index:2,__enum__:"WiggleEffectType",toString:$estr}
	,HEAT_WAVE_VERTICAL: {_hx_name:"HEAT_WAVE_VERTICAL",_hx_index:3,__enum__:"WiggleEffectType",toString:$estr}
	,FLAG: {_hx_name:"FLAG",_hx_index:4,__enum__:"WiggleEffectType",toString:$estr}
};
WiggleEffectType.__constructs__ = [WiggleEffectType.DREAMY,WiggleEffectType.WAVY,WiggleEffectType.HEAT_WAVE_HORIZONTAL,WiggleEffectType.HEAT_WAVE_VERTICAL,WiggleEffectType.FLAG];
var WiggleEffect = function() {
	this.waveAmplitude = 0;
	this.waveFrequency = 0;
	this.waveSpeed = 0;
	this.effectType = WiggleEffectType.DREAMY;
	this.shader = new WiggleShader();
	this.shader.uTime.value = [0];
};
$hxClasses["WiggleEffect"] = WiggleEffect;
WiggleEffect.__name__ = "WiggleEffect";
WiggleEffect.prototype = {
	shader: null
	,effectType: null
	,waveSpeed: null
	,waveFrequency: null
	,waveAmplitude: null
	,update: function(elapsed) {
		this.shader.uTime.value[0] += elapsed;
	}
	,setValue: function(value) {
		this.shader.uTime.value[0] = value;
	}
	,set_effectType: function(v) {
		this.effectType = v;
		var _this = WiggleEffectType.__constructs__;
		var result = new Array(_this.length);
		var _g = 0;
		var _g1 = _this.length;
		while(_g < _g1) {
			var i = _g++;
			result[i] = _this[i]._hx_name;
		}
		this.shader.effectType.value = [result.indexOf(Std.string(v))];
		return v;
	}
	,set_waveSpeed: function(v) {
		this.waveSpeed = v;
		this.shader.uSpeed.value = [this.waveSpeed];
		return v;
	}
	,set_waveFrequency: function(v) {
		this.waveFrequency = v;
		this.shader.uFrequency.value = [this.waveFrequency];
		return v;
	}
	,set_waveAmplitude: function(v) {
		this.waveAmplitude = v;
		this.shader.uWaveAmplitude.value = [this.waveAmplitude];
		return v;
	}
	,__class__: WiggleEffect
	,__properties__: {set_waveAmplitude:"set_waveAmplitude",set_waveFrequency:"set_waveFrequency",set_waveSpeed:"set_waveSpeed",set_effectType:"set_effectType"}
};
var WiggleShader = function() {
	if(this.__glFragmentSource == null) {
		this.__glFragmentSource = "\r\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tuniform bool hasTransform;\n\t\tuniform bool hasColorTransform;\n\n\t\tvec4 flixel_texture2D(sampler2D bitmap, vec2 coord)\n\t\t{\n\t\t\tvec4 color = texture2D(bitmap, coord);\n\t\t\tif (!hasTransform)\n\t\t\t{\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tif (color.a == 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t}\n\n\t\t\tif (!hasColorTransform)\n\t\t\t{\n\t\t\t\treturn color * openfl_Alphav;\n\t\t\t}\n\n\t\t\tcolor = vec4(color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4(0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp(openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\t\t\t}\n\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t}\n\t\n\r\n\t\t//uniform float tx, ty; // x,y waves phase\r\n\t\tuniform float uTime;\r\n\t\t\r\n\t\tconst int EFFECT_TYPE_DREAMY = 0;\r\n\t\tconst int EFFECT_TYPE_WAVY = 1;\r\n\t\tconst int EFFECT_TYPE_HEAT_WAVE_HORIZONTAL = 2;\r\n\t\tconst int EFFECT_TYPE_HEAT_WAVE_VERTICAL = 3;\r\n\t\tconst int EFFECT_TYPE_FLAG = 4;\r\n\t\t\r\n\t\tuniform int effectType;\r\n\t\t\r\n\t\t/**\r\n\t\t * How fast the waves move over time\r\n\t\t */\r\n\t\tuniform float uSpeed;\r\n\t\t\r\n\t\t/**\r\n\t\t * Number of waves over time\r\n\t\t */\r\n\t\tuniform float uFrequency;\r\n\t\t\r\n\t\t/**\r\n\t\t * How much the pixels are going to stretch over the waves\r\n\t\t */\r\n\t\tuniform float uWaveAmplitude;\r\n\r\n\t\tvec2 sineWave(vec2 pt)\r\n\t\t{\r\n\t\t\tfloat x = 0.0;\r\n\t\t\tfloat y = 0.0;\r\n\t\t\t\r\n\t\t\tif (effectType == EFFECT_TYPE_DREAMY) \r\n\t\t\t{\r\n\t\t\t\tfloat offsetX = sin(pt.y * uFrequency + uTime * uSpeed) * uWaveAmplitude;\r\n                pt.x += offsetX; // * (pt.y - 1.0); // <- Uncomment to stop bottom part of the screen from moving\r\n\t\t\t}\r\n\t\t\telse if (effectType == EFFECT_TYPE_WAVY) \r\n\t\t\t{\r\n\t\t\t\tfloat offsetY = sin(pt.x * uFrequency + uTime * uSpeed) * uWaveAmplitude;\r\n\t\t\t\tpt.y += offsetY; // * (pt.y - 1.0); // <- Uncomment to stop bottom part of the screen from moving\r\n\t\t\t}\r\n\t\t\telse if (effectType == EFFECT_TYPE_HEAT_WAVE_HORIZONTAL)\r\n\t\t\t{\r\n\t\t\t\tx = sin(pt.x * uFrequency + uTime * uSpeed) * uWaveAmplitude;\r\n\t\t\t}\r\n\t\t\telse if (effectType == EFFECT_TYPE_HEAT_WAVE_VERTICAL)\r\n\t\t\t{\r\n\t\t\t\ty = sin(pt.y * uFrequency + uTime * uSpeed) * uWaveAmplitude;\r\n\t\t\t}\r\n\t\t\telse if (effectType == EFFECT_TYPE_FLAG)\r\n\t\t\t{\r\n\t\t\t\ty = sin(pt.y * uFrequency + 10.0 * pt.x + uTime * uSpeed) * uWaveAmplitude;\r\n\t\t\t\tx = sin(pt.x * uFrequency + 5.0 * pt.y + uTime * uSpeed) * uWaveAmplitude;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn vec2(pt.x + x, pt.y + y);\r\n\t\t}\r\n\r\n\t\tvoid main()\r\n\t\t{\r\n\t\t\tvec2 uv = sineWave(openfl_TextureCoordv);\r\n\t\t\tgl_FragColor = texture2D(bitmap, uv);\r\n\t\t}";
	}
	if(this.__glVertexSource == null) {
		this.__glVertexSource = "\n\t\tattribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\t\n\t\tattribute float alpha;\n\t\tattribute vec4 colorMultiplier;\n\t\tattribute vec4 colorOffset;\n\t\tuniform bool hasColorTransform;\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\t\n\t\t\topenfl_Alphav = openfl_Alpha * alpha;\n\t\t\t\n\t\t\tif (hasColorTransform)\n\t\t\t{\n\t\t\t\topenfl_ColorOffsetv = colorOffset / 255.0;\n\t\t\t\topenfl_ColorMultiplierv = colorMultiplier;\n\t\t\t}\n\t\t}";
	}
	flixel_graphics_tile_FlxGraphicsShader.call(this);
	this.__isGenerated = true;
	this.__initGL();
};
$hxClasses["WiggleShader"] = WiggleShader;
WiggleShader.__name__ = "WiggleShader";
WiggleShader.__super__ = flixel_graphics_tile_FlxGraphicsShader;
WiggleShader.prototype = $extend(flixel_graphics_tile_FlxGraphicsShader.prototype,{
	tx: null
	,uTime: null
	,effectType: null
	,uSpeed: null
	,uFrequency: null
	,uWaveAmplitude: null
	,__class__: WiggleShader
});
var XmlType = {};
XmlType.toString = function(this1) {
	switch(this1) {
	case 0:
		return "Element";
	case 1:
		return "PCData";
	case 2:
		return "CData";
	case 3:
		return "Comment";
	case 4:
		return "DocType";
	case 5:
		return "ProcessingInstruction";
	case 6:
		return "Document";
	}
};
var Xml = function(nodeType) {
	this.nodeType = nodeType;
	this.children = [];
	this.attributeMap = new haxe_ds_StringMap();
};
$hxClasses["Xml"] = Xml;
Xml.__name__ = "Xml";
Xml.parse = function(str) {
	return haxe_xml_Parser.parse(str);
};
Xml.createElement = function(name) {
	var xml = new Xml(Xml.Element);
	if(xml.nodeType != Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, expected Element but found " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeName = name;
	return xml;
};
Xml.createPCData = function(data) {
	var xml = new Xml(Xml.PCData);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, unexpected " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createCData = function(data) {
	var xml = new Xml(Xml.CData);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, unexpected " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createComment = function(data) {
	var xml = new Xml(Xml.Comment);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, unexpected " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createDocType = function(data) {
	var xml = new Xml(Xml.DocType);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, unexpected " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createProcessingInstruction = function(data) {
	var xml = new Xml(Xml.ProcessingInstruction);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw haxe_Exception.thrown("Bad node type, unexpected " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createDocument = function() {
	return new Xml(Xml.Document);
};
Xml.prototype = {
	nodeType: null
	,nodeName: null
	,nodeValue: null
	,parent: null
	,children: null
	,attributeMap: null
	,get: function(att) {
		if(this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		return this.attributeMap.h[att];
	}
	,set: function(att,value) {
		if(this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		this.attributeMap.h[att] = value;
	}
	,exists: function(att) {
		if(this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		return Object.prototype.hasOwnProperty.call(this.attributeMap.h,att);
	}
	,attributes: function() {
		if(this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		return new haxe_ds__$StringMap_StringMapKeyIterator(this.attributeMap.h);
	}
	,elements: function() {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		var _g = [];
		var _g1 = 0;
		var _g2 = this.children;
		while(_g1 < _g2.length) {
			var child = _g2[_g1];
			++_g1;
			if(child.nodeType == Xml.Element) {
				_g.push(child);
			}
		}
		var ret = _g;
		return new haxe_iterators_ArrayIterator(ret);
	}
	,elementsNamed: function(name) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		var _g = [];
		var _g1 = 0;
		var _g2 = this.children;
		while(_g1 < _g2.length) {
			var child = _g2[_g1];
			++_g1;
			var tmp;
			if(child.nodeType == Xml.Element) {
				if(child.nodeType != Xml.Element) {
					throw haxe_Exception.thrown("Bad node type, expected Element but found " + (child.nodeType == null ? "null" : XmlType.toString(child.nodeType)));
				}
				tmp = child.nodeName == name;
			} else {
				tmp = false;
			}
			if(tmp) {
				_g.push(child);
			}
		}
		var ret = _g;
		return new haxe_iterators_ArrayIterator(ret);
	}
	,firstElement: function() {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		var _g = 0;
		var _g1 = this.children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.nodeType == Xml.Element) {
				return child;
			}
		}
		return null;
	}
	,addChild: function(x) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		if(x.parent != null) {
			x.parent.removeChild(x);
		}
		this.children.push(x);
		x.parent = this;
	}
	,removeChild: function(x) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		if(HxOverrides.remove(this.children,x)) {
			x.parent = null;
			return true;
		}
		return false;
	}
	,insertChild: function(x,pos) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (this.nodeType == null ? "null" : XmlType.toString(this.nodeType)));
		}
		if(x.parent != null) {
			HxOverrides.remove(x.parent.children,x);
		}
		this.children.splice(pos,0,x);
		x.parent = this;
	}
	,toString: function() {
		return haxe_xml_Printer.print(this);
	}
	,__class__: Xml
};
var editors_CharacterEditorState = function(daAnim,goToPlayState) {
	if(goToPlayState == null) {
		goToPlayState = true;
	}
	if(daAnim == null) {
		daAnim = "spooky";
	}
	this.TemplateCharacter = "{\r\n\t\t\t\"animations\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"loop\": false,\r\n\t\t\t\t\t\"offsets\": [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"fps\": 24,\r\n\t\t\t\t\t\"anim\": \"idle\",\r\n\t\t\t\t\t\"indices\": [],\r\n\t\t\t\t\t\"name\": \"Dad idle dance\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"offsets\": [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"indices\": [],\r\n\t\t\t\t\t\"fps\": 24,\r\n\t\t\t\t\t\"anim\": \"singLEFT\",\r\n\t\t\t\t\t\"loop\": false,\r\n\t\t\t\t\t\"name\": \"Dad Sing Note LEFT\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"offsets\": [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"indices\": [],\r\n\t\t\t\t\t\"fps\": 24,\r\n\t\t\t\t\t\"anim\": \"singDOWN\",\r\n\t\t\t\t\t\"loop\": false,\r\n\t\t\t\t\t\"name\": \"Dad Sing Note DOWN\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"offsets\": [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"indices\": [],\r\n\t\t\t\t\t\"fps\": 24,\r\n\t\t\t\t\t\"anim\": \"singUP\",\r\n\t\t\t\t\t\"loop\": false,\r\n\t\t\t\t\t\"name\": \"Dad Sing Note UP\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"offsets\": [\r\n\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t0\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\"indices\": [],\r\n\t\t\t\t\t\"fps\": 24,\r\n\t\t\t\t\t\"anim\": \"singRIGHT\",\r\n\t\t\t\t\t\"loop\": false,\r\n\t\t\t\t\t\"name\": \"Dad Sing Note RIGHT\"\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"no_antialiasing\": false,\r\n\t\t\t\"image\": \"characters/DADDY_DEAREST\",\r\n\t\t\t\"position\": [\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t],\r\n\t\t\t\"healthicon\": \"face\",\r\n\t\t\t\"flip_x\": false,\r\n\t\t\t\"healthbar_colors\": [\r\n\t\t\t\t161,\r\n\t\t\t\t161,\r\n\t\t\t\t161\r\n\t\t\t],\r\n\t\t\t\"camera_position\": [\r\n\t\t\t\t0,\r\n\t\t\t\t0\r\n\t\t\t],\r\n\t\t\t\"sing_duration\": 6.1,\r\n\t\t\t\"scale\": 1\r\n\t\t}";
	this.OFFSET_X = 300;
	this.onPixelBG = false;
	this.characterList = [];
	this.goToPlayState = true;
	this.daAnim = "spooky";
	this.curAnim = 0;
	MusicBeatState.call(this);
	this.daAnim = daAnim;
	this.goToPlayState = goToPlayState;
};
$hxClasses["editors.CharacterEditorState"] = editors_CharacterEditorState;
editors_CharacterEditorState.__name__ = "editors.CharacterEditorState";
editors_CharacterEditorState.__super__ = MusicBeatState;
editors_CharacterEditorState.prototype = $extend(MusicBeatState.prototype,{
	char: null
	,ghostChar: null
	,textAnim: null
	,bgLayer: null
	,charLayer: null
	,dumbTexts: null
	,curAnim: null
	,daAnim: null
	,goToPlayState: null
	,camFollow: null
	,UI_box: null
	,UI_characterbox: null
	,camEditor: null
	,camHUD: null
	,camMenu: null
	,changeBGbutton: null
	,leHealthIcon: null
	,characterList: null
	,cameraFollowPointer: null
	,healthBarBG: null
	,create: function() {
		var _gthis = this;
		this.camEditor = new flixel_FlxCamera();
		this.camHUD = new flixel_FlxCamera();
		this.camHUD.bgColor &= 16777215;
		this.camHUD.bgColor |= 0;
		this.camMenu = new flixel_FlxCamera();
		this.camMenu.bgColor &= 16777215;
		this.camMenu.bgColor |= 0;
		flixel_FlxG.cameras.reset(this.camEditor);
		flixel_FlxG.cameras.add(this.camHUD);
		flixel_FlxG.cameras.add(this.camMenu);
		flixel_FlxCamera._defaultCameras = [this.camEditor];
		this.bgLayer = new flixel_group_FlxTypedGroup();
		this.add(this.bgLayer);
		this.charLayer = new flixel_group_FlxTypedGroup();
		this.add(this.charLayer);
		var pointer = flixel_graphics_FlxGraphic.fromClass(flixel_system_debug_interaction_tools_GraphicCursorCross);
		this.cameraFollowPointer = new flixel_FlxSprite().loadGraphic(pointer);
		this.cameraFollowPointer.setGraphicSize(40,40);
		this.cameraFollowPointer.updateHitbox();
		this.cameraFollowPointer.set_color(-1);
		this.add(this.cameraFollowPointer);
		this.changeBGbutton = new flixel_ui_FlxButton(flixel_FlxG.width - 360,25,"",function() {
			_gthis.onPixelBG = !_gthis.onPixelBG;
			_gthis.reloadBGs();
		});
		this.changeBGbutton.set_cameras([this.camMenu]);
		this.loadChar(!StringTools.startsWith(this.daAnim,"bf"),false);
		this.healthBarBG = new flixel_FlxSprite(30,flixel_FlxG.height - 75).loadGraphic(Paths.getPath("images/" + "healthBar" + ".png","IMAGE",null));
		this.healthBarBG.scrollFactor.set();
		this.add(this.healthBarBG);
		this.healthBarBG.set_cameras([this.camHUD]);
		this.leHealthIcon = new HealthIcon(this.char.healthIcon,false);
		this.leHealthIcon.set_y(flixel_FlxG.height - 150);
		this.add(this.leHealthIcon);
		this.leHealthIcon.set_cameras([this.camHUD]);
		this.dumbTexts = new flixel_group_FlxTypedGroup();
		this.add(this.dumbTexts);
		this.dumbTexts.set_cameras([this.camHUD]);
		this.textAnim = new flixel_text_FlxText(300,16);
		this.textAnim.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"right",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.textAnim.set_borderSize(1);
		this.textAnim.set_size(32);
		this.textAnim.scrollFactor.set();
		this.textAnim.set_cameras([this.camHUD]);
		this.add(this.textAnim);
		this.genBoyOffsets();
		this.camFollow = new flixel_FlxObject(0,0,2,2);
		var _this = this.camFollow;
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.add(this.camFollow);
		var tipText = new flixel_text_FlxText(flixel_FlxG.width - 20,flixel_FlxG.height,0,"E/Q - Camera Zoom In/Out\r\n\t\t\t\nJKLI - Move Camera\r\n\t\t\t\nW/S - Previous/Next Animation\r\n\t\t\t\nSpace - Play Animation\r\n\t\t\t\nArrow Keys - Move Character Offset\r\n\t\t\t\nZ - Reset Current Offset\r\n\t\t\t\nHold Shift to Move 10x faster\n",12);
		tipText.set_cameras([this.camHUD]);
		tipText.setFormat(null,12,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		tipText.scrollFactor.set();
		tipText.set_borderSize(1);
		tipText.set_x(tipText.x - tipText.get_width());
		tipText.set_y(tipText.y - (tipText.get_height() - 10));
		this.add(tipText);
		flixel_FlxG.camera.follow(this.camFollow);
		var tabs = [{ name : "Settings", label : "Settings"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.set_cameras([this.camMenu]);
		this.UI_box.resize(250,120);
		this.UI_box.set_x(flixel_FlxG.width - 275);
		this.UI_box.set_y(25);
		this.UI_box.scrollFactor.set();
		var tabs = [{ name : "Character", label : "Character"},{ name : "Animations", label : "Animations"}];
		this.UI_characterbox = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_characterbox.set_cameras([this.camMenu]);
		this.UI_characterbox.resize(350,250);
		this.UI_characterbox.set_x(this.UI_box.x - 100);
		this.UI_characterbox.set_y(this.UI_box.y + this.UI_box.get_height());
		this.UI_characterbox.scrollFactor.set();
		this.add(this.UI_characterbox);
		this.add(this.UI_box);
		this.add(this.changeBGbutton);
		this.addSettingsUI();
		this.addCharacterUI();
		this.addAnimationsUI();
		this.UI_characterbox.set_selected_tab_id("Character");
		flixel_FlxG.mouse.set_visible(true);
		this.reloadCharacterOptions();
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B_C_X_Y_Z);
		var camcontrol = new flixel_FlxCamera();
		flixel_FlxG.cameras.add(camcontrol);
		camcontrol.bgColor &= 16777215;
		camcontrol.bgColor |= 0;
		this._virtualpad.set_cameras([camcontrol]);
		MusicBeatState.prototype.create.call(this);
	}
	,onPixelBG: null
	,OFFSET_X: null
	,reloadBGs: function() {
		var i = this.bgLayer.members.length - 1;
		while(i >= 0) {
			var memb = this.bgLayer.members[i];
			if(memb != null) {
				memb.kill();
				this.bgLayer.remove(memb);
				memb.destroy();
			}
			--i;
		}
		this.bgLayer.clear();
		var playerXDifference = 0;
		if(this.char.isPlayer) {
			playerXDifference = 670;
		}
		if(this.onPixelBG) {
			var playerYDifference = 0;
			if(this.char.isPlayer) {
				playerXDifference += 200;
				playerYDifference = 220;
			}
			var bgSky = new BGSprite("weeb/weebSky",this.OFFSET_X - playerXDifference / 2 - 300,0 - playerYDifference,0.1,0.1);
			this.bgLayer.add(bgSky);
			bgSky.set_antialiasing(false);
			var repositionShit = -200 + this.OFFSET_X - playerXDifference;
			var bgSchool = new BGSprite("weeb/weebSchool",repositionShit,-playerYDifference + 6,0.6,0.90);
			this.bgLayer.add(bgSchool);
			bgSchool.set_antialiasing(false);
			var bgStreet = new BGSprite("weeb/weebStreet",repositionShit,-playerYDifference,0.95,0.95);
			this.bgLayer.add(bgStreet);
			bgStreet.set_antialiasing(false);
			var widShit = bgSky.get_width() * 6 | 0;
			var bgTrees = new flixel_FlxSprite(repositionShit - 380,-800 - playerYDifference);
			var library = null;
			bgTrees.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + "weeb/weebTrees" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/weebTrees" + ".txt","TEXT",library)));
			bgTrees.animation.add("treeLoop",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],12);
			bgTrees.animation.play("treeLoop");
			bgTrees.scrollFactor.set(0.85,0.85);
			this.bgLayer.add(bgTrees);
			bgTrees.set_antialiasing(false);
			bgSky.setGraphicSize(widShit);
			bgSchool.setGraphicSize(widShit);
			bgStreet.setGraphicSize(widShit);
			bgTrees.setGraphicSize(widShit * 1.4 | 0);
			bgSky.updateHitbox();
			bgSchool.updateHitbox();
			bgStreet.updateHitbox();
			bgTrees.updateHitbox();
			var _this = this.changeBGbutton;
			if(_this.label == null) {
				_this.set_label(new flixel_text_FlxText(_this.x + _this.labelOffsets[0].x,_this.y + _this.labelOffsets[0].y,80,"Regular BG"));
				_this.label.setFormat(null,8,3355443,"center");
				_this.label.set_alpha(_this.labelAlphas[_this.status]);
				_this.label.drawFrame(true);
			} else {
				_this.label.set_text("Regular BG");
			}
		} else {
			var bg = new BGSprite("stageback",-600 + this.OFFSET_X - playerXDifference,-300,0.9,0.9);
			this.bgLayer.add(bg);
			var stageFront = new BGSprite("stagefront",-650 + this.OFFSET_X - playerXDifference,500,0.9,0.9);
			stageFront.setGraphicSize(stageFront.get_width() * 1.1 | 0);
			stageFront.updateHitbox();
			this.bgLayer.add(stageFront);
			var _this = this.changeBGbutton;
			if(_this.label == null) {
				_this.set_label(new flixel_text_FlxText(_this.x + _this.labelOffsets[0].x,_this.y + _this.labelOffsets[0].y,80,"Pixel BG"));
				_this.label.setFormat(null,8,3355443,"center");
				_this.label.set_alpha(_this.labelAlphas[_this.status]);
				_this.label.drawFrame(true);
			} else {
				_this.label.set_text("Pixel BG");
			}
		}
	}
	,TemplateCharacter: null
	,charDropDown: null
	,addSettingsUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Settings";
		var check_player = new flixel_addons_ui_FlxUICheckBox(10,60,null,null,"Playable Character",100);
		check_player.set_checked(StringTools.startsWith(this.daAnim,"bf"));
		check_player.callback = function() {
			_gthis.char.isPlayer = !_gthis.char.isPlayer;
			_gthis.char.set_flipX(!_gthis.char.flipX);
			_gthis.updatePointerPos();
			_gthis.reloadBGs();
			_gthis.ghostChar.set_flipX(_gthis.char.flipX);
		};
		this.charDropDown = new FlxUIDropDownMenuCustom(10,30,FlxUIDropDownMenuCustom.makeStrIdLabelArray([""],true),function(character) {
			_gthis.daAnim = _gthis.characterList[Std.parseInt(character)];
			check_player.set_checked(StringTools.startsWith(_gthis.daAnim,"bf"));
			_gthis.loadChar(!check_player.checked);
			_gthis.updatePresence();
			_gthis.reloadCharacterDropDown();
		});
		this.charDropDown.set_selectedLabel(this.daAnim);
		this.reloadCharacterDropDown();
		var reloadCharacter = new flixel_ui_FlxButton(140,20,"Reload Char",function() {
			_gthis.loadChar(!check_player.checked);
			_gthis.reloadCharacterDropDown();
		});
		var templateCharacter = new flixel_ui_FlxButton(140,50,"Load Template",function() {
			var parsedJson = JSON.parse(_gthis.TemplateCharacter);
			var characters = [_gthis.char,_gthis.ghostChar];
			var _g = 0;
			while(_g < characters.length) {
				var character = characters[_g];
				++_g;
				character.animOffsets.h = Object.create(null);
				character.animationsArray = parsedJson.animations;
				var _g1 = 0;
				var _g2 = character.animationsArray;
				while(_g1 < _g2.length) {
					var anim = _g2[_g1];
					++_g1;
					character.addOffset(anim.anim,anim.offsets[0],anim.offsets[1]);
				}
				if(character.animationsArray[0] != null) {
					character.playAnim(character.animationsArray[0].anim,true);
				}
				character.singDuration = parsedJson.sing_duration;
				character.positionArray = parsedJson.position;
				character.cameraPosition = parsedJson.camera_position;
				character.imageFile = parsedJson.image;
				character.jsonScale = parsedJson.scale;
				character.noAntialiasing = parsedJson.no_antialiasing;
				character.originalFlipX = parsedJson.flip_x;
				character.healthIcon = parsedJson.healthicon;
				character.healthColorArray = parsedJson.healthbar_colors;
				character.setPosition(character.positionArray[0] + _gthis.OFFSET_X + 100,character.positionArray[1]);
			}
			_gthis.reloadCharacterImage();
			_gthis.reloadCharacterDropDown();
			_gthis.reloadCharacterOptions();
			_gthis.resetHealthBarColor();
			_gthis.updatePointerPos();
			_gthis.genBoyOffsets();
		});
		templateCharacter.set_color(-65536);
		templateCharacter.label.set_color(-1);
		tab_group.add(new flixel_text_FlxText(this.charDropDown.x,this.charDropDown.y - 18,0,"Character:"));
		tab_group.add(check_player);
		tab_group.add(reloadCharacter);
		tab_group.add(this.charDropDown);
		tab_group.add(reloadCharacter);
		tab_group.add(templateCharacter);
		this.UI_box.addGroup(tab_group);
	}
	,imageInputText: null
	,healthIconInputText: null
	,singDurationStepper: null
	,scaleStepper: null
	,positionXStepper: null
	,positionYStepper: null
	,positionCameraXStepper: null
	,positionCameraYStepper: null
	,flipXCheckBox: null
	,noAntialiasingCheckBox: null
	,healthColorStepperR: null
	,healthColorStepperG: null
	,healthColorStepperB: null
	,addCharacterUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Character";
		this.imageInputText = new flixel_addons_ui_FlxUIInputText(15,30,200,"characters/BOYFRIEND",8);
		this.imageInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		var reloadImage = new flixel_ui_FlxButton(this.imageInputText.x + 210,this.imageInputText.y - 3,"Reload Image",function() {
			_gthis.char.imageFile = _gthis.imageInputText.text;
			_gthis.reloadCharacterImage();
			if(_gthis.char.animation._curAnim != null) {
				_gthis.char.playAnim(_gthis.char.animation._curAnim.name,true);
			}
		});
		var decideIconColor = new flixel_ui_FlxButton(reloadImage.x,reloadImage.y + 30,"Get Icon Color",function() {
			var coolColor = flixel_util_FlxColor._new(CoolUtil.dominantColor(_gthis.leHealthIcon));
			_gthis.healthColorStepperR.set_value(coolColor >> 16 & 255);
			_gthis.healthColorStepperG.set_value(coolColor >> 8 & 255);
			_gthis.healthColorStepperB.set_value(coolColor & 255);
			_gthis.getEvent("change_numeric_stepper",_gthis.healthColorStepperR,null);
			_gthis.getEvent("change_numeric_stepper",_gthis.healthColorStepperG,null);
			_gthis.getEvent("change_numeric_stepper",_gthis.healthColorStepperB,null);
		});
		this.healthIconInputText = new flixel_addons_ui_FlxUIInputText(15,this.imageInputText.y + 35,75,this.leHealthIcon.getCharacter(),8);
		this.healthIconInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.singDurationStepper = new flixel_addons_ui_FlxUINumericStepper(15,this.healthIconInputText.y + 45,0.1,4,0,999,1);
		this.scaleStepper = new flixel_addons_ui_FlxUINumericStepper(15,this.singDurationStepper.y + 40,0.1,1,0.05,10,1);
		this.flipXCheckBox = new flixel_addons_ui_FlxUICheckBox(this.singDurationStepper.x + 80,this.singDurationStepper.y,null,null,"Flip X",50);
		this.flipXCheckBox.set_checked(this.char.flipX);
		if(this.char.isPlayer) {
			this.flipXCheckBox.set_checked(!this.flipXCheckBox.checked);
		}
		this.flipXCheckBox.callback = function() {
			_gthis.char.originalFlipX = !_gthis.char.originalFlipX;
			_gthis.char.set_flipX(_gthis.char.originalFlipX);
			if(_gthis.char.isPlayer) {
				_gthis.char.set_flipX(!_gthis.char.flipX);
			}
			_gthis.ghostChar.set_flipX(_gthis.char.flipX);
		};
		this.noAntialiasingCheckBox = new flixel_addons_ui_FlxUICheckBox(this.flipXCheckBox.x,this.flipXCheckBox.y + 40,null,null,"No Antialiasing",80);
		this.noAntialiasingCheckBox.set_checked(this.char.noAntialiasing);
		this.noAntialiasingCheckBox.callback = function() {
			_gthis.char.set_antialiasing(false);
			if(!_gthis.noAntialiasingCheckBox.checked && ClientPrefs.globalAntialiasing) {
				_gthis.char.set_antialiasing(true);
			}
			_gthis.char.noAntialiasing = _gthis.noAntialiasingCheckBox.checked;
		};
		this.positionXStepper = new flixel_addons_ui_FlxUINumericStepper(this.flipXCheckBox.x + 110,this.flipXCheckBox.y,10,this.char.positionArray[0],-9000,9000,0);
		this.positionYStepper = new flixel_addons_ui_FlxUINumericStepper(this.positionXStepper.x + 60,this.positionXStepper.y,10,this.char.positionArray[1],-9000,9000,0);
		this.positionCameraXStepper = new flixel_addons_ui_FlxUINumericStepper(this.positionXStepper.x,this.positionXStepper.y + 40,10,this.char.cameraPosition[0],-9000,9000,0);
		this.positionCameraYStepper = new flixel_addons_ui_FlxUINumericStepper(this.positionYStepper.x,this.positionYStepper.y + 40,10,this.char.cameraPosition[1],-9000,9000,0);
		var saveCharacterButton = new flixel_ui_FlxButton(reloadImage.x,this.noAntialiasingCheckBox.y + 40,"Save Character",function() {
			_gthis.saveCharacter();
		});
		this.healthColorStepperR = new flixel_addons_ui_FlxUINumericStepper(this.singDurationStepper.x,saveCharacterButton.y,20,this.char.healthColorArray[0],0,255,0);
		this.healthColorStepperG = new flixel_addons_ui_FlxUINumericStepper(this.singDurationStepper.x + 65,saveCharacterButton.y,20,this.char.healthColorArray[1],0,255,0);
		this.healthColorStepperB = new flixel_addons_ui_FlxUINumericStepper(this.singDurationStepper.x + 130,saveCharacterButton.y,20,this.char.healthColorArray[2],0,255,0);
		tab_group.add(new flixel_text_FlxText(15,this.imageInputText.y - 18,0,"Image file name:"));
		tab_group.add(new flixel_text_FlxText(15,this.healthIconInputText.y - 18,0,"Health icon name:"));
		tab_group.add(new flixel_text_FlxText(15,this.singDurationStepper.y - 18,0,"Sing Animation length:"));
		tab_group.add(new flixel_text_FlxText(15,this.scaleStepper.y - 18,0,"Scale:"));
		tab_group.add(new flixel_text_FlxText(this.positionXStepper.x,this.positionXStepper.y - 18,0,"Character X/Y:"));
		tab_group.add(new flixel_text_FlxText(this.positionCameraXStepper.x,this.positionCameraXStepper.y - 18,0,"Camera X/Y:"));
		tab_group.add(new flixel_text_FlxText(this.healthColorStepperR.x,this.healthColorStepperR.y - 18,0,"Health bar R/G/B:"));
		tab_group.add(this.imageInputText);
		tab_group.add(reloadImage);
		tab_group.add(decideIconColor);
		tab_group.add(this.healthIconInputText);
		tab_group.add(this.singDurationStepper);
		tab_group.add(this.scaleStepper);
		tab_group.add(this.flipXCheckBox);
		tab_group.add(this.noAntialiasingCheckBox);
		tab_group.add(this.positionXStepper);
		tab_group.add(this.positionYStepper);
		tab_group.add(this.positionCameraXStepper);
		tab_group.add(this.positionCameraYStepper);
		tab_group.add(this.healthColorStepperR);
		tab_group.add(this.healthColorStepperG);
		tab_group.add(this.healthColorStepperB);
		tab_group.add(saveCharacterButton);
		this.UI_characterbox.addGroup(tab_group);
	}
	,ghostDropDown: null
	,animationDropDown: null
	,animationInputText: null
	,animationNameInputText: null
	,animationIndicesInputText: null
	,animationNameFramerate: null
	,animationLoopCheckBox: null
	,addAnimationsUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Animations";
		this.animationInputText = new flixel_addons_ui_FlxUIInputText(15,85,80,"",8);
		this.animationInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.animationNameInputText = new flixel_addons_ui_FlxUIInputText(this.animationInputText.x,this.animationInputText.y + 35,150,"",8);
		this.animationNameInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.animationIndicesInputText = new flixel_addons_ui_FlxUIInputText(this.animationNameInputText.x,this.animationNameInputText.y + 40,250,"",8);
		this.animationIndicesInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.animationNameFramerate = new flixel_addons_ui_FlxUINumericStepper(this.animationInputText.x + 170,this.animationInputText.y,1,24,0,240,0);
		this.animationLoopCheckBox = new flixel_addons_ui_FlxUICheckBox(this.animationNameInputText.x + 170,this.animationNameInputText.y - 1,null,null,"Should it Loop?",100);
		this.animationDropDown = new FlxUIDropDownMenuCustom(15,this.animationInputText.y - 55,FlxUIDropDownMenuCustom.makeStrIdLabelArray([""],true),function(pressed) {
			var selectedAnimation = Std.parseInt(pressed);
			var anim = _gthis.char.animationsArray[selectedAnimation];
			_gthis.animationInputText.set_text(anim.anim);
			_gthis.animationNameInputText.set_text(anim.name);
			_gthis.animationLoopCheckBox.set_checked(anim.loop);
			_gthis.animationNameFramerate.set_value(anim.fps);
			var indicesStr = anim.indices.toString();
			_gthis.animationIndicesInputText.set_text(HxOverrides.substr(indicesStr,1,indicesStr.length - 2));
		});
		this.ghostDropDown = new FlxUIDropDownMenuCustom(this.animationDropDown.x + 150,this.animationDropDown.y,FlxUIDropDownMenuCustom.makeStrIdLabelArray([""],true),function(pressed) {
			var selectedAnimation = Std.parseInt(pressed);
			_gthis.ghostChar.set_visible(false);
			_gthis.char.set_alpha(1);
			if(selectedAnimation > 0) {
				_gthis.ghostChar.set_visible(true);
				_gthis.ghostChar.playAnim(_gthis.ghostChar.animationsArray[selectedAnimation - 1].anim,true);
				_gthis.char.set_alpha(0.85);
			}
		});
		var addUpdateButton = new flixel_ui_FlxButton(70,this.animationIndicesInputText.y + 30,"Add/Update",function() {
			var indices = [];
			var indicesStr = StringTools.trim(_gthis.animationIndicesInputText.text).split(",");
			if(indicesStr.length > 1) {
				var _g = 0;
				var _g1 = indicesStr.length;
				while(_g < _g1) {
					var i = _g++;
					var index = Std.parseInt(indicesStr[i]);
					if(indicesStr[i] != null && indicesStr[i] != "" && !isNaN(index) && index > -1) {
						indices.push(index);
					}
				}
			}
			var lastAnim = "";
			if(_gthis.char.animationsArray[_gthis.curAnim] != null) {
				lastAnim = _gthis.char.animationsArray[_gthis.curAnim].anim;
			}
			var lastOffsets = [0,0];
			var _g = 0;
			var _g1 = _gthis.char.animationsArray;
			while(_g < _g1.length) {
				var anim = _g1[_g];
				++_g;
				if(_gthis.animationInputText.text == anim.anim) {
					lastOffsets = anim.offsets;
					if(_gthis.char.animation._animations.h[_gthis.animationInputText.text] != null) {
						_gthis.char.animation.remove(_gthis.animationInputText.text);
					}
					HxOverrides.remove(_gthis.char.animationsArray,anim);
				}
			}
			var newAnim = { anim : _gthis.animationInputText.text, name : _gthis.animationNameInputText.text, fps : Math.round(_gthis.animationNameFramerate.value), loop : _gthis.animationLoopCheckBox.checked, indices : indices, offsets : lastOffsets};
			if(indices != null && indices.length > 0) {
				_gthis.char.animation.addByIndices(newAnim.anim,newAnim.name,newAnim.indices,"",newAnim.fps,newAnim.loop);
			} else {
				_gthis.char.animation.addByPrefix(newAnim.anim,newAnim.name,newAnim.fps,newAnim.loop);
			}
			if(!Object.prototype.hasOwnProperty.call(_gthis.char.animOffsets.h,newAnim.anim)) {
				_gthis.char.addOffset(newAnim.anim,0,0);
			}
			_gthis.char.animationsArray.push(newAnim);
			if(lastAnim == _gthis.animationInputText.text) {
				var leAnim = _gthis.char.animation._animations.h[lastAnim];
				if(leAnim != null && leAnim.frames.length > 0) {
					_gthis.char.playAnim(lastAnim,true);
				} else {
					var _g = 0;
					var _g1 = _gthis.char.animationsArray.length;
					while(_g < _g1) {
						var i = _g++;
						if(_gthis.char.animationsArray[i] != null) {
							leAnim = _gthis.char.animation._animations.h[_gthis.char.animationsArray[i].anim];
							if(leAnim != null && leAnim.frames.length > 0) {
								_gthis.char.playAnim(_gthis.char.animationsArray[i].anim,true);
								_gthis.curAnim = i;
								break;
							}
						}
					}
				}
			}
			_gthis.reloadAnimationDropDown();
			_gthis.genBoyOffsets();
			haxe_Log.trace("Added/Updated animation: " + _gthis.animationInputText.text,{ fileName : "source/editors/CharacterEditorState.hx", lineNumber : 721, className : "editors.CharacterEditorState", methodName : "addAnimationsUI"});
		});
		var removeButton = new flixel_ui_FlxButton(180,this.animationIndicesInputText.y + 30,"Remove",function() {
			var _g = 0;
			var _g1 = _gthis.char.animationsArray;
			while(_g < _g1.length) {
				var anim = _g1[_g];
				++_g;
				if(_gthis.animationInputText.text == anim.anim) {
					var resetAnim = false;
					if(_gthis.char.animation._curAnim != null && anim.anim == _gthis.char.animation._curAnim.name) {
						resetAnim = true;
					}
					if(_gthis.char.animation._animations.h[anim.anim] != null) {
						_gthis.char.animation.remove(anim.anim);
					}
					if(Object.prototype.hasOwnProperty.call(_gthis.char.animOffsets.h,anim.anim)) {
						var key = anim.anim;
						var _this = _gthis.char.animOffsets;
						if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
							delete(_this.h[key]);
						}
					}
					HxOverrides.remove(_gthis.char.animationsArray,anim);
					if(resetAnim && _gthis.char.animationsArray.length > 0) {
						_gthis.char.playAnim(_gthis.char.animationsArray[0].anim,true);
					}
					_gthis.reloadAnimationDropDown();
					_gthis.genBoyOffsets();
					haxe_Log.trace("Removed animation: " + _gthis.animationInputText.text,{ fileName : "source/editors/CharacterEditorState.hx", lineNumber : 743, className : "editors.CharacterEditorState", methodName : "addAnimationsUI"});
					break;
				}
			}
		});
		tab_group.add(new flixel_text_FlxText(this.animationDropDown.x,this.animationDropDown.y - 18,0,"Animations:"));
		tab_group.add(new flixel_text_FlxText(this.ghostDropDown.x,this.ghostDropDown.y - 18,0,"Animation Ghost:"));
		tab_group.add(new flixel_text_FlxText(this.animationInputText.x,this.animationInputText.y - 18,0,"Animation name:"));
		tab_group.add(new flixel_text_FlxText(this.animationNameFramerate.x,this.animationNameFramerate.y - 18,0,"Framerate:"));
		tab_group.add(new flixel_text_FlxText(this.animationNameInputText.x,this.animationNameInputText.y - 18,0,"Animation on .XML/.TXT file:"));
		tab_group.add(new flixel_text_FlxText(this.animationIndicesInputText.x,this.animationIndicesInputText.y - 18,0,"ADVANCED - Animation Indices:"));
		tab_group.add(this.animationInputText);
		tab_group.add(this.animationNameInputText);
		tab_group.add(this.animationIndicesInputText);
		tab_group.add(this.animationNameFramerate);
		tab_group.add(this.animationLoopCheckBox);
		tab_group.add(addUpdateButton);
		tab_group.add(removeButton);
		tab_group.add(this.ghostDropDown);
		tab_group.add(this.animationDropDown);
		this.UI_characterbox.addGroup(tab_group);
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			if(sender == this.healthIconInputText) {
				this.leHealthIcon.changeIcon(this.healthIconInputText.text);
				this.char.healthIcon = this.healthIconInputText.text;
				this.updatePresence();
			} else if(sender == this.imageInputText) {
				this.char.imageFile = this.imageInputText.text;
			}
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			if(sender == this.scaleStepper) {
				this.reloadCharacterImage();
				this.char.jsonScale = sender.value;
				this.char.setGraphicSize(this.char.get_width() * this.char.jsonScale | 0);
				this.char.updateHitbox();
				this.reloadGhost();
				this.updatePointerPos();
				if(this.char.animation._curAnim != null) {
					this.char.playAnim(this.char.animation._curAnim.name,true);
				}
			} else if(sender == this.positionXStepper) {
				this.char.positionArray[0] = this.positionXStepper.value;
				this.char.set_x(this.char.positionArray[0] + this.OFFSET_X + 100);
				this.updatePointerPos();
			} else if(sender == this.positionYStepper) {
				this.char.positionArray[1] = this.positionYStepper.value;
				this.char.set_y(this.char.positionArray[1]);
				this.updatePointerPos();
			} else if(sender == this.positionCameraXStepper) {
				this.char.cameraPosition[0] = this.positionCameraXStepper.value;
				this.updatePointerPos();
			} else if(sender == this.positionCameraYStepper) {
				this.char.cameraPosition[1] = this.positionCameraYStepper.value;
				this.updatePointerPos();
			} else if(sender == this.healthColorStepperR) {
				this.char.healthColorArray[0] = Math.round(this.healthColorStepperR.value);
				var tmp = this.healthBarBG;
				var Red = this.char.healthColorArray[0];
				var Green = this.char.healthColorArray[1];
				var Blue = this.char.healthColorArray[2];
				var color = flixel_util_FlxColor._new();
				var Alpha = 255;
				if(Alpha == null) {
					Alpha = 255;
				}
				color &= -16711681;
				color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
				color &= -65281;
				color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
				color &= -256;
				color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
				color &= 16777215;
				color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
				tmp.set_color(color);
			} else if(sender == this.healthColorStepperG) {
				this.char.healthColorArray[1] = Math.round(this.healthColorStepperG.value);
				var tmp = this.healthBarBG;
				var Red = this.char.healthColorArray[0];
				var Green = this.char.healthColorArray[1];
				var Blue = this.char.healthColorArray[2];
				var color = flixel_util_FlxColor._new();
				var Alpha = 255;
				if(Alpha == null) {
					Alpha = 255;
				}
				color &= -16711681;
				color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
				color &= -65281;
				color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
				color &= -256;
				color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
				color &= 16777215;
				color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
				tmp.set_color(color);
			} else if(sender == this.healthColorStepperB) {
				this.char.healthColorArray[2] = Math.round(this.healthColorStepperB.value);
				var tmp = this.healthBarBG;
				var Red = this.char.healthColorArray[0];
				var Green = this.char.healthColorArray[1];
				var Blue = this.char.healthColorArray[2];
				var color = flixel_util_FlxColor._new();
				var Alpha = 255;
				if(Alpha == null) {
					Alpha = 255;
				}
				color &= -16711681;
				color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
				color &= -65281;
				color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
				color &= -256;
				color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
				color &= 16777215;
				color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
				tmp.set_color(color);
			}
		}
	}
	,reloadCharacterImage: function() {
		var lastAnim = "";
		if(this.char.animation._curAnim != null) {
			lastAnim = this.char.animation._curAnim.name;
		}
		var anims = this.char.animationsArray.slice();
		if(openfl_utils_Assets.exists(Paths.getPath("images/" + this.char.imageFile + ".txt","TEXT"))) {
			var key = this.char.imageFile;
			var library = null;
			this.char.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".txt","TEXT",library)));
		} else {
			var key = this.char.imageFile;
			var library = null;
			this.char.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
		}
		if(this.char.animationsArray != null && this.char.animationsArray.length > 0) {
			var _g = 0;
			var _g1 = this.char.animationsArray;
			while(_g < _g1.length) {
				var anim = _g1[_g];
				++_g;
				var animAnim = "" + anim.anim;
				var animName = "" + anim.name;
				var animFps = anim.fps;
				var animLoop = anim.loop;
				var animIndices = anim.indices;
				if(animIndices != null && animIndices.length > 0) {
					this.char.animation.addByIndices(animAnim,animName,animIndices,"",animFps,animLoop);
				} else {
					this.char.animation.addByPrefix(animAnim,animName,animFps,animLoop);
				}
			}
		} else {
			this.char.quickAnimAdd("idle","BF idle dance");
		}
		if(lastAnim != "") {
			this.char.playAnim(lastAnim,true);
		} else {
			this.char.dance();
		}
		this.ghostDropDown.set_selectedLabel("");
		this.reloadGhost();
	}
	,genBoyOffsets: function() {
		var daLoop = 0;
		var i = this.dumbTexts.members.length - 1;
		while(i >= 0) {
			var memb = this.dumbTexts.members[i];
			if(memb != null) {
				memb.kill();
				this.dumbTexts.remove(memb);
				memb.destroy();
			}
			--i;
		}
		this.dumbTexts.clear();
		var h = this.char.animOffsets.h;
		var _g_h = h;
		var _g_keys = Object.keys(h);
		var _g_length = _g_keys.length;
		var _g_current = 0;
		while(_g_current < _g_length) {
			var key = _g_keys[_g_current++];
			var _g1_key = key;
			var _g1_value = _g_h[key];
			var anim = _g1_key;
			var offsets = _g1_value;
			var text = new flixel_text_FlxText(10,20 + 18 * daLoop,0,anim + ": " + Std.string(offsets),15);
			text.setFormat(null,16,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
			text.scrollFactor.set();
			text.set_borderSize(1);
			this.dumbTexts.add(text);
			text.set_cameras([this.camHUD]);
			++daLoop;
		}
		this.textAnim.set_visible(true);
		if(this.dumbTexts.length < 1) {
			var text = new flixel_text_FlxText(10,38,0,"ERROR! No animations found.",15);
			text.scrollFactor.set();
			text.set_borderSize(1);
			this.dumbTexts.add(text);
			this.textAnim.set_visible(false);
		}
	}
	,loadChar: function(isDad,blahBlahBlah) {
		if(blahBlahBlah == null) {
			blahBlahBlah = true;
		}
		var i = this.charLayer.members.length - 1;
		while(i >= 0) {
			var memb = this.charLayer.members[i];
			if(memb != null) {
				memb.kill();
				this.charLayer.remove(memb);
				memb.destroy();
			}
			--i;
		}
		this.charLayer.clear();
		this.ghostChar = new Character(0,0,this.daAnim,!isDad);
		this.ghostChar.debugMode = true;
		this.ghostChar.set_alpha(0.6);
		this.char = new Character(0,0,this.daAnim,!isDad);
		if(this.char.animationsArray[0] != null) {
			this.char.playAnim(this.char.animationsArray[0].anim,true);
		}
		this.char.debugMode = true;
		this.charLayer.add(this.ghostChar);
		this.charLayer.add(this.char);
		this.char.setPosition(this.char.positionArray[0] + this.OFFSET_X + 100,this.char.positionArray[1]);
		if(blahBlahBlah) {
			this.genBoyOffsets();
		}
		this.reloadCharacterOptions();
		this.reloadBGs();
		this.updatePointerPos();
	}
	,updatePointerPos: function() {
		var x = this.char.getMidpoint().x;
		var y = this.char.getMidpoint().y;
		if(!this.char.isPlayer) {
			x += 150 + this.char.cameraPosition[0];
		} else {
			x -= 100 + this.char.cameraPosition[0];
		}
		y -= 100 - this.char.cameraPosition[1];
		x -= this.cameraFollowPointer.get_width() / 2;
		y -= this.cameraFollowPointer.get_height() / 2;
		this.cameraFollowPointer.setPosition(x,y);
	}
	,findAnimationByName: function(name) {
		var _g = 0;
		var _g1 = this.char.animationsArray;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			if(anim.anim == name) {
				return anim;
			}
		}
		return null;
	}
	,reloadCharacterOptions: function() {
		if(this.UI_characterbox != null) {
			this.imageInputText.set_text(this.char.imageFile);
			this.healthIconInputText.set_text(this.char.healthIcon);
			this.singDurationStepper.set_value(this.char.singDuration);
			this.scaleStepper.set_value(this.char.jsonScale);
			this.flipXCheckBox.set_checked(this.char.originalFlipX);
			this.noAntialiasingCheckBox.set_checked(this.char.noAntialiasing);
			this.resetHealthBarColor();
			this.leHealthIcon.changeIcon(this.healthIconInputText.text);
			this.positionXStepper.set_value(this.char.positionArray[0]);
			this.positionYStepper.set_value(this.char.positionArray[1]);
			this.positionCameraXStepper.set_value(this.char.cameraPosition[0]);
			this.positionCameraYStepper.set_value(this.char.cameraPosition[1]);
			this.reloadAnimationDropDown();
			this.updatePresence();
		}
	}
	,reloadAnimationDropDown: function() {
		var anims = [];
		var ghostAnims = [""];
		var _g = 0;
		var _g1 = this.char.animationsArray;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			anims.push(anim.anim);
			ghostAnims.push(anim.anim);
		}
		if(anims.length < 1) {
			anims.push("NO ANIMATIONS");
		}
		this.animationDropDown.setData(FlxUIDropDownMenuCustom.makeStrIdLabelArray(anims,true));
		this.ghostDropDown.setData(FlxUIDropDownMenuCustom.makeStrIdLabelArray(ghostAnims,true));
		this.reloadGhost();
	}
	,reloadGhost: function() {
		this.ghostChar.set_frames(this.char.frames);
		var _g = 0;
		var _g1 = this.char.animationsArray;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			var animAnim = "" + anim.anim;
			var animName = "" + anim.name;
			var animFps = anim.fps;
			var animLoop = anim.loop;
			var animIndices = anim.indices;
			if(animIndices != null && animIndices.length > 0) {
				this.ghostChar.animation.addByIndices(animAnim,animName,animIndices,"",animFps,animLoop);
			} else {
				this.ghostChar.animation.addByPrefix(animAnim,animName,animFps,animLoop);
			}
			if(anim.offsets != null && anim.offsets.length > 1) {
				this.ghostChar.addOffset(anim.anim,anim.offsets[0],anim.offsets[1]);
			}
		}
		this.char.set_alpha(0.85);
		this.ghostChar.set_visible(true);
		if(this.ghostDropDown.get_selectedLabel() == "") {
			this.ghostChar.set_visible(false);
			this.char.set_alpha(1);
		}
		this.ghostChar.set_color(-10066296);
		this.ghostChar.setGraphicSize(this.ghostChar.get_width() * this.char.jsonScale | 0);
		this.ghostChar.updateHitbox();
	}
	,reloadCharacterDropDown: function() {
		var charsLoaded_h = Object.create(null);
		this.characterList = CoolUtil.coolTextFile(Paths.getPath("data/" + "characterList" + ".txt","TEXT",null));
		this.charDropDown.setData(FlxUIDropDownMenuCustom.makeStrIdLabelArray(this.characterList,true));
		this.charDropDown.set_selectedLabel(this.daAnim);
	}
	,resetHealthBarColor: function() {
		this.healthColorStepperR.set_value(this.char.healthColorArray[0]);
		this.healthColorStepperG.set_value(this.char.healthColorArray[1]);
		this.healthColorStepperB.set_value(this.char.healthColorArray[2]);
		var tmp = this.healthBarBG;
		var Red = this.char.healthColorArray[0];
		var Green = this.char.healthColorArray[1];
		var Blue = this.char.healthColorArray[2];
		var color = flixel_util_FlxColor._new();
		var Alpha = 255;
		if(Alpha == null) {
			Alpha = 255;
		}
		color &= -16711681;
		color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
		color &= -65281;
		color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
		color &= -256;
		color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
		color &= 16777215;
		color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
		tmp.set_color(color);
	}
	,updatePresence: function() {
	}
	,update: function(elapsed) {
		var _g = 0;
		var _g1 = flixel_FlxG.touches.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			if((touch.overlaps(this.imageInputText) || touch.overlaps(this.healthIconInputText) || touch.overlaps(this.animationInputText) || touch.overlaps(this.animationNameInputText) || touch.overlaps(this.animationIndicesInputText)) && touch.input.current == 2) {
				openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
			}
		}
		if(this.char.animationsArray[this.curAnim] != null) {
			this.textAnim.set_text(this.char.animationsArray[this.curAnim].anim);
			var curAnim = this.char.animation._animations.h[this.char.animationsArray[this.curAnim].anim];
			if(curAnim == null || curAnim.frames.length < 1) {
				var fh = this.textAnim;
				fh.set_text(fh.text + " (ERROR!)");
			}
		} else {
			this.textAnim.set_text("");
		}
		var inputTexts = [this.animationInputText,this.imageInputText,this.healthIconInputText,this.animationNameInputText,this.animationIndicesInputText];
		var _g = 0;
		var _g1 = inputTexts.length;
		while(_g < _g1) {
			var i = _g++;
			if(inputTexts[i].hasFocus) {
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(17,_this.status)) {
					var _this1 = flixel_FlxG.keys.justPressed;
					tmp = _this1.keyManager.checkStatusUnsafe(86,_this1.status);
				} else {
					tmp = false;
				}
				if(tmp && lime_system_Clipboard.get_text() != null) {
					var tmp1 = this.ClipboardAdd(inputTexts[i].text);
					inputTexts[i].set_text(tmp1);
					inputTexts[i].set_caretIndex(inputTexts[i].text.length);
					this.getEvent("change_input_text",inputTexts[i],null,[]);
				}
				var _this2 = flixel_FlxG.keys.justPressed;
				if(_this2.keyManager.checkStatusUnsafe(13,_this2.status)) {
					inputTexts[i].set_hasFocus(false);
				}
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				MusicBeatState.prototype.update.call(this,elapsed);
				return;
			}
		}
		flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
		flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
		flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
		if(!this.charDropDown.dropPanel.visible) {
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status) || this._virtualpad.buttonB.input.current == 2) {
				if(this.goToPlayState) {
					MusicBeatState.switchState(new PlayState());
				} else {
					MusicBeatState.switchState(new editors_MasterEditorMenu());
					flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
				}
				flixel_FlxG.mouse.set_visible(false);
				return;
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(82,_this.status) || this._virtualpad.buttonZ.input.current == 2) {
				flixel_FlxG.camera.set_zoom(1);
			}
			var _this = flixel_FlxG.keys.pressed;
			if((_this.keyManager.checkStatusUnsafe(69,_this.status) || this._virtualpad.buttonX.input.current == 2) && flixel_FlxG.camera.zoom < 3) {
				var fh = flixel_FlxG.camera;
				fh.set_zoom(fh.zoom + elapsed * flixel_FlxG.camera.zoom);
				if(flixel_FlxG.camera.zoom > 3) {
					flixel_FlxG.camera.set_zoom(3);
				}
			}
			var _this = flixel_FlxG.keys.pressed;
			if((_this.keyManager.checkStatusUnsafe(81,_this.status) || this._virtualpad.buttonY.input.current == 2) && flixel_FlxG.camera.zoom > 0.1) {
				var fh = flixel_FlxG.camera;
				fh.set_zoom(fh.zoom - elapsed * flixel_FlxG.camera.zoom);
				if(flixel_FlxG.camera.zoom < 0.1) {
					flixel_FlxG.camera.set_zoom(0.1);
				}
			}
			var tmp;
			var tmp1;
			var tmp2;
			var _this = flixel_FlxG.keys.pressed;
			if(!_this.keyManager.checkStatusUnsafe(73,_this.status)) {
				var _this = flixel_FlxG.keys.pressed;
				tmp2 = _this.keyManager.checkStatusUnsafe(74,_this.status);
			} else {
				tmp2 = true;
			}
			if(!tmp2) {
				var _this = flixel_FlxG.keys.pressed;
				tmp1 = _this.keyManager.checkStatusUnsafe(75,_this.status);
			} else {
				tmp1 = true;
			}
			if(!tmp1) {
				var _this = flixel_FlxG.keys.pressed;
				tmp = _this.keyManager.checkStatusUnsafe(76,_this.status);
			} else {
				tmp = true;
			}
			if(tmp || this._virtualpad.buttonUp.input.current == 2 || this._virtualpad.buttonDown.input.current == 2 || this._virtualpad.buttonLeft.input.current == 2 || this._virtualpad.buttonRight.input.current == 2 && this._virtualpad.buttonC.input.current == 2) {
				var addToCam = 500 * elapsed;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(16,_this.status)) {
					addToCam *= 4;
				}
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(73,_this.status)) {
					var fh = this.camFollow;
					fh.set_y(fh.y - addToCam);
				} else {
					var _this = flixel_FlxG.keys.pressed;
					if(_this.keyManager.checkStatusUnsafe(75,_this.status)) {
						var fh = this.camFollow;
						fh.set_y(fh.y + addToCam);
					}
				}
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(74,_this.status)) {
					var fh = this.camFollow;
					fh.set_x(fh.x - addToCam);
				} else {
					var _this = flixel_FlxG.keys.pressed;
					if(_this.keyManager.checkStatusUnsafe(76,_this.status)) {
						var fh = this.camFollow;
						fh.set_x(fh.x + addToCam);
					}
				}
			}
			if(this.char.animationsArray.length > 0) {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(87,_this.status) || this._virtualpad.buttonA.input.current == 2) {
					this.curAnim -= 1;
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(83,_this.status)) {
					this.curAnim += 1;
				}
				if(this.curAnim < 0) {
					this.curAnim = this.char.animationsArray.length - 1;
				}
				if(this.curAnim >= this.char.animationsArray.length) {
					this.curAnim = 0;
				}
				var tmp;
				var tmp1;
				var _this = flixel_FlxG.keys.justPressed;
				if(!_this.keyManager.checkStatusUnsafe(83,_this.status)) {
					var _this = flixel_FlxG.keys.justPressed;
					tmp1 = _this.keyManager.checkStatusUnsafe(87,_this.status);
				} else {
					tmp1 = true;
				}
				if(!tmp1) {
					var _this = flixel_FlxG.keys.justPressed;
					tmp = _this.keyManager.checkStatusUnsafe(32,_this.status);
				} else {
					tmp = true;
				}
				if(tmp) {
					this.char.playAnim(this.char.animationsArray[this.curAnim].anim,true);
					this.genBoyOffsets();
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(82,_this.status) || this._virtualpad.buttonZ.input.current == 2) {
					this.char.animationsArray[this.curAnim].offsets = [0,0];
					this.char.addOffset(this.char.animationsArray[this.curAnim].anim,this.char.animationsArray[this.curAnim].offsets[0],this.char.animationsArray[this.curAnim].offsets[1]);
					this.ghostChar.addOffset(this.char.animationsArray[this.curAnim].anim,this.char.animationsArray[this.curAnim].offsets[0],this.char.animationsArray[this.curAnim].offsets[1]);
					this.genBoyOffsets();
				}
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray = _this.keyManager.checkStatusUnsafe(37,_this.status) || this._virtualpad.buttonLeft.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray1 = _this.keyManager.checkStatusUnsafe(39,_this.status) || this._virtualpad.buttonRight.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray2 = _this.keyManager.checkStatusUnsafe(38,_this.status) || this._virtualpad.buttonUp.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray3 = [controlArray,controlArray1,controlArray2,_this.keyManager.checkStatusUnsafe(40,_this.status) || this._virtualpad.buttonDown.input.current == 2];
				var _g = 0;
				var _g1 = controlArray3.length;
				while(_g < _g1) {
					var i = _g++;
					if(controlArray3[i]) {
						var _this = flixel_FlxG.keys.pressed;
						var holdShift = _this.keyManager.checkStatusUnsafe(16,_this.status);
						var multiplier = 1;
						if(holdShift) {
							multiplier = 10;
						}
						var arrayVal = 0;
						if(i > 1) {
							arrayVal = 1;
						}
						var negaMult = 1;
						if(i % 2 == 1) {
							negaMult = -1;
						}
						this.char.animationsArray[this.curAnim].offsets[arrayVal] += negaMult * multiplier;
						this.char.addOffset(this.char.animationsArray[this.curAnim].anim,this.char.animationsArray[this.curAnim].offsets[0],this.char.animationsArray[this.curAnim].offsets[1]);
						this.ghostChar.addOffset(this.char.animationsArray[this.curAnim].anim,this.char.animationsArray[this.curAnim].offsets[0],this.char.animationsArray[this.curAnim].offsets[1]);
						this.char.playAnim(this.char.animationsArray[this.curAnim].anim,false);
						if(this.ghostChar.animation._curAnim != null && this.char.animation._curAnim != null && this.char.animation._curAnim.name == this.ghostChar.animation._curAnim.name) {
							this.ghostChar.playAnim(this.char.animation._curAnim.name,false);
						}
						this.genBoyOffsets();
					}
				}
			}
		}
		this.camMenu.set_zoom(flixel_FlxG.camera.zoom);
		this.ghostChar.setPosition(this.char.x,this.char.y);
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,_file: null
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,saveCharacter: function() {
		var json = { "animations" : this.char.animationsArray, "image" : this.char.imageFile, "scale" : this.char.jsonScale, "sing_duration" : this.char.singDuration, "healthicon" : this.char.healthIcon, "position" : this.char.positionArray, "camera_position" : this.char.cameraPosition, "flip_x" : this.char.originalFlipX, "no_antialiasing" : this.char.noAntialiasing, "healthbar_colors" : this.char.healthColorArray};
		var data = JSON.stringify(json,null,"\t");
	}
	,ClipboardAdd: function(prefix) {
		if(prefix == null) {
			prefix = "";
		}
		if(StringTools.endsWith(prefix.toLowerCase(),"v")) {
			prefix = prefix.substring(0,prefix.length - 1);
		}
		var text = prefix + StringTools.replace(lime_system_Clipboard.get_text(),"\n","");
		return text;
	}
	,__class__: editors_CharacterEditorState
});
var editors_ChartingState = function(TransIn,TransOut) {
	this.daSpacing = 0.3;
	this.audioBuffers = [null,null];
	this.waveformPrinted = true;
	this.colorSine = 0;
	this.updatedSection = false;
	this.currentType = 0;
	this.sectionToCopy = 0;
	this.playSoundDad = null;
	this.playSoundBf = null;
	this.check_vortex = null;
	this.check_mute_inst = null;
	this.text = "";
	this.quants = [4,2,1.3333333333333333,1,0.5];
	this.blockPressWhileScrolling = [];
	this.blockPressWhileTypingOnStepper = [];
	this.blockPressWhileTypingOn = [];
	this.zoomList = [0.5,1,2,4,8,12];
	this.curZoom = 1;
	this.vocals = null;
	this.tempBpm = 0;
	this.curSelectedNote = null;
	this.curEventSelected = 0;
	this.daquantspot = 0;
	this.gridMult = 2;
	this.CAM_OFFSET = 360;
	this.amountSteps = 0;
	this.curSong = "Dadbattle";
	this.eventStuff = [["","Nothing. Yep, that's right."],["Hey!","Plays the \"Hey!\" animation from Bopeebo,\nValue 1: BF = Only Boyfriend, GF = Only Girlfriend,\nSomething else = Both.\nValue 2: Custom animation duration,\nleave it blank for 0.6s"],["Set GF Speed","Sets GF head bopping speed,\nValue 1: 1 = Normal speed,\n2 = 1/2 speed, 4 = 1/4 speed etc.\nUsed on Fresh during the beatbox parts.\n\nWarning: Value must be integer!"],["Blammed Lights","Value 1: 0 = Turn off, 1 = Blue, 2 = Green,\n3 = Pink, 4 = Red, 5 = Orange, Anything else = Random.\n\nNote to modders: This effect is starting to get \nREEEEALLY overused, this isn't very creative bro smh."],["Kill Henchmen","For Mom's songs, don't use this please, i love them :("],["Add Camera Zoom","Used on MILF on that one \"hard\" part\nValue 1: Camera zoom add (Default: 0.015)\nValue 2: UI zoom add (Default: 0.03)\nLeave the values blank if you want to use Default."],["BG Freaks Expression","Should be used only in \"school\" Stage!"],["Trigger BG Ghouls","Should be used only in \"schoolEvil\" Stage!"],["Play Animation","Plays an animation on a Character,\nonce the animation is completed,\nthe animation changes to Idle\n\nValue 1: Animation to play.\nValue 2: Character (Dad, BF, GF)"],["Camera Follow Pos","Value 1: X\nValue 2: Y\n\nThe camera won't change the follow point\nafter using this, for getting it back\nto normal, leave both values blank."],["Alt Idle Animation","Sets a specified suffix after the idle animation name.\nYou can use this to trigger 'idle-alt' if you set\nValue 2 to -alt\n\nValue 1: Character to set (Dad, BF or GF)\nValue 2: New suffix (Leave it blank to disable)"],["Screen Shake","Value 1: Camera shake\nValue 2: HUD shake\n\nEvery value works as the following example: \"1, 0.05\".\nThe first number (1) is the duration.\nThe second number (0.05) is the intensity."],["Change Character","Value 1: Character to change (Dad, BF, GF)\nValue 2: New character's name"],["Change Scroll Speed","Value 1: Scroll Speed Multiplier (1 is default)\nValue 2: Time it takes to change fully in seconds."]];
	this.noteTypeMap = new haxe_ds_StringMap();
	this.noteTypeIntMap = new haxe_ds_IntMap();
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["editors.ChartingState"] = editors_ChartingState;
editors_ChartingState.__name__ = "editors.ChartingState";
editors_ChartingState.__super__ = MusicBeatState;
editors_ChartingState.prototype = $extend(MusicBeatState.prototype,{
	noteTypeIntMap: null
	,noteTypeMap: null
	,eventStuff: null
	,_file: null
	,UI_box: null
	,bpmTxt: null
	,camPos: null
	,strumLine: null
	,quant: null
	,strumLineNotes: null
	,curSong: null
	,amountSteps: null
	,bullshitUI: null
	,highlight: null
	,CAM_OFFSET: null
	,dummyArrow: null
	,curRenderedSustains: null
	,curRenderedNotes: null
	,curRenderedNoteType: null
	,nextRenderedSustains: null
	,nextRenderedNotes: null
	,gridBG: null
	,gridMult: null
	,daquantspot: null
	,curEventSelected: null
	,_song: null
	,curSelectedNote: null
	,tempBpm: null
	,vocals: null
	,leftIcon: null
	,rightIcon: null
	,value1InputText: null
	,value2InputText: null
	,currentSongName: null
	,zoomTxt: null
	,curZoom: null
	,zoomList: null
	,blockPressWhileTypingOn: null
	,blockPressWhileTypingOnStepper: null
	,blockPressWhileScrolling: null
	,waveformSprite: null
	,gridLayer: null
	,quants: null
	,text: null
	,key_space: null
	,key_shift: null
	,create: function() {
		if(PlayState.SONG != null) {
			this._song = PlayState.SONG;
		} else {
			this._song = { song : "Test", notes : [], events : [], bpm : 150.0, needsVoices : true, arrowSkin : "", splashSkin : "noteSplashes", player1 : "bf", player2 : "dad", player3 : null, gfVersion : "gf", speed : 1, stage : "stage", validScore : false};
			this.addSection();
			PlayState.SONG = this._song;
		}
		editors_ChartingState.vortex = flixel_FlxG.save.data.chart_vortex;
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		bg.scrollFactor.set();
		bg.set_color(-14540254);
		this.add(bg);
		this.gridLayer = new flixel_group_FlxTypedGroup();
		this.add(this.gridLayer);
		this.waveformSprite = new flixel_FlxSprite(editors_ChartingState.GRID_SIZE,0).makeGraphic(flixel_FlxG.width,flixel_FlxG.height,16777215);
		this.add(this.waveformSprite);
		var eventIcon = new flixel_FlxSprite(-editors_ChartingState.GRID_SIZE - 5,-90).loadGraphic(Paths.getPath("images/" + "eventArrow" + ".png","IMAGE",null));
		this.leftIcon = new HealthIcon("bf");
		this.rightIcon = new HealthIcon("dad");
		eventIcon.scrollFactor.set(1,1);
		this.leftIcon.scrollFactor.set(1,1);
		this.rightIcon.scrollFactor.set(1,1);
		eventIcon.setGraphicSize(30,30);
		this.leftIcon.setGraphicSize(0,45);
		this.rightIcon.setGraphicSize(0,45);
		this.add(eventIcon);
		this.add(this.leftIcon);
		this.add(this.rightIcon);
		this.leftIcon.setPosition(editors_ChartingState.GRID_SIZE + 10,-100);
		this.rightIcon.setPosition(editors_ChartingState.GRID_SIZE * 5.2,-100);
		this.curRenderedSustains = new flixel_group_FlxTypedGroup();
		this.curRenderedNotes = new flixel_group_FlxTypedGroup();
		this.curRenderedNoteType = new flixel_group_FlxTypedGroup();
		this.nextRenderedSustains = new flixel_group_FlxTypedGroup();
		this.nextRenderedNotes = new flixel_group_FlxTypedGroup();
		if(editors_ChartingState.curSection >= this._song.notes.length) {
			editors_ChartingState.curSection = this._song.notes.length - 1;
		}
		flixel_FlxG.mouse.set_visible(true);
		this.tempBpm = this._song.bpm;
		this.addSection();
		this.currentSongName = StringTools.replace(this._song.song.toLowerCase()," ","-");
		this.loadAudioBuffer();
		this.reloadGridLayer();
		this.loadSong();
		Conductor.changeBPM(this._song.bpm);
		Conductor.mapBPMChanges(this._song);
		this.bpmTxt = new flixel_text_FlxText(1000,50,0,"",16);
		this.bpmTxt.scrollFactor.set();
		this.add(this.bpmTxt);
		this.strumLine = new flixel_FlxSprite(0,50).makeGraphic(editors_ChartingState.GRID_SIZE * 9 | 0,4);
		this.add(this.strumLine);
		this.quant = new AttachedSprite("chart_quant","chart_quant");
		this.quant.animation.addByPrefix("q","chart_quant",0,false);
		this.quant.animation.play("q",true,false,0);
		this.quant.sprTracker = this.strumLine;
		this.quant.xAdd = -32;
		this.quant.yAdd = 8;
		this.add(this.quant);
		this.strumLineNotes = new flixel_group_FlxTypedGroup();
		var _g = 0;
		while(_g < 8) {
			var i = _g++;
			var note = new StrumNote(editors_ChartingState.GRID_SIZE * (i + 1),this.strumLine.y,i % 4,0);
			note.setGraphicSize(editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE);
			note.updateHitbox();
			note.playAnim("static",true);
			this.strumLineNotes.add(note);
			note.scrollFactor.set(1,1);
		}
		this.add(this.strumLineNotes);
		this.camPos = new flixel_FlxObject(0,0,1,1);
		this.camPos.setPosition(this.strumLine.x + this.CAM_OFFSET,this.strumLine.y);
		this.dummyArrow = new flixel_FlxSprite().makeGraphic(editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE);
		this.add(this.dummyArrow);
		var tabs = [{ name : "Song", label : "Song"},{ name : "Section", label : "Section"},{ name : "Note", label : "Note"},{ name : "Events", label : "Events"},{ name : "Charting", label : "Charting"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.resize(300,400);
		this.UI_box.set_x(flixel_FlxG.width / 2 + editors_ChartingState.GRID_SIZE / 2);
		this.UI_box.set_y(25);
		this.UI_box.scrollFactor.set();
		this.text = "W/S or Mouse Wheel - Change Conductor's strum time\r\n\t\t\nA or Left/D or Right - Go to the previous/next section\r\n\t\t\nHold Shift to move 4x faster\r\n\t\t\nHold Control and click on an arrow to select it\r\n\t\t\nZ/X - Zoom in/out\r\n\t\t\n\r\n\t\t\nEsc - Test your chart inside Chart Editor\r\n\t\t\nEnter - Play your chart\r\n\t\t\nQ/E - Decrease/Increase Note Sustain Length\r\n\t\t\nSpace - Stop/Resume song";
		var tipTextArray = this.text.split("\n");
		var _g = 0;
		var _g1 = tipTextArray.length;
		while(_g < _g1) {
			var i = _g++;
			var tipText = new flixel_text_FlxText(this.UI_box.x,this.UI_box.y + this.UI_box.get_height() + 8,0,tipTextArray[i],16);
			tipText.set_y(tipText.y + i * 14);
			tipText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"left");
			tipText.scrollFactor.set();
			this.add(tipText);
		}
		this.add(this.UI_box);
		this.addSongUI();
		this.addSectionUI();
		this.addNoteUI();
		this.addEventsUI();
		this.addChartingUI();
		this.updateHeads();
		this.updateWaveform();
		this.add(this.curRenderedSustains);
		this.add(this.curRenderedNotes);
		this.add(this.curRenderedNoteType);
		this.add(this.nextRenderedSustains);
		this.add(this.nextRenderedNotes);
		if(editors_ChartingState.lastSong != this.currentSongName) {
			this.changeSection();
		}
		editors_ChartingState.lastSong = this.currentSongName;
		this.zoomTxt = new flixel_text_FlxText(10,10,0,"Zoom: 1x",16);
		this.zoomTxt.scrollFactor.set();
		this.add(this.zoomTxt);
		this.updateGrid();
		this.key_space = new flixel_ui_FlxButton(60,60,"");
		this.key_space.loadGraphic(Paths.getPath("images/" + "key_space" + ".png","IMAGE",null));
		this.key_space.set_alpha(0.75);
		this.add(this.key_space);
		this.key_shift = new flixel_ui_FlxButton(60,200,"");
		this.key_shift.loadGraphic(Paths.getPath("images/" + "key_shift" + ".png","IMAGE",null));
		this.key_shift.set_alpha(0.75);
		this.add(this.key_shift);
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B);
		MusicBeatState.prototype.create.call(this);
	}
	,check_mute_inst: null
	,check_vortex: null
	,playSoundBf: null
	,playSoundDad: null
	,UI_songTitle: null
	,noteSkinInputText: null
	,noteSplashesInputText: null
	,stageDropDown: null
	,addSongUI: function() {
		var _gthis = this;
		this.UI_songTitle = new flixel_addons_ui_FlxUIInputText(10,10,70,this._song.song,8);
		this.UI_songTitle.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.UI_songTitle);
		var check_voices = new flixel_addons_ui_FlxUICheckBox(10,25,null,null,"Has voice track",100);
		check_voices.set_checked(this._song.needsVoices);
		check_voices.callback = function() {
			_gthis._song.needsVoices = check_voices.checked;
		};
		var saveButton = new flixel_ui_FlxButton(110,8,"Save",function() {
			_gthis.saveLevel();
		});
		var reloadSong = new flixel_ui_FlxButton(saveButton.x + 90,saveButton.y,"Reload Audio",function() {
			var reloadSong = StringTools.replace(_gthis.UI_songTitle.text.toLowerCase()," ","-");
			_gthis.currentSongName = reloadSong;
			_gthis.loadSong();
			_gthis.loadAudioBuffer();
			_gthis.updateWaveform();
		});
		var reloadSongJson = new flixel_ui_FlxButton(reloadSong.x,saveButton.y + 30,"Reload JSON",function() {
			_gthis.loadJson(_gthis._song.song.toLowerCase());
		});
		var loadAutosaveBtn = new flixel_ui_FlxButton(reloadSongJson.x,reloadSongJson.y + 30,"Load Autosave",function() {
			PlayState.SONG = Song.parseJSONshit(flixel_FlxG.save.data.autosave);
			MusicBeatState.resetState();
		});
		var loadEventJson = new flixel_ui_FlxButton(loadAutosaveBtn.x,loadAutosaveBtn.y + 30,"Load Events",function() {
			var songName = StringTools.replace(_gthis._song.song.toLowerCase()," ","-");
			var file = Paths.getPath("data/" + (songName + "/events") + ".json","TEXT",null);
			if(openfl_utils_Assets.exists(file)) {
				_gthis.clearEvents();
				var events = Song.loadFromJson("events",songName);
				_gthis._song.events = events.events;
				_gthis.changeSection(editors_ChartingState.curSection);
			}
		});
		var saveEvents = new flixel_ui_FlxButton(110,reloadSongJson.y,"Save Events",function() {
			_gthis.saveEvents();
		});
		var clear_events = new flixel_ui_FlxButton(320,310,"Clear events",function() {
			_gthis.clearEvents();
		});
		clear_events.set_color(-65536);
		clear_events.label.set_color(-1);
		var clear_notes = new flixel_ui_FlxButton(320,clear_events.y + 30,"Clear notes",function() {
			var _g = 0;
			var _g1 = _gthis._song.notes.length;
			while(_g < _g1) {
				var sec = _g++;
				_gthis._song.notes[sec].sectionNotes = [];
			}
			_gthis.updateGrid();
		});
		clear_notes.set_color(-65536);
		clear_notes.label.set_color(-1);
		var stepperBPM = new flixel_addons_ui_FlxUINumericStepper(10,70,1,1,1,339,1);
		stepperBPM.set_value(Conductor.bpm);
		stepperBPM.name = "song_bpm";
		this.blockPressWhileTypingOnStepper.push(stepperBPM);
		var stepperSpeed = new flixel_addons_ui_FlxUINumericStepper(10,stepperBPM.y + 35,0.1,1,0.1,10,1);
		stepperSpeed.set_value(this._song.speed);
		stepperSpeed.name = "song_speed";
		this.blockPressWhileTypingOnStepper.push(stepperSpeed);
		var file = "characters/";
		if(file == null) {
			file = "";
		}
		var directories_0 = "assets/" + file;
		var tempMap_h = Object.create(null);
		var characters = CoolUtil.coolTextFile(Main.getDataPath() + Paths.getPath("data/" + "characterList" + ".txt","TEXT",null));
		var _g = 0;
		var _g1 = characters.length;
		while(_g < _g1) {
			var i = _g++;
			tempMap_h[characters[i]] = true;
		}
		var player1DropDown = new FlxUIDropDownMenuCustom(10,stepperSpeed.y + 45,FlxUIDropDownMenuCustom.makeStrIdLabelArray(characters,true),function(character) {
			_gthis._song.player1 = characters[Std.parseInt(character)];
			_gthis.updateHeads();
		});
		player1DropDown.set_selectedLabel(this._song.player1);
		this.blockPressWhileScrolling.push(player1DropDown);
		var player3DropDown = new FlxUIDropDownMenuCustom(player1DropDown.x,player1DropDown.y + 40,FlxUIDropDownMenuCustom.makeStrIdLabelArray(characters,true),function(character) {
			_gthis._song.gfVersion = characters[Std.parseInt(character)];
			_gthis.updateHeads();
		});
		player3DropDown.set_selectedLabel(this._song.gfVersion);
		this.blockPressWhileScrolling.push(player3DropDown);
		var player2DropDown = new FlxUIDropDownMenuCustom(player1DropDown.x,player3DropDown.y + 40,FlxUIDropDownMenuCustom.makeStrIdLabelArray(characters,true),function(character) {
			_gthis._song.player2 = characters[Std.parseInt(character)];
			_gthis.updateHeads();
		});
		player2DropDown.set_selectedLabel(this._song.player2);
		this.blockPressWhileScrolling.push(player2DropDown);
		var file = "stages/";
		if(file == null) {
			file = "";
		}
		var directories_0 = "assets/" + file;
		tempMap_h = Object.create(null);
		var stageFile = CoolUtil.coolTextFile(Main.getDataPath() + Paths.getPath("data/" + "stageList" + ".txt","TEXT",null));
		var stages = [];
		var _g = 0;
		var _g1 = stageFile.length;
		while(_g < _g1) {
			var i = _g++;
			var stageToCheck = stageFile[i];
			if(!Object.prototype.hasOwnProperty.call(tempMap_h,stageToCheck)) {
				stages.push(stageToCheck);
			}
			tempMap_h[stageToCheck] = true;
		}
		if(stages.length < 1) {
			stages.push("stage");
		}
		this.stageDropDown = new FlxUIDropDownMenuCustom(player1DropDown.x + 140,player1DropDown.y,FlxUIDropDownMenuCustom.makeStrIdLabelArray(stages,true),function(character) {
			_gthis._song.stage = stages[Std.parseInt(character)];
		});
		this.stageDropDown.set_selectedLabel(this._song.stage);
		this.blockPressWhileScrolling.push(this.stageDropDown);
		var skin = PlayState.SONG.arrowSkin;
		if(skin == null) {
			skin = "";
		}
		this.noteSkinInputText = new flixel_addons_ui_FlxUIInputText(player2DropDown.x,player2DropDown.y + 50,150,skin,8);
		this.noteSkinInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.noteSkinInputText);
		this.noteSplashesInputText = new flixel_addons_ui_FlxUIInputText(this.noteSkinInputText.x,this.noteSkinInputText.y + 35,150,this._song.splashSkin,8);
		this.noteSplashesInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.noteSplashesInputText);
		var reloadNotesButton = new flixel_ui_FlxButton(this.noteSplashesInputText.x + 5,this.noteSplashesInputText.y + 20,"Change Notes",function() {
			_gthis._song.arrowSkin = _gthis.noteSkinInputText.text;
			_gthis.updateGrid();
		});
		var tab_group_song = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_song.name = "Song";
		tab_group_song.add(this.UI_songTitle);
		tab_group_song.add(check_voices);
		tab_group_song.add(clear_events);
		tab_group_song.add(clear_notes);
		tab_group_song.add(saveButton);
		tab_group_song.add(saveEvents);
		tab_group_song.add(reloadSong);
		tab_group_song.add(reloadSongJson);
		tab_group_song.add(loadAutosaveBtn);
		tab_group_song.add(loadEventJson);
		tab_group_song.add(stepperBPM);
		tab_group_song.add(stepperSpeed);
		tab_group_song.add(reloadNotesButton);
		tab_group_song.add(this.noteSkinInputText);
		tab_group_song.add(this.noteSplashesInputText);
		tab_group_song.add(new flixel_text_FlxText(stepperBPM.x,stepperBPM.y - 15,0,"Song BPM:"));
		tab_group_song.add(new flixel_text_FlxText(stepperSpeed.x,stepperSpeed.y - 15,0,"Song Speed:"));
		tab_group_song.add(new flixel_text_FlxText(player2DropDown.x,player2DropDown.y - 15,0,"Opponent:"));
		tab_group_song.add(new flixel_text_FlxText(player3DropDown.x,player3DropDown.y - 15,0,"Girlfriend:"));
		tab_group_song.add(new flixel_text_FlxText(player1DropDown.x,player1DropDown.y - 15,0,"Boyfriend:"));
		tab_group_song.add(new flixel_text_FlxText(this.stageDropDown.x,this.stageDropDown.y - 15,0,"Stage:"));
		tab_group_song.add(new flixel_text_FlxText(this.noteSkinInputText.x,this.noteSkinInputText.y - 15,0,"Note Texture:"));
		tab_group_song.add(new flixel_text_FlxText(this.noteSplashesInputText.x,this.noteSplashesInputText.y - 15,0,"Note Splashes Texture:"));
		tab_group_song.add(player2DropDown);
		tab_group_song.add(player3DropDown);
		tab_group_song.add(player1DropDown);
		tab_group_song.add(this.stageDropDown);
		this.UI_box.addGroup(tab_group_song);
		flixel_FlxG.camera.follow(this.camPos);
	}
	,stepperLength: null
	,check_mustHitSection: null
	,check_gfSection: null
	,check_changeBPM: null
	,stepperSectionBPM: null
	,check_altAnim: null
	,sectionToCopy: null
	,notesCopied: null
	,addSectionUI: function() {
		var _gthis = this;
		var tab_group_section = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_section.name = "Section";
		this.stepperLength = new flixel_addons_ui_FlxUINumericStepper(10,10,4,0,0,999,0);
		this.stepperLength.set_value(this._song.notes[editors_ChartingState.curSection].lengthInSteps);
		this.stepperLength.name = "section_length";
		this.blockPressWhileTypingOnStepper.push(this.stepperLength);
		this.check_mustHitSection = new flixel_addons_ui_FlxUICheckBox(10,30,null,null,"Must hit section",100);
		this.check_mustHitSection.name = "check_mustHit";
		this.check_mustHitSection.set_checked(this._song.notes[editors_ChartingState.curSection].mustHitSection);
		this.check_gfSection = new flixel_addons_ui_FlxUICheckBox(130,30,null,null,"GF section",100);
		this.check_gfSection.name = "check_gf";
		this.check_gfSection.set_checked(this._song.notes[editors_ChartingState.curSection].gfSection);
		this.check_altAnim = new flixel_addons_ui_FlxUICheckBox(10,60,null,null,"Alt Animation",100);
		this.check_altAnim.set_checked(this._song.notes[editors_ChartingState.curSection].altAnim);
		this.check_altAnim.name = "check_altAnim";
		this.check_changeBPM = new flixel_addons_ui_FlxUICheckBox(10,90,null,null,"Change BPM",100);
		this.check_changeBPM.set_checked(this._song.notes[editors_ChartingState.curSection].changeBPM);
		this.check_changeBPM.name = "check_changeBPM";
		this.stepperSectionBPM = new flixel_addons_ui_FlxUINumericStepper(10,110,1,Conductor.bpm,0,999,1);
		if(this.check_changeBPM.checked) {
			this.stepperSectionBPM.set_value(this._song.notes[editors_ChartingState.curSection].bpm);
		} else {
			this.stepperSectionBPM.set_value(Conductor.bpm);
		}
		this.stepperSectionBPM.name = "section_bpm";
		this.blockPressWhileTypingOnStepper.push(this.stepperSectionBPM);
		var copyButton = new flixel_ui_FlxButton(10,150,"Copy Section",function() {
			_gthis.notesCopied = [];
			_gthis.sectionToCopy = editors_ChartingState.curSection;
			var _g = 0;
			var _g1 = _gthis._song.notes[editors_ChartingState.curSection].sectionNotes.length;
			while(_g < _g1) {
				var i = _g++;
				var note = _gthis._song.notes[editors_ChartingState.curSection].sectionNotes[i];
				_gthis.notesCopied.push(note);
			}
			var startThing = _gthis.sectionStartTime();
			var endThing = _gthis.sectionStartTime(1);
			var _g = 0;
			var _g1 = _gthis._song.events;
			while(_g < _g1.length) {
				var event = _g1[_g];
				++_g;
				var strumTime = event[0];
				if(endThing > event[0] && event[0] >= startThing) {
					var copiedEventArray = [];
					var _g2 = 0;
					var _g3 = event[1].length;
					while(_g2 < _g3) {
						var i = _g2++;
						var eventToPush = event[1][i];
						copiedEventArray.push([eventToPush[0],eventToPush[1],eventToPush[2]]);
					}
					_gthis.notesCopied.push([strumTime,-1,copiedEventArray]);
				}
			}
		});
		var pasteButton = new flixel_ui_FlxButton(10,180,"Paste Section",function() {
			if(_gthis.notesCopied == null || _gthis.notesCopied.length < 1) {
				return;
			}
			var addToTime = Conductor.stepCrochet * (_gthis._song.notes[editors_ChartingState.curSection].lengthInSteps * (editors_ChartingState.curSection - _gthis.sectionToCopy));
			var _g = 0;
			var _g1 = _gthis.notesCopied;
			while(_g < _g1.length) {
				var note = _g1[_g];
				++_g;
				var copiedNote = [];
				var newStrumTime = note[0] + addToTime;
				if(note[1] < 0) {
					var copiedEventArray = [];
					var _g2 = 0;
					var _g3 = note[2].length;
					while(_g2 < _g3) {
						var i = _g2++;
						var eventToPush = note[2][i];
						copiedEventArray.push([eventToPush[0],eventToPush[1],eventToPush[2]]);
					}
					_gthis._song.events.push([newStrumTime,copiedEventArray]);
				} else {
					if(note[4] != null) {
						copiedNote = [newStrumTime,note[1],note[2],note[3],note[4]];
					} else {
						copiedNote = [newStrumTime,note[1],note[2],note[3]];
					}
					_gthis._song.notes[editors_ChartingState.curSection].sectionNotes.push(copiedNote);
				}
			}
			_gthis.updateGrid();
		});
		var clearSectionButton = new flixel_ui_FlxButton(10,210,"Clear",function() {
			_gthis._song.notes[editors_ChartingState.curSection].sectionNotes = [];
			var i = _gthis._song.events.length - 1;
			var startThing = _gthis.sectionStartTime();
			var endThing = _gthis.sectionStartTime(1);
			while(i > -1) {
				var event = _gthis._song.events[i];
				if(event != null && endThing > event[0] && event[0] >= startThing) {
					HxOverrides.remove(_gthis._song.events,event);
				}
				--i;
			}
			_gthis.updateGrid();
			_gthis.updateNoteUI();
		});
		var swapSection = new flixel_ui_FlxButton(10,240,"Swap section",function() {
			var _g = 0;
			var _g1 = _gthis._song.notes[editors_ChartingState.curSection].sectionNotes.length;
			while(_g < _g1) {
				var i = _g++;
				var note = _gthis._song.notes[editors_ChartingState.curSection].sectionNotes[i];
				note[1] = (note[1] + 4) % 8;
				_gthis._song.notes[editors_ChartingState.curSection].sectionNotes[i] = note;
			}
			_gthis.updateGrid();
		});
		var stepperCopy = new flixel_addons_ui_FlxUINumericStepper(110,276,1,1,-999,999,0);
		this.blockPressWhileTypingOnStepper.push(stepperCopy);
		var copyLastButton = new flixel_ui_FlxButton(10,270,"Copy last section",function() {
			var value = stepperCopy.value | 0;
			if(value == 0) {
				return;
			}
			var a = editors_ChartingState.curSection;
			var daSec = a > value ? a : value;
			var _g = 0;
			var _g1 = _gthis._song.notes[daSec - value].sectionNotes;
			while(_g < _g1.length) {
				var note = _g1[_g];
				++_g;
				var strum = note[0] + Conductor.stepCrochet * (_gthis._song.notes[daSec].lengthInSteps * value);
				var copiedNote = [strum,note[1],note[2],note[3]];
				_gthis._song.notes[daSec].sectionNotes.push(copiedNote);
			}
			var startThing = _gthis.sectionStartTime(-value);
			var endThing = _gthis.sectionStartTime(-value + 1);
			var _g = 0;
			var _g1 = _gthis._song.events;
			while(_g < _g1.length) {
				var event = _g1[_g];
				++_g;
				var strumTime = event[0];
				if(endThing > event[0] && event[0] >= startThing) {
					strumTime += Conductor.stepCrochet * (_gthis._song.notes[daSec].lengthInSteps * value);
					var copiedEventArray = [];
					var _g2 = 0;
					var _g3 = event[1].length;
					while(_g2 < _g3) {
						var i = _g2++;
						var eventToPush = event[1][i];
						copiedEventArray.push([eventToPush[0],eventToPush[1],eventToPush[2]]);
					}
					_gthis._song.events.push([strumTime,copiedEventArray]);
				}
			}
			_gthis.updateGrid();
		});
		copyLastButton.setGraphicSize(80,30);
		copyLastButton.updateHitbox();
		tab_group_section.add(this.stepperLength);
		tab_group_section.add(this.stepperSectionBPM);
		tab_group_section.add(this.check_mustHitSection);
		tab_group_section.add(this.check_gfSection);
		tab_group_section.add(this.check_altAnim);
		tab_group_section.add(this.check_changeBPM);
		tab_group_section.add(copyButton);
		tab_group_section.add(pasteButton);
		tab_group_section.add(clearSectionButton);
		tab_group_section.add(swapSection);
		tab_group_section.add(stepperCopy);
		tab_group_section.add(copyLastButton);
		this.UI_box.addGroup(tab_group_section);
	}
	,stepperSusLength: null
	,strumTimeInputText: null
	,noteTypeDropDown: null
	,currentType: null
	,addNoteUI: function() {
		var _gthis = this;
		var tab_group_note = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_note.name = "Note";
		this.stepperSusLength = new flixel_addons_ui_FlxUINumericStepper(10,25,Conductor.stepCrochet / 2,0,0,Conductor.stepCrochet * 32);
		this.stepperSusLength.set_value(0);
		this.stepperSusLength.name = "note_susLength";
		this.blockPressWhileTypingOnStepper.push(this.stepperSusLength);
		this.strumTimeInputText = new flixel_addons_ui_FlxUIInputText(10,65,180,"0");
		this.strumTimeInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		tab_group_note.add(this.strumTimeInputText);
		this.blockPressWhileTypingOn.push(this.strumTimeInputText);
		var key = 0;
		var displayNameList = [];
		while(key < editors_ChartingState.noteTypeList.length) {
			displayNameList.push(editors_ChartingState.noteTypeList[key]);
			this.noteTypeMap.h[editors_ChartingState.noteTypeList[key]] = key;
			this.noteTypeIntMap.h[key] = editors_ChartingState.noteTypeList[key];
			++key;
		}
		var _g = 1;
		var _g1 = displayNameList.length;
		while(_g < _g1) {
			var i = _g++;
			displayNameList[i] = i + ". " + displayNameList[i];
		}
		this.noteTypeDropDown = new FlxUIDropDownMenuCustom(10,105,FlxUIDropDownMenuCustom.makeStrIdLabelArray(displayNameList,true),function(character) {
			_gthis.currentType = Std.parseInt(character);
			if(_gthis.curSelectedNote != null && _gthis.curSelectedNote[1] > -1) {
				_gthis.curSelectedNote[3] = _gthis.noteTypeIntMap.h[_gthis.currentType];
				_gthis.updateGrid();
			}
		});
		this.blockPressWhileScrolling.push(this.noteTypeDropDown);
		tab_group_note.add(new flixel_text_FlxText(10,10,0,"Sustain length:"));
		tab_group_note.add(new flixel_text_FlxText(10,50,0,"Strum time (in miliseconds):"));
		tab_group_note.add(new flixel_text_FlxText(10,90,0,"Note type:"));
		tab_group_note.add(this.stepperSusLength);
		tab_group_note.add(this.strumTimeInputText);
		tab_group_note.add(this.noteTypeDropDown);
		this.UI_box.addGroup(tab_group_note);
	}
	,eventDropDown: null
	,descText: null
	,selectedEventText: null
	,addEventsUI: function() {
		var _gthis = this;
		var tab_group_event = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_event.name = "Events";
		this.descText = new flixel_text_FlxText(20,200,0,this.eventStuff[0][0]);
		var leEvents = [];
		var _g = 0;
		var _g1 = this.eventStuff.length;
		while(_g < _g1) {
			var i = _g++;
			leEvents.push(this.eventStuff[i][0]);
		}
		var text = new flixel_text_FlxText(20,30,0,"Event:");
		tab_group_event.add(text);
		this.eventDropDown = new FlxUIDropDownMenuCustom(20,50,FlxUIDropDownMenuCustom.makeStrIdLabelArray(leEvents,true),function(pressed) {
			var selectedEvent = Std.parseInt(pressed);
			_gthis.descText.set_text(_gthis.eventStuff[selectedEvent][1]);
			if(_gthis.curSelectedNote != null && _gthis.eventStuff != null) {
				if(_gthis.curSelectedNote != null && _gthis.curSelectedNote[2] == null) {
					_gthis.curSelectedNote[1][_gthis.curEventSelected][0] = _gthis.eventStuff[selectedEvent][0];
				}
				_gthis.updateGrid();
			}
		});
		this.blockPressWhileScrolling.push(this.eventDropDown);
		var text = new flixel_text_FlxText(20,90,0,"Value 1:");
		tab_group_event.add(text);
		this.value1InputText = new flixel_addons_ui_FlxUIInputText(20,110,100,"");
		this.value1InputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.value1InputText);
		var text = new flixel_text_FlxText(20,130,0,"Value 2:");
		tab_group_event.add(text);
		this.value2InputText = new flixel_addons_ui_FlxUIInputText(20,150,100,"");
		this.value2InputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.value2InputText);
		var removeButton = new flixel_ui_FlxButton(this.eventDropDown.x + this.eventDropDown.get_width() + 10,this.eventDropDown.y,"-",function() {
			if(_gthis.curSelectedNote != null && _gthis.curSelectedNote[2] == null) {
				if(_gthis.curSelectedNote[1].length < 2) {
					HxOverrides.remove(_gthis._song.events,_gthis.curSelectedNote);
					_gthis.curSelectedNote = null;
				} else {
					_gthis.curSelectedNote[1].remove(_gthis.curSelectedNote[1][_gthis.curEventSelected]);
				}
				var eventsGroup;
				--_gthis.curEventSelected;
				if(_gthis.curEventSelected < 0) {
					_gthis.curEventSelected = 0;
				} else {
					var removeButton;
					if(_gthis.curSelectedNote != null) {
						eventsGroup = _gthis.curSelectedNote[1];
						removeButton = _gthis.curEventSelected >= eventsGroup.length;
					} else {
						removeButton = false;
					}
					if(removeButton) {
						_gthis.curEventSelected = eventsGroup.length - 1;
					}
				}
				_gthis.changeEventSelected();
				_gthis.updateGrid();
			}
		});
		removeButton.setGraphicSize(removeButton.get_height() | 0,removeButton.get_height() | 0);
		removeButton.updateHitbox();
		removeButton.set_color(-65536);
		removeButton.label.set_color(-1);
		removeButton.label.set_size(12);
		this.setAllLabelsOffset(removeButton,-30,0);
		tab_group_event.add(removeButton);
		var addButton = new flixel_ui_FlxButton(removeButton.x + removeButton.get_width() + 10,removeButton.y,"+",function() {
			if(_gthis.curSelectedNote != null && _gthis.curSelectedNote[2] == null) {
				var eventsGroup = _gthis.curSelectedNote[1];
				eventsGroup.push(["","",""]);
				_gthis.changeEventSelected(1);
				_gthis.updateGrid();
			}
		});
		addButton.setGraphicSize(removeButton.get_width() | 0,removeButton.get_height() | 0);
		addButton.updateHitbox();
		addButton.set_color(-16744448);
		addButton.label.set_color(-1);
		addButton.label.set_size(12);
		this.setAllLabelsOffset(addButton,-30,0);
		tab_group_event.add(addButton);
		var moveLeftButton = new flixel_ui_FlxButton(addButton.x + addButton.get_width() + 20,addButton.y,"<",function() {
			_gthis.changeEventSelected(-1);
		});
		moveLeftButton.setGraphicSize(addButton.get_width() | 0,addButton.get_height() | 0);
		moveLeftButton.updateHitbox();
		moveLeftButton.label.set_size(12);
		this.setAllLabelsOffset(moveLeftButton,-30,0);
		tab_group_event.add(moveLeftButton);
		var moveRightButton = new flixel_ui_FlxButton(moveLeftButton.x + moveLeftButton.get_width() + 10,moveLeftButton.y,">",function() {
			_gthis.changeEventSelected(1);
		});
		moveRightButton.setGraphicSize(moveLeftButton.get_width() | 0,moveLeftButton.get_height() | 0);
		moveRightButton.updateHitbox();
		moveRightButton.label.set_size(12);
		this.setAllLabelsOffset(moveRightButton,-30,0);
		tab_group_event.add(moveRightButton);
		this.selectedEventText = new flixel_text_FlxText(addButton.x - 100,addButton.y + addButton.get_height() + 6,moveRightButton.x - addButton.x + 186,"Selected Event: None");
		this.selectedEventText.set_alignment("center");
		tab_group_event.add(this.selectedEventText);
		tab_group_event.add(this.descText);
		tab_group_event.add(this.value1InputText);
		tab_group_event.add(this.value2InputText);
		tab_group_event.add(this.eventDropDown);
		this.UI_box.addGroup(tab_group_event);
	}
	,changeEventSelected: function(change) {
		if(change == null) {
			change = 0;
		}
		if(this.curSelectedNote != null && this.curSelectedNote[2] == null) {
			this.curEventSelected += change;
			if(this.curEventSelected < 0) {
				this.curEventSelected = (this.curSelectedNote[1].length | 0) - 1;
			} else if(this.curEventSelected >= this.curSelectedNote[1].length) {
				this.curEventSelected = 0;
			}
			this.selectedEventText.set_text("Selected Event: " + (this.curEventSelected + 1) + " / " + Std.string(this.curSelectedNote[1].length));
		} else {
			this.curEventSelected = 0;
			this.selectedEventText.set_text("Selected Event: None");
		}
		this.updateNoteUI();
	}
	,setAllLabelsOffset: function(button,x,y) {
		var _g = 0;
		var _g1 = button.labelOffsets;
		while(_g < _g1.length) {
			var point = _g1[_g];
			++_g;
			point.set(x,y);
		}
	}
	,metronome: null
	,metronomeStepper: null
	,metronomeOffsetStepper: null
	,disableAutoScrolling: null
	,waveformEnabled: null
	,waveformUseInstrumental: null
	,instVolume: null
	,voicesVolume: null
	,addChartingUI: function() {
		var _gthis = this;
		var tab_group_chart = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_chart.name = "Charting";
		this.waveformEnabled = new flixel_addons_ui_FlxUICheckBox(10,90,null,null,"Visible Waveform",100);
		if(flixel_FlxG.save.data.chart_waveform == null) {
			flixel_FlxG.save.data.chart_waveform = false;
		}
		this.waveformEnabled.set_checked(flixel_FlxG.save.data.chart_waveform);
		this.waveformEnabled.callback = function() {
			flixel_FlxG.save.data.chart_waveform = _gthis.waveformEnabled.checked;
			_gthis.updateWaveform();
		};
		this.waveformUseInstrumental = new flixel_addons_ui_FlxUICheckBox(this.waveformEnabled.x + 120,this.waveformEnabled.y,null,null,"Waveform for Instrumental",100);
		this.waveformUseInstrumental.set_checked(false);
		this.waveformUseInstrumental.callback = function() {
			_gthis.updateWaveform();
		};
		this.check_mute_inst = new flixel_addons_ui_FlxUICheckBox(10,310,null,null,"Mute Instrumental (in editor)",100);
		this.check_mute_inst.set_checked(false);
		this.check_mute_inst.callback = function() {
			var vol = 1;
			if(_gthis.check_mute_inst.checked) {
				vol = 0;
			}
			flixel_FlxG.sound.music.set_volume(vol);
		};
		this.check_vortex = new flixel_addons_ui_FlxUICheckBox(10,120,null,null,"Vortex Editor (BETA)",100);
		if(flixel_FlxG.save.data.chart_vortex == null) {
			flixel_FlxG.save.data.chart_vortex = false;
		}
		this.check_vortex.set_checked(flixel_FlxG.save.data.chart_vortex);
		this.check_vortex.callback = function() {
			flixel_FlxG.save.data.chart_vortex = _gthis.check_vortex.checked;
			editors_ChartingState.vortex = flixel_FlxG.save.data.chart_vortex;
			_gthis.reloadGridLayer();
		};
		var check_mute_vocals = new flixel_addons_ui_FlxUICheckBox(this.check_mute_inst.x + 120,this.check_mute_inst.y,null,null,"Mute Vocals (in editor)",100);
		check_mute_vocals.set_checked(false);
		check_mute_vocals.callback = function() {
			if(_gthis.vocals != null) {
				var vol = 1;
				if(check_mute_vocals.checked) {
					vol = 0;
				}
				_gthis.vocals.set_volume(vol);
			}
		};
		this.playSoundBf = new flixel_addons_ui_FlxUICheckBox(this.check_mute_inst.x,check_mute_vocals.y + 30,null,null,"Play Sound (Boyfriend notes)",100,null,function() {
			flixel_FlxG.save.data.chart_playSoundBf = _gthis.playSoundBf.checked;
		});
		if(flixel_FlxG.save.data.chart_playSoundBf == null) {
			flixel_FlxG.save.data.chart_playSoundBf = false;
		}
		this.playSoundBf.set_checked(flixel_FlxG.save.data.chart_playSoundBf);
		this.playSoundDad = new flixel_addons_ui_FlxUICheckBox(this.check_mute_inst.x + 120,this.playSoundBf.y,null,null,"Play Sound (Opponent notes)",100,null,function() {
			flixel_FlxG.save.data.chart_playSoundDad = _gthis.playSoundDad.checked;
		});
		if(flixel_FlxG.save.data.chart_playSoundDad == null) {
			flixel_FlxG.save.data.chart_playSoundDad = false;
		}
		this.playSoundDad.set_checked(flixel_FlxG.save.data.chart_playSoundDad);
		this.metronome = new flixel_addons_ui_FlxUICheckBox(10,15,null,null,"Metronome Enabled",100,null,function() {
			flixel_FlxG.save.data.chart_metronome = _gthis.metronome.checked;
		});
		if(flixel_FlxG.save.data.chart_metronome == null) {
			flixel_FlxG.save.data.chart_metronome = false;
		}
		this.metronome.set_checked(flixel_FlxG.save.data.chart_metronome);
		this.metronomeStepper = new flixel_addons_ui_FlxUINumericStepper(15,55,5,this._song.bpm,1,1500,1);
		this.metronomeOffsetStepper = new flixel_addons_ui_FlxUINumericStepper(this.metronomeStepper.x + 100,this.metronomeStepper.y,25,0,0,1000,1);
		this.blockPressWhileTypingOnStepper.push(this.metronomeStepper);
		this.blockPressWhileTypingOnStepper.push(this.metronomeOffsetStepper);
		this.disableAutoScrolling = new flixel_addons_ui_FlxUICheckBox(this.metronome.x + 120,this.metronome.y,null,null,"Disable Autoscroll (Not Recommended)",120,null,function() {
			flixel_FlxG.save.data.chart_noAutoScroll = _gthis.disableAutoScrolling.checked;
		});
		if(flixel_FlxG.save.data.chart_noAutoScroll == null) {
			flixel_FlxG.save.data.chart_noAutoScroll = false;
		}
		this.disableAutoScrolling.set_checked(flixel_FlxG.save.data.chart_noAutoScroll);
		this.instVolume = new flixel_addons_ui_FlxUINumericStepper(this.metronomeStepper.x,270,0.1,1,0,1,1);
		this.instVolume.set_value(flixel_FlxG.sound.music._volume);
		this.instVolume.name = "inst_volume";
		this.blockPressWhileTypingOnStepper.push(this.instVolume);
		this.voicesVolume = new flixel_addons_ui_FlxUINumericStepper(this.instVolume.x + 100,this.instVolume.y,0.1,1,0,1,1);
		this.voicesVolume.set_value(this.vocals._volume);
		this.voicesVolume.name = "voices_volume";
		this.blockPressWhileTypingOnStepper.push(this.voicesVolume);
		tab_group_chart.add(new flixel_text_FlxText(this.metronomeStepper.x,this.metronomeStepper.y - 15,0,"BPM:"));
		tab_group_chart.add(new flixel_text_FlxText(this.metronomeOffsetStepper.x,this.metronomeOffsetStepper.y - 15,0,"Offset (ms):"));
		tab_group_chart.add(new flixel_text_FlxText(this.instVolume.x,this.instVolume.y - 15,0,"Inst Volume"));
		tab_group_chart.add(new flixel_text_FlxText(this.voicesVolume.x,this.voicesVolume.y - 15,0,"Voices Volume"));
		tab_group_chart.add(this.metronome);
		tab_group_chart.add(this.disableAutoScrolling);
		tab_group_chart.add(this.metronomeStepper);
		tab_group_chart.add(this.metronomeOffsetStepper);
		tab_group_chart.add(this.waveformEnabled);
		tab_group_chart.add(this.waveformUseInstrumental);
		tab_group_chart.add(this.instVolume);
		tab_group_chart.add(this.voicesVolume);
		tab_group_chart.add(this.check_mute_inst);
		tab_group_chart.add(check_mute_vocals);
		tab_group_chart.add(this.check_vortex);
		tab_group_chart.add(this.playSoundBf);
		tab_group_chart.add(this.playSoundDad);
		this.UI_box.addGroup(tab_group_chart);
	}
	,loadSong: function() {
		if(flixel_FlxG.sound.music != null) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		var file = "songs:assets/songs/" + StringTools.replace(this.currentSongName.toLowerCase()," ","-") + "/Voices." + "mp3";
		this.vocals = new flixel_system_FlxSound();
		if(((file) instanceof openfl_media_Sound) || openfl_utils_Assets.exists(file)) {
			this.vocals.loadEmbedded(file);
			flixel_FlxG.sound.list.add(this.vocals);
		}
		this.generateSong();
		flixel_FlxG.sound.music.pause();
		Conductor.songPosition = this.sectionStartTime();
		flixel_FlxG.sound.music.set_time(Conductor.songPosition);
	}
	,generateSong: function() {
		var _gthis = this;
		flixel_FlxG.sound.playMusic("songs:assets/songs/" + StringTools.replace(this.currentSongName.toLowerCase()," ","-") + "/Inst." + "mp3",0.6);
		if(this.instVolume != null) {
			flixel_FlxG.sound.music.set_volume(this.instVolume.value);
		}
		if(this.check_mute_inst != null && this.check_mute_inst.checked) {
			flixel_FlxG.sound.music.set_volume(0);
		}
		flixel_FlxG.sound.music.onComplete = function() {
			flixel_FlxG.sound.music.pause();
			Conductor.songPosition = 0;
			if(_gthis.vocals != null) {
				_gthis.vocals.pause();
				_gthis.vocals.set_time(0);
			}
			_gthis.changeSection();
			editors_ChartingState.curSection = 0;
			_gthis.updateGrid();
			_gthis.updateSectionUI();
			_gthis.vocals.play();
		};
	}
	,generateUI: function() {
		while(this.bullshitUI.members.length > 0) this.bullshitUI.remove(this.bullshitUI.members[0],true);
		var title = new flixel_text_FlxText(this.UI_box.x + 20,this.UI_box.y + 20,0);
		this.bullshitUI.add(title);
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "click_check_box") {
			var check = sender;
			var label = check.getLabel().text;
			switch(label) {
			case "Alt Animation":
				this._song.notes[editors_ChartingState.curSection].altAnim = check.checked;
				break;
			case "Change BPM":
				this._song.notes[editors_ChartingState.curSection].changeBPM = check.checked;
				break;
			case "GF section":
				this._song.notes[editors_ChartingState.curSection].gfSection = check.checked;
				this.updateGrid();
				this.updateHeads();
				break;
			case "Must hit section":
				this._song.notes[editors_ChartingState.curSection].mustHitSection = check.checked;
				this.updateGrid();
				this.updateHeads();
				break;
			}
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			var nums = sender;
			var wname = nums.name;
			if(wname == "section_length") {
				this._song.notes[editors_ChartingState.curSection].lengthInSteps = nums.value | 0;
				this.updateGrid();
			} else if(wname == "song_speed") {
				this._song.speed = nums.value;
			} else if(wname == "song_bpm") {
				this.tempBpm = nums.value;
				Conductor.mapBPMChanges(this._song);
				Conductor.changeBPM(nums.value);
			} else if(wname == "note_susLength") {
				if(this.curSelectedNote != null && this.curSelectedNote[1] > -1) {
					this.curSelectedNote[2] = nums.value;
					this.updateGrid();
				} else {
					sender.value = 0;
				}
			} else if(wname == "section_bpm") {
				this._song.notes[editors_ChartingState.curSection].bpm = nums.value;
				this.updateGrid();
			} else if(wname == "inst_volume") {
				flixel_FlxG.sound.music.set_volume(nums.value);
			} else if(wname == "voices_volume") {
				this.vocals.set_volume(nums.value);
			}
		} else if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			if(sender == this.noteSplashesInputText) {
				this._song.splashSkin = this.noteSplashesInputText.text;
			} else if(this.curSelectedNote != null) {
				if(sender == this.value1InputText) {
					this.curSelectedNote[1][this.curEventSelected][1] = this.value1InputText.text;
					this.updateGrid();
				} else if(sender == this.value2InputText) {
					this.curSelectedNote[1][this.curEventSelected][2] = this.value2InputText.text;
					this.updateGrid();
				} else if(sender == this.strumTimeInputText) {
					var value = parseFloat(this.strumTimeInputText.text);
					if(isNaN(value)) {
						value = 0;
					}
					this.curSelectedNote[0] = value;
					this.updateGrid();
				}
			}
		}
	}
	,updatedSection: null
	,sectionStartTime: function(add) {
		if(add == null) {
			add = 0;
		}
		var daBPM = this._song.bpm;
		var daPos = 0;
		var _g = 0;
		var _g1 = editors_ChartingState.curSection + add;
		while(_g < _g1) {
			var i = _g++;
			if(this._song.notes[i] != null) {
				if(this._song.notes[i].changeBPM) {
					daBPM = this._song.notes[i].bpm;
				}
				daPos += 4 * (60000 / daBPM);
			}
		}
		return daPos;
	}
	,lastConductorPos: null
	,colorSine: null
	,update: function(elapsed) {
		var _gthis = this;
		this.curStep = this.recalculateSteps();
		if(flixel_FlxG.sound.music._time < 0) {
			flixel_FlxG.sound.music.pause();
			flixel_FlxG.sound.music.set_time(0);
		} else if(flixel_FlxG.sound.music._time > flixel_FlxG.sound.music._length) {
			flixel_FlxG.sound.music.pause();
			flixel_FlxG.sound.music.set_time(0);
			this.changeSection();
		}
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this._song.song = this.UI_songTitle.text;
		this.strumLine.set_y(this.getYfromStrum((Conductor.songPosition - this.sectionStartTime()) / (this.zoomList[this.curZoom] % (Conductor.stepCrochet * this._song.notes[editors_ChartingState.curSection].lengthInSteps))));
		this.strumLineNotes.members[0].set_y(this.strumLine.y);
		this.strumLineNotes.members[1].set_y(this.strumLine.y);
		this.strumLineNotes.members[2].set_y(this.strumLine.y);
		this.strumLineNotes.members[3].set_y(this.strumLine.y);
		this.strumLineNotes.members[4].set_y(this.strumLine.y);
		this.strumLineNotes.members[5].set_y(this.strumLine.y);
		this.strumLineNotes.members[6].set_y(this.strumLine.y);
		this.strumLineNotes.members[7].set_y(this.strumLine.y);
		flixel_FlxG.mouse.set_visible(true);
		this.camPos.set_y(this.strumLine.y);
		if(!this.disableAutoScrolling.checked) {
			if(Math.ceil(this.strumLine.y) >= this.gridBG.get_height() / 2) {
				if(this._song.notes[editors_ChartingState.curSection + 1] == null) {
					this.addSection();
				}
				this.changeSection(editors_ChartingState.curSection + 1,false);
			} else if(this.strumLine.y < -10) {
				this.changeSection(editors_ChartingState.curSection - 1,false);
			}
		}
		if(flixel_FlxG.mouse._leftButton.current == 2) {
			if(flixel_FlxG.mouse.overlaps(this.curRenderedNotes)) {
				this.curRenderedNotes.forEachAlive(function(note) {
					if(flixel_FlxG.mouse.overlaps(note)) {
						var _this = flixel_FlxG.keys.pressed;
						if(_this.keyManager.checkStatusUnsafe(17,_this.status)) {
							_gthis.selectNote(note);
						} else {
							var _this = flixel_FlxG.keys.pressed;
							if(_this.keyManager.checkStatusUnsafe(18,_this.status)) {
								_gthis.selectNote(note);
								_gthis.curSelectedNote[3] = _gthis.noteTypeIntMap.h[_gthis.currentType];
								_gthis.updateGrid();
							} else {
								_gthis.deleteNote(note);
							}
						}
					}
				});
			} else if(flixel_FlxG.mouse.x > this.gridBG.x && flixel_FlxG.mouse.x < this.gridBG.x + this.gridBG.get_width() && flixel_FlxG.mouse.y > this.gridBG.y && flixel_FlxG.mouse.y < this.gridBG.y + editors_ChartingState.GRID_SIZE * this._song.notes[editors_ChartingState.curSection].lengthInSteps * this.zoomList[this.curZoom]) {
				this.addNote();
			}
		}
		if(flixel_FlxG.mouse.x > this.gridBG.x && flixel_FlxG.mouse.x < this.gridBG.x + this.gridBG.get_width() && flixel_FlxG.mouse.y > this.gridBG.y && flixel_FlxG.mouse.y < this.gridBG.y + editors_ChartingState.GRID_SIZE * this._song.notes[editors_ChartingState.curSection].lengthInSteps * this.zoomList[this.curZoom]) {
			this.dummyArrow.set_visible(true);
			this.dummyArrow.set_x(Math.floor(flixel_FlxG.mouse.x / editors_ChartingState.GRID_SIZE) * editors_ChartingState.GRID_SIZE);
			var tmp;
			var _this = flixel_FlxG.keys.pressed;
			if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				var _this = this.key_shift.input;
				tmp = _this.current == 1 || _this.current == 2;
			} else {
				tmp = true;
			}
			if(tmp) {
				this.dummyArrow.set_y(flixel_FlxG.mouse.y);
			} else {
				this.dummyArrow.set_y(Math.floor(flixel_FlxG.mouse.y / editors_ChartingState.GRID_SIZE) * editors_ChartingState.GRID_SIZE);
			}
		} else {
			this.dummyArrow.set_visible(false);
		}
		var blockInput = false;
		var _g = 0;
		var _g1 = this.blockPressWhileTypingOn;
		while(_g < _g1.length) {
			var inputText = _g1[_g];
			++_g;
			if(inputText.hasFocus) {
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				blockInput = true;
				break;
			}
		}
		if(!blockInput) {
			var _g = 0;
			var _g1 = this.blockPressWhileTypingOnStepper;
			while(_g < _g1.length) {
				var stepper = _g1[_g];
				++_g;
				var leText = stepper.text_field;
				var leText1 = leText;
				if(leText1.hasFocus) {
					flixel_FlxG.sound.muteKeys = [];
					flixel_FlxG.sound.volumeDownKeys = [];
					flixel_FlxG.sound.volumeUpKeys = [];
					blockInput = true;
					break;
				}
			}
		}
		if(!blockInput) {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _g = 0;
			var _g1 = this.blockPressWhileScrolling;
			while(_g < _g1.length) {
				var dropDownMenu = _g1[_g];
				++_g;
				if(dropDownMenu.dropPanel.visible) {
					blockInput = true;
					break;
				}
			}
		}
		if(!blockInput) {
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				this.autosaveSong();
				MusicBeatState.switchState(LoadingState.getNextState(new editors_EditorPlayState(this.sectionStartTime()),false));
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(13,_this.status) || this._virtualpad.buttonA.input.current == 2) {
				this.autosaveSong();
				flixel_FlxG.mouse.set_visible(false);
				PlayState.SONG = this._song;
				var _this = flixel_FlxG.sound.music;
				_this.cleanup(_this.autoDestroy,true);
				if(this.vocals != null) {
					var _this = this.vocals;
					_this.cleanup(_this.autoDestroy,true);
				}
				StageData.loadDirectory(this._song);
				MusicBeatState.switchState(LoadingState.getNextState(new PlayState(),false));
			}
			if(this.curSelectedNote != null && this.curSelectedNote[1] > -1) {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(69,_this.status)) {
					this.changeNoteSustain(Conductor.stepCrochet);
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(81,_this.status)) {
					this.changeNoteSustain(-Conductor.stepCrochet);
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(8,_this.status) || this._virtualpad.buttonB.input.current == 2) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
				flixel_FlxG.mouse.set_visible(false);
				return;
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(90,_this.status) && this.curZoom > 0) {
				--this.curZoom;
				this.updateZoom();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(88,_this.status) && this.curZoom < this.zoomList.length - 1) {
				this.curZoom++;
				this.updateZoom();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(9,_this.status)) {
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
					var _this = this.key_shift.input;
					tmp = _this.current == 1 || _this.current == 2;
				} else {
					tmp = true;
				}
				if(tmp) {
					var fh = this.UI_box;
					fh.set_selected_tab(fh.get_selected_tab() - 1);
					if(this.UI_box.get_selected_tab() < 0) {
						this.UI_box.set_selected_tab(2);
					}
				} else {
					var fh = this.UI_box;
					fh.set_selected_tab(fh.get_selected_tab() + 1);
					if(this.UI_box.get_selected_tab() >= 3) {
						this.UI_box.set_selected_tab(0);
					}
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(32,_this.status) || this.key_space.input.current == 2) {
				if(flixel_FlxG.sound.music._channel != null) {
					flixel_FlxG.sound.music.pause();
					if(this.vocals != null) {
						this.vocals.pause();
					}
				} else {
					if(this.vocals != null) {
						this.vocals.play();
						this.vocals.pause();
						this.vocals.set_time(flixel_FlxG.sound.music._time);
						this.vocals.play();
					}
					flixel_FlxG.sound.music.play();
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(82,_this.status)) {
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
					var _this = this.key_shift.input;
					tmp = _this.current == 1 || _this.current == 2;
				} else {
					tmp = true;
				}
				if(tmp) {
					this.resetSection(true);
				} else {
					this.resetSection();
				}
			}
			if(flixel_FlxG.mouse.wheel != 0) {
				flixel_FlxG.sound.music.pause();
				var fh = flixel_FlxG.sound.music;
				fh.set_time(fh._time - flixel_FlxG.mouse.wheel * Conductor.stepCrochet * 0.8);
				if(this.vocals != null) {
					this.vocals.pause();
					this.vocals.set_time(flixel_FlxG.sound.music._time);
				}
			}
			var tmp;
			var tmp1;
			var tmp2;
			var _this = flixel_FlxG.keys.pressed;
			if(!_this.keyManager.checkStatusUnsafe(87,_this.status)) {
				var _this = flixel_FlxG.keys.pressed;
				tmp2 = _this.keyManager.checkStatusUnsafe(83,_this.status);
			} else {
				tmp2 = true;
			}
			if(!tmp2) {
				var _this = this._virtualpad.buttonUp.input;
				tmp1 = _this.current == 1 || _this.current == 2;
			} else {
				tmp1 = true;
			}
			if(!tmp1) {
				var _this = this._virtualpad.buttonDown.input;
				tmp = _this.current == 1 || _this.current == 2;
			} else {
				tmp = true;
			}
			if(tmp) {
				flixel_FlxG.sound.music.pause();
				var holdingShift = 1;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(17,_this.status)) {
					holdingShift = 0.25;
				} else {
					var tmp;
					var _this = flixel_FlxG.keys.pressed;
					if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
						var _this = this.key_shift.input;
						tmp = _this.current == 1 || _this.current == 2;
					} else {
						tmp = true;
					}
					if(tmp) {
						holdingShift = 4;
					}
				}
				var daTime = 700 * flixel_FlxG.elapsed * holdingShift;
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(!_this.keyManager.checkStatusUnsafe(87,_this.status)) {
					var _this = this._virtualpad.buttonUp.input;
					tmp = _this.current == 1 || _this.current == 2;
				} else {
					tmp = true;
				}
				if(tmp) {
					var fh = flixel_FlxG.sound.music;
					fh.set_time(fh._time - daTime);
				} else {
					var fh = flixel_FlxG.sound.music;
					fh.set_time(fh._time + daTime);
				}
				if(this.vocals != null) {
					this.vocals.pause();
					this.vocals.set_time(flixel_FlxG.sound.music._time);
				}
			}
			var style = this.currentType;
			var tmp;
			var _this = flixel_FlxG.keys.pressed;
			if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				var _this = this.key_shift.input;
				tmp = _this.current == 1 || _this.current == 2;
			} else {
				tmp = true;
			}
			if(tmp) {
				style = 3;
			}
			var conductorTime = Conductor.songPosition;
			if(editors_ChartingState.vortex && !blockInput) {
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray = _this.keyManager.checkStatusUnsafe(49,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray1 = _this.keyManager.checkStatusUnsafe(50,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray2 = _this.keyManager.checkStatusUnsafe(51,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray3 = _this.keyManager.checkStatusUnsafe(52,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray4 = _this.keyManager.checkStatusUnsafe(53,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray5 = _this.keyManager.checkStatusUnsafe(54,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray6 = _this.keyManager.checkStatusUnsafe(55,_this.status);
				var _this = flixel_FlxG.keys.justPressed;
				var controlArray7 = [controlArray,controlArray1,controlArray2,controlArray3,controlArray4,controlArray5,controlArray6,_this.keyManager.checkStatusUnsafe(56,_this.status)];
				if(controlArray7.indexOf(true) != -1) {
					var _g = 0;
					var _g1 = controlArray7.length;
					while(_g < _g1) {
						var i = _g++;
						if(controlArray7[i]) {
							this.doANoteThing(conductorTime,i,style);
						}
					}
				}
				var datimess = [];
				var daTime = Conductor.stepCrochet * this.quants[editors_ChartingState.curQuant];
				var cuquant = 32 / this.quants[editors_ChartingState.curQuant] | 0;
				var _g = 0;
				var _g1 = cuquant;
				while(_g < _g1) {
					var i = _g++;
					datimess.push(this.sectionStartTime() + daTime * i);
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(37,_this.status)) {
					--editors_ChartingState.curQuant;
					if(editors_ChartingState.curQuant < 0) {
						editors_ChartingState.curQuant = 0;
					}
					this.daquantspot *= 32 / this.quants[editors_ChartingState.curQuant] | 0;
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(39,_this.status)) {
					editors_ChartingState.curQuant++;
					if(editors_ChartingState.curQuant > this.quants.length - 1) {
						editors_ChartingState.curQuant = this.quants.length - 1;
					}
					this.daquantspot *= 32 / this.quants[editors_ChartingState.curQuant] | 0;
				}
				this.quant.animation.play("q",true,false,editors_ChartingState.curQuant);
				var feces;
				var tmp;
				var _this = flixel_FlxG.keys.justPressed;
				if(!_this.keyManager.checkStatusUnsafe(38,_this.status)) {
					var _this = flixel_FlxG.keys.justPressed;
					tmp = _this.keyManager.checkStatusUnsafe(40,_this.status);
				} else {
					tmp = true;
				}
				if(tmp) {
					flixel_FlxG.sound.music.pause();
					this.updateCurStep();
					var _this = flixel_FlxG.keys.pressed;
					if(_this.keyManager.checkStatusUnsafe(38,_this.status)) {
						var foundaspot = false;
						var i = datimess.length - 1;
						while(i > -1) {
							if(Math.ceil(flixel_FlxG.sound.music._time) >= Math.ceil(datimess[i]) && !foundaspot) {
								foundaspot = true;
								flixel_FlxG.sound.music.set_time(datimess[i]);
							}
							--i;
						}
						feces = flixel_FlxG.sound.music._time - daTime;
					} else {
						var foundaspot = false;
						var _g = 0;
						while(_g < datimess.length) {
							var i = datimess[_g];
							++_g;
							if(Math.floor(flixel_FlxG.sound.music._time) <= Math.floor(i) && !foundaspot) {
								foundaspot = true;
								flixel_FlxG.sound.music.set_time(i);
							}
						}
						feces = flixel_FlxG.sound.music._time + daTime;
					}
					flixel_tweens_FlxTween.tween(flixel_FlxG.sound.music,{ time : feces},0.1,{ ease : flixel_tweens_FlxEase.circOut});
					if(this.vocals != null) {
						this.vocals.pause();
						this.vocals.set_time(flixel_FlxG.sound.music._time);
					}
					var dastrum = 0;
					if(this.curSelectedNote != null) {
						dastrum = this.curSelectedNote[0];
					}
					var secStart = this.sectionStartTime();
					var datime = feces - secStart - (dastrum - secStart);
					if(this.curSelectedNote != null) {
						var _this = flixel_FlxG.keys.pressed;
						var controlArray = _this.keyManager.checkStatusUnsafe(49,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray1 = _this.keyManager.checkStatusUnsafe(50,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray2 = _this.keyManager.checkStatusUnsafe(51,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray3 = _this.keyManager.checkStatusUnsafe(52,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray4 = _this.keyManager.checkStatusUnsafe(53,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray5 = _this.keyManager.checkStatusUnsafe(54,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray6 = _this.keyManager.checkStatusUnsafe(55,_this.status);
						var _this = flixel_FlxG.keys.pressed;
						var controlArray7 = [controlArray,controlArray1,controlArray2,controlArray3,controlArray4,controlArray5,controlArray6,_this.keyManager.checkStatusUnsafe(56,_this.status)];
						if(controlArray7.indexOf(true) != -1) {
							var _g = 0;
							var _g1 = controlArray7.length;
							while(_g < _g1) {
								var i = _g++;
								if(controlArray7[i]) {
									if(this.curSelectedNote[1] == i) {
										this.curSelectedNote[2] += datime - this.curSelectedNote[2] - Conductor.stepCrochet;
									}
								}
							}
							this.updateGrid();
							this.updateNoteUI();
						}
					}
				}
			}
			var shiftThing = 1;
			var tmp;
			var _this = flixel_FlxG.keys.pressed;
			if(!_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				var _this = this.key_shift.input;
				tmp = _this.current == 1 || _this.current == 2;
			} else {
				tmp = true;
			}
			if(tmp) {
				shiftThing = 4;
			}
			var tmp;
			var _this = flixel_FlxG.keys.justPressed;
			if(!(_this.keyManager.checkStatusUnsafe(39,_this.status) && !editors_ChartingState.vortex)) {
				var _this = flixel_FlxG.keys.justPressed;
				tmp = _this.keyManager.checkStatusUnsafe(68,_this.status);
			} else {
				tmp = true;
			}
			if(tmp || this._virtualpad.buttonRight.input.current == 2) {
				this.changeSection(editors_ChartingState.curSection + shiftThing);
			}
			var tmp;
			var _this = flixel_FlxG.keys.justPressed;
			if(!(_this.keyManager.checkStatusUnsafe(37,_this.status) && !editors_ChartingState.vortex)) {
				var _this = flixel_FlxG.keys.justPressed;
				tmp = _this.keyManager.checkStatusUnsafe(65,_this.status);
			} else {
				tmp = true;
			}
			if(tmp || this._virtualpad.buttonLeft.input.current == 2) {
				if(editors_ChartingState.curSection <= 0) {
					this.changeSection(this._song.notes.length - 1);
				} else {
					this.changeSection(editors_ChartingState.curSection - shiftThing);
				}
			}
		} else {
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(13,_this.status)) {
				var _g = 0;
				var _g1 = this.blockPressWhileTypingOn.length;
				while(_g < _g1) {
					var i = _g++;
					if(this.blockPressWhileTypingOn[i].hasFocus) {
						this.blockPressWhileTypingOn[i].set_hasFocus(false);
					}
				}
			}
		}
		this._song.bpm = this.tempBpm;
		this.strumLineNotes.set_visible(this.quant.set_visible(editors_ChartingState.vortex));
		if(flixel_FlxG.sound.music._time < 0) {
			flixel_FlxG.sound.music.pause();
			flixel_FlxG.sound.music.set_time(0);
		} else if(flixel_FlxG.sound.music._time > flixel_FlxG.sound.music._length) {
			flixel_FlxG.sound.music.pause();
			flixel_FlxG.sound.music.set_time(0);
			this.changeSection();
		}
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this.strumLine.set_y(this.getYfromStrum((Conductor.songPosition - this.sectionStartTime()) / (this.zoomList[this.curZoom] % (Conductor.stepCrochet * this._song.notes[editors_ChartingState.curSection].lengthInSteps))));
		this.camPos.set_y(this.strumLine.y);
		this.strumLineNotes.members[0].set_y(this.strumLine.y);
		this.strumLineNotes.members[0].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[1].set_y(this.strumLine.y);
		this.strumLineNotes.members[1].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[2].set_y(this.strumLine.y);
		this.strumLineNotes.members[2].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[3].set_y(this.strumLine.y);
		this.strumLineNotes.members[3].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[4].set_y(this.strumLine.y);
		this.strumLineNotes.members[4].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[5].set_y(this.strumLine.y);
		this.strumLineNotes.members[5].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[6].set_y(this.strumLine.y);
		this.strumLineNotes.members[6].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.strumLineNotes.members[7].set_y(this.strumLine.y);
		this.strumLineNotes.members[7].set_alpha(flixel_FlxG.sound.music._channel != null ? 1 : 0.35);
		this.bpmTxt.set_text(Std.string(flixel_math_FlxMath.roundDecimal(Conductor.songPosition / 1000,2)) + " / " + Std.string(flixel_math_FlxMath.roundDecimal(flixel_FlxG.sound.music._length / 1000,2)) + "\nSection: " + editors_ChartingState.curSection + "\n\nBeat: " + this.curBeat + "\n\nStep: " + this.curStep);
		var playedSound = [false,false,false,false];
		this.curRenderedNotes.forEachAlive(function(note) {
			note.set_alpha(1);
			if(_gthis.curSelectedNote != null) {
				var noteDataToCheck = note.noteData;
				if(noteDataToCheck > -1 && note.mustPress != _gthis._song.notes[editors_ChartingState.curSection].mustHitSection) {
					noteDataToCheck += 4;
				}
				if(_gthis.curSelectedNote[0] == note.strumTime && (_gthis.curSelectedNote[2] == null && noteDataToCheck < 0 || _gthis.curSelectedNote[2] != null && _gthis.curSelectedNote[1] == noteDataToCheck)) {
					_gthis.colorSine += elapsed;
					var colorVal = 0.7 + Math.sin(Math.PI * _gthis.colorSine) * 0.3;
					var Alpha = 0.999;
					if(Alpha == null) {
						Alpha = 1;
					}
					var color = flixel_util_FlxColor._new();
					var Alpha1 = Alpha;
					if(Alpha1 == null) {
						Alpha1 = 1;
					}
					var Value = Math.round(colorVal * 255);
					color &= -16711681;
					color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
					var Value = Math.round(colorVal * 255);
					color &= -65281;
					color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
					var Value = Math.round(colorVal * 255);
					color &= -256;
					color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
					var Value = Math.round(Alpha1 * 255);
					color &= 16777215;
					color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
					note.set_color(color);
				}
			}
			if(note.strumTime <= Conductor.songPosition) {
				note.set_alpha(0.4);
				if(note.strumTime > _gthis.lastConductorPos && flixel_FlxG.sound.music._channel != null && note.noteData > -1) {
					var data = note.noteData % 4;
					var noteDataToCheck = note.noteData;
					if(noteDataToCheck > -1 && note.mustPress != _gthis._song.notes[editors_ChartingState.curSection].mustHitSection) {
						noteDataToCheck += 4;
					}
					_gthis.strumLineNotes.members[noteDataToCheck].playAnim("confirm",true);
					_gthis.strumLineNotes.members[noteDataToCheck].resetAnim = note.sustainLength / 1000 + 0.15;
					if(!playedSound[data]) {
						if(_gthis.playSoundBf.checked && note.mustPress || _gthis.playSoundDad.checked && !note.mustPress) {
							var soundToPlay = "ChartingTick";
							if(_gthis._song.player1 == "gf") {
								soundToPlay = "GF_" + Std.string(data + 1);
							}
							flixel_FlxG.sound.play(Paths.sound(soundToPlay))._transform.pan = note.noteData < 4 ? -0.3 : 0.3;
							playedSound[data] = true;
						}
						data = note.noteData;
						if(note.mustPress != _gthis._song.notes[editors_ChartingState.curSection].mustHitSection) {
							data += 4;
						}
					}
				}
			}
		});
		if(this.metronome.checked && this.lastConductorPos != Conductor.songPosition) {
			var metroInterval = 60 / this.metronomeStepper.value;
			var metroStep = Math.floor((Conductor.songPosition + this.metronomeOffsetStepper.value) / metroInterval / 1000);
			var lastMetroStep = Math.floor((this.lastConductorPos + this.metronomeOffsetStepper.value) / metroInterval / 1000);
			if(metroStep != lastMetroStep) {
				flixel_FlxG.sound.play(Paths.sound("Metronome_Tick"));
			}
		}
		this.lastConductorPos = Conductor.songPosition;
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,updateZoom: function() {
		this.zoomTxt.set_text("Zoom: " + this.zoomList[this.curZoom] + "x");
		this.reloadGridLayer();
	}
	,loadAudioBuffer: function() {
		if(this.audioBuffers[0] != null) {
			this.audioBuffers[0].dispose();
		}
		this.audioBuffers[0] = null;
		var leVocals = "songs:assets/songs/" + StringTools.replace(this.currentSongName.toLowerCase()," ","-") + "/Inst." + "mp3";
		if(!((leVocals) instanceof openfl_media_Sound) && openfl_utils_Assets.exists(leVocals)) {
			this.audioBuffers[0] = lime_media_AudioBuffer.fromFile("./" + Std.string(leVocals.substr(6)));
		}
		if(this.audioBuffers[1] != null) {
			this.audioBuffers[1].dispose();
		}
		this.audioBuffers[1] = null;
		var leVocals = "songs:assets/songs/" + StringTools.replace(this.currentSongName.toLowerCase()," ","-") + "/Voices." + "mp3";
		if(!((leVocals) instanceof openfl_media_Sound) && openfl_utils_Assets.exists(leVocals)) {
			this.audioBuffers[1] = lime_media_AudioBuffer.fromFile("./" + Std.string(leVocals.substr(6)));
		}
	}
	,reloadGridLayer: function() {
		this.gridLayer.clear();
		this.gridBG = flixel_addons_display_FlxGridOverlay.create(editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE * 9,editors_ChartingState.GRID_SIZE * 32 * this.zoomList[this.curZoom] | 0);
		this.gridLayer.add(this.gridBG);
		if(this.waveformEnabled != null) {
			this.updateWaveform();
		}
		var gridBlack = new flixel_FlxSprite(0,this.gridBG.get_height() / 2).makeGraphic(editors_ChartingState.GRID_SIZE * 9 | 0,this.gridBG.get_height() / 2 | 0,-16777216);
		gridBlack.set_alpha(0.4);
		this.gridLayer.add(gridBlack);
		var gridBlackLine = new flixel_FlxSprite(this.gridBG.x + this.gridBG.get_width() - editors_ChartingState.GRID_SIZE * 4).makeGraphic(2,this.gridBG.get_height() | 0,-16777216);
		this.gridLayer.add(gridBlackLine);
		var beatsep1 = new flixel_FlxSprite(this.gridBG.x,editors_ChartingState.GRID_SIZE * (4 * this.curZoom)).makeGraphic(this.gridBG.get_width() | 0,1,1157562368);
		if(editors_ChartingState.vortex) {
			this.gridLayer.add(beatsep1);
		}
		var beatsep1 = new flixel_FlxSprite(this.gridBG.x,editors_ChartingState.GRID_SIZE * (4 * this.curZoom) * 2).makeGraphic(this.gridBG.get_width() | 0,1,1157562368);
		if(editors_ChartingState.vortex) {
			this.gridLayer.add(beatsep1);
		}
		var beatsep1 = new flixel_FlxSprite(this.gridBG.x,editors_ChartingState.GRID_SIZE * (4 * this.curZoom) * 3).makeGraphic(this.gridBG.get_width() | 0,1,1157562368);
		if(editors_ChartingState.vortex) {
			this.gridLayer.add(beatsep1);
		}
		gridBlackLine = new flixel_FlxSprite(this.gridBG.x + editors_ChartingState.GRID_SIZE).makeGraphic(2,this.gridBG.get_height() | 0,-16777216);
		this.gridLayer.add(gridBlackLine);
		this.updateGrid();
	}
	,waveformPrinted: null
	,audioBuffers: null
	,updateWaveform: function() {
		if(this.waveformPrinted) {
			this.waveformSprite.makeGraphic(editors_ChartingState.GRID_SIZE * 8 | 0,this.gridBG.get_height() | 0,16777215);
			this.waveformSprite.get_pixels().fillRect(new openfl_geom_Rectangle(0,0,this.gridBG.get_width(),this.gridBG.get_height()),16777215);
		}
		this.waveformPrinted = false;
		var checkForVoices = 1;
		if(this.waveformUseInstrumental.checked) {
			checkForVoices = 0;
		}
		if(!this.waveformEnabled.checked || this.audioBuffers[checkForVoices] == null) {
			return;
		}
		var sampleMult = this.audioBuffers[checkForVoices].sampleRate / 44100;
		var index = this.sectionStartTime() * 44.0875 * sampleMult | 0;
		var drawIndex = 0;
		var steps = this._song.notes[editors_ChartingState.curSection].lengthInSteps;
		if(isNaN(steps) || steps < 1) {
			steps = 16;
		}
		var samplesPerRow = Conductor.stepCrochet * steps * 1.1 * sampleMult / 16 / this.zoomList[this.curZoom] | 0;
		if(samplesPerRow < 1) {
			samplesPerRow = 1;
		}
		var waveBytes = new haxe_io_Bytes(new Uint8Array(this.audioBuffers[checkForVoices].data.buffer));
		var min = 0;
		var max = 0;
		while(index < waveBytes.length - 1) {
			var byte = waveBytes.getUInt16(index * 4);
			if(byte > 32767.5) {
				byte -= 65535;
			}
			var sample = byte / 65535;
			if(sample > 0) {
				if(sample > max) {
					max = sample;
				}
			} else if(sample < 0) {
				if(sample < min) {
					min = sample;
				}
			}
			if(index % samplesPerRow == 0) {
				var pixelsMin = Math.abs(min * (editors_ChartingState.GRID_SIZE * 8));
				var pixelsMax = max * (editors_ChartingState.GRID_SIZE * 8);
				this.waveformSprite.get_pixels().fillRect(new openfl_geom_Rectangle(editors_ChartingState.GRID_SIZE * 4 - pixelsMin | 0,drawIndex,pixelsMin + pixelsMax,1),-16776961);
				++drawIndex;
				min = 0;
				max = 0;
				if(drawIndex > this.gridBG.get_height()) {
					break;
				}
			}
			++index;
		}
		this.waveformPrinted = true;
	}
	,changeNoteSustain: function(value) {
		if(this.curSelectedNote != null) {
			if(this.curSelectedNote[2] != null) {
				this.curSelectedNote[2] += value;
				this.curSelectedNote[2] = Math.max(this.curSelectedNote[2],0);
			}
		}
		this.updateNoteUI();
		this.updateGrid();
	}
	,recalculateSteps: function(add) {
		if(add == null) {
			add = 0;
		}
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(flixel_FlxG.sound.music._time > Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		this.curStep = lastChange.stepTime + Math.floor((flixel_FlxG.sound.music._time - lastChange.songTime + add) / Conductor.stepCrochet);
		this.updateBeat();
		return this.curStep;
	}
	,resetSection: function(songBeginning) {
		if(songBeginning == null) {
			songBeginning = false;
		}
		this.updateGrid();
		flixel_FlxG.sound.music.pause();
		flixel_FlxG.sound.music.set_time(this.sectionStartTime());
		if(songBeginning) {
			flixel_FlxG.sound.music.set_time(0);
			editors_ChartingState.curSection = 0;
		}
		if(this.vocals != null) {
			this.vocals.pause();
			this.vocals.set_time(flixel_FlxG.sound.music._time);
		}
		this.updateCurStep();
		this.updateGrid();
		this.updateSectionUI();
		this.updateWaveform();
	}
	,changeSection: function(sec,updateMusic) {
		if(updateMusic == null) {
			updateMusic = true;
		}
		if(sec == null) {
			sec = 0;
		}
		if(this._song.notes[sec] != null) {
			editors_ChartingState.curSection = sec;
			this.updateGrid();
			if(updateMusic) {
				flixel_FlxG.sound.music.pause();
				flixel_FlxG.sound.music.set_time(this.sectionStartTime());
				if(this.vocals != null) {
					this.vocals.pause();
					this.vocals.set_time(flixel_FlxG.sound.music._time);
				}
				this.updateCurStep();
			}
			this.updateGrid();
			this.updateSectionUI();
		} else {
			this.changeSection();
		}
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this.updateWaveform();
	}
	,updateSectionUI: function() {
		var sec = this._song.notes[editors_ChartingState.curSection];
		this.stepperLength.set_value(sec.lengthInSteps);
		this.check_mustHitSection.set_checked(sec.mustHitSection);
		this.check_gfSection.set_checked(sec.gfSection);
		this.check_altAnim.set_checked(sec.altAnim);
		this.check_changeBPM.set_checked(sec.changeBPM);
		this.stepperSectionBPM.set_value(sec.bpm);
		this.updateHeads();
	}
	,updateHeads: function() {
		var healthIconP1 = this.loadHealthIconFromCharacter(this._song.player1);
		var healthIconP2 = this.loadHealthIconFromCharacter(this._song.player2);
		if(this._song.notes[editors_ChartingState.curSection].mustHitSection) {
			this.leftIcon.changeIcon(healthIconP1);
			this.rightIcon.changeIcon(healthIconP2);
			if(this._song.notes[editors_ChartingState.curSection].gfSection) {
				this.leftIcon.changeIcon("gf");
			}
		} else {
			this.leftIcon.changeIcon(healthIconP2);
			this.rightIcon.changeIcon(healthIconP1);
			if(this._song.notes[editors_ChartingState.curSection].gfSection) {
				this.leftIcon.changeIcon("gf");
			}
		}
	}
	,loadHealthIconFromCharacter: function(char) {
		var characterPath = "characters/" + char + ".json";
		var file = characterPath;
		if(file == null) {
			file = "";
		}
		var path = "assets/" + file;
		if(!openfl_utils_Assets.exists(path)) {
			var path1 = Main.getDataPath();
			var file = "characters/" + Character.DEFAULT_CHARACTER + ".json";
			if(file == null) {
				file = "";
			}
			path = path1 + ("assets/" + file);
		}
		var rawJson = openfl_utils_Assets.getText(path);
		var json = JSON.parse(rawJson);
		return json.healthicon;
	}
	,updateNoteUI: function() {
		if(this.curSelectedNote != null) {
			if(this.curSelectedNote[2] != null) {
				this.stepperSusLength.set_value(this.curSelectedNote[2]);
				if(this.curSelectedNote[3] != null) {
					this.currentType = this.noteTypeMap.h[this.curSelectedNote[3]];
					if(this.currentType <= 0) {
						this.noteTypeDropDown.set_selectedLabel("");
					} else {
						this.noteTypeDropDown.set_selectedLabel(this.currentType + ". " + Std.string(this.curSelectedNote[3]));
					}
				}
			} else {
				this.eventDropDown.set_selectedLabel(this.curSelectedNote[1][this.curEventSelected][0]);
				var selected = Std.parseInt(this.eventDropDown.get_selectedId());
				if(selected > 0 && selected < this.eventStuff.length) {
					this.descText.set_text(this.eventStuff[selected][1]);
				}
				this.value1InputText.set_text(this.curSelectedNote[1][this.curEventSelected][1]);
				this.value2InputText.set_text(this.curSelectedNote[1][this.curEventSelected][2]);
			}
			this.strumTimeInputText.set_text("" + Std.string(this.curSelectedNote[0]));
		}
	}
	,updateGrid: function() {
		this.curRenderedNotes.clear();
		this.curRenderedSustains.clear();
		this.curRenderedNoteType.clear();
		this.nextRenderedNotes.clear();
		this.nextRenderedSustains.clear();
		if(this._song.notes[editors_ChartingState.curSection].changeBPM && this._song.notes[editors_ChartingState.curSection].bpm > 0) {
			Conductor.changeBPM(this._song.notes[editors_ChartingState.curSection].bpm);
		} else {
			var daBPM = this._song.bpm;
			var _g = 0;
			var _g1 = editors_ChartingState.curSection;
			while(_g < _g1) {
				var i = _g++;
				if(this._song.notes[i].changeBPM) {
					daBPM = this._song.notes[i].bpm;
				}
			}
			Conductor.changeBPM(daBPM);
		}
		var _g = 0;
		var _g1 = this._song.notes[editors_ChartingState.curSection].sectionNotes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			var note = this.setupNoteData(i,false);
			this.curRenderedNotes.add(note);
			if(note.sustainLength > 0) {
				this.curRenderedSustains.add(this.setupSusNote(note));
			}
			if(note.y < -150) {
				note.set_y(-150);
			}
			if(i[3] != null && note.noteType != null && note.noteType.length > 0) {
				var typeInt = this.noteTypeMap.h[i[3]];
				var theType = "" + typeInt;
				if(typeInt == null) {
					theType = "?";
				}
				var daText = new editors_AttachedFlxText(0,0,100,theType,24);
				daText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),24,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
				daText.xAdd = -32;
				daText.yAdd = 6;
				daText.set_borderSize(1);
				this.curRenderedNoteType.add(daText);
				daText.sprTracker = note;
			}
			note.mustPress = this._song.notes[editors_ChartingState.curSection].mustHitSection;
			if(i[1] > 3) {
				note.mustPress = !note.mustPress;
			}
		}
		var startThing = this.sectionStartTime();
		var endThing = this.sectionStartTime(1);
		var _g = 0;
		var _g1 = this._song.events;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(endThing > i[0] && i[0] >= startThing) {
				var note = this.setupNoteData(i,false);
				this.curRenderedNotes.add(note);
				if(note.y < -150) {
					note.set_y(-150);
				}
				var text = "Event: " + note.eventName + " (" + Math.floor(note.strumTime) + " ms)" + "\nValue 1: " + note.eventVal1 + "\nValue 2: " + note.eventVal2;
				if(note.eventLength > 1) {
					text = note.eventLength + " Events:\n" + note.eventName;
				}
				var daText = new editors_AttachedFlxText(0,0,400,text,12);
				daText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),12,-1,"right",flixel_text_FlxTextBorderStyle.OUTLINE_FAST,-16777216);
				daText.xAdd = -410;
				daText.set_borderSize(1);
				if(note.eventLength > 1) {
					daText.yAdd += 8;
				}
				this.curRenderedNoteType.add(daText);
				daText.sprTracker = note;
			}
		}
		if(editors_ChartingState.curSection < this._song.notes.length - 1) {
			var _g = 0;
			var _g1 = this._song.notes[editors_ChartingState.curSection + 1].sectionNotes;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var note = this.setupNoteData(i,true);
				note.set_alpha(0.6);
				this.nextRenderedNotes.add(note);
				if(note.sustainLength > 0) {
					this.nextRenderedSustains.add(this.setupSusNote(note));
				}
			}
		}
		var startThing = this.sectionStartTime(1);
		var endThing = this.sectionStartTime(2);
		var _g = 0;
		var _g1 = this._song.events;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(endThing > i[0] && i[0] >= startThing) {
				var note = this.setupNoteData(i,true);
				note.set_alpha(0.6);
				this.nextRenderedNotes.add(note);
			}
		}
	}
	,setupNoteData: function(i,isNextSection) {
		var daNoteInfo = i[1];
		var daStrumTime = i[0];
		var daSus = i[2];
		var note = new Note(daStrumTime,daNoteInfo % 4,null,null,true);
		if(daSus != null) {
			if(typeof(i[3]) != "string") {
				i[3] = this.noteTypeIntMap.h[i[3]];
			}
			if(i.length > 3 && (i[3] == null || i[3].length < 1)) {
				HxOverrides.remove(i,i[3]);
			}
			note.sustainLength = daSus;
			note.set_noteType(i[3]);
		} else {
			note.loadGraphic(Paths.getPath("images/" + "eventArrow" + ".png","IMAGE",null));
			note.eventName = this.getEventName(i[1]);
			note.eventLength = i[1].length;
			if(i[1].length < 2) {
				note.eventVal1 = i[1][0][1];
				note.eventVal2 = i[1][0][2];
			}
			note.noteData = -1;
			daNoteInfo = -1;
		}
		note.setGraphicSize(editors_ChartingState.GRID_SIZE,editors_ChartingState.GRID_SIZE);
		note.updateHitbox();
		note.set_x(Math.floor(daNoteInfo * editors_ChartingState.GRID_SIZE) + editors_ChartingState.GRID_SIZE);
		if(isNextSection && this._song.notes[editors_ChartingState.curSection].mustHitSection != this._song.notes[editors_ChartingState.curSection + 1].mustHitSection) {
			if(daNoteInfo > 3) {
				note.set_x(note.x - editors_ChartingState.GRID_SIZE * 4);
			} else if(daSus != null) {
				note.set_x(note.x + editors_ChartingState.GRID_SIZE * 4);
			}
		}
		note.set_y(editors_ChartingState.GRID_SIZE * (isNextSection ? 16 : 0) * this.zoomList[this.curZoom] + Math.floor(this.getYfromStrum((daStrumTime - this.sectionStartTime(isNextSection ? 1 : 0)) % (Conductor.stepCrochet * this._song.notes[editors_ChartingState.curSection].lengthInSteps),false)));
		return note;
	}
	,getEventName: function(names) {
		var retStr = "";
		var addedOne = false;
		var _g = 0;
		var _g1 = names.length;
		while(_g < _g1) {
			var i = _g++;
			if(addedOne) {
				retStr += ", ";
			}
			retStr += names[i][0];
			addedOne = true;
		}
		return retStr;
	}
	,setupSusNote: function(note) {
		var height = Math.floor(flixel_math_FlxMath.remapToRange(note.sustainLength,0,Conductor.stepCrochet * 16,0,this.gridBG.get_height() / this.gridMult) + editors_ChartingState.GRID_SIZE * this.zoomList[this.curZoom] - editors_ChartingState.GRID_SIZE / 2);
		var minHeight = editors_ChartingState.GRID_SIZE * this.zoomList[this.curZoom] / 2 + editors_ChartingState.GRID_SIZE / 2 | 0;
		if(height < minHeight) {
			height = minHeight;
		}
		if(height < 1) {
			height = 1;
		}
		var spr = new flixel_FlxSprite(note.x + editors_ChartingState.GRID_SIZE * 0.5 - 4,note.y + editors_ChartingState.GRID_SIZE / 2).makeGraphic(8,height);
		return spr;
	}
	,addSection: function(lengthInSteps) {
		if(lengthInSteps == null) {
			lengthInSteps = 16;
		}
		var sec = { lengthInSteps : lengthInSteps, bpm : this._song.bpm, changeBPM : false, mustHitSection : true, gfSection : false, sectionNotes : [], typeOfSection : 0, altAnim : false};
		this._song.notes.push(sec);
	}
	,selectNote: function(note) {
		var noteDataToCheck = note.noteData;
		if(noteDataToCheck > -1) {
			if(note.mustPress != this._song.notes[editors_ChartingState.curSection].mustHitSection) {
				noteDataToCheck += 4;
			}
			var _g = 0;
			var _g1 = this._song.notes[editors_ChartingState.curSection].sectionNotes;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(i != this.curSelectedNote && i.length > 2 && i[0] == note.strumTime && i[1] == noteDataToCheck) {
					this.curSelectedNote = i;
					break;
				}
			}
		} else {
			var _g = 0;
			var _g1 = this._song.events;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(i != this.curSelectedNote && i[0] == note.strumTime) {
					this.curSelectedNote = i;
					this.curEventSelected = (this.curSelectedNote[1].length | 0) - 1;
					this.changeEventSelected();
					break;
				}
			}
		}
		this.updateGrid();
		this.updateNoteUI();
	}
	,deleteNote: function(note) {
		var noteDataToCheck = note.noteData;
		if(noteDataToCheck > -1 && note.mustPress != this._song.notes[editors_ChartingState.curSection].mustHitSection) {
			noteDataToCheck += 4;
		}
		if(note.noteData > -1) {
			var _g = 0;
			var _g1 = this._song.notes[editors_ChartingState.curSection].sectionNotes;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(i[0] == note.strumTime && i[1] == noteDataToCheck) {
					if(i == this.curSelectedNote) {
						this.curSelectedNote = null;
					}
					HxOverrides.remove(this._song.notes[editors_ChartingState.curSection].sectionNotes,i);
					break;
				}
			}
		} else {
			var _g = 0;
			var _g1 = this._song.events;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(i[0] == note.strumTime) {
					if(i == this.curSelectedNote) {
						this.curSelectedNote = null;
						this.changeEventSelected();
					}
					HxOverrides.remove(this._song.events,i);
					break;
				}
			}
		}
		this.updateGrid();
	}
	,doANoteThing: function(cs,d,style) {
		var _gthis = this;
		var delnote = false;
		if(this.strumLineNotes.members[d].overlaps(this.curRenderedNotes)) {
			this.curRenderedNotes.forEachAlive(function(note) {
				if(note.overlapsPoint(new flixel_math_FlxPoint(_gthis.strumLineNotes.members[d].x + 1,_gthis.strumLine.y + 1)) && note.noteData == d % 4) {
					if(!delnote) {
						_gthis.deleteNote(note);
					}
					delnote = true;
				}
			});
		}
		if(!delnote) {
			this.addNote(cs,d,style);
		}
	}
	,clearSong: function() {
		var _g = 0;
		var _g1 = this._song.notes.length;
		while(_g < _g1) {
			var daSection = _g++;
			this._song.notes[daSection].sectionNotes = [];
		}
		this.updateGrid();
	}
	,addNote: function(strum,data,type) {
		var noteStrum = this.getStrumTime(this.dummyArrow.y,false) + this.sectionStartTime();
		var noteData = Math.floor((flixel_FlxG.mouse.x - editors_ChartingState.GRID_SIZE) / editors_ChartingState.GRID_SIZE);
		var noteSus = 0;
		var daAlt = false;
		var daType = this.currentType;
		if(strum != null) {
			noteStrum = strum;
		}
		if(data != null) {
			noteData = data;
		}
		if(type != null) {
			daType = type;
		}
		if(noteData > -1) {
			this._song.notes[editors_ChartingState.curSection].sectionNotes.push([noteStrum,noteData,noteSus,this.noteTypeIntMap.h[daType]]);
			this.curSelectedNote = this._song.notes[editors_ChartingState.curSection].sectionNotes[this._song.notes[editors_ChartingState.curSection].sectionNotes.length - 1];
		} else {
			var event = this.eventStuff[Std.parseInt(this.eventDropDown.get_selectedId())][0];
			var text1 = this.value1InputText.text;
			var text2 = this.value2InputText.text;
			this._song.events.push([noteStrum,[[event,text1,text2]]]);
			this.curSelectedNote = this._song.events[this._song.events.length - 1];
			this.curEventSelected = 0;
			this.changeEventSelected();
		}
		var _this = flixel_FlxG.keys.pressed;
		if(_this.keyManager.checkStatusUnsafe(17,_this.status) && noteData > -1) {
			this._song.notes[editors_ChartingState.curSection].sectionNotes.push([noteStrum,(noteData + 4) % 8,noteSus,this.noteTypeIntMap.h[daType]]);
		}
		this.strumTimeInputText.set_text("" + Std.string(this.curSelectedNote[0]));
		this.updateGrid();
		this.updateNoteUI();
	}
	,getStrumTime: function(yPos,doZoomCalc) {
		if(doZoomCalc == null) {
			doZoomCalc = true;
		}
		var leZoom = this.zoomList[this.curZoom];
		if(!doZoomCalc) {
			leZoom = 1;
		}
		return flixel_math_FlxMath.remapToRange(yPos,this.gridBG.y,this.gridBG.y + this.gridBG.get_height() / this.gridMult * leZoom,0,16 * Conductor.stepCrochet);
	}
	,getYfromStrum: function(strumTime,doZoomCalc) {
		if(doZoomCalc == null) {
			doZoomCalc = true;
		}
		var leZoom = this.zoomList[this.curZoom];
		if(!doZoomCalc) {
			leZoom = 1;
		}
		return flixel_math_FlxMath.remapToRange(strumTime,0,16 * Conductor.stepCrochet,this.gridBG.y,this.gridBG.y + this.gridBG.get_height() / this.gridMult * leZoom);
	}
	,daSpacing: null
	,loadLevel: function() {
	}
	,getNotes: function() {
		var noteData = [];
		var _g = 0;
		var _g1 = this._song.notes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			noteData.push(i.sectionNotes);
		}
		return noteData;
	}
	,loadJson: function(song) {
		PlayState.SONG = Song.loadFromJson(song.toLowerCase(),song.toLowerCase());
		MusicBeatState.resetState();
	}
	,autosaveSong: function() {
		flixel_FlxG.save.data.autosave = JSON.stringify({ "song" : this._song});
		flixel_FlxG.save.flush();
	}
	,clearEvents: function() {
		this._song.events = [];
		this.updateGrid();
	}
	,saveLevel: function() {
		this._song.events.sort($bind(this,this.sortByTime));
		var json = { "song" : this._song};
		var data = JSON.stringify(json,null,"\t");
		if(data != null && data.length > 0) {
			this._file = new openfl_net_FileReference();
			this._file.addEventListener("complete",$bind(this,this.onSaveComplete));
			this._file.addEventListener("cancel",$bind(this,this.onSaveCancel));
			this._file.addEventListener("ioError",$bind(this,this.onSaveError));
			this._file.save(StringTools.trim(data),StringTools.replace(this._song.song.toLowerCase()," ","-") + ".json");
		}
	}
	,sortByTime: function(Obj1,Obj2) {
		var Value1 = Obj1[0];
		var Value2 = Obj2[0];
		var result = 0;
		if(Value1 < Value2) {
			result = -1;
		} else if(Value1 > Value2) {
			result = 1;
		}
		return result;
	}
	,saveEvents: function() {
		this._song.events.sort($bind(this,this.sortByTime));
		var eventsSong = { song : this._song.song, notes : [], events : this._song.events, bpm : this._song.bpm, needsVoices : this._song.needsVoices, speed : this._song.speed, arrowSkin : this._song.arrowSkin, splashSkin : this._song.splashSkin, player1 : this._song.player1, player2 : this._song.player2, player3 : null, gfVersion : this._song.gfVersion, stage : this._song.stage, validScore : false};
		var json = { "song" : eventsSong};
		var data = JSON.stringify(json,null,"\t");
		if(data != null && data.length > 0) {
			this._file = new openfl_net_FileReference();
			this._file.addEventListener("complete",$bind(this,this.onSaveComplete));
			this._file.addEventListener("cancel",$bind(this,this.onSaveCancel));
			this._file.addEventListener("ioError",$bind(this,this.onSaveError));
			this._file.save(StringTools.trim(data),"events.json");
		}
	}
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,__class__: editors_ChartingState
});
var editors_AttachedFlxText = function(X,Y,FieldWidth,Text1,Size,EmbeddedFont) {
	if(EmbeddedFont == null) {
		EmbeddedFont = true;
	}
	if(Size == null) {
		Size = 8;
	}
	if(FieldWidth == null) {
		FieldWidth = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.yAdd = 0;
	this.xAdd = 0;
	flixel_text_FlxText.call(this,X,Y,FieldWidth,Text1,Size,EmbeddedFont);
};
$hxClasses["editors.AttachedFlxText"] = editors_AttachedFlxText;
editors_AttachedFlxText.__name__ = "editors.AttachedFlxText";
editors_AttachedFlxText.__super__ = flixel_text_FlxText;
editors_AttachedFlxText.prototype = $extend(flixel_text_FlxText.prototype,{
	sprTracker: null
	,xAdd: null
	,yAdd: null
	,update: function(elapsed) {
		flixel_text_FlxText.prototype.update.call(this,elapsed);
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x + this.xAdd,this.sprTracker.y + this.yAdd);
			this.set_angle(this.sprTracker.angle);
			this.set_alpha(this.sprTracker.alpha);
		}
	}
	,__class__: editors_AttachedFlxText
});
var editors_DialogueCharacterEditorState = function(TransIn,TransOut) {
	this._file = null;
	this.transitioning = false;
	this.lastTab = "Character";
	this.currentGhosts = 0;
	this.blockPressWhileTypingOn = [];
	this.animationArray = [];
	this.daText = null;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["editors.DialogueCharacterEditorState"] = editors_DialogueCharacterEditorState;
editors_DialogueCharacterEditorState.__name__ = "editors.DialogueCharacterEditorState";
editors_DialogueCharacterEditorState.__super__ = MusicBeatState;
editors_DialogueCharacterEditorState.prototype = $extend(MusicBeatState.prototype,{
	box: null
	,daText: null
	,tipText: null
	,offsetLoopText: null
	,offsetIdleText: null
	,camGame: null
	,camOther: null
	,mainGroup: null
	,hudGroup: null
	,character: null
	,ghostLoop: null
	,ghostIdle: null
	,create: function() {
		this.persistentUpdate = this.persistentDraw = true;
		this.camGame = new flixel_FlxCamera();
		this.camOther = new flixel_FlxCamera();
		var color = flixel_util_FlxColor._new();
		var chroma = (1 - Math.abs(0.)) * 0;
		var match = 0.5 - chroma / 2;
		var Hue = 0;
		var Chroma = chroma;
		Hue %= 360;
		var hueD = Hue / 60;
		var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
		Chroma += match;
		switch(hueD | 0) {
		case 0:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(Chroma * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(mid * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(match * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 1:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(mid * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(Chroma * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(match * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 2:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(match * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(Chroma * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(mid * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 3:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(match * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(mid * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(Chroma * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 4:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(mid * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(match * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(Chroma * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 5:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(Chroma * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(match * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(mid * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		}
		this.camGame.bgColor = color;
		this.camOther.bgColor &= 16777215;
		this.camOther.bgColor |= 0;
		flixel_FlxG.cameras.reset(this.camGame);
		flixel_FlxG.cameras.add(this.camOther);
		flixel_FlxCamera._defaultCameras = [this.camOther];
		this.mainGroup = new flixel_group_FlxTypedSpriteGroup();
		this.mainGroup.set_cameras([this.camGame]);
		this.hudGroup = new flixel_group_FlxTypedSpriteGroup();
		this.hudGroup.set_cameras([this.camGame]);
		this.add(this.mainGroup);
		this.add(this.hudGroup);
		this.character = new DialogueCharacter();
		this.character.scrollFactor.set();
		this.mainGroup.add(this.character);
		this.ghostLoop = new DialogueCharacter();
		this.ghostLoop.set_alpha(0);
		this.ghostLoop.set_color(-65536);
		this.ghostLoop.isGhost = true;
		this.ghostLoop.jsonFile = this.character.jsonFile;
		this.ghostLoop.set_cameras([this.camGame]);
		this.add(this.ghostLoop);
		this.ghostIdle = new DialogueCharacter();
		this.ghostIdle.set_alpha(0);
		this.ghostIdle.set_color(-16776961);
		this.ghostIdle.isGhost = true;
		this.ghostIdle.jsonFile = this.character.jsonFile;
		this.ghostIdle.set_cameras([this.camGame]);
		this.add(this.ghostIdle);
		this.box = new flixel_FlxSprite(70,370);
		var library = null;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "speech_bubble" + ".png","IMAGE",library),Paths.getPath("images/" + "speech_bubble" + ".xml","TEXT",library)));
		this.box.scrollFactor.set();
		this.box.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.box.animation.addByPrefix("normal","speech bubble normal",24);
		this.box.animation.addByPrefix("center","speech bubble middle",24);
		this.box.animation.play("normal",true);
		this.box.setGraphicSize(this.box.get_width() * 0.9 | 0);
		this.box.updateHitbox();
		this.hudGroup.add(this.box);
		this.tipText = new flixel_text_FlxText(10,10,flixel_FlxG.width - 20,editors_DialogueCharacterEditorState.TIP_TEXT_MAIN,8);
		this.tipText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"right",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.tipText.set_cameras([this.camOther]);
		this.tipText.scrollFactor.set();
		this.add(this.tipText);
		this.offsetLoopText = new flixel_text_FlxText(10,10,0,"",32);
		this.offsetLoopText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.offsetLoopText.set_cameras([this.camOther]);
		this.offsetLoopText.scrollFactor.set();
		this.add(this.offsetLoopText);
		this.offsetLoopText.set_visible(false);
		this.offsetIdleText = new flixel_text_FlxText(10,46,0,"",32);
		this.offsetIdleText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),32,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.offsetIdleText.set_cameras([this.camOther]);
		this.offsetIdleText.scrollFactor.set();
		this.add(this.offsetIdleText);
		this.offsetIdleText.set_visible(false);
		this.reloadCharacter();
		this.updateTextBox();
		this.reloadText();
		this.addEditorBox();
		flixel_FlxG.mouse.set_visible(true);
		this.updateCharTypeBox();
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B_C);
		MusicBeatState.prototype.create.call(this);
	}
	,UI_typebox: null
	,UI_mainbox: null
	,addEditorBox: function() {
		var tabs = [{ name : "Character Type", label : "Character Type"}];
		this.UI_typebox = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_typebox.resize(120,180);
		this.UI_typebox.set_x(900);
		this.UI_typebox.set_y(flixel_FlxG.height - this.UI_typebox.get_height() - 50);
		this.UI_typebox.scrollFactor.set();
		this.UI_typebox.set_camera(this.camGame);
		this.addTypeUI();
		this.add(this.UI_typebox);
		var tabs = [{ name : "Animations", label : "Animations"},{ name : "Character", label : "Character"}];
		this.UI_mainbox = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_mainbox.resize(200,250);
		this.UI_mainbox.set_x(this.UI_typebox.x + this.UI_typebox.get_width());
		this.UI_mainbox.set_y(flixel_FlxG.height - this.UI_mainbox.get_height() - 50);
		this.UI_mainbox.scrollFactor.set();
		this.UI_mainbox.set_camera(this.camGame);
		this.addAnimationsUI();
		this.addCharacterUI();
		this.add(this.UI_mainbox);
		this.UI_mainbox.set_selected_tab_id("Character");
		this.lastTab = this.UI_mainbox.get_selected_tab_id();
	}
	,leftCheckbox: null
	,centerCheckbox: null
	,rightCheckbox: null
	,addTypeUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_typebox);
		tab_group.name = "Character Type";
		this.leftCheckbox = new flixel_addons_ui_FlxUICheckBox(10,20,null,null,"Left",100);
		this.leftCheckbox.callback = function() {
			_gthis.character.jsonFile.dialogue_pos = "left";
			_gthis.updateCharTypeBox();
		};
		this.centerCheckbox = new flixel_addons_ui_FlxUICheckBox(this.leftCheckbox.x,this.leftCheckbox.y + 40,null,null,"Center",100);
		this.centerCheckbox.callback = function() {
			_gthis.character.jsonFile.dialogue_pos = "center";
			_gthis.updateCharTypeBox();
		};
		this.rightCheckbox = new flixel_addons_ui_FlxUICheckBox(this.centerCheckbox.x,this.centerCheckbox.y + 40,null,null,"Right",100);
		this.rightCheckbox.callback = function() {
			_gthis.character.jsonFile.dialogue_pos = "right";
			_gthis.updateCharTypeBox();
		};
		tab_group.add(this.leftCheckbox);
		tab_group.add(this.centerCheckbox);
		tab_group.add(this.rightCheckbox);
		this.UI_typebox.addGroup(tab_group);
	}
	,curSelectedAnim: null
	,animationArray: null
	,animationDropDown: null
	,animationInputText: null
	,loopInputText: null
	,idleInputText: null
	,addAnimationsUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_mainbox);
		tab_group.name = "Animations";
		this.animationDropDown = new FlxUIDropDownMenuCustom(10,30,FlxUIDropDownMenuCustom.makeStrIdLabelArray([""],true),function(animation) {
			var anim = _gthis.animationArray[Std.parseInt(animation)];
			if(Object.prototype.hasOwnProperty.call(_gthis.character.dialogueAnimations.h,anim)) {
				_gthis.ghostLoop.playAnim(anim);
				_gthis.ghostIdle.playAnim(anim,true);
				_gthis.curSelectedAnim = anim;
				var animShit = _gthis.character.dialogueAnimations.h[_gthis.curSelectedAnim];
				_gthis.offsetLoopText.set_text("Loop: " + Std.string(animShit.loop_offsets));
				_gthis.offsetIdleText.set_text("Idle: " + Std.string(animShit.idle_offsets));
				_gthis.animationInputText.set_text(animShit.anim);
				_gthis.loopInputText.set_text(animShit.loop_name);
				_gthis.idleInputText.set_text(animShit.idle_name);
			}
		});
		this.animationInputText = new flixel_addons_ui_FlxUIInputText(15,85,80,"",8);
		this.animationInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.animationInputText);
		this.loopInputText = new flixel_addons_ui_FlxUIInputText(this.animationInputText.x,this.animationInputText.y + 35,150,"",8);
		this.loopInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.loopInputText);
		this.idleInputText = new flixel_addons_ui_FlxUIInputText(this.loopInputText.x,this.loopInputText.y + 40,150,"",8);
		this.idleInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.idleInputText);
		var addUpdateButton = new flixel_ui_FlxButton(10,this.idleInputText.y + 30,"Add/Update",function() {
			var theAnim = StringTools.trim(_gthis.animationInputText.text);
			if(Object.prototype.hasOwnProperty.call(_gthis.character.dialogueAnimations.h,theAnim)) {
				var _g = 0;
				var _g1 = _gthis.character.jsonFile.animations.length;
				while(_g < _g1) {
					var i = _g++;
					var animArray = _gthis.character.jsonFile.animations[i];
					if(StringTools.trim(animArray.anim) == theAnim) {
						animArray.loop_name = _gthis.loopInputText.text;
						animArray.idle_name = _gthis.idleInputText.text;
						break;
					}
				}
				_gthis.character.reloadAnimations();
				_gthis.ghostLoop.reloadAnimations();
				_gthis.ghostIdle.reloadAnimations();
				if(_gthis.curSelectedAnim == theAnim) {
					_gthis.ghostLoop.playAnim(theAnim);
					_gthis.ghostIdle.playAnim(theAnim,true);
				}
			} else {
				var newAnim = { anim : theAnim, loop_name : _gthis.loopInputText.text, loop_offsets : [0,0], idle_name : _gthis.idleInputText.text, idle_offsets : [0,0]};
				_gthis.character.jsonFile.animations.push(newAnim);
				var lastSelected = _gthis.animationDropDown.get_selectedLabel();
				_gthis.character.reloadAnimations();
				_gthis.ghostLoop.reloadAnimations();
				_gthis.ghostIdle.reloadAnimations();
				_gthis.reloadAnimationsDropDown();
				_gthis.animationDropDown.set_selectedLabel(lastSelected);
			}
		});
		var removeUpdateButton = new flixel_ui_FlxButton(100,addUpdateButton.y,"Remove",function() {
			var _g = 0;
			var _g1 = _gthis.character.jsonFile.animations.length;
			while(_g < _g1) {
				var i = _g++;
				var animArray = _gthis.character.jsonFile.animations[i];
				if(animArray != null && StringTools.trim(animArray.anim) == StringTools.trim(_gthis.animationInputText.text)) {
					var lastSelected = _gthis.animationDropDown.get_selectedLabel();
					HxOverrides.remove(_gthis.character.jsonFile.animations,animArray);
					_gthis.character.reloadAnimations();
					_gthis.ghostLoop.reloadAnimations();
					_gthis.ghostIdle.reloadAnimations();
					_gthis.reloadAnimationsDropDown();
					if(_gthis.character.jsonFile.animations.length > 0 && lastSelected == StringTools.trim(animArray.anim)) {
						var animToPlay = _gthis.character.jsonFile.animations[0].anim;
						_gthis.ghostLoop.playAnim(animToPlay);
						_gthis.ghostIdle.playAnim(animToPlay,true);
					}
					_gthis.animationDropDown.set_selectedLabel(lastSelected);
					_gthis.animationInputText.set_text("");
					_gthis.loopInputText.set_text("");
					_gthis.idleInputText.set_text("");
					break;
				}
			}
		});
		tab_group.add(new flixel_text_FlxText(this.animationDropDown.x,this.animationDropDown.y - 18,0,"Animations:"));
		tab_group.add(new flixel_text_FlxText(this.animationInputText.x,this.animationInputText.y - 18,0,"Animation name:"));
		tab_group.add(new flixel_text_FlxText(this.loopInputText.x,this.loopInputText.y - 18,0,"Loop name on .XML file:"));
		tab_group.add(new flixel_text_FlxText(this.idleInputText.x,this.idleInputText.y - 18,0,"Idle/Finished name on .XML file:"));
		tab_group.add(this.animationInputText);
		tab_group.add(this.loopInputText);
		tab_group.add(this.idleInputText);
		tab_group.add(addUpdateButton);
		tab_group.add(removeUpdateButton);
		tab_group.add(this.animationDropDown);
		this.UI_mainbox.addGroup(tab_group);
		this.reloadAnimationsDropDown();
	}
	,reloadAnimationsDropDown: function() {
		this.animationArray = [];
		var _g = 0;
		var _g1 = this.character.jsonFile.animations;
		while(_g < _g1.length) {
			var anim = _g1[_g];
			++_g;
			this.animationArray.push(anim.anim);
		}
		if(this.animationArray.length < 1) {
			this.animationArray = [""];
		}
		this.animationDropDown.setData(FlxUIDropDownMenuCustom.makeStrIdLabelArray(this.animationArray,true));
	}
	,imageInputText: null
	,scaleStepper: null
	,xStepper: null
	,yStepper: null
	,blockPressWhileTypingOn: null
	,addCharacterUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_mainbox);
		tab_group.name = "Character";
		this.imageInputText = new flixel_addons_ui_FlxUIInputText(10,30,80,this.character.jsonFile.image,8);
		this.imageInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.imageInputText);
		this.xStepper = new flixel_addons_ui_FlxUINumericStepper(this.imageInputText.x,this.imageInputText.y + 50,10,this.character.jsonFile.position[0],-2000,2000,0);
		this.yStepper = new flixel_addons_ui_FlxUINumericStepper(this.imageInputText.x + 80,this.xStepper.y,10,this.character.jsonFile.position[1],-2000,2000,0);
		this.scaleStepper = new flixel_addons_ui_FlxUINumericStepper(this.imageInputText.x,this.xStepper.y + 50,0.05,this.character.jsonFile.scale,0.1,10,2);
		tab_group.add(new flixel_text_FlxText(10,this.imageInputText.y - 18,0,"Image file name:"));
		tab_group.add(new flixel_text_FlxText(10,this.xStepper.y - 18,0,"Position Offset:"));
		tab_group.add(new flixel_text_FlxText(10,this.scaleStepper.y - 18,0,"Scale:"));
		tab_group.add(this.imageInputText);
		tab_group.add(this.xStepper);
		tab_group.add(this.yStepper);
		tab_group.add(this.scaleStepper);
		var reloadImageButton = new flixel_ui_FlxButton(10,this.scaleStepper.y + 60,"Reload Image",function() {
			_gthis.reloadCharacter();
		});
		var loadButton = new flixel_ui_FlxButton(reloadImageButton.x + 100,reloadImageButton.y,"Load Character",function() {
			_gthis.loadCharacter();
		});
		var saveButton = new flixel_ui_FlxButton(loadButton.x,reloadImageButton.y - 30,"Save Character",function() {
			_gthis.saveCharacter();
		});
		tab_group.add(reloadImageButton);
		tab_group.add(loadButton);
		tab_group.add(saveButton);
		this.UI_mainbox.addGroup(tab_group);
	}
	,updateCharTypeBox: function() {
		this.leftCheckbox.set_checked(false);
		this.centerCheckbox.set_checked(false);
		this.rightCheckbox.set_checked(false);
		switch(this.character.jsonFile.dialogue_pos) {
		case "center":
			this.centerCheckbox.set_checked(true);
			break;
		case "left":
			this.leftCheckbox.set_checked(true);
			break;
		case "right":
			this.rightCheckbox.set_checked(true);
			break;
		}
		this.reloadCharacter();
		this.updateTextBox();
	}
	,reloadText: function() {
		if(this.daText != null) {
			this.daText.killTheTimer();
			this.daText.kill();
			this.hudGroup.remove(this.daText);
			this.daText.destroy();
		}
		this.daText = new Alphabet(0,0,editors_DialogueCharacterEditorState.DEFAULT_TEXT,false,true,0.05,0.7);
		this.daText.set_x(DialogueBoxPsych.DEFAULT_TEXT_X);
		this.daText.set_y(DialogueBoxPsych.DEFAULT_TEXT_Y);
		this.hudGroup.add(this.daText);
	}
	,reloadCharacter: function() {
		var charsArray = [this.character,this.ghostLoop,this.ghostIdle];
		var _g = 0;
		while(_g < charsArray.length) {
			var char = charsArray[_g];
			++_g;
			var key = "dialogue/" + this.character.jsonFile.image;
			var library = null;
			char.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
			char.jsonFile = this.character.jsonFile;
			char.reloadAnimations();
			char.setGraphicSize(char.get_width() * DialogueCharacter.DEFAULT_SCALE * this.character.jsonFile.scale | 0);
			char.updateHitbox();
		}
		this.character.set_x(DialogueBoxPsych.LEFT_CHAR_X);
		this.character.set_y(DialogueBoxPsych.DEFAULT_CHAR_Y);
		switch(this.character.jsonFile.dialogue_pos) {
		case "center":
			this.character.set_x(flixel_FlxG.width / 2);
			var fh = this.character;
			fh.set_x(fh.x - this.character.get_width() / 2);
			break;
		case "right":
			this.character.set_x(flixel_FlxG.width - this.character.get_width() + DialogueBoxPsych.RIGHT_CHAR_X);
			break;
		}
		var fh = this.character;
		fh.set_x(fh.x + (this.character.jsonFile.position[0] + this.mainGroup.x));
		var fh = this.character;
		fh.set_y(fh.y + (this.character.jsonFile.position[1] + this.mainGroup.y));
		this.character.playAnim();
		if(this.character.jsonFile.animations.length > 0) {
			this.curSelectedAnim = this.character.jsonFile.animations[0].anim;
			var animShit = this.character.dialogueAnimations.h[this.curSelectedAnim];
			this.ghostLoop.playAnim(animShit.anim);
			this.ghostIdle.playAnim(animShit.anim,true);
			this.offsetLoopText.set_text("Loop: " + Std.string(animShit.loop_offsets));
			this.offsetIdleText.set_text("Idle: " + Std.string(animShit.idle_offsets));
		}
	}
	,updateTextBox: function() {
		this.box.set_flipX(false);
		var anim = "normal";
		switch(this.character.jsonFile.dialogue_pos) {
		case "center":
			anim = "center";
			break;
		case "left":
			this.box.set_flipX(true);
			break;
		}
		this.box.animation.play(anim,true);
		DialogueBoxPsych.updateBoxOffsets(this.box);
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && sender == this.imageInputText) {
			this.character.jsonFile.image = this.imageInputText.text;
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			if(sender == this.scaleStepper) {
				this.character.jsonFile.scale = this.scaleStepper.value;
				this.reloadCharacter();
			} else if(sender == this.xStepper) {
				this.character.jsonFile.position[0] = this.xStepper.value;
				this.reloadCharacter();
			} else if(sender == this.yStepper) {
				this.character.jsonFile.position[1] = this.yStepper.value;
				this.reloadCharacter();
			}
		}
	}
	,currentGhosts: null
	,lastTab: null
	,transitioning: null
	,update: function(elapsed) {
		if(this.transitioning) {
			MusicBeatState.prototype.update.call(this,elapsed);
			return;
		}
		if(this.character.animation._curAnim != null) {
			if(this.daText.finishedText) {
				if(this.character.animationIsLoop()) {
					this.character.playAnim(this.character.animation._curAnim.name,true);
				}
			} else if(this.character.animation._curAnim.finished) {
				this.character.animation._curAnim.restart();
			}
		}
		var blockInput = false;
		var _g = 0;
		var _g1 = this.blockPressWhileTypingOn;
		while(_g < _g1.length) {
			var inputText = _g1[_g];
			++_g;
			if(inputText.hasFocus) {
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				blockInput = true;
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(17,_this.status)) {
					var _this1 = flixel_FlxG.keys.justPressed;
					tmp = _this1.keyManager.checkStatusUnsafe(86,_this1.status);
				} else {
					tmp = false;
				}
				if(tmp && lime_system_Clipboard.get_text() != null) {
					inputText.set_text(this.ClipboardAdd(inputText.text));
					inputText.set_caretIndex(inputText.text.length);
					this.getEvent("change_input_text",inputText,null,[]);
				}
				var _this2 = flixel_FlxG.keys.justPressed;
				if(_this2.keyManager.checkStatusUnsafe(13,_this2.status)) {
					inputText.set_hasFocus(false);
				}
				break;
			}
		}
		if(!blockInput && !this.animationDropDown.dropPanel.visible) {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(32,_this.status) && this.UI_mainbox.get_selected_tab_id() == "Character") {
				this.character.playAnim();
				this.updateTextBox();
				this.reloadText();
			}
			var offsetAdd = 1;
			var speed = 300;
			var _this = flixel_FlxG.keys.pressed;
			if(_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				speed = 1200;
				offsetAdd = 10;
			}
			var negaMult = [1,1,-1,-1];
			var _this = flixel_FlxG.keys.pressed;
			var controlArray = _this.keyManager.checkStatusUnsafe(74,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var controlArray1 = _this.keyManager.checkStatusUnsafe(73,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var controlArray2 = _this.keyManager.checkStatusUnsafe(76,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var controlArray3 = [controlArray,controlArray1,controlArray2,_this.keyManager.checkStatusUnsafe(75,_this.status)];
			var _g = 0;
			var _g1 = controlArray3.length;
			while(_g < _g1) {
				var i = _g++;
				if(controlArray3[i]) {
					if(i % 2 == 1) {
						var fh = this.mainGroup;
						fh.set_y(fh.y + speed * elapsed * negaMult[i]);
					} else {
						var fh1 = this.mainGroup;
						fh1.set_x(fh1.x + speed * elapsed * negaMult[i]);
					}
				}
			}
			if(this.UI_mainbox.get_selected_tab_id() == "Animations" && this.curSelectedAnim != null && Object.prototype.hasOwnProperty.call(this.character.dialogueAnimations.h,this.curSelectedAnim)) {
				var moved = false;
				var animShit = this.character.dialogueAnimations.h[this.curSelectedAnim];
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayLoop = _this.keyManager.checkStatusUnsafe(65,_this.status) || this._virtualpad.buttonLeft.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayLoop1 = _this.keyManager.checkStatusUnsafe(87,_this.status) || this._virtualpad.buttonUp.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayLoop2 = _this.keyManager.checkStatusUnsafe(68,_this.status) || this._virtualpad.buttonRight.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayLoop3 = [controlArrayLoop,controlArrayLoop1,controlArrayLoop2,_this.keyManager.checkStatusUnsafe(83,_this.status) || this._virtualpad.buttonDown.input.current == 2];
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayIdle = _this.keyManager.checkStatusUnsafe(37,_this.status) || this._virtualpad.buttonLeft.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayIdle1 = _this.keyManager.checkStatusUnsafe(38,_this.status) || this._virtualpad.buttonUp.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayIdle2 = _this.keyManager.checkStatusUnsafe(39,_this.status) || this._virtualpad.buttonRight.input.current == 2;
				var _this = flixel_FlxG.keys.justPressed;
				var controlArrayIdle3 = [controlArrayIdle,controlArrayIdle1,controlArrayIdle2,_this.keyManager.checkStatusUnsafe(40,_this.status) || this._virtualpad.buttonDown.input.current == 2];
				if(this._virtualpad.buttonA.input.current == 2) {
					var _g = 0;
					var _g1 = controlArrayLoop3.length;
					while(_g < _g1) {
						var i = _g++;
						if(controlArrayLoop3[i]) {
							if(i % 2 == 1) {
								animShit.loop_offsets[1] += offsetAdd * negaMult[i];
							} else {
								animShit.loop_offsets[0] += offsetAdd * negaMult[i];
							}
							moved = true;
						}
					}
				} else {
					var _g = 0;
					var _g1 = controlArrayIdle3.length;
					while(_g < _g1) {
						var i = _g++;
						if(controlArrayIdle3[i]) {
							if(i % 2 == 1) {
								animShit.idle_offsets[1] += offsetAdd * negaMult[i];
							} else {
								animShit.idle_offsets[0] += offsetAdd * negaMult[i];
							}
							moved = true;
						}
					}
				}
				if(moved) {
					this.offsetLoopText.set_text("Loop: " + Std.string(animShit.loop_offsets));
					this.offsetIdleText.set_text("Idle: " + Std.string(animShit.idle_offsets));
					this.ghostLoop.offset.set(animShit.loop_offsets[0],animShit.loop_offsets[1]);
					this.ghostIdle.offset.set(animShit.idle_offsets[0],animShit.idle_offsets[1]);
				}
			}
			var _this = flixel_FlxG.keys.pressed;
			if(_this.keyManager.checkStatusUnsafe(81,_this.status) && this.camGame.zoom > 0.1) {
				var fh = this.camGame;
				fh.set_zoom(fh.zoom - elapsed * this.camGame.zoom);
				if(this.camGame.zoom < 0.1) {
					this.camGame.set_zoom(0.1);
				}
			}
			var _this = flixel_FlxG.keys.pressed;
			if(_this.keyManager.checkStatusUnsafe(69,_this.status) && this.camGame.zoom < 1) {
				var fh = this.camGame;
				fh.set_zoom(fh.zoom + elapsed * this.camGame.zoom);
				if(this.camGame.zoom > 1) {
					this.camGame.set_zoom(1);
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(72,_this.status)) {
				if(this.UI_mainbox.get_selected_tab_id() == "Animations") {
					this.currentGhosts++;
					if(this.currentGhosts > 2) {
						this.currentGhosts = 0;
					}
					this.ghostLoop.set_visible(this.currentGhosts != 1);
					this.ghostIdle.set_visible(this.currentGhosts != 2);
					this.ghostLoop.set_alpha(this.currentGhosts == 2 ? 1 : 0.6);
					this.ghostIdle.set_alpha(this.currentGhosts == 1 ? 1 : 0.6);
				} else {
					this.hudGroup.set_visible(!this.hudGroup.visible);
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(82,_this.status)) {
				this.camGame.set_zoom(1);
				this.mainGroup.setPosition(0,0);
				this.hudGroup.set_visible(true);
			}
			if(this.UI_mainbox.get_selected_tab_id() != this.lastTab) {
				if(this.UI_mainbox.get_selected_tab_id() == "Animations") {
					this.hudGroup.set_alpha(0);
					this.mainGroup.set_alpha(0);
					this.ghostLoop.set_alpha(0.6);
					this.ghostIdle.set_alpha(0.6);
					this.tipText.set_text(editors_DialogueCharacterEditorState.TIP_TEXT_OFFSET);
					this.offsetLoopText.set_visible(true);
					this.offsetIdleText.set_visible(true);
					this.currentGhosts = 0;
				} else {
					this.hudGroup.set_alpha(1);
					this.mainGroup.set_alpha(1);
					this.ghostLoop.set_alpha(0);
					this.ghostIdle.set_alpha(0);
					this.tipText.set_text(editors_DialogueCharacterEditorState.TIP_TEXT_MAIN);
					this.offsetLoopText.set_visible(false);
					this.offsetIdleText.set_visible(false);
					this.character.playAnim();
					this.updateTextBox();
					this.reloadText();
				}
				this.lastTab = this.UI_mainbox.get_selected_tab_id();
				this.currentGhosts = 0;
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null),1);
				this.transitioning = true;
			}
			this.ghostLoop.setPosition(this.character.x,this.character.y);
			this.ghostIdle.setPosition(this.character.x,this.character.y);
			this.hudGroup.set_x(this.mainGroup.x);
			this.hudGroup.set_y(this.mainGroup.y);
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,_file: null
	,loadCharacter: function() {
		var jsonFilter = new openfl_net_FileFilter("JSON","json");
		this._file = new openfl_net_FileReference();
		this._file.addEventListener("select",$bind(this,this.onLoadComplete));
		this._file.addEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.addEventListener("ioError",$bind(this,this.onLoadError));
		this._file.browse([jsonFilter]);
	}
	,onLoadComplete: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		haxe_Log.trace("File couldn't be loaded! You aren't on Desktop, are you?",{ fileName : "source/editors/DialogueCharacterEditorState.hx", lineNumber : 743, className : "editors.DialogueCharacterEditorState", methodName : "onLoadComplete"});
	}
	,onLoadCancel: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Cancelled file loading.",{ fileName : "source/editors/DialogueCharacterEditorState.hx", lineNumber : 756, className : "editors.DialogueCharacterEditorState", methodName : "onLoadCancel"});
	}
	,onLoadError: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Problem loading file",{ fileName : "source/editors/DialogueCharacterEditorState.hx", lineNumber : 768, className : "editors.DialogueCharacterEditorState", methodName : "onLoadError"});
	}
	,saveCharacter: function() {
		var data = JSON.stringify(this.character.jsonFile,null,"\t");
		if(data.length > 0) {
			var splittedImage = StringTools.trim(this.imageInputText.text).split("_");
			var characterName = StringTools.replace(splittedImage[0].toLowerCase()," ","");
			this._file = new openfl_net_FileReference();
			this._file.addEventListener("complete",$bind(this,this.onSaveComplete));
			this._file.addEventListener("cancel",$bind(this,this.onSaveCancel));
			this._file.addEventListener("ioError",$bind(this,this.onSaveError));
			this._file.save(data,characterName + ".json");
		}
	}
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,ClipboardAdd: function(prefix) {
		if(prefix == null) {
			prefix = "";
		}
		if(StringTools.endsWith(prefix.toLowerCase(),"v")) {
			prefix = prefix.substring(0,prefix.length - 1);
		}
		var text = prefix + StringTools.replace(lime_system_Clipboard.get_text(),"\n","");
		return text;
	}
	,__class__: editors_DialogueCharacterEditorState
});
var editors_DialogueEditorState = function(TransIn,TransOut) {
	this._file = null;
	this.transitioning = false;
	this.blockPressWhileTypingOn = [];
	this.curAnim = 0;
	this.curSelected = 0;
	this.dialogueFile = null;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["editors.DialogueEditorState"] = editors_DialogueEditorState;
editors_DialogueEditorState.__name__ = "editors.DialogueEditorState";
editors_DialogueEditorState.__super__ = MusicBeatState;
editors_DialogueEditorState.prototype = $extend(MusicBeatState.prototype,{
	character: null
	,box: null
	,daText: null
	,selectedText: null
	,animText: null
	,defaultLine: null
	,dialogueFile: null
	,create: function() {
		this.persistentUpdate = this.persistentDraw = true;
		var color = flixel_util_FlxColor._new();
		var chroma = (1 - Math.abs(0.)) * 0;
		var match = 0.5 - chroma / 2;
		var Hue = 0;
		var Chroma = chroma;
		Hue %= 360;
		var hueD = Hue / 60;
		var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
		Chroma += match;
		switch(hueD | 0) {
		case 0:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(Chroma * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(mid * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(match * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 1:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(mid * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(Chroma * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(match * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 2:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(match * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(Chroma * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(mid * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 3:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(match * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(mid * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(Chroma * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 4:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(mid * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(match * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(Chroma * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		case 5:
			var Alpha = 1;
			if(Alpha == null) {
				Alpha = 1;
			}
			var Value = Math.round(Chroma * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(match * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(mid * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			break;
		}
		flixel_FlxG.camera.bgColor = color;
		this.defaultLine = { portrait : DialogueCharacter.DEFAULT_CHARACTER, expression : "talk", text : editors_DialogueEditorState.DEFAULT_TEXT, boxState : editors_DialogueEditorState.DEFAULT_BUBBLETYPE, speed : 0.05};
		this.dialogueFile = { dialogue : [this.copyDefaultLine()]};
		this.character = new DialogueCharacter();
		this.character.scrollFactor.set();
		this.add(this.character);
		this.box = new flixel_FlxSprite(70,370);
		var library = null;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "speech_bubble" + ".png","IMAGE",library),Paths.getPath("images/" + "speech_bubble" + ".xml","TEXT",library)));
		this.box.scrollFactor.set();
		this.box.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.box.animation.addByPrefix("normal","speech bubble normal",24);
		this.box.animation.addByPrefix("angry","AHH speech bubble",24);
		this.box.animation.addByPrefix("center","speech bubble middle",24);
		this.box.animation.addByPrefix("center-angry","AHH Speech Bubble middle",24);
		this.box.animation.play("normal",true);
		this.box.setGraphicSize(this.box.get_width() * 0.9 | 0);
		this.box.updateHitbox();
		this.add(this.box);
		this.addEditorBox();
		flixel_FlxG.mouse.set_visible(true);
		var addLineText = new flixel_text_FlxText(10,10,flixel_FlxG.width - 20,"Press O to remove the current dialogue line, Press P to add another line after the current one.",8);
		addLineText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		addLineText.scrollFactor.set();
		this.add(addLineText);
		this.selectedText = new flixel_text_FlxText(10,32,flixel_FlxG.width - 20,"",8);
		this.selectedText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),24,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.selectedText.scrollFactor.set();
		this.add(this.selectedText);
		this.animText = new flixel_text_FlxText(10,62,flixel_FlxG.width - 20,"",8);
		this.animText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),24,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.animText.scrollFactor.set();
		this.add(this.animText);
		this.changeText();
		this.addVirtualPad(ui_FlxDPadMode.NONE,ui_FlxActionMode.A_B_C_X_Y_Z);
		MusicBeatState.prototype.create.call(this);
	}
	,UI_box: null
	,addEditorBox: function() {
		var tabs = [{ name : "Dialogue Line", label : "Dialogue Line"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.resize(250,190);
		this.UI_box.set_x(flixel_FlxG.width - this.UI_box.get_width() - 10);
		this.UI_box.set_y(10);
		this.UI_box.scrollFactor.set();
		this.UI_box.set_alpha(0.8);
		this.addDialogueLineUI();
		this.add(this.UI_box);
	}
	,characterInputText: null
	,lineInputText: null
	,angryCheckbox: null
	,speedStepper: null
	,addDialogueLineUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Dialogue Line";
		this.characterInputText = new flixel_addons_ui_FlxUIInputText(10,20,80,DialogueCharacter.DEFAULT_CHARACTER,8);
		this.characterInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.characterInputText);
		this.speedStepper = new flixel_addons_ui_FlxUINumericStepper(10,this.characterInputText.y + 40,0.005,0.05,0,0.5,3);
		this.angryCheckbox = new flixel_addons_ui_FlxUICheckBox(this.speedStepper.x + 120,this.speedStepper.y,null,null,"Angry Textbox",200);
		this.angryCheckbox.callback = function() {
			_gthis.updateTextBox();
			_gthis.dialogueFile.dialogue[_gthis.curSelected].boxState = _gthis.angryCheckbox.checked ? "angry" : "normal";
		};
		this.lineInputText = new flixel_addons_ui_FlxUIInputText(10,this.speedStepper.y + 45,200,editors_DialogueEditorState.DEFAULT_TEXT,8);
		this.lineInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.lineInputText);
		var loadButton = new flixel_ui_FlxButton(20,this.lineInputText.y + 30,"Load Dialogue",function() {
			_gthis.loadDialogue();
		});
		tab_group.add(new flixel_text_FlxText(10,this.speedStepper.y - 18,0,"Interval/Speed (ms):"));
		tab_group.add(new flixel_text_FlxText(10,this.characterInputText.y - 18,0,"Character:"));
		tab_group.add(new flixel_text_FlxText(10,this.lineInputText.y - 18,0,"Text:"));
		tab_group.add(this.characterInputText);
		tab_group.add(this.angryCheckbox);
		tab_group.add(this.speedStepper);
		tab_group.add(this.lineInputText);
		tab_group.add(this.lineInputText);
		tab_group.add(loadButton);
		this.UI_box.addGroup(tab_group);
	}
	,copyDefaultLine: function() {
		var copyLine = { portrait : this.defaultLine.portrait, expression : this.defaultLine.expression, text : this.defaultLine.text, boxState : this.defaultLine.boxState, speed : this.defaultLine.speed};
		return copyLine;
	}
	,updateTextBox: function() {
		this.box.set_flipX(false);
		var isAngry = this.angryCheckbox.checked;
		var anim = isAngry ? "angry" : "normal";
		switch(this.character.jsonFile.dialogue_pos) {
		case "center":
			if(isAngry) {
				anim = "center-angry";
			} else {
				anim = "center";
			}
			break;
		case "left":
			this.box.set_flipX(true);
			break;
		}
		this.box.animation.play(anim,true);
		DialogueBoxPsych.updateBoxOffsets(this.box);
	}
	,reloadCharacter: function() {
		var key = "dialogue/" + this.character.jsonFile.image;
		var library = null;
		this.character.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
		this.character.jsonFile = this.character.jsonFile;
		this.character.reloadAnimations();
		this.character.setGraphicSize(this.character.get_width() * DialogueCharacter.DEFAULT_SCALE * this.character.jsonFile.scale | 0);
		this.character.updateHitbox();
		this.character.set_x(DialogueBoxPsych.LEFT_CHAR_X);
		this.character.set_y(DialogueBoxPsych.DEFAULT_CHAR_Y);
		switch(this.character.jsonFile.dialogue_pos) {
		case "center":
			this.character.set_x(flixel_FlxG.width / 2);
			var fh = this.character;
			fh.set_x(fh.x - this.character.get_width() / 2);
			break;
		case "right":
			this.character.set_x(flixel_FlxG.width - this.character.get_width() + DialogueBoxPsych.RIGHT_CHAR_X);
			break;
		}
		var fh = this.character;
		fh.set_x(fh.x + this.character.jsonFile.position[0]);
		var fh = this.character;
		fh.set_y(fh.y + this.character.jsonFile.position[1]);
		this.character.playAnim();
		this.characterAnimSpeed();
		if(this.character.animation._curAnim != null) {
			this.animText.set_text("Animation: " + this.character.jsonFile.animations[this.curAnim].anim + " (" + (this.curAnim + 1) + " / " + this.character.jsonFile.animations.length + ") - Press W or S to scroll");
		} else {
			this.animText.set_text("ERROR! NO ANIMATIONS FOUND");
		}
	}
	,reloadText: function(speed) {
		if(speed == null) {
			speed = 0.05;
		}
		if(this.daText != null) {
			this.daText.killTheTimer();
			this.daText.kill();
			this.remove(this.daText);
			this.daText.destroy();
		}
		if(isNaN(speed) || speed < 0.001) {
			speed = 0.0;
		}
		var textToType = this.lineInputText.text;
		if(textToType == null || textToType.length < 1) {
			textToType = " ";
		}
		this.daText = new Alphabet(DialogueBoxPsych.DEFAULT_TEXT_X,DialogueBoxPsych.DEFAULT_TEXT_Y,textToType,false,true,speed,0.7);
		this.add(this.daText);
		if(speed > 0) {
			if(this.character.jsonFile.animations.length > this.curAnim && this.character.jsonFile.animations[this.curAnim] != null) {
				this.character.playAnim(this.character.jsonFile.animations[this.curAnim].anim);
			}
			this.characterAnimSpeed();
		}
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			if(sender == this.characterInputText) {
				this.character.reloadCharacterJson(this.characterInputText.text);
				this.reloadCharacter();
				this.updateTextBox();
				if(this.character.jsonFile.animations.length > 0) {
					this.curAnim = 0;
					if(this.character.jsonFile.animations.length > this.curAnim && this.character.jsonFile.animations[this.curAnim] != null) {
						this.character.playAnim(this.character.jsonFile.animations[this.curAnim].anim,this.daText.finishedText);
						this.animText.set_text("Animation: " + this.character.jsonFile.animations[this.curAnim].anim + " (" + (this.curAnim + 1) + " / " + this.character.jsonFile.animations.length + ") - Press W or S to scroll");
					} else {
						this.animText.set_text("ERROR! NO ANIMATIONS FOUND");
					}
					this.characterAnimSpeed();
				}
				this.dialogueFile.dialogue[this.curSelected].portrait = this.characterInputText.text;
			} else if(sender == this.lineInputText) {
				this.reloadText(0);
				this.dialogueFile.dialogue[this.curSelected].text = this.lineInputText.text;
			}
		} else if(id == "change_numeric_stepper" && sender == this.speedStepper) {
			this.reloadText(this.speedStepper.value);
			this.dialogueFile.dialogue[this.curSelected].speed = this.speedStepper.value;
			var f = this.dialogueFile.dialogue[this.curSelected].speed;
			if(isNaN(f) || this.dialogueFile.dialogue[this.curSelected].speed == null || this.dialogueFile.dialogue[this.curSelected].speed < 0.001) {
				this.dialogueFile.dialogue[this.curSelected].speed = 0.0;
			}
		}
	}
	,curSelected: null
	,curAnim: null
	,blockPressWhileTypingOn: null
	,transitioning: null
	,update: function(elapsed) {
		if(this.transitioning) {
			MusicBeatState.prototype.update.call(this,elapsed);
			return;
		}
		if(this.character.animation._curAnim != null) {
			if(this.daText.finishedText) {
				if(this.character.animationIsLoop() && this.character.animation._curAnim.finished) {
					this.character.playAnim(this.character.animation._curAnim.name,true);
				}
			} else if(this.character.animation._curAnim.finished) {
				this.character.animation._curAnim.restart();
			}
		}
		var blockInput = false;
		var _g = 0;
		var _g1 = this.blockPressWhileTypingOn;
		while(_g < _g1.length) {
			var inputText = _g1[_g];
			++_g;
			if(inputText.hasFocus) {
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				blockInput = true;
				var tmp;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatusUnsafe(17,_this.status)) {
					var _this1 = flixel_FlxG.keys.justPressed;
					tmp = _this1.keyManager.checkStatusUnsafe(86,_this1.status);
				} else {
					tmp = false;
				}
				if(tmp && lime_system_Clipboard.get_text() != null) {
					inputText.set_text(this.ClipboardAdd(inputText.text));
					inputText.set_caretIndex(inputText.text.length);
					this.getEvent("change_input_text",inputText,null,[]);
				}
				var _this2 = flixel_FlxG.keys.justPressed;
				if(_this2.keyManager.checkStatusUnsafe(13,_this2.status)) {
					if(inputText == this.lineInputText) {
						inputText.set_text(inputText.text + "\\n");
						inputText.set_caretIndex(inputText.caretIndex + 2);
					} else {
						inputText.set_hasFocus(false);
					}
				}
				break;
			}
		}
		if(!blockInput) {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(32,_this.status)) {
				this.reloadText(this.speedStepper.value);
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null),1);
				this.transitioning = true;
			}
			var negaMult = [1,-1];
			var _this = flixel_FlxG.keys.justPressed;
			var controlAnim = _this.keyManager.checkStatusUnsafe(87,_this.status) || this._virtualpad.buttonX.input.current == 2;
			var _this = flixel_FlxG.keys.justPressed;
			var controlAnim1 = [controlAnim,_this.keyManager.checkStatusUnsafe(83,_this.status) || this._virtualpad.buttonA.input.current == 2];
			var _this = flixel_FlxG.keys.justPressed;
			var controlText = _this.keyManager.checkStatusUnsafe(68,_this.status) || this._virtualpad.buttonY.input.current == 2;
			var _this = flixel_FlxG.keys.justPressed;
			var controlText1 = [controlText,_this.keyManager.checkStatusUnsafe(65,_this.status) || this._virtualpad.buttonB.input.current == 2];
			var _g = 0;
			var _g1 = controlAnim1.length;
			while(_g < _g1) {
				var i = _g++;
				if(controlAnim1[i] && this.character.jsonFile.animations.length > 0) {
					this.curAnim += negaMult[i];
					if(this.curAnim < 0) {
						this.curAnim = this.character.jsonFile.animations.length - 1;
					} else if(this.curAnim >= this.character.jsonFile.animations.length) {
						this.curAnim = 0;
					}
					var animToPlay = this.character.jsonFile.animations[this.curAnim].anim;
					if(Object.prototype.hasOwnProperty.call(this.character.dialogueAnimations.h,animToPlay)) {
						this.character.playAnim(animToPlay,this.daText.finishedText);
						this.dialogueFile.dialogue[this.curSelected].expression = animToPlay;
					}
					this.animText.set_text("Animation: " + animToPlay + " (" + (this.curAnim + 1) + " / " + this.character.jsonFile.animations.length + ") - Press W or S to scroll");
				}
				if(controlText1[i]) {
					this.changeText(negaMult[i]);
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(79,_this.status) || this._virtualpad.buttonZ.input.current == 2) {
				HxOverrides.remove(this.dialogueFile.dialogue,this.dialogueFile.dialogue[this.curSelected]);
				if(this.dialogueFile.dialogue.length < 1) {
					var tmp = this.copyDefaultLine();
					this.dialogueFile.dialogue = [tmp];
				}
				this.changeText();
			} else {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(80,_this.status) || this._virtualpad.buttonC.input.current == 2) {
					var _this = this.dialogueFile.dialogue;
					var pos = this.curSelected + 1;
					var x = this.copyDefaultLine();
					_this.splice(pos,0,x);
					this.changeText(1);
				}
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeText: function(add) {
		if(add == null) {
			add = 0;
		}
		this.curSelected += add;
		if(this.curSelected < 0) {
			this.curSelected = this.dialogueFile.dialogue.length - 1;
		} else if(this.curSelected >= this.dialogueFile.dialogue.length) {
			this.curSelected = 0;
		}
		var curDialogue = this.dialogueFile.dialogue[this.curSelected];
		this.characterInputText.set_text(curDialogue.portrait);
		this.lineInputText.set_text(curDialogue.text);
		this.angryCheckbox.set_checked(curDialogue.boxState == "angry");
		this.speedStepper.set_value(curDialogue.speed);
		this.curAnim = 0;
		this.character.reloadCharacterJson(this.characterInputText.text);
		this.reloadCharacter();
		this.updateTextBox();
		this.reloadText(curDialogue.speed);
		var leLength = this.character.jsonFile.animations.length;
		if(leLength > 0) {
			var _g = 0;
			var _g1 = leLength;
			while(_g < _g1) {
				var i = _g++;
				var leAnim = this.character.jsonFile.animations[i];
				if(leAnim != null && leAnim.anim == curDialogue.expression) {
					this.curAnim = i;
					break;
				}
			}
			this.character.playAnim(this.character.jsonFile.animations[this.curAnim].anim,this.daText.finishedText);
			this.animText.set_text("Animation: " + this.character.jsonFile.animations[this.curAnim].anim + " (" + (this.curAnim + 1) + " / " + leLength + ") - Press W or S to scroll");
		} else {
			this.animText.set_text("ERROR! NO ANIMATIONS FOUND");
		}
		this.characterAnimSpeed();
		this.selectedText.set_text("Line: (" + (this.curSelected + 1) + " / " + this.dialogueFile.dialogue.length + ") - Press A or D to scroll");
	}
	,characterAnimSpeed: function() {
		if(this.character.animation._curAnim != null) {
			var speed = this.speedStepper.value;
			var rate = 24 - (speed - 0.05) / 5 * 480;
			if(rate < 12) {
				rate = 12;
			} else if(rate > 48) {
				rate = 48;
			}
			this.character.animation._curAnim.set_frameRate(rate);
		}
	}
	,ClipboardAdd: function(prefix) {
		if(prefix == null) {
			prefix = "";
		}
		if(StringTools.endsWith(prefix.toLowerCase(),"v")) {
			prefix = prefix.substring(0,prefix.length - 1);
		}
		var text = prefix + StringTools.replace(lime_system_Clipboard.get_text(),"\n","");
		return text;
	}
	,_file: null
	,loadDialogue: function() {
		var jsonFilter = new openfl_net_FileFilter("JSON","json");
		this._file = new openfl_net_FileReference();
		this._file.addEventListener("select",$bind(this,this.onLoadComplete));
		this._file.addEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.addEventListener("ioError",$bind(this,this.onLoadError));
		this._file.browse([jsonFilter]);
	}
	,onLoadComplete: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		haxe_Log.trace("File couldn't be loaded! You aren't on Desktop, are you?",{ fileName : "source/editors/DialogueEditorState.hx", lineNumber : 477, className : "editors.DialogueEditorState", methodName : "onLoadComplete"});
	}
	,onLoadCancel: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Cancelled file loading.",{ fileName : "source/editors/DialogueEditorState.hx", lineNumber : 490, className : "editors.DialogueEditorState", methodName : "onLoadCancel"});
	}
	,onLoadError: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Problem loading file",{ fileName : "source/editors/DialogueEditorState.hx", lineNumber : 502, className : "editors.DialogueEditorState", methodName : "onLoadError"});
	}
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,__class__: editors_DialogueEditorState
});
var editors_EditorPlayState = function(startPos) {
	this.COMBO_Y = 340;
	this.COMBO_X = 400;
	this.combo = 0;
	this.startingSong = true;
	this.songMisses = 0;
	this.songHits = 0;
	this.noteTypeMap = new haxe_ds_StringMap();
	this.timerToStart = 0;
	this.startPos = 0;
	this.startOffset = 0;
	this.generatedMusic = false;
	this.unspawnNotes = [];
	this.startPos = startPos;
	Conductor.songPosition = startPos - this.startOffset;
	this.startOffset = Conductor.crochet;
	this.timerToStart = this.startOffset;
	MusicBeatState.call(this);
};
$hxClasses["editors.EditorPlayState"] = editors_EditorPlayState;
editors_EditorPlayState.__name__ = "editors.EditorPlayState";
editors_EditorPlayState.instance = null;
editors_EditorPlayState.__super__ = MusicBeatState;
editors_EditorPlayState.prototype = $extend(MusicBeatState.prototype,{
	strumLine: null
	,comboGroup: null
	,strumLineNotes: null
	,opponentStrums: null
	,playerStrums: null
	,grpNoteSplashes: null
	,notes: null
	,unspawnNotes: null
	,generatedMusic: null
	,vocals: null
	,startOffset: null
	,startPos: null
	,mcontrols: null
	,scoreTxt: null
	,stepTxt: null
	,beatTxt: null
	,timerToStart: null
	,noteTypeMap: null
	,keysArray: null
	,create: function() {
		editors_EditorPlayState.instance = this;
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		bg.scrollFactor.set();
		bg.set_color(flixel_util_FlxColor.fromHSB(flixel_FlxG.random.int(0,359),flixel_FlxG.random.float(0,0.8),flixel_FlxG.random.float(0.3,1)));
		this.add(bg);
		this.keysArray = [ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_left"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_down"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_up"]),ClientPrefs.copyKey(ClientPrefs.keyBinds.h["note_right"])];
		this.strumLine = new flixel_FlxSprite(ClientPrefs.middleScroll ? PlayState.STRUM_X_MIDDLESCROLL : PlayState.STRUM_X,50).makeGraphic(flixel_FlxG.width,10);
		if(ClientPrefs.downScroll) {
			this.strumLine.set_y(flixel_FlxG.height - 150);
		}
		this.strumLine.scrollFactor.set();
		this.comboGroup = new flixel_group_FlxTypedGroup();
		this.add(this.comboGroup);
		this.strumLineNotes = new flixel_group_FlxTypedGroup();
		this.opponentStrums = new flixel_group_FlxTypedGroup();
		this.playerStrums = new flixel_group_FlxTypedGroup();
		this.add(this.strumLineNotes);
		this.generateStaticArrows(0);
		this.generateStaticArrows(1);
		this.grpNoteSplashes = new flixel_group_FlxTypedGroup();
		this.add(this.grpNoteSplashes);
		var splash = new NoteSplash(100,100,0);
		this.grpNoteSplashes.add(splash);
		splash.set_alpha(0.0);
		if(PlayState.SONG.needsVoices) {
			this.vocals = new flixel_system_FlxSound().loadEmbedded("songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Voices." + "mp3");
		} else {
			this.vocals = new flixel_system_FlxSound();
		}
		this.generateSong(PlayState.SONG.song);
		this.noteTypeMap.h = Object.create(null);
		this.noteTypeMap = null;
		this.scoreTxt = new flixel_text_FlxText(0,flixel_FlxG.height - 50,flixel_FlxG.width,"Hits: 0 | Misses: 0",20);
		this.scoreTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),20,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.scoreTxt.scrollFactor.set();
		this.scoreTxt.set_borderSize(1.25);
		this.scoreTxt.set_visible(!ClientPrefs.hideHud);
		this.add(this.scoreTxt);
		this.beatTxt = new flixel_text_FlxText(10,610,flixel_FlxG.width,"Beat: 0",20);
		this.beatTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),20,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.beatTxt.scrollFactor.set();
		this.beatTxt.set_borderSize(1.25);
		this.add(this.beatTxt);
		this.stepTxt = new flixel_text_FlxText(10,640,flixel_FlxG.width,"Step: 0",20);
		this.stepTxt.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),20,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.stepTxt.scrollFactor.set();
		this.stepTxt.set_borderSize(1.25);
		this.add(this.stepTxt);
		var tipText = new flixel_text_FlxText(10,flixel_FlxG.height - 24,0,"Press ESC / BACK to Go Back to Chart Editor",16);
		tipText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		tipText.set_borderSize(2);
		tipText.scrollFactor.set();
		this.add(tipText);
		flixel_FlxG.mouse.set_visible(false);
		this.mcontrols = new ui_Mobilecontrols();
		switch(this.mcontrols.mode._hx_index) {
		case 0:case 1:case 3:
			PlayerSettings.player1.controls.setVirtualPadNOTES(this.mcontrols._virtualPad,ui_FlxDPadMode.FULL,ui_FlxActionMode.NONE);
			break;
		case 4:
			PlayerSettings.player1.controls.setHitBoxNOTES(this.mcontrols._hitbox);
			break;
		default:
		}
		this.trackedinputsNOTES = PlayerSettings.player1.controls.trackedinputsNOTES;
		PlayerSettings.player1.controls.trackedinputsNOTES = [];
		this.add(this.mcontrols);
		if(!ClientPrefs.controllerMode) {
			openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.onKeyPress));
			openfl_Lib.get_current().stage.addEventListener("keyUp",$bind(this,this.onKeyRelease));
		}
		MusicBeatState.prototype.create.call(this);
	}
	,sayGo: function() {
		var go = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "go" + ".png","IMAGE",null));
		go.scrollFactor.set();
		go.updateHitbox();
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			go.set_x((flixel_FlxG.width - go.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			go.set_y((flixel_FlxG.height - go.get_height()) / 2);
		}
		go.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(go);
		flixel_tweens_FlxTween.tween(go,{ y : go.set_y(go.y + 100), alpha : 0},Conductor.crochet / 1000,{ ease : flixel_tweens_FlxEase.cubeInOut, onComplete : function(twn) {
			go.destroy();
		}});
		flixel_FlxG.sound.play(Paths.sound("introGo"),0.6);
	}
	,songHits: null
	,songMisses: null
	,startingSong: null
	,generateSong: function(dataPath) {
		flixel_FlxG.sound.playMusic("songs:assets/songs/" + StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-") + "/Inst." + "mp3",0,false);
		flixel_FlxG.sound.music.pause();
		flixel_FlxG.sound.music.onComplete = $bind(this,this.endSong);
		this.vocals.pause();
		this.vocals.set_volume(0);
		var songData = PlayState.SONG;
		Conductor.changeBPM(songData.bpm);
		this.notes = new flixel_group_FlxTypedGroup();
		this.add(this.notes);
		var noteData = songData.notes;
		var playerCounter = 0;
		var daBeats = 0;
		var _g = 0;
		while(_g < noteData.length) {
			var section = noteData[_g];
			++_g;
			var _g1 = 0;
			var _g2 = section.sectionNotes;
			while(_g1 < _g2.length) {
				var songNotes = _g2[_g1];
				++_g1;
				if(songNotes[1] > -1) {
					var daStrumTime = songNotes[0];
					if(daStrumTime >= this.startPos) {
						var daNoteData = songNotes[1] % 4 | 0;
						var gottaHitNote = section.mustHitSection;
						if(songNotes[1] > 3) {
							gottaHitNote = !section.mustHitSection;
						}
						var oldNote;
						if(this.unspawnNotes.length > 0) {
							oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
						} else {
							oldNote = null;
						}
						var swagNote = new Note(daStrumTime,daNoteData,oldNote);
						swagNote.mustPress = gottaHitNote;
						swagNote.sustainLength = songNotes[2];
						swagNote.set_noteType(songNotes[3]);
						if(typeof(songNotes[3]) != "string") {
							swagNote.set_noteType(editors_ChartingState.noteTypeList[songNotes[3]]);
						}
						swagNote.scrollFactor.set();
						var susLength = swagNote.sustainLength;
						susLength /= Conductor.stepCrochet;
						this.unspawnNotes.push(swagNote);
						var floorSus = Math.floor(susLength);
						if(floorSus > 0) {
							var _g3 = 0;
							var _g4 = floorSus + 1;
							while(_g3 < _g4) {
								var susNote = _g3++;
								oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
								var sustainNote = new Note(daStrumTime + Conductor.stepCrochet * susNote + Conductor.stepCrochet / flixel_math_FlxMath.roundDecimal(PlayState.SONG.speed,2),daNoteData,oldNote,true);
								sustainNote.mustPress = gottaHitNote;
								sustainNote.set_noteType(swagNote.noteType);
								sustainNote.scrollFactor.set();
								this.unspawnNotes.push(sustainNote);
								if(sustainNote.mustPress) {
									sustainNote.set_x(sustainNote.x + flixel_FlxG.width / 2);
								} else if(ClientPrefs.middleScroll) {
									sustainNote.set_x(sustainNote.x + 310);
									if(daNoteData > 1) {
										sustainNote.set_x(sustainNote.x + (flixel_FlxG.width / 2 + 25));
									}
								}
							}
						}
						if(swagNote.mustPress) {
							swagNote.set_x(swagNote.x + flixel_FlxG.width / 2);
						} else if(ClientPrefs.middleScroll) {
							swagNote.set_x(swagNote.x + 310);
							if(daNoteData > 1) {
								swagNote.set_x(swagNote.x + (flixel_FlxG.width / 2 + 25));
							}
						}
						if(!Object.prototype.hasOwnProperty.call(this.noteTypeMap.h,swagNote.noteType)) {
							this.noteTypeMap.h[swagNote.noteType] = true;
						}
					}
				}
			}
			++daBeats;
		}
		this.unspawnNotes.sort($bind(this,this.sortByShit));
		this.generatedMusic = true;
	}
	,startSong: function() {
		this.startingSong = false;
		flixel_FlxG.sound.music.set_time(this.startPos);
		flixel_FlxG.sound.music.play();
		flixel_FlxG.sound.music.set_volume(1);
		this.vocals.set_volume(1);
		this.vocals.set_time(this.startPos);
		this.vocals.play();
	}
	,sortByShit: function(Obj1,Obj2) {
		var Value1 = Obj1.strumTime;
		var Value2 = Obj2.strumTime;
		var result = 0;
		if(Value1 < Value2) {
			result = -1;
		} else if(Value1 > Value2) {
			result = 1;
		}
		return result;
	}
	,endSong: function() {
		MusicBeatState.switchState(LoadingState.getNextState(new editors_ChartingState(),false));
	}
	,update: function(elapsed) {
		var _gthis = this;
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
			flixel_FlxG.sound.music.pause();
			this.vocals.pause();
			MusicBeatState.switchState(LoadingState.getNextState(new editors_ChartingState(),false));
		}
		if(this.startingSong) {
			this.timerToStart -= elapsed * 1000;
			Conductor.songPosition = this.startPos - this.timerToStart;
			if(this.timerToStart < 0) {
				this.startSong();
			}
		} else {
			Conductor.songPosition += elapsed * 1000;
		}
		var roundedSpeed = flixel_math_FlxMath.roundDecimal(PlayState.SONG.speed,2);
		if(this.unspawnNotes[0] != null) {
			var time = 1500;
			if(roundedSpeed < 1) {
				time /= roundedSpeed;
			}
			while(this.unspawnNotes.length > 0 && this.unspawnNotes[0].strumTime - Conductor.songPosition < time) {
				var dunceNote = this.unspawnNotes[0];
				this.notes.insert(0,dunceNote);
				var index = this.unspawnNotes.indexOf(dunceNote);
				this.unspawnNotes.splice(index,1);
			}
		}
		if(this.generatedMusic) {
			var fakeCrochet = 60 / PlayState.SONG.bpm * 1000;
			this.notes.forEachAlive(function(daNote) {
				var strumX = 0;
				var strumY = 0;
				if(daNote.mustPress) {
					strumX = _gthis.playerStrums.members[daNote.noteData].x;
					strumY = _gthis.playerStrums.members[daNote.noteData].y;
				} else {
					strumX = _gthis.opponentStrums.members[daNote.noteData].x;
					strumY = _gthis.opponentStrums.members[daNote.noteData].y;
				}
				strumX += daNote.offsetX;
				strumY += daNote.offsetY;
				var center = strumY + Note.swagWidth / 2;
				if(daNote.copyX) {
					daNote.set_x(strumX);
				}
				if(daNote.copyY) {
					if(ClientPrefs.downScroll) {
						daNote.set_y(strumY + 0.45 * (Conductor.songPosition - daNote.strumTime) * roundedSpeed);
						if(daNote.isSustainNote) {
							if(StringTools.endsWith(daNote.animation._curAnim.name,"end")) {
								daNote.set_y(daNote.y + (10.5 * (fakeCrochet / 400) * 1.5 * roundedSpeed + 46 * (roundedSpeed - 1)));
								daNote.set_y(daNote.y - 46 * (1 - fakeCrochet / 600) * roundedSpeed);
								if(PlayState.isPixelStage) {
									daNote.set_y(daNote.y + 8);
								} else {
									daNote.set_y(daNote.y - 19);
								}
							}
							daNote.set_y(daNote.y + (Note.swagWidth / 2 - 60.5 * (roundedSpeed - 1)));
							daNote.set_y(daNote.y + 27.5 * (PlayState.SONG.bpm / 100 - 1) * (roundedSpeed - 1));
							if(daNote.mustPress || !daNote.ignoreNote) {
								if(daNote.y - daNote.offset.y * daNote.scale.y + daNote.get_height() >= center && (!daNote.mustPress || (daNote.wasGoodHit || daNote.prevNote.wasGoodHit && !daNote.canBeHit))) {
									var swagRect = new flixel_math_FlxRect(0,0,daNote.frameWidth,daNote.frameHeight);
									swagRect.height = (center - daNote.y) / daNote.scale.y;
									swagRect.y = daNote.frameHeight - swagRect.height;
									daNote.set_clipRect(swagRect);
								}
							}
						}
					} else {
						daNote.set_y(strumY - 0.45 * (Conductor.songPosition - daNote.strumTime) * roundedSpeed);
						if(daNote.mustPress || !daNote.ignoreNote) {
							if(daNote.isSustainNote && daNote.y + daNote.offset.y * daNote.scale.y <= center && (!daNote.mustPress || (daNote.wasGoodHit || daNote.prevNote.wasGoodHit && !daNote.canBeHit))) {
								var swagRect = new flixel_math_FlxRect(0,0,daNote.get_width() / daNote.scale.x,daNote.get_height() / daNote.scale.y);
								swagRect.y = (center - daNote.y) / daNote.scale.y;
								swagRect.height -= swagRect.y;
								daNote.set_clipRect(swagRect);
							}
						}
					}
				}
				if(!daNote.mustPress && daNote.wasGoodHit && !daNote.hitByOpponent && !daNote.ignoreNote) {
					if(PlayState.SONG.needsVoices) {
						_gthis.vocals.set_volume(1);
					}
					var time = 0.15;
					if(daNote.isSustainNote && !StringTools.endsWith(daNote.animation._curAnim.name,"end")) {
						time += 0.15;
					}
					_gthis.StrumPlayAnim(true,(Math.abs(daNote.noteData) | 0) % 4,time);
					daNote.hitByOpponent = true;
					if(!daNote.isSustainNote) {
						daNote.kill();
						_gthis.notes.remove(daNote,true);
						daNote.destroy();
					}
				}
				var doKill = daNote.y < -daNote.get_height();
				if(ClientPrefs.downScroll) {
					doKill = daNote.y > flixel_FlxG.height;
				}
				if(doKill) {
					if(daNote.mustPress) {
						if(daNote.tooLate || !daNote.wasGoodHit) {
							_gthis.notes.forEachAlive(function(note) {
								if(daNote != note && daNote.mustPress && daNote.noteData == note.noteData && daNote.isSustainNote == note.isSustainNote && Math.abs(daNote.strumTime - note.strumTime) < 10) {
									note.kill();
									_gthis.notes.remove(note,true);
									note.destroy();
								}
							});
							if(!daNote.ignoreNote) {
								_gthis.songMisses++;
								_gthis.vocals.set_volume(0);
							}
						}
					}
					daNote.set_active(false);
					daNote.set_visible(false);
					daNote.kill();
					_gthis.notes.remove(daNote,true);
					daNote.destroy();
				}
			});
		}
		this.keyShit();
		this.scoreTxt.set_text("Hits: " + this.songHits + " | Misses: " + this.songMisses);
		this.beatTxt.set_text("Beat: " + this.curBeat);
		this.stepTxt.set_text("Step: " + this.curStep);
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,onFocus: function() {
		this.vocals.play();
		MusicBeatState.prototype.onFocus.call(this);
	}
	,onFocusLost: function() {
		this.vocals.pause();
		MusicBeatState.prototype.onFocusLost.call(this);
	}
	,beatHit: function() {
		MusicBeatState.prototype.beatHit.call(this);
		if(this.generatedMusic) {
			var Order = ClientPrefs.downScroll ? -1 : 1;
			if(Order == null) {
				Order = -1;
			}
			var _g = flixel_util_FlxSort.byY;
			var a1 = Order;
			var tmp = function(a2,a3) {
				return _g(a1,a2,a3);
			};
			this.notes.members.sort(tmp);
		}
	}
	,stepHit: function() {
		MusicBeatState.prototype.stepHit.call(this);
		if(flixel_FlxG.sound.music._time > Conductor.songPosition + 20 || flixel_FlxG.sound.music._time < Conductor.songPosition - 20) {
			this.resyncVocals();
		}
	}
	,resyncVocals: function() {
		this.vocals.pause();
		flixel_FlxG.sound.music.play();
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this.vocals.set_time(Conductor.songPosition);
		this.vocals.play();
	}
	,onKeyPress: function(event) {
		var eventKey = event.keyCode;
		var key = this.getKeyFromEvent(eventKey);
		if(key > -1 && (flixel_FlxG.keys.checkStatus(eventKey,2) || ClientPrefs.controllerMode)) {
			if(this.generatedMusic) {
				var lastTime = Conductor.songPosition;
				Conductor.songPosition = flixel_FlxG.sound.music._time;
				var canMiss = !ClientPrefs.ghostTapping;
				var pressNotes = [];
				var notesStopped = false;
				haxe_Log.trace("test!",{ fileName : "source/editors/EditorPlayState.hx", lineNumber : 582, className : "editors.EditorPlayState", methodName : "onKeyPress"});
				var sortedNotesList = [];
				this.notes.forEachAlive(function(daNote) {
					if(daNote.canBeHit && daNote.mustPress && !daNote.tooLate && !daNote.wasGoodHit) {
						if(daNote.noteData == key && !daNote.isSustainNote) {
							haxe_Log.trace("pushed note!",{ fileName : "source/editors/EditorPlayState.hx", lineNumber : 590, className : "editors.EditorPlayState", methodName : "onKeyPress"});
							sortedNotesList.push(daNote);
						}
						canMiss = true;
					}
				});
				sortedNotesList.sort(function(a,b) {
					return a.strumTime - b.strumTime | 0;
				});
				if(sortedNotesList.length > 0) {
					var _g = 0;
					while(_g < sortedNotesList.length) {
						var epicNote = sortedNotesList[_g];
						++_g;
						var _g1 = 0;
						while(_g1 < pressNotes.length) {
							var doubleNote = pressNotes[_g1];
							++_g1;
							if(Math.abs(doubleNote.strumTime - epicNote.strumTime) < 1) {
								doubleNote.kill();
								this.notes.remove(doubleNote,true);
								doubleNote.destroy();
							} else {
								notesStopped = true;
							}
						}
						if(!notesStopped) {
							this.goodNoteHit(epicNote);
							pressNotes.push(epicNote);
						}
					}
				} else if(canMiss && !ClientPrefs.ghostTapping) {
					this.noteMiss(key);
				}
				Conductor.songPosition = lastTime;
			}
			var spr = this.playerStrums.members[key];
			if(spr != null && spr.animation._curAnim.name != "confirm") {
				spr.playAnim("pressed");
				spr.resetAnim = 0;
			}
		}
	}
	,onKeyRelease: function(event) {
		var eventKey = event.keyCode;
		var key = this.getKeyFromEvent(eventKey);
		if(key > -1) {
			var spr = this.playerStrums.members[key];
			if(spr != null) {
				spr.playAnim("static");
				spr.resetAnim = 0;
			}
		}
	}
	,getKeyFromEvent: function(key) {
		if(key != -1) {
			var _g = 0;
			var _g1 = this.keysArray.length;
			while(_g < _g1) {
				var i = _g++;
				var _g2 = 0;
				var _g3 = this.keysArray[i].length;
				while(_g2 < _g3) {
					var j = _g2++;
					if(key == this.keysArray[i][j]) {
						return i;
					}
				}
			}
		}
		return -1;
	}
	,keyShit: function() {
		var _gthis = this;
		var up = PlayerSettings.player1.controls._note_up.check();
		var right = PlayerSettings.player1.controls._note_right.check();
		var down = PlayerSettings.player1.controls._note_down.check();
		var left = PlayerSettings.player1.controls._note_left.check();
		var controlHoldArray = [left,down,up,right];
		if(ClientPrefs.controllerMode) {
			var controlArray = [PlayerSettings.player1.controls._note_leftP.check(),PlayerSettings.player1.controls._note_downP.check(),PlayerSettings.player1.controls._note_upP.check(),PlayerSettings.player1.controls._note_rightP.check()];
			if(controlArray.indexOf(true) != -1) {
				var _g = 0;
				var _g1 = controlArray.length;
				while(_g < _g1) {
					var i = _g++;
					if(controlArray[i]) {
						this.onKeyPress(new openfl_events_KeyboardEvent("keyDown",true,true,-1,this.keysArray[i][0]));
					}
				}
			}
		}
		if(this.generatedMusic) {
			this.notes.forEachAlive(function(daNote) {
				if(daNote.isSustainNote && controlHoldArray[daNote.noteData] && daNote.canBeHit && daNote.mustPress && !daNote.tooLate && !daNote.wasGoodHit) {
					_gthis.goodNoteHit(daNote);
				}
			});
		}
		if(ClientPrefs.controllerMode) {
			var controlArray = [PlayerSettings.player1.controls._note_leftR.check(),PlayerSettings.player1.controls._note_downR.check(),PlayerSettings.player1.controls._note_upR.check(),PlayerSettings.player1.controls._note_rightR.check()];
			if(controlArray.indexOf(true) != -1) {
				var _g = 0;
				var _g1 = controlArray.length;
				while(_g < _g1) {
					var i = _g++;
					if(controlArray[i]) {
						this.onKeyRelease(new openfl_events_KeyboardEvent("keyUp",true,true,-1,this.keysArray[i][0]));
					}
				}
			}
		}
	}
	,combo: null
	,goodNoteHit: function(note) {
		if(!note.wasGoodHit) {
			if(note.noteType == "Hurt Note") {
				this.noteMiss(note.noteData);
				--this.songMisses;
				if(!note.isSustainNote) {
					if(!note.noteSplashDisabled) {
						this.spawnNoteSplashOnNote(note);
					}
				}
				note.wasGoodHit = true;
				this.vocals.set_volume(0);
				if(!note.isSustainNote) {
					note.kill();
					this.notes.remove(note,true);
					note.destroy();
				}
				return;
			}
			if(!note.isSustainNote) {
				this.popUpScore(note);
				this.combo += 1;
				this.songHits++;
				if(this.combo > 9999) {
					this.combo = 9999;
				}
			}
			this.playerStrums.forEach(function(spr) {
				if(Math.abs(note.noteData) == spr.ID) {
					spr.playAnim("confirm",true);
				}
			});
			note.wasGoodHit = true;
			this.vocals.set_volume(1);
			if(!note.isSustainNote) {
				note.kill();
				this.notes.remove(note,true);
				note.destroy();
			}
		}
	}
	,noteMiss: function(direction) {
		if(direction == null) {
			direction = 1;
		}
		this.combo = 0;
		this.songMisses++;
		flixel_FlxG.sound.play(Paths.sound("missnote" + flixel_FlxG.random.int(1,3),null),flixel_FlxG.random.float(0.1,0.2));
		this.vocals.set_volume(0);
	}
	,COMBO_X: null
	,COMBO_Y: null
	,popUpScore: function(note) {
		var noteDiff = Math.abs(note.strumTime - Conductor.songPosition + ClientPrefs.ratingOffset);
		this.vocals.set_volume(1);
		var placement = Std.string(this.combo);
		var coolText = new flixel_text_FlxText(0,0,0,placement,32);
		coolText.set_x(this.COMBO_X);
		coolText.set_y(this.COMBO_Y);
		var rating = new flixel_FlxSprite();
		var daRating = "sick";
		if(noteDiff > Conductor.safeZoneOffset * 0.75) {
			daRating = "shit";
		} else if(noteDiff > Conductor.safeZoneOffset * 0.5) {
			daRating = "bad";
		} else if(noteDiff > Conductor.safeZoneOffset * 0.25) {
			daRating = "good";
		}
		if(daRating == "sick" && !note.noteSplashDisabled) {
			this.spawnNoteSplashOnNote(note);
		}
		var pixelShitPart1 = "";
		var pixelShitPart2 = "";
		if(PlayState.isPixelStage) {
			pixelShitPart1 = "pixelUI/";
			pixelShitPart2 = "-pixel";
		}
		rating.loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + daRating + pixelShitPart2) + ".png","IMAGE",null));
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rating.set_x((flixel_FlxG.width - rating.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			rating.set_y((flixel_FlxG.height - rating.get_height()) / 2);
		}
		rating.set_x(coolText.x - 40);
		rating.set_y(rating.y - 60);
		rating.acceleration.set_y(550);
		var fh = rating.velocity;
		fh.set_y(fh.y - flixel_FlxG.random.int(140,175));
		var fh = rating.velocity;
		fh.set_x(fh.x - flixel_FlxG.random.int(0,10));
		rating.set_visible(!ClientPrefs.hideHud);
		rating.set_x(rating.x + ClientPrefs.comboOffset[0]);
		rating.set_y(rating.y - ClientPrefs.comboOffset[1]);
		var comboSpr = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + "combo" + pixelShitPart2) + ".png","IMAGE",null));
		var axes = flixel_util_FlxAxes.XY;
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			comboSpr.set_x((flixel_FlxG.width - comboSpr.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			comboSpr.set_y((flixel_FlxG.height - comboSpr.get_height()) / 2);
		}
		comboSpr.set_x(coolText.x);
		comboSpr.acceleration.set_y(600);
		var fh = comboSpr.velocity;
		fh.set_y(fh.y - 150);
		comboSpr.set_visible(!ClientPrefs.hideHud);
		comboSpr.set_x(comboSpr.x + ClientPrefs.comboOffset[0]);
		comboSpr.set_y(comboSpr.y - ClientPrefs.comboOffset[1]);
		var fh = comboSpr.velocity;
		fh.set_x(fh.x + flixel_FlxG.random.int(1,10));
		this.comboGroup.add(rating);
		if(!PlayState.isPixelStage) {
			rating.setGraphicSize(rating.get_width() * 0.7 | 0);
			rating.set_antialiasing(ClientPrefs.globalAntialiasing);
			comboSpr.setGraphicSize(comboSpr.get_width() * 0.7 | 0);
			comboSpr.set_antialiasing(ClientPrefs.globalAntialiasing);
		} else {
			rating.setGraphicSize(rating.get_width() * PlayState.daPixelZoom * 0.85 | 0);
			comboSpr.setGraphicSize(comboSpr.get_width() * PlayState.daPixelZoom * 0.85 | 0);
		}
		comboSpr.updateHitbox();
		rating.updateHitbox();
		var seperatedScore = [];
		if(this.combo >= 1000) {
			seperatedScore.push(Math.floor(this.combo / 1000) % 10);
		}
		seperatedScore.push(Math.floor(this.combo / 100) % 10);
		seperatedScore.push(Math.floor(this.combo / 10) % 10);
		seperatedScore.push(this.combo % 10);
		var daLoop = 0;
		var _g = 0;
		while(_g < seperatedScore.length) {
			var i = seperatedScore[_g];
			++_g;
			var numScore = [new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + (pixelShitPart1 + "num" + (i | 0) + pixelShitPart2) + ".png","IMAGE",null))];
			var axes = flixel_util_FlxAxes.XY;
			var tmp;
			switch(axes._hx_index) {
			case 0:case 2:
				tmp = true;
				break;
			default:
				tmp = false;
			}
			if(tmp) {
				numScore[0].set_x((flixel_FlxG.width - numScore[0].get_width()) / 2);
			}
			var tmp1;
			switch(axes._hx_index) {
			case 1:case 2:
				tmp1 = true;
				break;
			default:
				tmp1 = false;
			}
			if(tmp1) {
				numScore[0].set_y((flixel_FlxG.height - numScore[0].get_height()) / 2);
			}
			numScore[0].set_x(coolText.x + 43 * daLoop - 90);
			numScore[0].set_y(numScore[0].y + 80);
			numScore[0].set_x(numScore[0].x + ClientPrefs.comboOffset[2]);
			numScore[0].set_y(numScore[0].y - ClientPrefs.comboOffset[3]);
			if(!PlayState.isPixelStage) {
				numScore[0].set_antialiasing(ClientPrefs.globalAntialiasing);
				numScore[0].setGraphicSize(numScore[0].get_width() * 0.5 | 0);
			} else {
				numScore[0].setGraphicSize(numScore[0].get_width() * PlayState.daPixelZoom | 0);
			}
			numScore[0].updateHitbox();
			numScore[0].acceleration.set_y(flixel_FlxG.random.int(200,300));
			var fh = numScore[0].velocity;
			fh.set_y(fh.y - flixel_FlxG.random.int(140,160));
			numScore[0].velocity.set_x(flixel_FlxG.random.float(-5,5));
			numScore[0].set_visible(!ClientPrefs.hideHud);
			if(this.combo >= 10 || this.combo == 0) {
				this.insert(this.members.indexOf(this.strumLineNotes),numScore[0]);
			}
			flixel_tweens_FlxTween.tween(numScore[0],{ alpha : 0},0.2,{ onComplete : (function(numScore) {
				return function(tween) {
					numScore[0].destroy();
				};
			})(numScore), startDelay : Conductor.crochet * 0.002});
			++daLoop;
		}
		coolText.set_text(Std.string(seperatedScore));
		flixel_tweens_FlxTween.tween(rating,{ alpha : 0},0.2,{ startDelay : Conductor.crochet * 0.001});
		flixel_tweens_FlxTween.tween(comboSpr,{ alpha : 0},0.2,{ onComplete : function(tween) {
			coolText.destroy();
			comboSpr.destroy();
			rating.destroy();
		}, startDelay : Conductor.crochet * 0.001});
	}
	,generateStaticArrows: function(player) {
		var _g = 0;
		while(_g < 4) {
			var i = _g++;
			var targetAlpha = 1;
			if(player < 1 && ClientPrefs.middleScroll) {
				targetAlpha = 0.35;
			}
			var babyArrow = new StrumNote(ClientPrefs.middleScroll ? PlayState.STRUM_X_MIDDLESCROLL : PlayState.STRUM_X,this.strumLine.y,i,player);
			babyArrow.set_alpha(targetAlpha);
			if(player == 1) {
				this.playerStrums.add(babyArrow);
			} else {
				if(ClientPrefs.middleScroll) {
					babyArrow.set_x(babyArrow.x + 310);
					if(i > 1) {
						babyArrow.set_x(babyArrow.x + (flixel_FlxG.width / 2 + 25));
					}
				}
				this.opponentStrums.add(babyArrow);
			}
			this.strumLineNotes.add(babyArrow);
			babyArrow.postAddedToGroup();
		}
	}
	,StrumPlayAnim: function(isDad,id,time) {
		var spr = null;
		if(isDad) {
			spr = this.strumLineNotes.members[id];
		} else {
			spr = this.playerStrums.members[id];
		}
		if(spr != null) {
			spr.playAnim("confirm",true);
			spr.resetAnim = time;
		}
	}
	,spawnNoteSplashOnNote: function(note) {
		if(ClientPrefs.noteSplashes && note != null) {
			var strum = this.playerStrums.members[note.noteData];
			if(strum != null) {
				this.spawnNoteSplash(strum.x,strum.y,note.noteData,note);
			}
		}
	}
	,spawnNoteSplash: function(x,y,data,note) {
		var skin = "noteSplashes";
		if(PlayState.SONG.splashSkin != null && PlayState.SONG.splashSkin.length > 0) {
			skin = PlayState.SONG.splashSkin;
		}
		var hue = ClientPrefs.arrowHSV[data % 4][0] / 360;
		var sat = ClientPrefs.arrowHSV[data % 4][1] / 100;
		var brt = ClientPrefs.arrowHSV[data % 4][2] / 100;
		if(note != null) {
			skin = note.noteSplashTexture;
			hue = note.noteSplashHue;
			sat = note.noteSplashSat;
			brt = note.noteSplashBrt;
		}
		var splash = this.grpNoteSplashes.recycle(NoteSplash);
		splash.setupNoteSplash(x,y,data,skin,hue,sat,brt);
		this.grpNoteSplashes.add(splash);
	}
	,destroy: function() {
		var _this = flixel_FlxG.sound.music;
		_this.cleanup(_this.autoDestroy,true);
		var _this = this.vocals;
		_this.cleanup(_this.autoDestroy,true);
		this.vocals.destroy();
		if(!ClientPrefs.controllerMode) {
			openfl_Lib.get_current().stage.removeEventListener("keyDown",$bind(this,this.onKeyPress));
			openfl_Lib.get_current().stage.removeEventListener("keyUp",$bind(this,this.onKeyRelease));
		}
		MusicBeatState.prototype.destroy.call(this);
	}
	,__class__: editors_EditorPlayState
});
var editors_MasterEditorMenu = function(TransIn,TransOut) {
	this.curDirectory = 0;
	this.curSelected = 0;
	this.directories = [null];
	this.options = ["Week Editor","Menu Character Editor","Dialogue Editor","Dialogue Portrait Editor","Character Editor","Chart Editor"];
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["editors.MasterEditorMenu"] = editors_MasterEditorMenu;
editors_MasterEditorMenu.__name__ = "editors.MasterEditorMenu";
editors_MasterEditorMenu.__super__ = MusicBeatState;
editors_MasterEditorMenu.prototype = $extend(MusicBeatState.prototype,{
	options: null
	,grpTexts: null
	,directories: null
	,curSelected: null
	,curDirectory: null
	,directoryTxt: null
	,create: function() {
		flixel_FlxG.camera.bgColor = -16777216;
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		bg.scrollFactor.set();
		bg.set_color(-13290187);
		this.add(bg);
		this.grpTexts = new flixel_group_FlxTypedGroup();
		this.add(this.grpTexts);
		var _g = 0;
		var _g1 = this.options.length;
		while(_g < _g1) {
			var i = _g++;
			var leText = new Alphabet(0,70 * i + 30,this.options[i],true,false);
			leText.isMenuItem = true;
			leText.targetY = i;
			this.grpTexts.add(leText);
		}
		this.changeSelection();
		flixel_FlxG.mouse.set_visible(false);
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.A_B);
		MusicBeatState.prototype.create.call(this);
	}
	,update: function(elapsed) {
		if(PlayerSettings.player1.controls._ui_upP.check()) {
			this.changeSelection(-1);
		}
		if(PlayerSettings.player1.controls._ui_downP.check()) {
			this.changeSelection(1);
		}
		if(PlayerSettings.player1.controls._back.check()) {
			MusicBeatState.switchState(new MainMenuState());
		}
		if(PlayerSettings.player1.controls._accept.check()) {
			switch(this.options[this.curSelected]) {
			case "Character Editor":
				MusicBeatState.switchState(LoadingState.getNextState(new editors_CharacterEditorState(Character.DEFAULT_CHARACTER,false),false));
				break;
			case "Chart Editor":
				var target = new editors_ChartingState();
				var stopMusic = false;
				if(stopMusic == null) {
					stopMusic = false;
				}
				MusicBeatState.switchState(LoadingState.getNextState(target,stopMusic));
				break;
			case "Dialogue Editor":
				var target = new editors_DialogueEditorState();
				var stopMusic = false;
				if(stopMusic == null) {
					stopMusic = false;
				}
				MusicBeatState.switchState(LoadingState.getNextState(target,stopMusic));
				break;
			case "Dialogue Portrait Editor":
				var target = new editors_DialogueCharacterEditorState();
				var stopMusic = false;
				if(stopMusic == null) {
					stopMusic = false;
				}
				MusicBeatState.switchState(LoadingState.getNextState(target,stopMusic));
				break;
			case "Menu Character Editor":
				MusicBeatState.switchState(new editors_MenuCharacterEditorState());
				break;
			case "Week Editor":
				MusicBeatState.switchState(new editors_WeekEditorState());
				break;
			}
			flixel_FlxG.sound.music.set_volume(0);
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.grpTexts.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - this.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		this.curSelected += change;
		if(this.curSelected < 0) {
			this.curSelected = this.options.length - 1;
		}
		if(this.curSelected >= this.options.length) {
			this.curSelected = 0;
		}
	}
	,__class__: editors_MasterEditorMenu
});
var editors_MenuCharacterEditorState = function(TransIn,TransOut) {
	this._file = null;
	this.curTypeSelected = 0;
	this.blockPressWhileTypingOn = [];
	this.defaultCharacters = ["dad","bf","gf"];
	this.characterFile = null;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["editors.MenuCharacterEditorState"] = editors_MenuCharacterEditorState;
editors_MenuCharacterEditorState.__name__ = "editors.MenuCharacterEditorState";
editors_MenuCharacterEditorState.__super__ = MusicBeatState;
editors_MenuCharacterEditorState.prototype = $extend(MusicBeatState.prototype,{
	grpWeekCharacters: null
	,characterFile: null
	,txtOffsets: null
	,defaultCharacters: null
	,create: function() {
		this.characterFile = { image : "Menu_Dad", scale : 1, position : [0,0], idle_anim : "M Dad Idle", confirm_anim : "M Dad Idle"};
		this.grpWeekCharacters = new flixel_group_FlxTypedGroup();
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 - 150,this.defaultCharacters[0]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		weekCharacterThing.set_alpha(0.2);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 2 - 150,this.defaultCharacters[1]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		weekCharacterThing.set_alpha(0.2);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 3 - 150,this.defaultCharacters[2]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		weekCharacterThing.set_alpha(0.2);
		this.grpWeekCharacters.add(weekCharacterThing);
		this.add(new flixel_FlxSprite(0,56).makeGraphic(flixel_FlxG.width,386,-405679));
		this.add(this.grpWeekCharacters);
		this.txtOffsets = new flixel_text_FlxText(20,10,0,"[0, 0]",32);
		this.txtOffsets.setFormat("VCR OSD Mono",32,-1,"center");
		this.txtOffsets.set_alpha(0.7);
		this.add(this.txtOffsets);
		var tipText = new flixel_text_FlxText(0,540,flixel_FlxG.width,"Arrow Keys - Change Offset (Hold shift for 10x speed)\r\n\t\t\t\nSpace - Play \"Start Press\" animation (Boyfriend Character Type)",16);
		tipText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),16,-1,"center");
		tipText.scrollFactor.set();
		this.add(tipText);
		this.addEditorBox();
		flixel_FlxG.mouse.set_visible(true);
		this.updateCharTypeBox();
		this.addVirtualPad(ui_FlxDPadMode.FULL,ui_FlxActionMode.NONE);
		MusicBeatState.prototype.create.call(this);
	}
	,UI_typebox: null
	,UI_mainbox: null
	,blockPressWhileTypingOn: null
	,addEditorBox: function() {
		var _gthis = this;
		var tabs = [{ name : "Character Type", label : "Character Type"}];
		this.UI_typebox = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_typebox.resize(120,180);
		this.UI_typebox.set_x(100);
		this.UI_typebox.set_y(flixel_FlxG.height - this.UI_typebox.get_height() - 50);
		this.UI_typebox.scrollFactor.set();
		this.addTypeUI();
		this.add(this.UI_typebox);
		var tabs = [{ name : "Character", label : "Character"}];
		this.UI_mainbox = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_mainbox.resize(240,180);
		this.UI_mainbox.set_x(flixel_FlxG.width - this.UI_mainbox.get_width() - 100);
		this.UI_mainbox.set_y(flixel_FlxG.height - this.UI_mainbox.get_height() - 50);
		this.UI_mainbox.scrollFactor.set();
		this.addCharacterUI();
		this.add(this.UI_mainbox);
		var loadButton = new flixel_ui_FlxButton(0,480,"Load Character",function() {
			_gthis.loadCharacter();
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadButton.set_x((flixel_FlxG.width - loadButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadButton.set_y((flixel_FlxG.height - loadButton.get_height()) / 2);
		}
		loadButton.set_x(loadButton.x - 60);
		this.add(loadButton);
		var saveButton = new flixel_ui_FlxButton(0,480,"Save Character",function() {
			_gthis.saveCharacter();
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveButton.set_x((flixel_FlxG.width - saveButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveButton.set_y((flixel_FlxG.height - saveButton.get_height()) / 2);
		}
		saveButton.set_x(saveButton.x + 60);
		this.add(saveButton);
	}
	,opponentCheckbox: null
	,boyfriendCheckbox: null
	,girlfriendCheckbox: null
	,curTypeSelected: null
	,addTypeUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_typebox);
		tab_group.name = "Character Type";
		this.opponentCheckbox = new flixel_addons_ui_FlxUICheckBox(10,20,null,null,"Opponent",100);
		this.opponentCheckbox.callback = function() {
			_gthis.curTypeSelected = 0;
			_gthis.updateCharTypeBox();
		};
		this.boyfriendCheckbox = new flixel_addons_ui_FlxUICheckBox(this.opponentCheckbox.x,this.opponentCheckbox.y + 40,null,null,"Boyfriend",100);
		this.boyfriendCheckbox.callback = function() {
			_gthis.curTypeSelected = 1;
			_gthis.updateCharTypeBox();
		};
		this.girlfriendCheckbox = new flixel_addons_ui_FlxUICheckBox(this.boyfriendCheckbox.x,this.boyfriendCheckbox.y + 40,null,null,"Girlfriend",100);
		this.girlfriendCheckbox.callback = function() {
			_gthis.curTypeSelected = 2;
			_gthis.updateCharTypeBox();
		};
		tab_group.add(this.opponentCheckbox);
		tab_group.add(this.boyfriendCheckbox);
		tab_group.add(this.girlfriendCheckbox);
		this.UI_typebox.addGroup(tab_group);
	}
	,imageInputText: null
	,idleInputText: null
	,confirmInputText: null
	,confirmDescText: null
	,scaleStepper: null
	,addCharacterUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_mainbox);
		tab_group.name = "Character";
		this.imageInputText = new flixel_addons_ui_FlxUIInputText(10,20,80,this.characterFile.image,8);
		this.imageInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.imageInputText);
		this.idleInputText = new flixel_addons_ui_FlxUIInputText(10,this.imageInputText.y + 35,100,this.characterFile.idle_anim,8);
		this.idleInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.idleInputText);
		this.confirmInputText = new flixel_addons_ui_FlxUIInputText(10,this.idleInputText.y + 35,100,this.characterFile.confirm_anim,8);
		this.confirmInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.confirmInputText);
		var reloadImageButton = new flixel_ui_FlxButton(10,this.confirmInputText.y + 30,"Reload Char",function() {
			_gthis.reloadSelectedCharacter();
		});
		this.scaleStepper = new flixel_addons_ui_FlxUINumericStepper(140,this.imageInputText.y,0.05,1,0.1,30,2);
		this.confirmDescText = new flixel_text_FlxText(10,this.confirmInputText.y - 18,0,"Start Press animation on the .XML:");
		tab_group.add(new flixel_text_FlxText(10,this.imageInputText.y - 18,0,"Image file name:"));
		tab_group.add(new flixel_text_FlxText(10,this.idleInputText.y - 18,0,"Idle animation on the .XML:"));
		tab_group.add(new flixel_text_FlxText(this.scaleStepper.x,this.scaleStepper.y - 18,0,"Scale:"));
		tab_group.add(reloadImageButton);
		tab_group.add(this.confirmDescText);
		tab_group.add(this.imageInputText);
		tab_group.add(this.idleInputText);
		tab_group.add(this.confirmInputText);
		tab_group.add(this.scaleStepper);
		this.UI_mainbox.addGroup(tab_group);
	}
	,updateCharTypeBox: function() {
		this.opponentCheckbox.set_checked(false);
		this.boyfriendCheckbox.set_checked(false);
		this.girlfriendCheckbox.set_checked(false);
		switch(this.curTypeSelected) {
		case 0:
			this.opponentCheckbox.set_checked(true);
			break;
		case 1:
			this.boyfriendCheckbox.set_checked(true);
			break;
		case 2:
			this.girlfriendCheckbox.set_checked(true);
			break;
		}
		this.updateCharacters();
	}
	,updateCharacters: function() {
		var char = this.grpWeekCharacters.members[0];
		char.set_alpha(0.2);
		char.character = "";
		char.changeCharacter(this.defaultCharacters[0]);
		var char = this.grpWeekCharacters.members[1];
		char.set_alpha(0.2);
		char.character = "";
		char.changeCharacter(this.defaultCharacters[1]);
		var char = this.grpWeekCharacters.members[2];
		char.set_alpha(0.2);
		char.character = "";
		char.changeCharacter(this.defaultCharacters[2]);
		this.reloadSelectedCharacter();
	}
	,reloadSelectedCharacter: function() {
		var char = this.grpWeekCharacters.members[this.curTypeSelected];
		char.set_alpha(1);
		var key = "menucharacters/" + this.characterFile.image;
		var library = null;
		char.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + key + ".png","IMAGE",library),Paths.getPath("images/" + key + ".xml","TEXT",library)));
		char.animation.addByPrefix("idle",this.characterFile.idle_anim,24);
		if(this.curTypeSelected == 1) {
			char.animation.addByPrefix("confirm",this.characterFile.confirm_anim,24,false);
		}
		char.scale.set(this.characterFile.scale,this.characterFile.scale);
		char.updateHitbox();
		char.animation.play("idle");
		this.confirmDescText.set_visible(this.curTypeSelected == 1);
		this.confirmInputText.set_visible(this.curTypeSelected == 1);
		this.updateOffset();
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			if(sender == this.imageInputText) {
				this.characterFile.image = this.imageInputText.text;
			} else if(sender == this.idleInputText) {
				this.characterFile.idle_anim = this.idleInputText.text;
			} else if(sender == this.confirmInputText) {
				this.characterFile.confirm_anim = this.confirmInputText.text;
			}
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			if(sender == this.scaleStepper) {
				this.characterFile.scale = this.scaleStepper.value;
				this.reloadSelectedCharacter();
			}
		}
	}
	,update: function(elapsed) {
		var blockInput = false;
		var _g = 0;
		var _g1 = this.blockPressWhileTypingOn;
		while(_g < _g1.length) {
			var inputText = _g1[_g];
			++_g;
			if(inputText.hasFocus) {
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				blockInput = true;
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(13,_this.status)) {
					inputText.set_hasFocus(false);
				}
				break;
			}
		}
		if(!blockInput) {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
			}
			var shiftMult = 1;
			var _this = flixel_FlxG.keys.pressed;
			if(_this.keyManager.checkStatusUnsafe(16,_this.status)) {
				shiftMult = 10;
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(37,_this.status) || this._virtualpad.buttonLeft.input.current == 2) {
				this.characterFile.position[0] += shiftMult;
				this.updateOffset();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(39,_this.status) || this._virtualpad.buttonRight.input.current == 2) {
				this.characterFile.position[0] -= shiftMult;
				this.updateOffset();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(38,_this.status) || this._virtualpad.buttonUp.input.current == 2) {
				this.characterFile.position[1] += shiftMult;
				this.updateOffset();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(40,_this.status) || this._virtualpad.buttonDown.input.current == 2) {
				this.characterFile.position[1] -= shiftMult;
				this.updateOffset();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(32,_this.status) && this.curTypeSelected == 1) {
				this.grpWeekCharacters.members[this.curTypeSelected].animation.play("confirm",true);
			}
		}
		var char = this.grpWeekCharacters.members[1];
		if(char.animation._curAnim != null && char.animation._curAnim.name == "confirm" && char.animation._curAnim.finished) {
			char.animation.play("idle",true);
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,updateOffset: function() {
		var char = this.grpWeekCharacters.members[this.curTypeSelected];
		char.offset.set(this.characterFile.position[0],this.characterFile.position[1]);
		this.txtOffsets.set_text("" + Std.string(this.characterFile.position));
	}
	,_file: null
	,loadCharacter: function() {
	}
	,onLoadComplete: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		haxe_Log.trace("File couldn't be loaded! You aren't on Desktop, are you?",{ fileName : "source/editors/MenuCharacterEditorState.hx", lineNumber : 377, className : "editors.MenuCharacterEditorState", methodName : "onLoadComplete"});
	}
	,onLoadCancel: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Cancelled file loading.",{ fileName : "source/editors/MenuCharacterEditorState.hx", lineNumber : 390, className : "editors.MenuCharacterEditorState", methodName : "onLoadCancel"});
	}
	,onLoadError: function(_) {
		this._file.removeEventListener("select",$bind(this,this.onLoadComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onLoadCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onLoadError));
		this._file = null;
		haxe_Log.trace("Problem loading file",{ fileName : "source/editors/MenuCharacterEditorState.hx", lineNumber : 402, className : "editors.MenuCharacterEditorState", methodName : "onLoadError"});
	}
	,saveCharacter: function() {
		var data = JSON.stringify(this.characterFile,null,"\t");
		if(data.length > 0) {
			var splittedImage = StringTools.trim(this.imageInputText.text).split("_");
			var characterName = StringTools.replace(splittedImage[splittedImage.length - 1].toLowerCase()," ","");
			this._file = new openfl_net_FileReference();
			this._file.addEventListener("complete",$bind(this,this.onSaveComplete));
			this._file.addEventListener("cancel",$bind(this,this.onSaveCancel));
			this._file.addEventListener("ioError",$bind(this,this.onSaveError));
			this._file.save(data,characterName + ".json");
		}
	}
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,__class__: editors_MenuCharacterEditorState
});
var editors_WeekEditorState = function(weekFile) {
	this.blockPressWhileTypingOn = [];
	this.weekFile = null;
	MusicBeatState.call(this);
	this.weekFile = WeekData.createWeekFile();
	if(weekFile != null) {
		this.weekFile = weekFile;
	} else {
		editors_WeekEditorState.weekFileName = "week1";
	}
};
$hxClasses["editors.WeekEditorState"] = editors_WeekEditorState;
editors_WeekEditorState.__name__ = "editors.WeekEditorState";
editors_WeekEditorState._file = null;
editors_WeekEditorState.loadWeek = function() {
	var jsonFilter = new openfl_net_FileFilter("JSON","json");
	editors_WeekEditorState._file = new openfl_net_FileReference();
	editors_WeekEditorState._file.addEventListener("select",editors_WeekEditorState.onLoadComplete);
	editors_WeekEditorState._file.addEventListener("cancel",editors_WeekEditorState.onLoadCancel);
	editors_WeekEditorState._file.addEventListener("ioError",editors_WeekEditorState.onLoadError);
	editors_WeekEditorState._file.browse([jsonFilter]);
};
editors_WeekEditorState.onLoadComplete = function(_) {
	editors_WeekEditorState._file.removeEventListener("select",editors_WeekEditorState.onLoadComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onLoadCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onLoadError);
	haxe_Log.trace("File couldn't be loaded! You aren't on Desktop, are you?",{ fileName : "source/editors/WeekEditorState.hx", lineNumber : 505, className : "editors.WeekEditorState", methodName : "onLoadComplete"});
};
editors_WeekEditorState.onLoadCancel = function(_) {
	editors_WeekEditorState._file.removeEventListener("select",editors_WeekEditorState.onLoadComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onLoadCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onLoadError);
	editors_WeekEditorState._file = null;
	haxe_Log.trace("Cancelled file loading.",{ fileName : "source/editors/WeekEditorState.hx", lineNumber : 518, className : "editors.WeekEditorState", methodName : "onLoadCancel"});
};
editors_WeekEditorState.onLoadError = function(_) {
	editors_WeekEditorState._file.removeEventListener("select",editors_WeekEditorState.onLoadComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onLoadCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onLoadError);
	editors_WeekEditorState._file = null;
	haxe_Log.trace("Problem loading file",{ fileName : "source/editors/WeekEditorState.hx", lineNumber : 530, className : "editors.WeekEditorState", methodName : "onLoadError"});
};
editors_WeekEditorState.saveWeek = function(weekFile) {
	var data = JSON.stringify(weekFile,null,"\t");
	if(data.length > 0) {
		editors_WeekEditorState._file = new openfl_net_FileReference();
		editors_WeekEditorState._file.addEventListener("complete",editors_WeekEditorState.onSaveComplete);
		editors_WeekEditorState._file.addEventListener("cancel",editors_WeekEditorState.onSaveCancel);
		editors_WeekEditorState._file.addEventListener("ioError",editors_WeekEditorState.onSaveError);
		editors_WeekEditorState._file.save(data,editors_WeekEditorState.weekFileName + ".json");
	}
};
editors_WeekEditorState.onSaveComplete = function(_) {
	editors_WeekEditorState._file.removeEventListener("complete",editors_WeekEditorState.onSaveComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onSaveCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onSaveError);
	editors_WeekEditorState._file = null;
};
editors_WeekEditorState.onSaveCancel = function(_) {
	editors_WeekEditorState._file.removeEventListener("complete",editors_WeekEditorState.onSaveComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onSaveCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onSaveError);
	editors_WeekEditorState._file = null;
};
editors_WeekEditorState.onSaveError = function(_) {
	editors_WeekEditorState._file.removeEventListener("complete",editors_WeekEditorState.onSaveComplete);
	editors_WeekEditorState._file.removeEventListener("cancel",editors_WeekEditorState.onSaveCancel);
	editors_WeekEditorState._file.removeEventListener("ioError",editors_WeekEditorState.onSaveError);
	editors_WeekEditorState._file = null;
};
editors_WeekEditorState.__super__ = MusicBeatState;
editors_WeekEditorState.prototype = $extend(MusicBeatState.prototype,{
	txtWeekTitle: null
	,bgSprite: null
	,lock: null
	,txtTracklist: null
	,grpWeekCharacters: null
	,weekThing: null
	,missingFileText: null
	,weekFile: null
	,create: function() {
		this.txtWeekTitle = new flixel_text_FlxText(flixel_FlxG.width * 0.7,10,0,"",32);
		this.txtWeekTitle.setFormat("VCR OSD Mono",32,-1,"right");
		this.txtWeekTitle.set_alpha(0.7);
		var library = null;
		var ui_tex = flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "campaign_menu_UI_assets" + ".png","IMAGE",library),Paths.getPath("images/" + "campaign_menu_UI_assets" + ".xml","TEXT",library));
		var bgYellow = new flixel_FlxSprite(0,56).makeGraphic(flixel_FlxG.width,386,-405679);
		this.bgSprite = new flixel_FlxSprite(0,56);
		this.bgSprite.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.weekThing = new MenuItem(0,this.bgSprite.y + 396,editors_WeekEditorState.weekFileName);
		var fh = this.weekThing;
		fh.set_y(fh.y + (this.weekThing.get_height() + 20));
		this.weekThing.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.weekThing);
		var blackBarThingie = new flixel_FlxSprite().makeGraphic(flixel_FlxG.width,56,-16777216);
		this.add(blackBarThingie);
		this.grpWeekCharacters = new flixel_group_FlxTypedGroup();
		this.lock = new flixel_FlxSprite();
		this.lock.set_frames(ui_tex);
		this.lock.animation.addByPrefix("lock","lock");
		this.lock.animation.play("lock");
		this.lock.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(this.lock);
		this.missingFileText = new flixel_text_FlxText(0,0,flixel_FlxG.width,"");
		this.missingFileText.setFormat(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"),24,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.missingFileText.set_borderSize(2);
		this.missingFileText.set_visible(false);
		this.add(this.missingFileText);
		var charArray = this.weekFile.weekCharacters;
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 - 150,charArray[0]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 2 - 150,charArray[1]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		var weekCharacterThing = new MenuCharacter(flixel_FlxG.width * 0.25 * 3 - 150,charArray[2]);
		weekCharacterThing.set_y(weekCharacterThing.y + 70);
		this.grpWeekCharacters.add(weekCharacterThing);
		this.add(bgYellow);
		this.add(this.bgSprite);
		this.add(this.grpWeekCharacters);
		var tracksSprite = new flixel_FlxSprite(flixel_FlxG.width * 0.07,this.bgSprite.y + 435).loadGraphic(Paths.getPath("images/" + "Menu_Tracks" + ".png","IMAGE",null));
		tracksSprite.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.add(tracksSprite);
		this.txtTracklist = new flixel_text_FlxText(flixel_FlxG.width * 0.05,tracksSprite.y + 60,0,"",32);
		this.txtTracklist.set_alignment("center");
		this.txtTracklist.set_font(Main.getDataPath() + ("assets/fonts/" + "vcr.ttf"));
		this.txtTracklist.set_color(-1747081);
		this.add(this.txtTracklist);
		this.add(this.txtWeekTitle);
		this.addEditorBox();
		this.reloadAllShit();
		flixel_FlxG.mouse.set_visible(true);
		MusicBeatState.prototype.create.call(this);
	}
	,UI_box: null
	,blockPressWhileTypingOn: null
	,addEditorBox: function() {
		var _gthis = this;
		var tabs = [{ name : "Week", label : "Week"},{ name : "Other", label : "Other"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.resize(250,375);
		this.UI_box.set_x(flixel_FlxG.width - this.UI_box.get_width());
		this.UI_box.set_y(flixel_FlxG.height - this.UI_box.get_height());
		this.UI_box.scrollFactor.set();
		this.addWeekUI();
		this.addOtherUI();
		this.UI_box.set_selected_tab_id("Week");
		this.add(this.UI_box);
		var loadWeekButton = new flixel_ui_FlxButton(0,650,"Load Week",function() {
			editors_WeekEditorState.loadWeek();
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadWeekButton.set_x((flixel_FlxG.width - loadWeekButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadWeekButton.set_y((flixel_FlxG.height - loadWeekButton.get_height()) / 2);
		}
		loadWeekButton.set_x(loadWeekButton.x - 120);
		this.add(loadWeekButton);
		var freeplayButton = new flixel_ui_FlxButton(0,650,"Freeplay",function() {
			MusicBeatState.switchState(new editors_WeekEditorFreeplayState(_gthis.weekFile));
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			freeplayButton.set_x((flixel_FlxG.width - freeplayButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			freeplayButton.set_y((flixel_FlxG.height - freeplayButton.get_height()) / 2);
		}
		this.add(freeplayButton);
		var saveWeekButton = new flixel_ui_FlxButton(0,650,"Save Week",function() {
			editors_WeekEditorState.saveWeek(_gthis.weekFile);
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveWeekButton.set_x((flixel_FlxG.width - saveWeekButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveWeekButton.set_y((flixel_FlxG.height - saveWeekButton.get_height()) / 2);
		}
		saveWeekButton.set_x(saveWeekButton.x + 120);
		this.add(saveWeekButton);
	}
	,songsInputText: null
	,backgroundInputText: null
	,displayNameInputText: null
	,weekNameInputText: null
	,weekFileInputText: null
	,opponentInputText: null
	,boyfriendInputText: null
	,girlfriendInputText: null
	,hideCheckbox: null
	,addWeekUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Week";
		this.songsInputText = new flixel_addons_ui_FlxUIInputText(10,30,200,"",8);
		this.songsInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.songsInputText);
		this.opponentInputText = new flixel_addons_ui_FlxUIInputText(10,this.songsInputText.y + 40,70,"",8);
		this.opponentInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.opponentInputText);
		this.boyfriendInputText = new flixel_addons_ui_FlxUIInputText(this.opponentInputText.x + 75,this.opponentInputText.y,70,"",8);
		this.boyfriendInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.boyfriendInputText);
		this.girlfriendInputText = new flixel_addons_ui_FlxUIInputText(this.boyfriendInputText.x + 75,this.opponentInputText.y,70,"",8);
		this.girlfriendInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.girlfriendInputText);
		this.backgroundInputText = new flixel_addons_ui_FlxUIInputText(10,this.opponentInputText.y + 40,120,"",8);
		this.backgroundInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.backgroundInputText);
		this.displayNameInputText = new flixel_addons_ui_FlxUIInputText(10,this.backgroundInputText.y + 60,200,"",8);
		this.displayNameInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.backgroundInputText);
		this.weekNameInputText = new flixel_addons_ui_FlxUIInputText(10,this.displayNameInputText.y + 60,150,"",8);
		this.weekNameInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.weekNameInputText);
		this.weekFileInputText = new flixel_addons_ui_FlxUIInputText(10,this.weekNameInputText.y + 40,100,"",8);
		this.weekFileInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.weekFileInputText);
		this.reloadWeekThing();
		this.hideCheckbox = new flixel_addons_ui_FlxUICheckBox(10,this.weekFileInputText.y + 40,null,null,"Hide Week from Story Mode?",100);
		this.hideCheckbox.callback = function() {
			_gthis.weekFile.hideStoryMode = _gthis.hideCheckbox.checked;
		};
		tab_group.add(new flixel_text_FlxText(this.songsInputText.x,this.songsInputText.y - 18,0,"Songs:"));
		tab_group.add(new flixel_text_FlxText(this.opponentInputText.x,this.opponentInputText.y - 18,0,"Characters:"));
		tab_group.add(new flixel_text_FlxText(this.backgroundInputText.x,this.backgroundInputText.y - 18,0,"Background Asset:"));
		tab_group.add(new flixel_text_FlxText(this.displayNameInputText.x,this.displayNameInputText.y - 18,0,"Display Name:"));
		tab_group.add(new flixel_text_FlxText(this.weekNameInputText.x,this.weekNameInputText.y - 18,0,"Week Name (for Reset Score Menu):"));
		tab_group.add(new flixel_text_FlxText(this.weekFileInputText.x,this.weekFileInputText.y - 18,0,"Week File:"));
		tab_group.add(this.songsInputText);
		tab_group.add(this.opponentInputText);
		tab_group.add(this.boyfriendInputText);
		tab_group.add(this.girlfriendInputText);
		tab_group.add(this.backgroundInputText);
		tab_group.add(this.displayNameInputText);
		tab_group.add(this.weekNameInputText);
		tab_group.add(this.weekFileInputText);
		tab_group.add(this.hideCheckbox);
		this.UI_box.addGroup(tab_group);
	}
	,weekBeforeInputText: null
	,difficultiesInputText: null
	,lockedCheckbox: null
	,addOtherUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Other";
		this.lockedCheckbox = new flixel_addons_ui_FlxUICheckBox(10,30,null,null,"Week starts Locked",100);
		this.lockedCheckbox.callback = function() {
			_gthis.weekFile.startUnlocked = !_gthis.lockedCheckbox.checked;
			_gthis.lock.set_visible(_gthis.lockedCheckbox.checked);
		};
		this.weekBeforeInputText = new flixel_addons_ui_FlxUIInputText(10,this.lockedCheckbox.y + 55,100,"",8);
		this.weekBeforeInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.weekBeforeInputText);
		this.difficultiesInputText = new flixel_addons_ui_FlxUIInputText(10,this.weekBeforeInputText.y + 60,200,"",8);
		this.difficultiesInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		this.blockPressWhileTypingOn.push(this.difficultiesInputText);
		tab_group.add(new flixel_text_FlxText(this.weekBeforeInputText.x,this.weekBeforeInputText.y - 28,0,"Week File name of the Week you have\nto finish for Unlocking:"));
		tab_group.add(new flixel_text_FlxText(this.difficultiesInputText.x,this.difficultiesInputText.y - 20,0,"Difficulties:"));
		tab_group.add(new flixel_text_FlxText(this.difficultiesInputText.x,this.difficultiesInputText.y + 20,0,"Default difficulties are \"Easy, Normal, Hard\"\nwithout quotes."));
		tab_group.add(this.weekBeforeInputText);
		tab_group.add(this.difficultiesInputText);
		tab_group.add(this.lockedCheckbox);
		this.UI_box.addGroup(tab_group);
	}
	,reloadAllShit: function() {
		var weekString = this.weekFile.songs[0][0];
		var _g = 1;
		var _g1 = this.weekFile.songs.length;
		while(_g < _g1) {
			var i = _g++;
			weekString += ", " + this.weekFile.songs[i][0];
		}
		this.songsInputText.set_text(weekString);
		this.backgroundInputText.set_text(this.weekFile.weekBackground);
		this.displayNameInputText.set_text(this.weekFile.storyName);
		this.weekNameInputText.set_text(this.weekFile.weekName);
		this.weekFileInputText.set_text(editors_WeekEditorState.weekFileName);
		this.opponentInputText.set_text(this.weekFile.weekCharacters[0]);
		this.boyfriendInputText.set_text(this.weekFile.weekCharacters[1]);
		this.girlfriendInputText.set_text(this.weekFile.weekCharacters[2]);
		this.hideCheckbox.set_checked(this.weekFile.hideStoryMode);
		this.weekBeforeInputText.set_text(this.weekFile.weekBefore);
		this.difficultiesInputText.set_text("");
		if(this.weekFile.difficulties != null) {
			this.difficultiesInputText.set_text(this.weekFile.difficulties);
		}
		this.lockedCheckbox.set_checked(!this.weekFile.startUnlocked);
		this.lock.set_visible(this.lockedCheckbox.checked);
		this.reloadBG();
		this.reloadWeekThing();
		this.updateText();
	}
	,updateText: function() {
		var _g = 0;
		var _g1 = this.grpWeekCharacters.length;
		while(_g < _g1) {
			var i = _g++;
			this.grpWeekCharacters.members[i].changeCharacter(this.weekFile.weekCharacters[i]);
		}
		var stringThing = [];
		var _g = 0;
		var _g1 = this.weekFile.songs.length;
		while(_g < _g1) {
			var i = _g++;
			stringThing.push(this.weekFile.songs[i][0]);
		}
		this.txtTracklist.set_text("");
		var _g = 0;
		var _g1 = stringThing.length;
		while(_g < _g1) {
			var i = _g++;
			var fh = this.txtTracklist;
			fh.set_text(fh.text + (stringThing[i] + "\n"));
		}
		this.txtTracklist.set_text(this.txtTracklist.text.toUpperCase());
		var _this = this.txtTracklist;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		var fh = this.txtTracklist;
		fh.set_x(fh.x - flixel_FlxG.width * 0.35);
		this.txtWeekTitle.set_text(this.weekFile.storyName.toUpperCase());
		this.txtWeekTitle.set_x(flixel_FlxG.width - (this.txtWeekTitle.get_width() + 10));
	}
	,reloadBG: function() {
		this.bgSprite.set_visible(true);
		var assetName = this.weekFile.weekBackground;
		var isMissing = true;
		if(assetName != null && assetName.length > 0) {
			if(openfl_utils_Assets.exists(Paths.getPath("images/" + ("menubackgrounds/menu_" + assetName) + ".png","IMAGE",null),"IMAGE")) {
				this.bgSprite.loadGraphic(Paths.getPath("images/" + ("menubackgrounds/menu_" + assetName) + ".png","IMAGE",null));
				isMissing = false;
			}
		}
		if(isMissing) {
			this.bgSprite.set_visible(false);
		}
	}
	,reloadWeekThing: function() {
		this.weekThing.set_visible(true);
		this.missingFileText.set_visible(false);
		var assetName = StringTools.trim(this.weekFileInputText.text);
		var isMissing = true;
		if(assetName != null && assetName.length > 0) {
			if(openfl_utils_Assets.exists(Paths.getPath("images/" + ("storymenu/" + assetName) + ".png","IMAGE",null),"IMAGE")) {
				this.weekThing.loadGraphic(Paths.getPath("images/" + ("storymenu/" + assetName) + ".png","IMAGE",null));
				isMissing = false;
			}
		}
		if(isMissing) {
			this.weekThing.set_visible(false);
			this.missingFileText.set_visible(true);
			this.missingFileText.set_text("MISSING FILE: images/storymenu/" + assetName + ".png");
		}
		this.recalculateStuffPosition();
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			if(sender == this.weekFileInputText) {
				editors_WeekEditorState.weekFileName = StringTools.trim(this.weekFileInputText.text);
				this.reloadWeekThing();
			} else if(sender == this.opponentInputText || sender == this.boyfriendInputText || sender == this.girlfriendInputText) {
				this.weekFile.weekCharacters[0] = StringTools.trim(this.opponentInputText.text);
				this.weekFile.weekCharacters[1] = StringTools.trim(this.boyfriendInputText.text);
				this.weekFile.weekCharacters[2] = StringTools.trim(this.girlfriendInputText.text);
				this.updateText();
			} else if(sender == this.backgroundInputText) {
				this.weekFile.weekBackground = StringTools.trim(this.backgroundInputText.text);
				this.reloadBG();
			} else if(sender == this.displayNameInputText) {
				this.weekFile.storyName = StringTools.trim(this.displayNameInputText.text);
				this.updateText();
			} else if(sender == this.weekNameInputText) {
				this.weekFile.weekName = StringTools.trim(this.weekNameInputText.text);
			} else if(sender == this.songsInputText) {
				var splittedText = StringTools.trim(this.songsInputText.text).split(",");
				var _g = 0;
				var _g1 = splittedText.length;
				while(_g < _g1) {
					var i = _g++;
					splittedText[i] = StringTools.trim(splittedText[i]);
				}
				while(splittedText.length < this.weekFile.songs.length) this.weekFile.songs.pop();
				var _g = 0;
				var _g1 = splittedText.length;
				while(_g < _g1) {
					var i = _g++;
					if(i >= this.weekFile.songs.length) {
						this.weekFile.songs.push([splittedText[i],"dad",[146,113,253]]);
					} else {
						this.weekFile.songs[i][0] = splittedText[i];
						if(this.weekFile.songs[i][1] == null || this.weekFile.songs[i][1]) {
							this.weekFile.songs[i][1] = "dad";
							this.weekFile.songs[i][2] = [146,113,253];
						}
					}
				}
				this.updateText();
			} else if(sender == this.weekBeforeInputText) {
				this.weekFile.weekBefore = StringTools.trim(this.weekBeforeInputText.text);
			} else if(sender == this.difficultiesInputText) {
				this.weekFile.difficulties = StringTools.trim(this.difficultiesInputText.text);
			}
		}
	}
	,update: function(elapsed) {
		if(editors_WeekEditorState.loadedWeek != null) {
			this.weekFile = editors_WeekEditorState.loadedWeek;
			editors_WeekEditorState.loadedWeek = null;
			this.reloadAllShit();
		}
		var blockInput = false;
		var _g = 0;
		var _g1 = this.blockPressWhileTypingOn;
		while(_g < _g1.length) {
			var inputText = _g1[_g];
			++_g;
			if(inputText.hasFocus) {
				flixel_FlxG.sound.muteKeys = [];
				flixel_FlxG.sound.volumeDownKeys = [];
				flixel_FlxG.sound.volumeUpKeys = [];
				blockInput = true;
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatusUnsafe(13,_this.status)) {
					inputText.set_hasFocus(false);
				}
				break;
			}
		}
		if(!blockInput) {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
		this.lock.set_y(this.weekThing.y);
		this.missingFileText.set_y(this.weekThing.y + 36);
	}
	,recalculateStuffPosition: function() {
		var _this = this.weekThing;
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_x((flixel_FlxG.width - _this.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			_this.set_y((flixel_FlxG.height - _this.get_height()) / 2);
		}
		this.lock.set_x(this.weekThing.get_width() + 10 + this.weekThing.x);
	}
	,__class__: editors_WeekEditorState
});
var editors_WeekEditorFreeplayState = function(weekFile) {
	this.blockPressWhileTypingOn = [];
	this.curSelected = 0;
	this.iconArray = [];
	this.weekFile = null;
	MusicBeatState.call(this);
	this.weekFile = WeekData.createWeekFile();
	if(weekFile != null) {
		this.weekFile = weekFile;
	}
};
$hxClasses["editors.WeekEditorFreeplayState"] = editors_WeekEditorFreeplayState;
editors_WeekEditorFreeplayState.__name__ = "editors.WeekEditorFreeplayState";
editors_WeekEditorFreeplayState.__super__ = MusicBeatState;
editors_WeekEditorFreeplayState.prototype = $extend(MusicBeatState.prototype,{
	weekFile: null
	,bg: null
	,grpSongs: null
	,iconArray: null
	,curSelected: null
	,create: function() {
		this.bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuDesat" + ".png","IMAGE",null));
		this.bg.set_antialiasing(ClientPrefs.globalAntialiasing);
		this.bg.set_color(-1);
		this.add(this.bg);
		this.grpSongs = new flixel_group_FlxTypedGroup();
		this.add(this.grpSongs);
		var _g = 0;
		var _g1 = this.weekFile.songs.length;
		while(_g < _g1) {
			var i = _g++;
			var songText = new Alphabet(0,70 * i + 30,this.weekFile.songs[i][0],true,false);
			songText.isMenuItem = true;
			songText.targetY = i;
			this.grpSongs.add(songText);
			var icon = new HealthIcon(this.weekFile.songs[i][1]);
			icon.sprTracker = songText;
			this.iconArray.push(icon);
			this.add(icon);
		}
		this.addEditorBox();
		this.changeSelection();
		this.addVirtualPad(ui_FlxDPadMode.UP_DOWN,ui_FlxActionMode.NONE);
		MusicBeatState.prototype.create.call(this);
	}
	,UI_box: null
	,blockPressWhileTypingOn: null
	,addEditorBox: function() {
		var _gthis = this;
		var tabs = [{ name : "Freeplay", label : "Freeplay"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.resize(250,200);
		this.UI_box.set_x(flixel_FlxG.width - this.UI_box.get_width() - 100);
		this.UI_box.set_y(flixel_FlxG.height - this.UI_box.get_height() - 60);
		this.UI_box.scrollFactor.set();
		this.UI_box.set_selected_tab_id("Week");
		this.addFreeplayUI();
		this.add(this.UI_box);
		var blackBlack = new flixel_FlxSprite(0,670).makeGraphic(flixel_FlxG.width,50,-16777216);
		blackBlack.set_alpha(0.6);
		this.add(blackBlack);
		var loadWeekButton = new flixel_ui_FlxButton(0,685,"Load Week",function() {
			editors_WeekEditorState.loadWeek();
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadWeekButton.set_x((flixel_FlxG.width - loadWeekButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			loadWeekButton.set_y((flixel_FlxG.height - loadWeekButton.get_height()) / 2);
		}
		loadWeekButton.set_x(loadWeekButton.x - 120);
		this.add(loadWeekButton);
		var storyModeButton = new flixel_ui_FlxButton(0,685,"Story Mode",function() {
			MusicBeatState.switchState(new editors_WeekEditorState(_gthis.weekFile));
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			storyModeButton.set_x((flixel_FlxG.width - storyModeButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			storyModeButton.set_y((flixel_FlxG.height - storyModeButton.get_height()) / 2);
		}
		this.add(storyModeButton);
		var saveWeekButton = new flixel_ui_FlxButton(0,685,"Save Week",function() {
			editors_WeekEditorState.saveWeek(_gthis.weekFile);
		});
		var axes = flixel_util_FlxAxes.X;
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		var tmp;
		switch(axes._hx_index) {
		case 0:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveWeekButton.set_x((flixel_FlxG.width - saveWeekButton.get_width()) / 2);
		}
		var tmp;
		switch(axes._hx_index) {
		case 1:case 2:
			tmp = true;
			break;
		default:
			tmp = false;
		}
		if(tmp) {
			saveWeekButton.set_y((flixel_FlxG.height - saveWeekButton.get_height()) / 2);
		}
		saveWeekButton.set_x(saveWeekButton.x + 120);
		this.add(saveWeekButton);
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "change_input_text" && ((sender) instanceof flixel_addons_ui_FlxUIInputText)) {
			this.weekFile.songs[this.curSelected][1] = this.iconInputText.text;
			this.iconArray[this.curSelected].changeIcon(this.iconInputText.text);
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			if(sender == this.bgColorStepperR || sender == this.bgColorStepperG || sender == this.bgColorStepperB) {
				this.updateBG();
			}
		}
	}
	,bgColorStepperR: null
	,bgColorStepperG: null
	,bgColorStepperB: null
	,iconInputText: null
	,addFreeplayUI: function() {
		var _gthis = this;
		var tab_group = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group.name = "Freeplay";
		this.bgColorStepperR = new flixel_addons_ui_FlxUINumericStepper(10,40,20,255,0,255,0);
		this.bgColorStepperG = new flixel_addons_ui_FlxUINumericStepper(80,40,20,255,0,255,0);
		this.bgColorStepperB = new flixel_addons_ui_FlxUINumericStepper(150,40,20,255,0,255,0);
		var copyColor = new flixel_ui_FlxButton(10,this.bgColorStepperR.y + 25,"Copy Color",function() {
			lime_system_Clipboard.set_text((_gthis.bg.color >> 16 & 255) + "," + (_gthis.bg.color >> 8 & 255) + "," + (_gthis.bg.color & 255));
		});
		var pasteColor = new flixel_ui_FlxButton(140,copyColor.y,"Paste Color",function() {
			if(lime_system_Clipboard.get_text() != null) {
				var leColor = [];
				var splitted = StringTools.trim(lime_system_Clipboard.get_text()).split(",");
				var _g = 0;
				var _g1 = splitted.length;
				while(_g < _g1) {
					var i = _g++;
					var toPush = Std.parseInt(splitted[i]);
					if(!isNaN(toPush)) {
						if(toPush > 255) {
							toPush = 255;
						} else if(toPush < 0) {
							toPush *= -1;
						}
						leColor.push(toPush);
					}
				}
				if(leColor.length > 2) {
					_gthis.bgColorStepperR.set_value(leColor[0]);
					_gthis.bgColorStepperG.set_value(leColor[1]);
					_gthis.bgColorStepperB.set_value(leColor[2]);
					_gthis.updateBG();
				}
			}
		});
		this.iconInputText = new flixel_addons_ui_FlxUIInputText(10,this.bgColorStepperR.y + 70,100,"",8);
		this.iconInputText.focusGained = function() {
			openfl_Lib.get_current().stage.window.__backend.setTextInputEnabled(true);
		};
		var hideFreeplayCheckbox = new flixel_addons_ui_FlxUICheckBox(10,this.iconInputText.y + 30,null,null,"Hide Week from Freeplay?",100);
		hideFreeplayCheckbox.set_checked(this.weekFile.hideFreeplay);
		hideFreeplayCheckbox.callback = function() {
			_gthis.weekFile.hideFreeplay = hideFreeplayCheckbox.checked;
		};
		tab_group.add(new flixel_text_FlxText(10,this.bgColorStepperR.y - 18,0,"Selected background Color R/G/B:"));
		tab_group.add(new flixel_text_FlxText(10,this.iconInputText.y - 18,0,"Selected icon:"));
		tab_group.add(this.bgColorStepperR);
		tab_group.add(this.bgColorStepperG);
		tab_group.add(this.bgColorStepperB);
		tab_group.add(copyColor);
		tab_group.add(pasteColor);
		tab_group.add(this.iconInputText);
		tab_group.add(hideFreeplayCheckbox);
		this.UI_box.addGroup(tab_group);
	}
	,updateBG: function() {
		this.weekFile.songs[this.curSelected][2][0] = Math.round(this.bgColorStepperR.value);
		this.weekFile.songs[this.curSelected][2][1] = Math.round(this.bgColorStepperG.value);
		this.weekFile.songs[this.curSelected][2][2] = Math.round(this.bgColorStepperB.value);
		var tmp = this.bg;
		var Red = this.weekFile.songs[this.curSelected][2][0];
		var Green = this.weekFile.songs[this.curSelected][2][1];
		var Blue = this.weekFile.songs[this.curSelected][2][2];
		var color = flixel_util_FlxColor._new();
		var Alpha = 255;
		if(Alpha == null) {
			Alpha = 255;
		}
		color &= -16711681;
		color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
		color &= -65281;
		color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
		color &= -256;
		color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
		color &= 16777215;
		color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
		tmp.set_color(color);
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		this.curSelected += change;
		if(this.curSelected < 0) {
			this.curSelected = this.weekFile.songs.length - 1;
		}
		if(this.curSelected >= this.weekFile.songs.length) {
			this.curSelected = 0;
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.iconArray.length;
		while(_g < _g1) {
			var i = _g++;
			this.iconArray[i].set_alpha(0.6);
		}
		this.iconArray[this.curSelected].set_alpha(1);
		var _g = 0;
		var _g1 = this.grpSongs.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - this.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
		haxe_Log.trace(this.weekFile.songs[this.curSelected],{ fileName : "source/editors/WeekEditorState.hx", lineNumber : 783, className : "editors.WeekEditorFreeplayState", methodName : "changeSelection"});
		this.iconInputText.set_text(this.weekFile.songs[this.curSelected][1]);
		this.bgColorStepperR.set_value(Math.round(this.weekFile.songs[this.curSelected][2][0]));
		this.bgColorStepperG.set_value(Math.round(this.weekFile.songs[this.curSelected][2][1]));
		this.bgColorStepperB.set_value(Math.round(this.weekFile.songs[this.curSelected][2][2]));
		this.updateBG();
	}
	,update: function(elapsed) {
		if(editors_WeekEditorState.loadedWeek != null) {
			MusicBeatState.prototype.update.call(this,elapsed);
			flixel_addons_transition_FlxTransitionableState.skipNextTransIn = true;
			flixel_addons_transition_FlxTransitionableState.skipNextTransOut = true;
			MusicBeatState.switchState(new editors_WeekEditorFreeplayState(editors_WeekEditorState.loadedWeek));
			editors_WeekEditorState.loadedWeek = null;
			return;
		}
		if(this.iconInputText.hasFocus) {
			flixel_FlxG.sound.muteKeys = [];
			flixel_FlxG.sound.volumeDownKeys = [];
			flixel_FlxG.sound.volumeUpKeys = [];
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(13,_this.status)) {
				this.iconInputText.set_hasFocus(false);
			}
		} else {
			flixel_FlxG.sound.muteKeys = TitleState.muteKeys;
			flixel_FlxG.sound.volumeDownKeys = TitleState.volumeDownKeys;
			flixel_FlxG.sound.volumeUpKeys = TitleState.volumeUpKeys;
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatusUnsafe(27,_this.status)) {
				MusicBeatState.switchState(new editors_MasterEditorMenu());
				flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "freakyMenu" + "." + "mp3","MUSIC",null));
			}
			if(PlayerSettings.player1.controls._ui_upP.check()) {
				this.changeSelection(-1);
			}
			if(PlayerSettings.player1.controls._ui_downP.check()) {
				this.changeSelection(1);
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,__class__: editors_WeekEditorFreeplayState
});
var flixel_util_FlxPool_$flixel_$math_$FlxPoint = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool_flixel_math_FlxPoint"] = flixel_util_FlxPool_$flixel_$math_$FlxPoint;
flixel_util_FlxPool_$flixel_$math_$FlxPoint.__name__ = "flixel.util.FlxPool_flixel_math_FlxPoint";
flixel_util_FlxPool_$flixel_$math_$FlxPoint.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool_$flixel_$math_$FlxPoint.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.destroy();
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.destroy();
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool_$flixel_$math_$FlxPoint
	,__properties__: {get_length:"get_length"}
};
var flixel_math_FlxPoint = function(X,Y) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._inPool = false;
	this._weak = false;
	this.y = 0;
	this.x = 0;
	this.set(X,Y);
};
$hxClasses["flixel.math.FlxPoint"] = flixel_math_FlxPoint;
flixel_math_FlxPoint.__name__ = "flixel.math.FlxPoint";
flixel_math_FlxPoint.__interfaces__ = [flixel_util_IFlxPooled];
flixel_math_FlxPoint.__properties__ = {get_pool:"get_pool"};
flixel_math_FlxPoint.get = function(X,Y) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	return point;
};
flixel_math_FlxPoint.weak = function(X,Y) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var X1 = X;
	var Y1 = Y;
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
	point._inPool = false;
	var point1 = point;
	point1._weak = true;
	return point1;
};
flixel_math_FlxPoint.get_pool = function() {
	return flixel_math_FlxPoint._pool;
};
flixel_math_FlxPoint.prototype = {
	x: null
	,y: null
	,_weak: null
	,_inPool: null
	,put: function() {
		if(!this._inPool) {
			this._inPool = true;
			this._weak = false;
			flixel_math_FlxPoint._pool.putUnsafe(this);
		}
	}
	,putWeak: function() {
		if(this._weak) {
			this.put();
		}
	}
	,set: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(X);
		this.set_y(Y);
		return this;
	}
	,add: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(this.x + X);
		this.set_y(this.y + Y);
		return this;
	}
	,addPoint: function(point) {
		this.set_x(this.x + point.x);
		this.set_y(this.y + point.y);
		if(point._weak) {
			point.put();
		}
		return this;
	}
	,addPointWeak: function(point) {
		this.set_x(this.x + point.x);
		this.set_y(this.y + point.y);
		return this;
	}
	,subtract: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(this.x - X);
		this.set_y(this.y - Y);
		return this;
	}
	,subtractPoint: function(point) {
		this.set_x(this.x - point.x);
		this.set_y(this.y - point.y);
		if(point._weak) {
			point.put();
		}
		return this;
	}
	,subtractPointWeak: function(point) {
		this.set_x(this.x - point.x);
		this.set_y(this.y - point.y);
		return this;
	}
	,scale: function(k) {
		this.set_x(this.x * k);
		this.set_y(this.y * k);
		return this;
	}
	,copyFrom: function(point) {
		this.set_x(point.x);
		this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		return this;
	}
	,copyTo: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		point.set_x(this.x);
		point.set_y(this.y);
		return point;
	}
	,copyFromFlash: function(FlashPoint) {
		this.set_x(FlashPoint.x);
		this.set_y(FlashPoint.y);
		return this;
	}
	,copyToFlash: function(FlashPoint) {
		if(FlashPoint == null) {
			FlashPoint = new openfl_geom_Point();
		}
		FlashPoint.x = this.x;
		FlashPoint.y = this.y;
		return FlashPoint;
	}
	,addToFlash: function(FlashPoint) {
		FlashPoint.x += this.x;
		FlashPoint.y += this.y;
		return FlashPoint;
	}
	,subtractFromFlash: function(FlashPoint) {
		FlashPoint.x -= this.x;
		FlashPoint.y -= this.y;
		return FlashPoint;
	}
	,inCoords: function(RectX,RectY,RectWidth,RectHeight) {
		return flixel_math_FlxMath.pointInCoordinates(this.x,this.y,RectX,RectY,RectWidth,RectHeight);
	}
	,inRect: function(Rect) {
		return flixel_math_FlxMath.pointInFlxRect(this.x,this.y,Rect);
	}
	,distanceTo: function(point) {
		var dx = this.x - point.x;
		var dy = this.y - point.y;
		if(point._weak) {
			point.put();
		}
		return Math.sqrt(dx * dx + dy * dy);
	}
	,floor: function() {
		this.set_x(Math.floor(this.x));
		this.set_y(Math.floor(this.y));
		return this;
	}
	,ceil: function() {
		this.set_x(Math.ceil(this.x));
		this.set_y(Math.ceil(this.y));
		return this;
	}
	,round: function() {
		this.set_x(Math.round(this.x));
		this.set_y(Math.round(this.y));
		return this;
	}
	,rotate: function(Pivot,Angle) {
		var radians = Angle * (Math.PI / 180);
		var n = radians;
		n *= 0.3183098862;
		if(n > 1) {
			n -= Math.ceil(n) >> 1 << 1;
		} else if(n < -1) {
			n += Math.ceil(-n) >> 1 << 1;
		}
		var sin = n > 0 ? n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6))) : n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
		var n = radians + 1.570796327;
		n *= 0.3183098862;
		if(n > 1) {
			n -= Math.ceil(n) >> 1 << 1;
		} else if(n < -1) {
			n += Math.ceil(-n) >> 1 << 1;
		}
		var cos = n > 0 ? n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6))) : n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
		var dx = this.x - Pivot.x;
		var dy = this.y - Pivot.y;
		this.set_x(cos * dx - sin * dy + Pivot.x);
		this.set_y(sin * dx + cos * dy + Pivot.y);
		if(Pivot._weak) {
			Pivot.put();
		}
		return this;
	}
	,angleBetween: function(point) {
		var x = point.x - this.x;
		var y = point.y - this.y;
		var angle = 0;
		if(x != 0 || y != 0) {
			var c1 = Math.PI * 0.25;
			var c2 = 3 * c1;
			var ay = y < 0 ? -y : y;
			if(x >= 0) {
				angle = c1 - c1 * ((x - ay) / (x + ay));
			} else {
				angle = c2 - c1 * ((x + ay) / (ay - x));
			}
			angle = (y < 0 ? -angle : angle) * (180 / Math.PI);
			if(angle > 90) {
				angle -= 270;
			} else {
				angle += 90;
			}
		}
		if(point._weak) {
			point.put();
		}
		return angle;
	}
	,toVector: function() {
		var x = this.x;
		var y = this.y;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		var X = x;
		var Y = y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		return point;
	}
	,equals: function(point) {
		var result = Math.abs(this.x - point.x) <= 0.0000001 && Math.abs(this.y - point.y) <= 0.0000001;
		if(point._weak) {
			point.put();
		}
		return result;
	}
	,destroy: function() {
	}
	,transform: function(matrix) {
		var x1 = this.x * matrix.a + this.y * matrix.c + matrix.tx;
		var y1 = this.x * matrix.b + this.y * matrix.d + matrix.ty;
		return this.set(x1,y1);
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1]);
	}
	,set_x: function(Value) {
		return this.x = Value;
	}
	,set_y: function(Value) {
		return this.y = Value;
	}
	,__class__: flixel_math_FlxPoint
	,__properties__: {set_y:"set_y",set_x:"set_x"}
};
var lime_math_Matrix3 = function(a,b,c,d,tx,ty) {
	if(ty == null) {
		ty = 0;
	}
	if(tx == null) {
		tx = 0;
	}
	if(d == null) {
		d = 1;
	}
	if(c == null) {
		c = 0;
	}
	if(b == null) {
		b = 0;
	}
	if(a == null) {
		a = 1;
	}
	this.a = a;
	this.b = b;
	this.c = c;
	this.d = d;
	this.tx = tx;
	this.ty = ty;
};
$hxClasses["lime.math.Matrix3"] = lime_math_Matrix3;
lime_math_Matrix3.__name__ = "lime.math.Matrix3";
lime_math_Matrix3.prototype = {
	a: null
	,b: null
	,c: null
	,d: null
	,tx: null
	,ty: null
	,clone: function() {
		return new lime_math_Matrix3(this.a,this.b,this.c,this.d,this.tx,this.ty);
	}
	,concat: function(m) {
		var a1 = this.a * m.a + this.b * m.c;
		this.b = this.a * m.b + this.b * m.d;
		this.a = a1;
		var c1 = this.c * m.a + this.d * m.c;
		this.d = this.c * m.b + this.d * m.d;
		this.c = c1;
		var tx1 = this.tx * m.a + this.ty * m.c + m.tx;
		this.ty = this.tx * m.b + this.ty * m.d + m.ty;
		this.tx = tx1;
	}
	,copyColumnFrom: function(column,vector4) {
		if(column > 2) {
			throw haxe_Exception.thrown("Column " + column + " out of bounds (2)");
		} else if(column == 0) {
			this.a = vector4.x;
			this.b = vector4.y;
		} else if(column == 1) {
			this.c = vector4.x;
			this.d = vector4.y;
		} else {
			this.tx = vector4.x;
			this.ty = vector4.y;
		}
	}
	,copyColumnTo: function(column,vector4) {
		if(column > 2) {
			throw haxe_Exception.thrown("Column " + column + " out of bounds (2)");
		} else if(column == 0) {
			vector4.x = this.a;
			vector4.y = this.b;
			vector4.z = 0;
		} else if(column == 1) {
			vector4.x = this.c;
			vector4.y = this.d;
			vector4.z = 0;
		} else {
			vector4.x = this.tx;
			vector4.y = this.ty;
			vector4.z = 1;
		}
	}
	,copyFrom: function(sourceMatrix3) {
		this.a = sourceMatrix3.a;
		this.b = sourceMatrix3.b;
		this.c = sourceMatrix3.c;
		this.d = sourceMatrix3.d;
		this.tx = sourceMatrix3.tx;
		this.ty = sourceMatrix3.ty;
	}
	,copyRowFrom: function(row,vector4) {
		if(row > 2) {
			throw haxe_Exception.thrown("Row " + row + " out of bounds (2)");
		} else if(row == 0) {
			this.a = vector4.x;
			this.c = vector4.y;
			this.tx = vector4.z;
		} else if(row == 1) {
			this.b = vector4.x;
			this.d = vector4.y;
			this.ty = vector4.z;
		}
	}
	,copyRowTo: function(row,vector4) {
		if(row > 2) {
			throw haxe_Exception.thrown("Row " + row + " out of bounds (2)");
		} else if(row == 0) {
			vector4.x = this.a;
			vector4.y = this.c;
			vector4.z = this.tx;
		} else if(row == 1) {
			vector4.x = this.b;
			vector4.y = this.d;
			vector4.z = this.ty;
		} else {
			vector4.x = 0;
			vector4.y = 0;
			vector4.z = 1;
		}
	}
	,createBox: function(scaleX,scaleY,rotation,tx,ty) {
		if(ty == null) {
			ty = 0;
		}
		if(tx == null) {
			tx = 0;
		}
		if(rotation == null) {
			rotation = 0;
		}
		if(rotation != 0) {
			var cos = Math.cos(rotation);
			var sin = Math.sin(rotation);
			this.a = cos * scaleX;
			this.b = sin * scaleY;
			this.c = -sin * scaleX;
			this.d = cos * scaleY;
		} else {
			this.a = scaleX;
			this.b = 0;
			this.c = 0;
			this.d = scaleY;
		}
		this.tx = tx;
		this.ty = ty;
	}
	,createGradientBox: function(width,height,rotation,tx,ty) {
		if(ty == null) {
			ty = 0;
		}
		if(tx == null) {
			tx = 0;
		}
		if(rotation == null) {
			rotation = 0;
		}
		this.a = width / 1638.4;
		this.d = height / 1638.4;
		if(rotation != 0) {
			var cos = Math.cos(rotation);
			var sin = Math.sin(rotation);
			this.b = sin * this.d;
			this.c = -sin * this.a;
			this.a *= cos;
			this.d *= cos;
		} else {
			this.b = 0;
			this.c = 0;
		}
		this.tx = tx + width / 2;
		this.ty = ty + height / 2;
	}
	,equals: function(matrix3) {
		if(matrix3 != null && this.tx == matrix3.tx && this.ty == matrix3.ty && this.a == matrix3.a && this.b == matrix3.b && this.c == matrix3.c) {
			return this.d == matrix3.d;
		} else {
			return false;
		}
	}
	,deltaTransformVector: function(Vector2,result) {
		if(result == null) {
			result = new lime_math_Vector2();
		}
		result.x = Vector2.x * this.a + Vector2.y * this.c;
		result.y = Vector2.x * this.b + Vector2.y * this.d;
		return result;
	}
	,identity: function() {
		this.a = 1;
		this.b = 0;
		this.c = 0;
		this.d = 1;
		this.tx = 0;
		this.ty = 0;
	}
	,invert: function() {
		var norm = this.a * this.d - this.b * this.c;
		if(norm == 0) {
			this.a = this.b = this.c = this.d = 0;
			this.tx = -this.tx;
			this.ty = -this.ty;
		} else {
			norm = 1.0 / norm;
			var a1 = this.d * norm;
			this.d = this.a * norm;
			this.a = a1;
			this.b *= -norm;
			this.c *= -norm;
			var tx1 = -this.a * this.tx - this.c * this.ty;
			this.ty = -this.b * this.tx - this.d * this.ty;
			this.tx = tx1;
		}
		return this;
	}
	,rotate: function(theta) {
		var cos = Math.cos(theta);
		var sin = Math.sin(theta);
		var a1 = this.a * cos - this.b * sin;
		this.b = this.a * sin + this.b * cos;
		this.a = a1;
		var c1 = this.c * cos - this.d * sin;
		this.d = this.c * sin + this.d * cos;
		this.c = c1;
		var tx1 = this.tx * cos - this.ty * sin;
		this.ty = this.tx * sin + this.ty * cos;
		this.tx = tx1;
	}
	,scale: function(sx,sy) {
		this.a *= sx;
		this.b *= sy;
		this.c *= sx;
		this.d *= sy;
		this.tx *= sx;
		this.ty *= sy;
	}
	,setRotation: function(theta,scale) {
		if(scale == null) {
			scale = 1;
		}
		this.a = Math.cos(theta) * scale;
		this.c = Math.sin(theta) * scale;
		this.b = -this.c;
		this.d = this.a;
	}
	,setTo: function(a,b,c,d,tx,ty) {
		this.a = a;
		this.b = b;
		this.c = c;
		this.d = d;
		this.tx = tx;
		this.ty = ty;
	}
	,to3DString: function(roundPixels) {
		if(roundPixels == null) {
			roundPixels = false;
		}
		if(roundPixels) {
			return "matrix3d(" + this.a + ", " + this.b + ", " + "0, 0, " + this.c + ", " + this.d + ", " + "0, 0, 0, 0, 1, 0, " + (this.tx | 0) + ", " + (this.ty | 0) + ", 0, 1)";
		} else {
			return "matrix3d(" + this.a + ", " + this.b + ", " + "0, 0, " + this.c + ", " + this.d + ", " + "0, 0, 0, 0, 1, 0, " + this.tx + ", " + this.ty + ", 0, 1)";
		}
	}
	,toString: function() {
		return "matrix(" + this.a + ", " + this.b + ", " + this.c + ", " + this.d + ", " + this.tx + ", " + this.ty + ")";
	}
	,transformRect: function(rect,result) {
		if(result == null) {
			result = new lime_math_Rectangle();
		}
		var tx0 = this.a * rect.x + this.c * rect.y;
		var tx1 = tx0;
		var ty0 = this.b * rect.x + this.d * rect.y;
		var ty1 = ty0;
		var tx = this.a * (rect.x + rect.width) + this.c * rect.y;
		var ty = this.b * (rect.x + rect.width) + this.d * rect.y;
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		tx = this.a * (rect.x + rect.width) + this.c * (rect.y + rect.height);
		ty = this.b * (rect.x + rect.width) + this.d * (rect.y + rect.height);
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		tx = this.a * rect.x + this.c * (rect.y + rect.height);
		ty = this.b * rect.x + this.d * (rect.y + rect.height);
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		result.setTo(tx0 + tx,ty0 + ty,tx1 - tx0,ty1 - ty0);
		return result;
	}
	,transformVector: function(pos,result) {
		if(result == null) {
			result = new lime_math_Vector2();
		}
		result.x = pos.x * this.a + pos.y * this.c + this.tx;
		result.y = pos.x * this.b + pos.y * this.d + this.ty;
		return result;
	}
	,translate: function(dx,dy) {
		this.tx += dx;
		this.ty += dy;
	}
	,__class__: lime_math_Matrix3
};
var openfl_geom_Matrix = function(a,b,c,d,tx,ty) {
	if(ty == null) {
		ty = 0;
	}
	if(tx == null) {
		tx = 0;
	}
	if(d == null) {
		d = 1;
	}
	if(c == null) {
		c = 0;
	}
	if(b == null) {
		b = 0;
	}
	if(a == null) {
		a = 1;
	}
	this.a = a;
	this.b = b;
	this.c = c;
	this.d = d;
	this.tx = tx;
	this.ty = ty;
};
$hxClasses["openfl.geom.Matrix"] = openfl_geom_Matrix;
openfl_geom_Matrix.__name__ = "openfl.geom.Matrix";
openfl_geom_Matrix.prototype = {
	a: null
	,b: null
	,c: null
	,d: null
	,tx: null
	,ty: null
	,__array: null
	,clone: function() {
		return new openfl_geom_Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty);
	}
	,concat: function(m) {
		var a1 = this.a * m.a + this.b * m.c;
		this.b = this.a * m.b + this.b * m.d;
		this.a = a1;
		var c1 = this.c * m.a + this.d * m.c;
		this.d = this.c * m.b + this.d * m.d;
		this.c = c1;
		var tx1 = this.tx * m.a + this.ty * m.c + m.tx;
		this.ty = this.tx * m.b + this.ty * m.d + m.ty;
		this.tx = tx1;
	}
	,copyColumnFrom: function(column,vector3D) {
		if(column > 2) {
			throw haxe_Exception.thrown("Column " + column + " out of bounds (2)");
		} else if(column == 0) {
			this.a = vector3D.x;
			this.b = vector3D.y;
		} else if(column == 1) {
			this.c = vector3D.x;
			this.d = vector3D.y;
		} else {
			this.tx = vector3D.x;
			this.ty = vector3D.y;
		}
	}
	,copyColumnTo: function(column,vector3D) {
		if(column > 2) {
			throw haxe_Exception.thrown("Column " + column + " out of bounds (2)");
		} else if(column == 0) {
			vector3D.x = this.a;
			vector3D.y = this.b;
			vector3D.z = 0;
		} else if(column == 1) {
			vector3D.x = this.c;
			vector3D.y = this.d;
			vector3D.z = 0;
		} else {
			vector3D.x = this.tx;
			vector3D.y = this.ty;
			vector3D.z = 1;
		}
	}
	,copyFrom: function(sourceMatrix) {
		this.a = sourceMatrix.a;
		this.b = sourceMatrix.b;
		this.c = sourceMatrix.c;
		this.d = sourceMatrix.d;
		this.tx = sourceMatrix.tx;
		this.ty = sourceMatrix.ty;
	}
	,copyRowFrom: function(row,vector3D) {
		if(row > 2) {
			throw haxe_Exception.thrown("Row " + row + " out of bounds (2)");
		} else if(row == 0) {
			this.a = vector3D.x;
			this.c = vector3D.y;
			this.tx = vector3D.z;
		} else if(row == 1) {
			this.b = vector3D.x;
			this.d = vector3D.y;
			this.ty = vector3D.z;
		}
	}
	,copyRowTo: function(row,vector3D) {
		if(row > 2) {
			throw haxe_Exception.thrown("Row " + row + " out of bounds (2)");
		} else if(row == 0) {
			vector3D.x = this.a;
			vector3D.y = this.c;
			vector3D.z = this.tx;
		} else if(row == 1) {
			vector3D.x = this.b;
			vector3D.y = this.d;
			vector3D.z = this.ty;
		} else {
			vector3D.setTo(0,0,1);
		}
	}
	,createBox: function(scaleX,scaleY,rotation,tx,ty) {
		if(ty == null) {
			ty = 0;
		}
		if(tx == null) {
			tx = 0;
		}
		if(rotation == null) {
			rotation = 0;
		}
		if(rotation != 0) {
			var cos = Math.cos(rotation);
			var sin = Math.sin(rotation);
			this.a = cos * scaleX;
			this.b = sin * scaleY;
			this.c = -sin * scaleX;
			this.d = cos * scaleY;
		} else {
			this.a = scaleX;
			this.b = 0;
			this.c = 0;
			this.d = scaleY;
		}
		this.tx = tx;
		this.ty = ty;
	}
	,createGradientBox: function(width,height,rotation,tx,ty) {
		if(ty == null) {
			ty = 0;
		}
		if(tx == null) {
			tx = 0;
		}
		if(rotation == null) {
			rotation = 0;
		}
		this.a = width / 1638.4;
		this.d = height / 1638.4;
		if(rotation != 0) {
			var cos = Math.cos(rotation);
			var sin = Math.sin(rotation);
			this.b = sin * this.d;
			this.c = -sin * this.a;
			this.a *= cos;
			this.d *= cos;
		} else {
			this.b = 0;
			this.c = 0;
		}
		this.tx = tx + width / 2;
		this.ty = ty + height / 2;
	}
	,deltaTransformPoint: function(point) {
		return new openfl_geom_Point(point.x * this.a + point.y * this.c,point.x * this.b + point.y * this.d);
	}
	,equals: function(matrix) {
		if(matrix != null && this.tx == matrix.tx && this.ty == matrix.ty && this.a == matrix.a && this.b == matrix.b && this.c == matrix.c) {
			return this.d == matrix.d;
		} else {
			return false;
		}
	}
	,identity: function() {
		this.a = 1;
		this.b = 0;
		this.c = 0;
		this.d = 1;
		this.tx = 0;
		this.ty = 0;
	}
	,invert: function() {
		var norm = this.a * this.d - this.b * this.c;
		if(norm == 0) {
			this.a = this.b = this.c = this.d = 0;
			this.tx = -this.tx;
			this.ty = -this.ty;
		} else {
			norm = 1.0 / norm;
			var a1 = this.d * norm;
			this.d = this.a * norm;
			this.a = a1;
			this.b *= -norm;
			this.c *= -norm;
			var tx1 = -this.a * this.tx - this.c * this.ty;
			this.ty = -this.b * this.tx - this.d * this.ty;
			this.tx = tx1;
		}
		return this;
	}
	,rotate: function(theta) {
		var cos = Math.cos(theta);
		var sin = Math.sin(theta);
		var a1 = this.a * cos - this.b * sin;
		this.b = this.a * sin + this.b * cos;
		this.a = a1;
		var c1 = this.c * cos - this.d * sin;
		this.d = this.c * sin + this.d * cos;
		this.c = c1;
		var tx1 = this.tx * cos - this.ty * sin;
		this.ty = this.tx * sin + this.ty * cos;
		this.tx = tx1;
	}
	,scale: function(sx,sy) {
		this.a *= sx;
		this.b *= sy;
		this.c *= sx;
		this.d *= sy;
		this.tx *= sx;
		this.ty *= sy;
	}
	,setRotation: function(theta,scale) {
		if(scale == null) {
			scale = 1;
		}
		this.a = Math.cos(theta) * scale;
		this.c = Math.sin(theta) * scale;
		this.b = -this.c;
		this.d = this.a;
	}
	,setTo: function(a,b,c,d,tx,ty) {
		this.a = a;
		this.b = b;
		this.c = c;
		this.d = d;
		this.tx = tx;
		this.ty = ty;
	}
	,to3DString: function(roundPixels) {
		if(roundPixels == null) {
			roundPixels = false;
		}
		if(roundPixels) {
			return "matrix3d(" + this.a + ", " + this.b + ", 0, 0, " + this.c + ", " + this.d + ", 0, 0, 0, 0, 1, 0, " + (this.tx | 0) + ", " + (this.ty | 0) + ", 0, 1)";
		} else {
			return "matrix3d(" + this.a + ", " + this.b + ", 0, 0, " + this.c + ", " + this.d + ", 0, 0, 0, 0, 1, 0, " + this.tx + ", " + this.ty + ", 0, 1)";
		}
	}
	,toMozString: function() {
		return "matrix(" + this.a + ", " + this.b + ", " + this.c + ", " + this.d + ", " + this.tx + "px, " + this.ty + "px)";
	}
	,toString: function() {
		return "matrix(" + this.a + ", " + this.b + ", " + this.c + ", " + this.d + ", " + this.tx + ", " + this.ty + ")";
	}
	,transformPoint: function(pos) {
		return new openfl_geom_Point(pos.x * this.a + pos.y * this.c + this.tx,pos.x * this.b + pos.y * this.d + this.ty);
	}
	,translate: function(dx,dy) {
		this.tx += dx;
		this.ty += dy;
	}
	,toArray: function(transpose) {
		if(transpose == null) {
			transpose = false;
		}
		if(this.__array == null) {
			var array = null;
			var vector = null;
			var view = null;
			var buffer = null;
			var len = null;
			var this1 = new Float32Array(9);
			this.__array = this1;
		}
		if(transpose) {
			this.__array[0] = this.a;
			this.__array[1] = this.b;
			this.__array[2] = 0;
			this.__array[3] = this.c;
			this.__array[4] = this.d;
			this.__array[5] = 0;
			this.__array[6] = this.tx;
			this.__array[7] = this.ty;
			this.__array[8] = 1;
		} else {
			this.__array[0] = this.a;
			this.__array[1] = this.c;
			this.__array[2] = this.tx;
			this.__array[3] = this.b;
			this.__array[4] = this.d;
			this.__array[5] = this.ty;
			this.__array[6] = 0;
			this.__array[7] = 0;
			this.__array[8] = 1;
		}
		return this.__array;
	}
	,__cleanValues: function() {
		this.a = Math.round(this.a * 1000) / 1000;
		this.b = Math.round(this.b * 1000) / 1000;
		this.c = Math.round(this.c * 1000) / 1000;
		this.d = Math.round(this.d * 1000) / 1000;
		this.tx = Math.round(this.tx * 10) / 10;
		this.ty = Math.round(this.ty * 10) / 10;
	}
	,__toMatrix3: function() {
		openfl_geom_Matrix.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty);
		return openfl_geom_Matrix.__matrix3;
	}
	,__transformInversePoint: function(point) {
		var norm = this.a * this.d - this.b * this.c;
		if(norm == 0) {
			point.x = -this.tx;
			point.y = -this.ty;
		} else {
			var px = 1.0 / norm * (this.c * (this.ty - point.y) + this.d * (point.x - this.tx));
			point.y = 1.0 / norm * (this.a * (point.y - this.ty) + this.b * (this.tx - point.x));
			point.x = px;
		}
	}
	,__transformInverseX: function(px,py) {
		var norm = this.a * this.d - this.b * this.c;
		if(norm == 0) {
			return -this.tx;
		} else {
			return 1.0 / norm * (this.c * (this.ty - py) + this.d * (px - this.tx));
		}
	}
	,__transformInverseY: function(px,py) {
		var norm = this.a * this.d - this.b * this.c;
		if(norm == 0) {
			return -this.ty;
		} else {
			return 1.0 / norm * (this.a * (py - this.ty) + this.b * (this.tx - px));
		}
	}
	,__transformPoint: function(point) {
		var px = point.x;
		var py = point.y;
		point.x = px * this.a + py * this.c + this.tx;
		point.y = px * this.b + py * this.d + this.ty;
	}
	,__transformX: function(px,py) {
		return px * this.a + py * this.c + this.tx;
	}
	,__transformY: function(px,py) {
		return px * this.b + py * this.d + this.ty;
	}
	,__translateTransformed: function(px,py) {
		this.tx = px * this.a + py * this.c + this.tx;
		this.ty = px * this.b + py * this.d + this.ty;
	}
	,__class__: openfl_geom_Matrix
};
var openfl_geom_ColorTransform = function(redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset) {
	if(alphaOffset == null) {
		alphaOffset = 0;
	}
	if(blueOffset == null) {
		blueOffset = 0;
	}
	if(greenOffset == null) {
		greenOffset = 0;
	}
	if(redOffset == null) {
		redOffset = 0;
	}
	if(alphaMultiplier == null) {
		alphaMultiplier = 1;
	}
	if(blueMultiplier == null) {
		blueMultiplier = 1;
	}
	if(greenMultiplier == null) {
		greenMultiplier = 1;
	}
	if(redMultiplier == null) {
		redMultiplier = 1;
	}
	this.redMultiplier = redMultiplier;
	this.greenMultiplier = greenMultiplier;
	this.blueMultiplier = blueMultiplier;
	this.alphaMultiplier = alphaMultiplier;
	this.redOffset = redOffset;
	this.greenOffset = greenOffset;
	this.blueOffset = blueOffset;
	this.alphaOffset = alphaOffset;
};
$hxClasses["openfl.geom.ColorTransform"] = openfl_geom_ColorTransform;
openfl_geom_ColorTransform.__name__ = "openfl.geom.ColorTransform";
openfl_geom_ColorTransform.__limeColorMatrix = null;
openfl_geom_ColorTransform.prototype = {
	alphaMultiplier: null
	,alphaOffset: null
	,blueMultiplier: null
	,blueOffset: null
	,greenMultiplier: null
	,greenOffset: null
	,redMultiplier: null
	,redOffset: null
	,concat: function(second) {
		this.redOffset = second.redOffset * this.redMultiplier + this.redOffset;
		this.greenOffset = second.greenOffset * this.greenMultiplier + this.greenOffset;
		this.blueOffset = second.blueOffset * this.blueMultiplier + this.blueOffset;
		this.alphaOffset = second.alphaOffset * this.alphaMultiplier + this.alphaOffset;
		this.redMultiplier *= second.redMultiplier;
		this.greenMultiplier *= second.greenMultiplier;
		this.blueMultiplier *= second.blueMultiplier;
		this.alphaMultiplier *= second.alphaMultiplier;
	}
	,toString: function() {
		return "(redMultiplier=" + this.redMultiplier + ", greenMultiplier=" + this.greenMultiplier + ", blueMultiplier=" + this.blueMultiplier + ", alphaMultiplier=" + this.alphaMultiplier + ", redOffset=" + this.redOffset + ", greenOffset=" + this.greenOffset + ", blueOffset=" + this.blueOffset + ", alphaOffset=" + this.alphaOffset + ")";
	}
	,__clone: function() {
		return new openfl_geom_ColorTransform(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset);
	}
	,__copyFrom: function(ct) {
		this.redMultiplier = ct.redMultiplier;
		this.greenMultiplier = ct.greenMultiplier;
		this.blueMultiplier = ct.blueMultiplier;
		this.alphaMultiplier = ct.alphaMultiplier;
		this.redOffset = ct.redOffset;
		this.greenOffset = ct.greenOffset;
		this.blueOffset = ct.blueOffset;
		this.alphaOffset = ct.alphaOffset;
	}
	,__combine: function(ct) {
		this.redMultiplier *= ct.redMultiplier;
		this.greenMultiplier *= ct.greenMultiplier;
		this.blueMultiplier *= ct.blueMultiplier;
		this.alphaMultiplier *= ct.alphaMultiplier;
		this.redOffset += ct.redOffset;
		this.greenOffset += ct.greenOffset;
		this.blueOffset += ct.blueOffset;
		this.alphaOffset += ct.alphaOffset;
	}
	,__identity: function() {
		this.redMultiplier = 1;
		this.greenMultiplier = 1;
		this.blueMultiplier = 1;
		this.alphaMultiplier = 1;
		this.redOffset = 0;
		this.greenOffset = 0;
		this.blueOffset = 0;
		this.alphaOffset = 0;
	}
	,__invert: function() {
		this.redMultiplier = this.redMultiplier != 0 ? 1 / this.redMultiplier : 1;
		this.greenMultiplier = this.greenMultiplier != 0 ? 1 / this.greenMultiplier : 1;
		this.blueMultiplier = this.blueMultiplier != 0 ? 1 / this.blueMultiplier : 1;
		this.alphaMultiplier = this.alphaMultiplier != 0 ? 1 / this.alphaMultiplier : 1;
		this.redOffset = -this.redOffset;
		this.greenOffset = -this.greenOffset;
		this.blueOffset = -this.blueOffset;
		this.alphaOffset = -this.alphaOffset;
	}
	,__equals: function(ct,ignoreAlphaMultiplier) {
		if(ct != null && this.redMultiplier == ct.redMultiplier && this.greenMultiplier == ct.greenMultiplier && this.blueMultiplier == ct.blueMultiplier && (ignoreAlphaMultiplier || this.alphaMultiplier == ct.alphaMultiplier) && this.redOffset == ct.redOffset && this.greenOffset == ct.greenOffset && this.blueOffset == ct.blueOffset) {
			return this.alphaOffset == ct.alphaOffset;
		} else {
			return false;
		}
	}
	,__isDefault: function(ignoreAlphaMultiplier) {
		if(ignoreAlphaMultiplier) {
			if(this.redMultiplier == 1 && this.greenMultiplier == 1 && this.blueMultiplier == 1 && this.redOffset == 0 && this.greenOffset == 0 && this.blueOffset == 0) {
				return this.alphaOffset == 0;
			} else {
				return false;
			}
		} else if(this.redMultiplier == 1 && this.greenMultiplier == 1 && this.blueMultiplier == 1 && this.alphaMultiplier == 1 && this.redOffset == 0 && this.greenOffset == 0 && this.blueOffset == 0) {
			return this.alphaOffset == 0;
		} else {
			return false;
		}
	}
	,__setArrays: function(colorMultipliers,colorOffsets) {
		colorMultipliers[0] = this.redMultiplier;
		colorMultipliers[1] = this.greenMultiplier;
		colorMultipliers[2] = this.blueMultiplier;
		colorMultipliers[3] = this.alphaMultiplier;
		colorOffsets[0] = this.redOffset;
		colorOffsets[1] = this.greenOffset;
		colorOffsets[2] = this.blueOffset;
		colorOffsets[3] = this.alphaOffset;
	}
	,get_color: function() {
		return (this.redOffset | 0) << 16 | (this.greenOffset | 0) << 8 | (this.blueOffset | 0);
	}
	,set_color: function(value) {
		this.redOffset = value >> 16 & 255;
		this.greenOffset = value >> 8 & 255;
		this.blueOffset = value & 255;
		this.redMultiplier = 0;
		this.greenMultiplier = 0;
		this.blueMultiplier = 0;
		return this.get_color();
	}
	,__toLimeColorMatrix: function() {
		if(openfl_geom_ColorTransform.__limeColorMatrix == null) {
			var array = null;
			var vector = null;
			var view = null;
			var buffer = null;
			var len = null;
			var this1 = new Float32Array(20);
			openfl_geom_ColorTransform.__limeColorMatrix = this1;
		}
		openfl_geom_ColorTransform.__limeColorMatrix[0] = this.redMultiplier;
		openfl_geom_ColorTransform.__limeColorMatrix[4] = this.redOffset / 255;
		openfl_geom_ColorTransform.__limeColorMatrix[6] = this.greenMultiplier;
		openfl_geom_ColorTransform.__limeColorMatrix[9] = this.greenOffset / 255;
		openfl_geom_ColorTransform.__limeColorMatrix[12] = this.blueMultiplier;
		openfl_geom_ColorTransform.__limeColorMatrix[14] = this.blueOffset / 255;
		openfl_geom_ColorTransform.__limeColorMatrix[18] = this.alphaMultiplier;
		openfl_geom_ColorTransform.__limeColorMatrix[19] = this.alphaOffset / 255;
		return openfl_geom_ColorTransform.__limeColorMatrix;
	}
	,__class__: openfl_geom_ColorTransform
	,__properties__: {set_color:"set_color",get_color:"get_color"}
};
var flixel_FlxCamera = function(X,Y,Width,Height,Zoom) {
	if(Zoom == null) {
		Zoom = 0;
	}
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._helperPoint = new openfl_geom_Point();
	this._helperMatrix = new flixel_math_FlxMatrix();
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = 0;
	var Y1 = 0;
	var Width1 = 0;
	var Height1 = 0;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	this._bounds = rect;
	this._scrollRect = new openfl_display_Sprite();
	this.initialZoom = 1;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._point = point;
	this._fxShakeAxes = flixel_util_FlxAxes.XY;
	this._fxShakeDuration = 0;
	this._fxShakeIntensity = 0;
	this._fxFadeAlpha = 0;
	this._fxFadeCompleted = true;
	this._fxFadeComplete = null;
	this._fxFadeIn = false;
	this._fxFadeDuration = 0;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._scrollTarget = point;
	this._fxFadeColor = 0;
	this._fxFlashAlpha = 0;
	this._fxFlashComplete = null;
	this._fxFlashDuration = 0;
	this._fxFlashColor = 0;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._flashOffset = point;
	this._flashPoint = new openfl_geom_Point();
	this.filtersEnabled = true;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.followLead = point;
	this.antialiasing = false;
	this.color = -1;
	this.angle = 0;
	this.alpha = 1;
	this._useBlitMatrix = false;
	this._blitMatrix = new flixel_math_FlxMatrix();
	this.viewHeight = 0;
	this.viewWidth = 0;
	this.viewOffsetHeight = 0;
	this.viewOffsetWidth = 0;
	this.viewOffsetY = 0;
	this.viewOffsetX = 0;
	this.height = 0;
	this.width = 0;
	this.flashSprite = new openfl_display_Sprite();
	this.useBgAlphaBlending = false;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.scroll = point;
	this.followLerp = 60 / flixel_FlxG.updateFramerate;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.targetOffset = point;
	this.scaleY = 0;
	this.scaleX = 0;
	this.y = 0;
	this.x = 0;
	flixel_FlxBasic.call(this);
	this.set_x(X);
	this.set_y(Y);
	this.set_width(Width <= 0 ? flixel_FlxG.width : Width);
	this.set_height(Height <= 0 ? flixel_FlxG.height : Height);
	this._flashRect = new openfl_geom_Rectangle(0,0,this.width,this.height);
	this.flashSprite.addChild(this._scrollRect);
	this._scrollRect.set_scrollRect(new openfl_geom_Rectangle());
	this.pixelPerfectRender = flixel_FlxG.renderBlit;
	if(flixel_FlxG.renderBlit) {
		this.screen = new flixel_FlxSprite();
		this.buffer = new openfl_display_BitmapData(this.width,this.height,true,0);
		this.screen.set_pixels(this.buffer);
		this.screen.origin.set();
		this._flashBitmap = new openfl_display_Bitmap(this.buffer);
		this._scrollRect.addChild(this._flashBitmap);
		this._fill = new openfl_display_BitmapData(this.width,this.height,true,0);
	} else {
		this.canvas = new openfl_display_Sprite();
		this._scrollRect.addChild(this.canvas);
	}
	this.set_color(-1);
	this.initialZoom = Zoom == 0 ? flixel_FlxCamera.defaultZoom : Zoom;
	this.set_zoom(Zoom);
	this.updateScrollRect();
	this.updateFlashOffset();
	this.updateFlashSpritePosition();
	this.updateInternalSpritePositions();
	this.bgColor = flixel_FlxG.cameras.get_bgColor();
};
$hxClasses["flixel.FlxCamera"] = flixel_FlxCamera;
flixel_FlxCamera.__name__ = "flixel.FlxCamera";
flixel_FlxCamera.__properties__ = {set_defaultCameras:"set_defaultCameras",get_defaultCameras:"get_defaultCameras"};
flixel_FlxCamera.defaultZoom = null;
flixel_FlxCamera._defaultCameras = null;
flixel_FlxCamera._storageTilesHead = null;
flixel_FlxCamera._storageTrianglesHead = null;
flixel_FlxCamera.get_defaultCameras = function() {
	return flixel_FlxCamera._defaultCameras;
};
flixel_FlxCamera.set_defaultCameras = function(value) {
	return flixel_FlxCamera._defaultCameras = value;
};
flixel_FlxCamera.__super__ = flixel_FlxBasic;
flixel_FlxCamera.prototype = $extend(flixel_FlxBasic.prototype,{
	x: null
	,y: null
	,scaleX: null
	,scaleY: null
	,totalScaleX: null
	,totalScaleY: null
	,style: null
	,target: null
	,targetOffset: null
	,followLerp: null
	,deadzone: null
	,minScrollX: null
	,maxScrollX: null
	,minScrollY: null
	,maxScrollY: null
	,scroll: null
	,buffer: null
	,bgColor: null
	,screen: null
	,useBgAlphaBlending: null
	,flashSprite: null
	,pixelPerfectRender: null
	,width: null
	,height: null
	,zoom: null
	,viewOffsetX: null
	,viewOffsetY: null
	,viewOffsetWidth: null
	,viewOffsetHeight: null
	,viewWidth: null
	,viewHeight: null
	,_blitMatrix: null
	,_useBlitMatrix: null
	,alpha: null
	,angle: null
	,color: null
	,antialiasing: null
	,followLead: null
	,filtersEnabled: null
	,_flashRect: null
	,_flashPoint: null
	,_flashOffset: null
	,_fxFlashColor: null
	,_fxFlashDuration: null
	,_fxFlashComplete: null
	,_fxFlashAlpha: null
	,_fxFadeColor: null
	,_lastTargetPosition: null
	,_scrollTarget: null
	,_fxFadeDuration: null
	,_fxFadeIn: null
	,_fxFadeComplete: null
	,_fxFadeCompleted: null
	,_fxFadeAlpha: null
	,_fxShakeIntensity: null
	,_fxShakeDuration: null
	,_fxShakeComplete: null
	,_fxShakeAxes: null
	,_point: null
	,_filters: null
	,initialZoom: null
	,_fill: null
	,_flashBitmap: null
	,_scrollRect: null
	,_bounds: null
	,canvas: null
	,_helperMatrix: null
	,_helperPoint: null
	,_currentDrawItem: null
	,_headOfDrawStack: null
	,_headTiles: null
	,_headTriangles: null
	,startQuadBatch: function(graphic,colored,hasColorOffsets,blend,smooth,shader) {
		if(smooth == null) {
			smooth = false;
		}
		if(hasColorOffsets == null) {
			hasColorOffsets = false;
		}
		var itemToReturn = null;
		var blendInt = flixel_graphics_tile_FlxDrawBaseItem.blendToInt(blend);
		if(this._currentDrawItem != null && this._currentDrawItem.type == flixel_graphics_tile_FlxDrawItemType.TILES && this._headTiles.graphics == graphic && this._headTiles.colored == colored && this._headTiles.hasColorOffsets == hasColorOffsets && this._headTiles.blending == blendInt && this._headTiles.blend == blend && this._headTiles.antialiasing == smooth && this._headTiles.shader == shader) {
			return this._headTiles;
		}
		if(flixel_FlxCamera._storageTilesHead != null) {
			itemToReturn = flixel_FlxCamera._storageTilesHead;
			var newHead = flixel_FlxCamera._storageTilesHead.nextTyped;
			itemToReturn.reset();
			flixel_FlxCamera._storageTilesHead = newHead;
		} else {
			itemToReturn = new flixel_graphics_tile_FlxDrawQuadsItem();
		}
		itemToReturn.graphics = graphic;
		itemToReturn.antialiasing = smooth;
		itemToReturn.colored = colored;
		itemToReturn.hasColorOffsets = hasColorOffsets;
		itemToReturn.blending = blendInt;
		itemToReturn.blend = blend;
		itemToReturn.shader = shader;
		itemToReturn.nextTyped = this._headTiles;
		this._headTiles = itemToReturn;
		if(this._headOfDrawStack == null) {
			this._headOfDrawStack = itemToReturn;
		}
		if(this._currentDrawItem != null) {
			this._currentDrawItem.next = itemToReturn;
		}
		this._currentDrawItem = itemToReturn;
		return itemToReturn;
	}
	,startTrianglesBatch: function(graphic,smoothing,isColored,blend) {
		if(isColored == null) {
			isColored = false;
		}
		if(smoothing == null) {
			smoothing = false;
		}
		var blendInt = flixel_graphics_tile_FlxDrawBaseItem.blendToInt(blend);
		if(this._currentDrawItem != null && this._currentDrawItem.type == flixel_graphics_tile_FlxDrawItemType.TRIANGLES && this._headTriangles.graphics == graphic && this._headTriangles.antialiasing == smoothing && this._headTriangles.colored == isColored && this._headTriangles.blending == blendInt) {
			return this._headTriangles;
		}
		return this.getNewDrawTrianglesItem(graphic,smoothing,isColored,blend);
	}
	,getNewDrawTrianglesItem: function(graphic,smoothing,isColored,blend) {
		if(isColored == null) {
			isColored = false;
		}
		if(smoothing == null) {
			smoothing = false;
		}
		var itemToReturn = null;
		var blendInt = flixel_graphics_tile_FlxDrawBaseItem.blendToInt(blend);
		if(flixel_FlxCamera._storageTrianglesHead != null) {
			itemToReturn = flixel_FlxCamera._storageTrianglesHead;
			var newHead = flixel_FlxCamera._storageTrianglesHead.nextTyped;
			itemToReturn.reset();
			flixel_FlxCamera._storageTrianglesHead = newHead;
		} else {
			itemToReturn = new flixel_graphics_tile_FlxDrawTrianglesItem();
		}
		itemToReturn.graphics = graphic;
		itemToReturn.antialiasing = smoothing;
		itemToReturn.colored = isColored;
		itemToReturn.blending = blendInt;
		itemToReturn.nextTyped = this._headTriangles;
		this._headTriangles = itemToReturn;
		if(this._headOfDrawStack == null) {
			this._headOfDrawStack = itemToReturn;
		}
		if(this._currentDrawItem != null) {
			this._currentDrawItem.next = itemToReturn;
		}
		this._currentDrawItem = itemToReturn;
		return itemToReturn;
	}
	,clearDrawStack: function() {
		var currTiles = this._headTiles;
		var newTilesHead;
		while(currTiles != null) {
			newTilesHead = currTiles.nextTyped;
			currTiles.reset();
			currTiles.nextTyped = flixel_FlxCamera._storageTilesHead;
			flixel_FlxCamera._storageTilesHead = currTiles;
			currTiles = newTilesHead;
		}
		var currTriangles = this._headTriangles;
		var newTrianglesHead;
		while(currTriangles != null) {
			newTrianglesHead = currTriangles.nextTyped;
			currTriangles.reset();
			currTriangles.nextTyped = flixel_FlxCamera._storageTrianglesHead;
			flixel_FlxCamera._storageTrianglesHead = currTriangles;
			currTriangles = newTrianglesHead;
		}
		this._currentDrawItem = null;
		this._headOfDrawStack = null;
		this._headTiles = null;
		this._headTriangles = null;
	}
	,render: function() {
		var currItem = this._headOfDrawStack;
		while(currItem != null) {
			currItem.render(this);
			currItem = currItem.next;
		}
	}
	,drawPixels: function(frame,pixels,matrix,transform,blend,smoothing,shader) {
		if(smoothing == null) {
			smoothing = false;
		}
		if(flixel_FlxG.renderBlit) {
			this._helperMatrix.copyFrom(matrix);
			if(this._useBlitMatrix) {
				this._helperMatrix.concat(this._blitMatrix);
				this.buffer.draw(pixels,this._helperMatrix,null,null,null,smoothing || this.antialiasing);
			} else {
				this._helperMatrix.translate(-this.viewOffsetX,-this.viewOffsetY);
				this.buffer.draw(pixels,this._helperMatrix,null,blend,null,smoothing || this.antialiasing);
			}
		} else {
			var isColored = transform != null && flixel_util_FlxColorTransformUtil.hasRGBMultipliers(transform);
			var hasColorOffsets = transform != null && flixel_util_FlxColorTransformUtil.hasRGBAOffsets(transform);
			var drawItem = this.startQuadBatch(frame.parent,isColored,hasColorOffsets,blend,smoothing,shader);
			drawItem.addQuad(frame,matrix,transform);
		}
	}
	,copyPixels: function(frame,pixels,sourceRect,destPoint,transform,blend,smoothing,shader) {
		if(smoothing == null) {
			smoothing = false;
		}
		if(flixel_FlxG.renderBlit) {
			if(pixels != null) {
				if(this._useBlitMatrix) {
					this._helperMatrix.identity();
					this._helperMatrix.translate(destPoint.x,destPoint.y);
					this._helperMatrix.concat(this._blitMatrix);
					this.buffer.draw(pixels,this._helperMatrix,null,null,null,smoothing || this.antialiasing);
				} else {
					this._helperPoint.x = destPoint.x - (this.viewOffsetX | 0);
					this._helperPoint.y = destPoint.y - (this.viewOffsetY | 0);
					this.buffer.copyPixels(pixels,sourceRect,this._helperPoint,null,null,true);
				}
			} else if(frame != null) {
				frame.paint(this.buffer,destPoint,true);
			}
		} else {
			this._helperMatrix.identity();
			this._helperMatrix.translate(destPoint.x + frame.offset.x,destPoint.y + frame.offset.y);
			var isColored = transform != null && flixel_util_FlxColorTransformUtil.hasRGBMultipliers(transform);
			var hasColorOffsets = transform != null && flixel_util_FlxColorTransformUtil.hasRGBAOffsets(transform);
			var drawItem = this.startQuadBatch(frame.parent,isColored,hasColorOffsets,blend,smoothing,shader);
			drawItem.addQuad(frame,this._helperMatrix,transform);
		}
	}
	,drawTriangles: function(graphic,vertices,indices,uvtData,colors,position,blend,repeat,smoothing) {
		if(smoothing == null) {
			smoothing = false;
		}
		if(repeat == null) {
			repeat = false;
		}
		if(flixel_FlxG.renderBlit) {
			if(position == null) {
				position = flixel_FlxCamera.renderPoint.set();
			}
			var _this = this._bounds;
			var X = 0;
			var Y = 0;
			var Width = this.width;
			var Height = this.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var verticesLength = vertices.get_length();
			var currentVertexPosition = 0;
			var tempX;
			var tempY;
			var i = 0;
			var _this = flixel_FlxCamera.renderRect;
			_this.x = 0;
			_this.y = 0;
			_this.width = 0;
			_this.height = 0;
			var bounds = _this;
			var this1 = flixel_FlxCamera.drawVertices;
			var deleteCount = flixel_FlxCamera.drawVertices.get_length();
			var this2 = [];
			this1.__tempIndex = 0;
			var _g_current = 0;
			var _g_args = this2;
			while(_g_current < _g_args.length) {
				var item = _g_args[_g_current++];
				this1.insertAt(this1.__tempIndex,item);
				this1.__tempIndex++;
			}
			this1.splice(this1.__tempIndex,deleteCount);
			while(i < verticesLength) {
				tempX = position.x + vertices.get(i);
				tempY = position.y + vertices.get(i + 1);
				flixel_FlxCamera.drawVertices.set(currentVertexPosition++,tempX);
				flixel_FlxCamera.drawVertices.set(currentVertexPosition++,tempY);
				if(i == 0) {
					var X = tempX;
					var Y = tempY;
					var Width = 0;
					var Height = 0;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					bounds.x = X;
					bounds.y = Y;
					bounds.width = Width;
					bounds.height = Height;
				} else {
					if(tempX < bounds.x) {
						bounds.width += bounds.x - tempX;
						bounds.x = tempX;
					}
					if(tempY < bounds.y) {
						bounds.height += bounds.y - tempY;
						bounds.y = tempY;
					}
					if(tempX > bounds.x + bounds.width) {
						bounds.width = tempX - bounds.x;
					}
					if(tempY > bounds.y + bounds.height) {
						bounds.height = tempY - bounds.y;
					}
				}
				i += 2;
			}
			if(position._weak) {
				position.put();
			}
			var _this = this._bounds;
			var result = bounds.x + bounds.width > _this.x && bounds.x < _this.x + _this.width && bounds.y + bounds.height > _this.y && bounds.y < _this.y + _this.height;
			if(bounds._weak) {
				if(!bounds._inPool) {
					bounds._inPool = true;
					bounds._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(bounds);
				}
			}
			if(!result) {
				var this1 = flixel_FlxCamera.drawVertices;
				var this2 = [];
				this1.__tempIndex = flixel_FlxCamera.drawVertices.get_length() - verticesLength;
				var _g_current = 0;
				var _g_args = this2;
				while(_g_current < _g_args.length) {
					var item = _g_args[_g_current++];
					this1.insertAt(this1.__tempIndex,item);
					this1.__tempIndex++;
				}
				this1.splice(this1.__tempIndex,verticesLength);
			} else {
				flixel_FlxCamera.trianglesSprite.get_graphics().clear();
				flixel_FlxCamera.trianglesSprite.get_graphics().beginBitmapFill(graphic.bitmap,null,repeat,smoothing);
				flixel_FlxCamera.trianglesSprite.get_graphics().drawTriangles(flixel_FlxCamera.drawVertices,indices,uvtData);
				flixel_FlxCamera.trianglesSprite.get_graphics().endFill();
				if(this._useBlitMatrix) {
					this._helperMatrix.copyFrom(this._blitMatrix);
				} else {
					this._helperMatrix.identity();
					this._helperMatrix.translate(-this.viewOffsetX,-this.viewOffsetY);
				}
				this.buffer.draw(flixel_FlxCamera.trianglesSprite,this._helperMatrix);
			}
			if(!bounds._inPool) {
				bounds._inPool = true;
				bounds._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(bounds);
			}
		} else {
			var _this = this._bounds;
			var X = 0;
			var Y = 0;
			var Width = this.width;
			var Height = this.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var isColored = colors != null && colors.get_length() != 0;
			var drawItem = this.startTrianglesBatch(graphic,smoothing,isColored,blend);
			drawItem.addTriangles(vertices,indices,uvtData,colors,position,this._bounds);
		}
	}
	,transformRect: function(rect) {
		if(flixel_FlxG.renderBlit) {
			rect.x += -this.viewOffsetX;
			rect.y += -this.viewOffsetY;
			if(this._useBlitMatrix) {
				rect.x *= this.zoom;
				rect.y *= this.zoom;
				rect.width *= this.zoom;
				rect.height *= this.zoom;
			}
		}
		return rect;
	}
	,transformPoint: function(point) {
		if(flixel_FlxG.renderBlit) {
			var X = this.viewOffsetX;
			var Y = this.viewOffsetY;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			point.set_x(point.x - X);
			point.set_y(point.y - Y);
			if(this._useBlitMatrix) {
				point.scale(this.zoom);
			}
		}
		return point;
	}
	,transformVector: function(vector) {
		if(flixel_FlxG.renderBlit && this._useBlitMatrix) {
			vector.scale(this.zoom);
		}
		return vector;
	}
	,transformObject: function(object) {
		object.set_scaleX(object.get_scaleX() * this.totalScaleX);
		object.set_scaleY(object.get_scaleY() * this.totalScaleY);
		object.set_x(object.get_x() - this.scroll.x * this.totalScaleX);
		object.set_y(object.get_y() - this.scroll.y * this.totalScaleY);
		object.set_x(object.get_x() - 0.5 * this.width * (this.scaleX - this.initialZoom) * flixel_FlxG.scaleMode.scale.x);
		object.set_y(object.get_y() - 0.5 * this.height * (this.scaleY - this.initialZoom) * flixel_FlxG.scaleMode.scale.y);
		return object;
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.removeChild(this.flashSprite,this._scrollRect);
		if(flixel_FlxG.renderBlit) {
			flixel_util_FlxDestroyUtil.removeChild(this._scrollRect,this._flashBitmap);
			this.screen = flixel_util_FlxDestroyUtil.destroy(this.screen);
			this.buffer = null;
			this._flashBitmap = null;
			this._fill = flixel_util_FlxDestroyUtil.dispose(this._fill);
		} else {
			flixel_util_FlxDestroyUtil.removeChild(this._scrollRect,this.canvas);
			if(this.canvas != null) {
				var _g = 0;
				var _g1 = this.canvas.get_numChildren();
				while(_g < _g1) {
					var i = _g++;
					this.canvas.removeChildAt(0);
				}
				this.canvas = null;
			}
			if(this._headOfDrawStack != null) {
				this.clearDrawStack();
			}
			this._blitMatrix = null;
			this._helperMatrix = null;
			this._helperPoint = null;
		}
		this._bounds = null;
		this.scroll = flixel_util_FlxDestroyUtil.put(this.scroll);
		this.targetOffset = flixel_util_FlxDestroyUtil.put(this.targetOffset);
		this.deadzone = flixel_util_FlxDestroyUtil.put(this.deadzone);
		this.target = null;
		this.flashSprite = null;
		this._scrollRect = null;
		this._flashRect = null;
		this._flashPoint = null;
		this._fxFlashComplete = null;
		this._fxFadeComplete = null;
		this._fxShakeComplete = null;
		flixel_FlxBasic.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		if(this.target != null) {
			this.updateFollow();
		}
		this.updateScroll();
		this.updateFlash(elapsed);
		this.updateFade(elapsed);
		this.flashSprite.set_filters(this.filtersEnabled ? this._filters : null);
		this.updateFlashSpritePosition();
		this.updateShake(elapsed);
	}
	,updateScroll: function() {
		var zoom = this.zoom / flixel_FlxG.initialZoom;
		var minX = this.minScrollX == null ? null : this.minScrollX - (zoom - 1) * this.width / (2 * zoom);
		var maxX = this.maxScrollX == null ? null : this.maxScrollX + (zoom - 1) * this.width / (2 * zoom);
		var minY = this.minScrollY == null ? null : this.minScrollY - (zoom - 1) * this.height / (2 * zoom);
		var maxY = this.maxScrollY == null ? null : this.maxScrollY + (zoom - 1) * this.height / (2 * zoom);
		var Value = this.scroll.x;
		var Max = maxX != null ? maxX - this.width : null;
		var lowerBound = minX != null && Value < minX ? minX : Value;
		this.scroll.set_x(Max != null && lowerBound > Max ? Max : lowerBound);
		var Value = this.scroll.y;
		var Max = maxY != null ? maxY - this.height : null;
		var lowerBound = minY != null && Value < minY ? minY : Value;
		this.scroll.set_y(Max != null && lowerBound > Max ? Max : lowerBound);
	}
	,updateFollow: function() {
		if(this.deadzone == null) {
			this.target.getMidpoint(this._point);
			this._point.addPoint(this.targetOffset);
			var point = this._point;
			this.scroll.set(point.x - this.width * 0.5,point.y - this.height * 0.5);
			if(point._weak) {
				point.put();
			}
		} else {
			var edge;
			var targetX = this.target.x + this.targetOffset.x;
			var targetY = this.target.y + this.targetOffset.y;
			if(this.style == flixel_FlxCameraFollowStyle.SCREEN_BY_SCREEN) {
				if(targetX >= this.scroll.x + this.width) {
					var fh = this._scrollTarget;
					fh.set_x(fh.x + this.width);
				} else if(targetX < this.scroll.x) {
					var fh = this._scrollTarget;
					fh.set_x(fh.x - this.width);
				}
				if(targetY >= this.scroll.y + this.height) {
					var fh = this._scrollTarget;
					fh.set_y(fh.y + this.height);
				} else if(targetY < this.scroll.y) {
					var fh = this._scrollTarget;
					fh.set_y(fh.y - this.height);
				}
			} else {
				edge = targetX - this.deadzone.x;
				if(this._scrollTarget.x > edge) {
					this._scrollTarget.set_x(edge);
				}
				edge = targetX + this.target.get_width() - this.deadzone.x - this.deadzone.width;
				if(this._scrollTarget.x < edge) {
					this._scrollTarget.set_x(edge);
				}
				edge = targetY - this.deadzone.y;
				if(this._scrollTarget.y > edge) {
					this._scrollTarget.set_y(edge);
				}
				edge = targetY + this.target.get_height() - this.deadzone.y - this.deadzone.height;
				if(this._scrollTarget.y < edge) {
					this._scrollTarget.set_y(edge);
				}
			}
			if(((this.target) instanceof flixel_FlxSprite)) {
				if(this._lastTargetPosition == null) {
					var X = this.target.x;
					var Y = this.target.y;
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var point = flixel_math_FlxPoint._pool.get().set(X,Y);
					point._inPool = false;
					this._lastTargetPosition = point;
				}
				var fh = this._scrollTarget;
				fh.set_x(fh.x + (this.target.x - this._lastTargetPosition.x) * this.followLead.x);
				var fh = this._scrollTarget;
				fh.set_y(fh.y + (this.target.y - this._lastTargetPosition.y) * this.followLead.y);
				this._lastTargetPosition.set_x(this.target.x);
				this._lastTargetPosition.set_y(this.target.y);
			}
			if(this.followLerp >= 60 / flixel_FlxG.updateFramerate) {
				var _this = this.scroll;
				var point = this._scrollTarget;
				_this.set_x(point.x);
				_this.set_y(point.y);
				if(point._weak) {
					point.put();
				}
			} else {
				var fh = this.scroll;
				fh.set_x(fh.x + (this._scrollTarget.x - this.scroll.x) * this.followLerp * flixel_FlxG.updateFramerate / 60);
				var fh = this.scroll;
				fh.set_y(fh.y + (this._scrollTarget.y - this.scroll.y) * this.followLerp * flixel_FlxG.updateFramerate / 60);
			}
		}
	}
	,updateFlash: function(elapsed) {
		if(this._fxFlashAlpha > 0.0) {
			this._fxFlashAlpha -= elapsed / this._fxFlashDuration;
			if(this._fxFlashAlpha <= 0 && this._fxFlashComplete != null) {
				this._fxFlashComplete();
			}
		}
	}
	,updateFade: function(elapsed) {
		if(this._fxFadeCompleted) {
			return;
		}
		if(this._fxFadeIn) {
			this._fxFadeAlpha -= elapsed / this._fxFadeDuration;
			if(this._fxFadeAlpha <= 0.0) {
				this._fxFadeAlpha = 0.0;
				this.completeFade();
			}
		} else {
			this._fxFadeAlpha += elapsed / this._fxFadeDuration;
			if(this._fxFadeAlpha >= 1.0) {
				this._fxFadeAlpha = 1.0;
				this.completeFade();
			}
		}
	}
	,completeFade: function() {
		this._fxFadeCompleted = true;
		if(this._fxFadeComplete != null) {
			this._fxFadeComplete();
		}
	}
	,updateShake: function(elapsed) {
		if(this._fxShakeDuration > 0) {
			this._fxShakeDuration -= elapsed;
			if(this._fxShakeDuration <= 0) {
				if(this._fxShakeComplete != null) {
					this._fxShakeComplete();
				}
			} else {
				if(this._fxShakeAxes != flixel_util_FlxAxes.Y) {
					var fh = this.flashSprite;
					fh.set_x(fh.get_x() + flixel_FlxG.random.float(-this._fxShakeIntensity * this.width,this._fxShakeIntensity * this.width) * this.zoom * flixel_FlxG.scaleMode.scale.x);
				}
				if(this._fxShakeAxes != flixel_util_FlxAxes.X) {
					var fh = this.flashSprite;
					fh.set_y(fh.get_y() + flixel_FlxG.random.float(-this._fxShakeIntensity * this.height,this._fxShakeIntensity * this.height) * this.zoom * flixel_FlxG.scaleMode.scale.y);
				}
			}
		}
	}
	,updateFlashSpritePosition: function() {
		if(this.flashSprite != null) {
			this.flashSprite.set_x(this.x * flixel_FlxG.scaleMode.scale.x + this._flashOffset.x);
			this.flashSprite.set_y(this.y * flixel_FlxG.scaleMode.scale.y + this._flashOffset.y);
		}
	}
	,updateFlashOffset: function() {
		this._flashOffset.set_x(this.width * 0.5 * flixel_FlxG.scaleMode.scale.x * this.initialZoom);
		this._flashOffset.set_y(this.height * 0.5 * flixel_FlxG.scaleMode.scale.y * this.initialZoom);
	}
	,updateScrollRect: function() {
		var rect = this._scrollRect != null ? this._scrollRect.get_scrollRect() : null;
		if(rect != null) {
			rect.x = rect.y = 0;
			rect.width = this.width * this.initialZoom * flixel_FlxG.scaleMode.scale.x;
			rect.height = this.height * this.initialZoom * flixel_FlxG.scaleMode.scale.y;
			this._scrollRect.set_scrollRect(rect);
			this._scrollRect.set_x(-0.5 * rect.width);
			this._scrollRect.set_y(-0.5 * rect.height);
		}
	}
	,updateInternalSpritePositions: function() {
		if(flixel_FlxG.renderBlit) {
			if(this._flashBitmap != null) {
				this._flashBitmap.set_x(0);
				this._flashBitmap.set_y(0);
			}
		} else if(this.canvas != null) {
			this.canvas.set_x(-0.5 * this.width * (this.scaleX - this.initialZoom) * flixel_FlxG.scaleMode.scale.x);
			this.canvas.set_y(-0.5 * this.height * (this.scaleY - this.initialZoom) * flixel_FlxG.scaleMode.scale.y);
			this.canvas.set_scaleX(this.totalScaleX);
			this.canvas.set_scaleY(this.totalScaleY);
		}
	}
	,follow: function(Target,Style,Lerp) {
		if(Style == null) {
			Style = flixel_FlxCameraFollowStyle.LOCKON;
		}
		if(Lerp == null) {
			Lerp = 60 / flixel_FlxG.updateFramerate;
		}
		this.style = Style;
		this.target = Target;
		this.set_followLerp(Lerp);
		var helper;
		var w = 0;
		var h = 0;
		this._lastTargetPosition = null;
		switch(Style._hx_index) {
		case 0:
			if(this.target != null) {
				w = this.target.get_width();
				h = this.target.get_height();
			}
			var X = (this.width - w) / 2;
			var Y = (this.height - h) / 2 - h * 0.25;
			var Width = w;
			var Height = h;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.deadzone = rect;
			break;
		case 1:
			var w = this.width / 8;
			var h = this.height / 3;
			var X = (this.width - w) / 2;
			var Y = (this.height - h) / 2 - h * 0.25;
			var Width = w;
			var Height = h;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.deadzone = rect;
			break;
		case 2:
			helper = Math.max(this.width,this.height) / 4;
			var X = (this.width - helper) / 2;
			var Y = (this.height - helper) / 2;
			var Width = helper;
			var Height = helper;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.deadzone = rect;
			break;
		case 3:
			helper = Math.max(this.width,this.height) / 8;
			var X = (this.width - helper) / 2;
			var Y = (this.height - helper) / 2;
			var Width = helper;
			var Height = helper;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.deadzone = rect;
			break;
		case 4:
			var X = 0;
			var Y = 0;
			var Width = this.width;
			var Height = this.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.deadzone = rect;
			break;
		case 5:
			this.deadzone = null;
			break;
		}
	}
	,snapToTarget: function() {
		this.updateFollow();
		var _this = this.scroll;
		var point = this._scrollTarget;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
	}
	,focusOn: function(point) {
		this.scroll.set(point.x - this.width * 0.5,point.y - this.height * 0.5);
		if(point._weak) {
			point.put();
		}
	}
	,flash: function(Color,Duration,OnComplete,Force) {
		if(Force == null) {
			Force = false;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(Color == null) {
			Color = -1;
		}
		if(!Force && this._fxFlashAlpha > 0.0) {
			return;
		}
		this._fxFlashColor = Color;
		if(Duration <= 0) {
			Duration = 0.000001;
		}
		this._fxFlashDuration = Duration;
		this._fxFlashComplete = OnComplete;
		this._fxFlashAlpha = 1.0;
	}
	,fade: function(Color,Duration,FadeIn,OnComplete,Force) {
		if(Force == null) {
			Force = false;
		}
		if(FadeIn == null) {
			FadeIn = false;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(Color == null) {
			Color = -16777216;
		}
		if(!this._fxFadeCompleted && !Force) {
			return;
		}
		this._fxFadeColor = Color;
		if(Duration <= 0) {
			Duration = 0.000001;
		}
		this._fxFadeIn = FadeIn;
		this._fxFadeDuration = Duration;
		this._fxFadeComplete = OnComplete;
		this._fxFadeAlpha = this._fxFadeIn ? 0.999999 : 0.000001;
		this._fxFadeCompleted = false;
	}
	,shake: function(Intensity,Duration,OnComplete,Force,Axes) {
		if(Force == null) {
			Force = true;
		}
		if(Duration == null) {
			Duration = 0.5;
		}
		if(Intensity == null) {
			Intensity = 0.05;
		}
		if(Axes == null) {
			Axes = flixel_util_FlxAxes.XY;
		}
		if(!Force && this._fxShakeDuration > 0) {
			return;
		}
		this._fxShakeIntensity = Intensity;
		this._fxShakeDuration = Duration;
		this._fxShakeComplete = OnComplete;
		this._fxShakeAxes = Axes;
	}
	,stopFX: function() {
		this._fxFlashAlpha = 0.0;
		this._fxFadeAlpha = 0.0;
		this._fxShakeDuration = 0;
		this.updateFlashSpritePosition();
	}
	,setFilters: function(filters) {
		this._filters = filters;
	}
	,copyFrom: function(Camera) {
		this.setScrollBounds(Camera.minScrollX,Camera.maxScrollX,Camera.minScrollY,Camera.maxScrollY);
		this.target = Camera.target;
		if(this.target != null) {
			if(Camera.deadzone == null) {
				this.deadzone = null;
			} else {
				if(this.deadzone == null) {
					var _this = flixel_math_FlxRect._pool.get();
					var X = 0;
					var Y = 0;
					var Width = 0;
					var Height = 0;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					_this.x = X;
					_this.y = Y;
					_this.width = Width;
					_this.height = Height;
					var rect = _this;
					rect._inPool = false;
					this.deadzone = rect;
				}
				var _this = this.deadzone;
				var Rect = Camera.deadzone;
				_this.x = Rect.x;
				_this.y = Rect.y;
				_this.width = Rect.width;
				_this.height = Rect.height;
				if(Rect._weak) {
					if(!Rect._inPool) {
						Rect._inPool = true;
						Rect._weak = false;
						flixel_math_FlxRect._pool.putUnsafe(Rect);
					}
				}
			}
		}
		return this;
	}
	,fill: function(Color,BlendAlpha,FxAlpha,graphics) {
		if(FxAlpha == null) {
			FxAlpha = 1.0;
		}
		if(BlendAlpha == null) {
			BlendAlpha = true;
		}
		if(flixel_FlxG.renderBlit) {
			if(BlendAlpha) {
				this._fill.fillRect(this._flashRect,Color);
				this.buffer.copyPixels(this._fill,this._flashRect,this._flashPoint,null,null,BlendAlpha);
			} else {
				this.buffer.fillRect(this._flashRect,Color);
			}
		} else {
			if(FxAlpha == 0) {
				return;
			}
			var targetGraphics = graphics == null ? this.canvas.get_graphics() : graphics;
			targetGraphics.beginFill(Color,FxAlpha);
			targetGraphics.drawRect(this.viewOffsetX - 1,this.viewOffsetY - 1,this.viewWidth + 2,this.viewHeight + 2);
			targetGraphics.endFill();
		}
	}
	,drawFX: function() {
		var alphaComponent;
		if(this._fxFlashAlpha > 0.0) {
			alphaComponent = this._fxFlashColor >> 24 & 255;
			if(flixel_FlxG.renderBlit) {
				this.fill((((alphaComponent <= 0 ? 255 : alphaComponent) * this._fxFlashAlpha | 0) << 24) + (this._fxFlashColor & 16777215));
			} else {
				this.fill(this._fxFlashColor & 16777215,true,(alphaComponent <= 0 ? 255 : alphaComponent) * this._fxFlashAlpha / 255,this.canvas.get_graphics());
			}
		}
		if(this._fxFadeAlpha > 0.0) {
			alphaComponent = this._fxFadeColor >> 24 & 255;
			if(flixel_FlxG.renderBlit) {
				this.fill((((alphaComponent <= 0 ? 255 : alphaComponent) * this._fxFadeAlpha | 0) << 24) + (this._fxFadeColor & 16777215));
			} else {
				this.fill(this._fxFadeColor & 16777215,true,(alphaComponent <= 0 ? 255 : alphaComponent) * this._fxFadeAlpha / 255,this.canvas.get_graphics());
			}
		}
	}
	,checkResize: function() {
		if(flixel_FlxG.renderBlit) {
			if(this.width != this.buffer.width || this.height != this.buffer.height) {
				var oldBuffer = this.screen.graphic;
				this.buffer = new openfl_display_BitmapData(this.width,this.height,true,0);
				this.screen.set_pixels(this.buffer);
				this.screen.origin.set();
				this._flashBitmap.set_bitmapData(this.buffer);
				this._flashRect.width = this.width;
				this._flashRect.height = this.height;
				this._fill = flixel_util_FlxDestroyUtil.dispose(this._fill);
				this._fill = new openfl_display_BitmapData(this.width,this.height,true,0);
				flixel_FlxG.bitmap.removeIfNoUse(oldBuffer);
			}
			this._blitMatrix.identity();
			this._blitMatrix.translate(-this.viewOffsetX,-this.viewOffsetY);
			this._blitMatrix.scale(this.scaleX,this.scaleY);
			this._useBlitMatrix = this.scaleX < this.initialZoom || this.scaleY < this.initialZoom;
		}
	}
	,updateBlitMatrix: function() {
		this._blitMatrix.identity();
		this._blitMatrix.translate(-this.viewOffsetX,-this.viewOffsetY);
		this._blitMatrix.scale(this.scaleX,this.scaleY);
		this._useBlitMatrix = this.scaleX < this.initialZoom || this.scaleY < this.initialZoom;
	}
	,setSize: function(Width,Height) {
		this.set_width(Width);
		this.set_height(Height);
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(X);
		this.set_y(Y);
	}
	,setScrollBoundsRect: function(X,Y,Width,Height,UpdateWorld) {
		if(UpdateWorld == null) {
			UpdateWorld = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		if(UpdateWorld) {
			var _this = flixel_FlxG.worldBounds;
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
		}
		this.setScrollBounds(X,X + Width,Y,Y + Height);
	}
	,setScrollBounds: function(MinX,MaxX,MinY,MaxY) {
		this.minScrollX = MinX;
		this.maxScrollX = MaxX;
		this.minScrollY = MinY;
		this.maxScrollY = MaxY;
		this.updateScroll();
	}
	,setScale: function(X,Y) {
		this.scaleX = X;
		this.scaleY = Y;
		this.totalScaleX = this.scaleX * flixel_FlxG.scaleMode.scale.x;
		this.totalScaleY = this.scaleY * flixel_FlxG.scaleMode.scale.y;
		if(flixel_FlxG.renderBlit) {
			this._blitMatrix.identity();
			this._blitMatrix.translate(-this.viewOffsetX,-this.viewOffsetY);
			this._blitMatrix.scale(this.scaleX,this.scaleY);
			this._useBlitMatrix = this.scaleX < this.initialZoom || this.scaleY < this.initialZoom;
			if(this._useBlitMatrix) {
				this._flashBitmap.set_scaleX(this.initialZoom * flixel_FlxG.scaleMode.scale.x);
				this._flashBitmap.set_scaleY(this.initialZoom * flixel_FlxG.scaleMode.scale.y);
			} else {
				this._flashBitmap.set_scaleX(this.totalScaleX);
				this._flashBitmap.set_scaleY(this.totalScaleY);
			}
		}
		this.viewOffsetX = 0.5 * this.width * (this.scaleX - this.initialZoom) / this.scaleX;
		this.viewOffsetWidth = this.width - this.viewOffsetX;
		this.viewWidth = this.width - 2 * this.viewOffsetX;
		this.viewOffsetY = 0.5 * this.height * (this.scaleY - this.initialZoom) / this.scaleY;
		this.viewOffsetHeight = this.height - this.viewOffsetY;
		this.viewHeight = this.height - 2 * this.viewOffsetY;
		this.updateScrollRect();
		this.updateInternalSpritePositions();
		flixel_FlxG.cameras.cameraResized.dispatch(this);
	}
	,onResize: function() {
		this.updateFlashOffset();
		this.setScale(this.scaleX,this.scaleY);
	}
	,getViewRect: function(rect) {
		if(rect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect1 = _this;
			rect1._inPool = false;
			rect = rect1;
		}
		var X = this.viewOffsetX;
		var Y = this.viewOffsetY;
		var Width = this.viewOffsetWidth - this.viewOffsetX;
		var Height = this.viewOffsetHeight - this.viewOffsetY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		rect.x = X;
		rect.y = Y;
		rect.width = Width;
		rect.height = Height;
		return rect;
	}
	,containsPoint: function(point,width,height) {
		if(height == null) {
			height = 0;
		}
		if(width == null) {
			width = 0;
		}
		var contained = point.x + width > this.viewOffsetX && point.x < this.viewOffsetWidth && point.y + height > this.viewOffsetY && point.y < this.viewOffsetHeight;
		if(point._weak) {
			point.put();
		}
		return contained;
	}
	,containsRect: function(rect) {
		var contained = rect.x + rect.width > this.viewOffsetX && rect.x < this.viewOffsetWidth && rect.y + rect.height > this.viewOffsetY && rect.y < this.viewOffsetHeight;
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		return contained;
	}
	,set_followLerp: function(Value) {
		var Max = 60 / flixel_FlxG.updateFramerate;
		var lowerBound = Value < 0 ? 0 : Value;
		return this.followLerp = Max != null && lowerBound > Max ? Max : lowerBound;
	}
	,set_width: function(Value) {
		if(this.width != Value && Value > 0) {
			this.width = Value;
			this.viewOffsetX = 0.5 * this.width * (this.scaleX - this.initialZoom) / this.scaleX;
			this.viewOffsetWidth = this.width - this.viewOffsetX;
			this.viewWidth = this.width - 2 * this.viewOffsetX;
			this.updateFlashOffset();
			this.updateScrollRect();
			this.updateInternalSpritePositions();
			flixel_FlxG.cameras.cameraResized.dispatch(this);
		}
		return Value;
	}
	,set_height: function(Value) {
		if(this.height != Value && Value > 0) {
			this.height = Value;
			this.viewOffsetY = 0.5 * this.height * (this.scaleY - this.initialZoom) / this.scaleY;
			this.viewOffsetHeight = this.height - this.viewOffsetY;
			this.viewHeight = this.height - 2 * this.viewOffsetY;
			this.updateFlashOffset();
			this.updateScrollRect();
			this.updateInternalSpritePositions();
			flixel_FlxG.cameras.cameraResized.dispatch(this);
		}
		return Value;
	}
	,set_zoom: function(Zoom) {
		this.zoom = Zoom == 0 ? flixel_FlxCamera.defaultZoom : Zoom;
		this.setScale(this.zoom,this.zoom);
		return this.zoom;
	}
	,set_alpha: function(Alpha) {
		var lowerBound = Alpha < 0 ? 0 : Alpha;
		this.alpha = lowerBound > 1 ? 1 : lowerBound;
		if(flixel_FlxG.renderBlit) {
			this._flashBitmap.set_alpha(Alpha);
		} else {
			this.canvas.set_alpha(Alpha);
		}
		return Alpha;
	}
	,set_angle: function(Angle) {
		this.angle = Angle;
		this.flashSprite.set_rotation(Angle);
		return Angle;
	}
	,set_color: function(Color) {
		this.color = Color;
		var colorTransform;
		if(flixel_FlxG.renderBlit) {
			if(this._flashBitmap == null) {
				return Color;
			}
			colorTransform = this._flashBitmap.get_transform().get_colorTransform();
		} else {
			colorTransform = this.canvas.get_transform().get_colorTransform();
		}
		colorTransform.redMultiplier = (this.color >> 16 & 255) / 255;
		colorTransform.greenMultiplier = (this.color >> 8 & 255) / 255;
		colorTransform.blueMultiplier = (this.color & 255) / 255;
		if(flixel_FlxG.renderBlit) {
			this._flashBitmap.get_transform().set_colorTransform(colorTransform);
		} else {
			this.canvas.get_transform().set_colorTransform(colorTransform);
		}
		return Color;
	}
	,set_antialiasing: function(Antialiasing) {
		this.antialiasing = Antialiasing;
		if(flixel_FlxG.renderBlit) {
			this._flashBitmap.smoothing = Antialiasing;
		}
		return Antialiasing;
	}
	,set_x: function(x) {
		this.x = x;
		this.updateFlashSpritePosition();
		return x;
	}
	,set_y: function(y) {
		this.y = y;
		this.updateFlashSpritePosition();
		return y;
	}
	,set_visible: function(visible) {
		if(this.flashSprite != null) {
			this.flashSprite.set_visible(visible);
		}
		return this.visible = visible;
	}
	,calcOffsetX: function() {
		this.viewOffsetX = 0.5 * this.width * (this.scaleX - this.initialZoom) / this.scaleX;
		this.viewOffsetWidth = this.width - this.viewOffsetX;
		this.viewWidth = this.width - 2 * this.viewOffsetX;
	}
	,calcOffsetY: function() {
		this.viewOffsetY = 0.5 * this.height * (this.scaleY - this.initialZoom) / this.scaleY;
		this.viewOffsetHeight = this.height - this.viewOffsetY;
		this.viewHeight = this.height - 2 * this.viewOffsetY;
	}
	,__class__: flixel_FlxCamera
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{set_antialiasing:"set_antialiasing",set_color:"set_color",set_angle:"set_angle",set_alpha:"set_alpha",set_zoom:"set_zoom",set_height:"set_height",set_width:"set_width",set_followLerp:"set_followLerp",set_y:"set_y",set_x:"set_x"})
});
var flixel_FlxCameraFollowStyle = $hxEnums["flixel.FlxCameraFollowStyle"] = { __ename__:"flixel.FlxCameraFollowStyle",__constructs__:null
	,LOCKON: {_hx_name:"LOCKON",_hx_index:0,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
	,PLATFORMER: {_hx_name:"PLATFORMER",_hx_index:1,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
	,TOPDOWN: {_hx_name:"TOPDOWN",_hx_index:2,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
	,TOPDOWN_TIGHT: {_hx_name:"TOPDOWN_TIGHT",_hx_index:3,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
	,SCREEN_BY_SCREEN: {_hx_name:"SCREEN_BY_SCREEN",_hx_index:4,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
	,NO_DEAD_ZONE: {_hx_name:"NO_DEAD_ZONE",_hx_index:5,__enum__:"flixel.FlxCameraFollowStyle",toString:$estr}
};
flixel_FlxCameraFollowStyle.__constructs__ = [flixel_FlxCameraFollowStyle.LOCKON,flixel_FlxCameraFollowStyle.PLATFORMER,flixel_FlxCameraFollowStyle.TOPDOWN,flixel_FlxCameraFollowStyle.TOPDOWN_TIGHT,flixel_FlxCameraFollowStyle.SCREEN_BY_SCREEN,flixel_FlxCameraFollowStyle.NO_DEAD_ZONE];
var flixel_system_FlxVersion = function(Major,Minor,Patch) {
	this.major = Major;
	this.minor = Minor;
	this.patch = Patch;
};
$hxClasses["flixel.system.FlxVersion"] = flixel_system_FlxVersion;
flixel_system_FlxVersion.__name__ = "flixel.system.FlxVersion";
flixel_system_FlxVersion.prototype = {
	major: null
	,minor: null
	,patch: null
	,toString: function() {
		var sha = flixel_system_FlxVersion.sha;
		if(sha != "") {
			sha = "@" + sha.substring(0,7);
		}
		return "HaxeFlixel " + this.major + "." + this.minor + "." + this.patch + sha;
	}
	,__class__: flixel_system_FlxVersion
};
var flixel_system_frontEnds_BitmapFrontEnd = function() {
	this._lastUniqueKeyIndex = 0;
	this.reset();
};
$hxClasses["flixel.system.frontEnds.BitmapFrontEnd"] = flixel_system_frontEnds_BitmapFrontEnd;
flixel_system_frontEnds_BitmapFrontEnd.__name__ = "flixel.system.frontEnds.BitmapFrontEnd";
flixel_system_frontEnds_BitmapFrontEnd.prototype = {
	_cache: null
	,_whitePixel: null
	,_lastUniqueKeyIndex: null
	,onAssetsReload: function(_) {
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(obj != null && (obj.assetsClass != null || obj.assetsKey != null)) {
				obj.onAssetsReload();
			}
		}
	}
	,onContext: function() {
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(obj != null && obj.isDumped) {
				obj.onContext();
			}
		}
	}
	,dumpCache: function() {
	}
	,undumpCache: function() {
	}
	,checkCache: function(Key) {
		return this._cache.h[Key] != null;
	}
	,create: function(Width,Height,Color,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		return flixel_graphics_FlxGraphic.fromRectangle(Width,Height,Color,Unique,Key);
	}
	,add: function(Graphic,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(((Graphic) instanceof flixel_graphics_FlxGraphic)) {
			return flixel_graphics_FlxGraphic.fromGraphic(Graphic,Unique,Key);
		} else if(((Graphic) instanceof openfl_display_BitmapData)) {
			return flixel_graphics_FlxGraphic.fromBitmapData(Graphic,Unique,Key);
		}
		return flixel_graphics_FlxGraphic.fromAssetKey(Std.string(Graphic),Unique,Key);
	}
	,addGraphic: function(graphic) {
		this._cache.h[graphic.key] = graphic;
		return graphic;
	}
	,get: function(key) {
		return this._cache.h[key];
	}
	,findKeyForBitmap: function(bmd) {
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(obj != null && obj.bitmap == bmd) {
				return key;
			}
		}
		return null;
	}
	,getKeyForClass: function(source) {
		return source.__name__;
	}
	,generateKey: function(systemKey,userKey,unique) {
		if(unique == null) {
			unique = false;
		}
		var key = userKey;
		if(key == null) {
			key = systemKey;
		}
		if(unique || key == null) {
			key = this.getUniqueKey(key);
		}
		return key;
	}
	,getUniqueKey: function(baseKey) {
		if(baseKey == null) {
			baseKey = "pixels";
		}
		if(this._cache.h[baseKey] == null) {
			return baseKey;
		}
		var i = this._lastUniqueKeyIndex;
		var uniqueKey;
		while(true) {
			++i;
			uniqueKey = baseKey + i;
			if(!(this._cache.h[uniqueKey] != null)) {
				break;
			}
		}
		this._lastUniqueKeyIndex = i;
		return uniqueKey;
	}
	,getKeyWithSpacesAndBorders: function(baseKey,frameSize,frameSpacing,frameBorder,region) {
		var result = baseKey;
		if(region != null) {
			result += "_Region:" + region.x + "_" + region.y + "_" + region.width + "_" + region.height;
		}
		if(frameSize != null) {
			result += "_FrameSize:" + frameSize.x + "_" + frameSize.y;
		}
		if(frameSpacing != null) {
			result += "_Spaces:" + frameSpacing.x + "_" + frameSpacing.y;
		}
		if(frameBorder != null) {
			result += "_Border:" + frameBorder.x + "_" + frameBorder.y;
		}
		return result;
	}
	,remove: function(graphic) {
		if(graphic != null) {
			var key = graphic.key;
			if(key != null) {
				openfl_utils_Assets.cache.removeBitmapData(key);
				var _this = this._cache;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			graphic.destroy();
		}
	}
	,removeByKey: function(key) {
		if(key != null) {
			var obj = this._cache.h[key];
			if(key != null) {
				openfl_utils_Assets.cache.removeBitmapData(key);
				var _this = this._cache;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			if(obj != null) {
				obj.destroy();
			}
		}
	}
	,removeIfNoUse: function(graphic) {
		if(graphic != null && graphic.get_useCount() == 0 && !graphic.persist) {
			this.remove(graphic);
		}
	}
	,clearCache: function() {
		if(this._cache == null) {
			this._cache = new haxe_ds_StringMap();
			return;
		}
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(obj != null && !obj.persist && obj.get_useCount() <= 0) {
				if(key != null) {
					openfl_utils_Assets.cache.removeBitmapData(key);
					var _this = this._cache;
					if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
						delete(_this.h[key]);
					}
				}
				obj.destroy();
			}
		}
	}
	,removeKey: function(key) {
		if(key != null) {
			openfl_utils_Assets.cache.removeBitmapData(key);
			var _this = this._cache;
			if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
				delete(_this.h[key]);
			}
		}
	}
	,reset: function() {
		if(this._cache == null) {
			this._cache = new haxe_ds_StringMap();
			return;
		}
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(key != null) {
				openfl_utils_Assets.cache.removeBitmapData(key);
				var _this = this._cache;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			if(obj != null) {
				obj.destroy();
			}
		}
	}
	,clearUnused: function() {
		var h = this._cache.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var obj = this._cache.h[key];
			if(obj != null && obj.get_useCount() <= 0 && !obj.persist && obj.get_destroyOnNoUse()) {
				this.removeByKey(key);
			}
		}
	}
	,get_maxTextureSize: function() {
		return lime_graphics_opengl_GL.context.getParameter(3379);
	}
	,get_whitePixel: function() {
		if(this._whitePixel == null) {
			var bd = new openfl_display_BitmapData(10,10,true,-1);
			var graphic = flixel_FlxG.bitmap.add(bd,true,"whitePixels");
			graphic.persist = true;
			this._whitePixel = graphic.get_imageFrame().get_frame();
		}
		return this._whitePixel;
	}
	,__class__: flixel_system_frontEnds_BitmapFrontEnd
	,__properties__: {get_whitePixel:"get_whitePixel",get_maxTextureSize:"get_maxTextureSize"}
};
var flixel_system_frontEnds_BitmapLogFrontEnd = function() {
};
$hxClasses["flixel.system.frontEnds.BitmapLogFrontEnd"] = flixel_system_frontEnds_BitmapLogFrontEnd;
flixel_system_frontEnds_BitmapLogFrontEnd.__name__ = "flixel.system.frontEnds.BitmapLogFrontEnd";
flixel_system_frontEnds_BitmapLogFrontEnd.prototype = {
	add: function(Data,Name) {
		if(Name == null) {
			Name = "";
		}
	}
	,clear: function() {
	}
	,clearAt: function(Index) {
		if(Index == null) {
			Index = -1;
		}
	}
	,viewCache: function() {
	}
	,__class__: flixel_system_frontEnds_BitmapLogFrontEnd
};
var flixel_system_frontEnds_CameraFrontEnd = function() {
	this._cameraRect = new openfl_geom_Rectangle();
	this.useBufferLocking = false;
	this.cameraResized = new flixel_util__$FlxSignal_FlxSignal1();
	this.cameraRemoved = new flixel_util__$FlxSignal_FlxSignal1();
	this.cameraAdded = new flixel_util__$FlxSignal_FlxSignal1();
	this.defaults = [];
	this.list = [];
	flixel_FlxCamera._defaultCameras = this.defaults;
};
$hxClasses["flixel.system.frontEnds.CameraFrontEnd"] = flixel_system_frontEnds_CameraFrontEnd;
flixel_system_frontEnds_CameraFrontEnd.__name__ = "flixel.system.frontEnds.CameraFrontEnd";
flixel_system_frontEnds_CameraFrontEnd.prototype = {
	list: null
	,defaults: null
	,cameraAdded: null
	,cameraRemoved: null
	,cameraResized: null
	,useBufferLocking: null
	,_cameraRect: null
	,add: function(NewCamera,DefaultDrawTarget) {
		if(DefaultDrawTarget == null) {
			DefaultDrawTarget = true;
		}
		flixel_FlxG.game.addChildAt(NewCamera.flashSprite,flixel_FlxG.game.getChildIndex(flixel_FlxG.game._inputContainer));
		this.list.push(NewCamera);
		if(DefaultDrawTarget) {
			this.defaults.push(NewCamera);
		}
		NewCamera.ID = this.list.length - 1;
		this.cameraAdded.dispatch(NewCamera);
		return NewCamera;
	}
	,remove: function(Camera,Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		var index = this.list.indexOf(Camera);
		if(Camera != null && index != -1) {
			flixel_FlxG.game.removeChild(Camera.flashSprite);
			this.list.splice(index,1);
			HxOverrides.remove(this.defaults,Camera);
		} else {
			return;
		}
		if(flixel_FlxG.renderTile) {
			var _g = 0;
			var _g1 = this.list.length;
			while(_g < _g1) {
				var i = _g++;
				this.list[i].ID = i;
			}
		}
		if(Destroy) {
			Camera.destroy();
		}
		this.cameraRemoved.dispatch(Camera);
	}
	,setDefaultDrawTarget: function(camera,value) {
		if(this.list.indexOf(camera) == -1) {
			return;
		}
		var index = this.defaults.indexOf(camera);
		if(value && index == -1) {
			this.defaults.push(camera);
		} else if(!value) {
			this.defaults.splice(index,1);
		}
	}
	,reset: function(NewCamera) {
		while(this.list.length > 0) this.remove(this.list[0]);
		if(NewCamera == null) {
			NewCamera = new flixel_FlxCamera(0,0,flixel_FlxG.width,flixel_FlxG.height);
		}
		flixel_FlxG.camera = this.add(NewCamera);
		NewCamera.ID = 0;
		flixel_FlxCamera._defaultCameras = this.defaults;
	}
	,flash: function(Color,Duration,OnComplete,Force) {
		if(Force == null) {
			Force = false;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(Color == null) {
			Color = -1;
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			camera.flash(Color,Duration,OnComplete,Force);
		}
	}
	,fade: function(Color,Duration,FadeIn,OnComplete,Force) {
		if(Force == null) {
			Force = false;
		}
		if(FadeIn == null) {
			FadeIn = false;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(Color == null) {
			Color = -16777216;
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			camera.fade(Color,Duration,FadeIn,OnComplete,Force);
		}
	}
	,shake: function(Intensity,Duration,OnComplete,Force,Axes) {
		if(Force == null) {
			Force = true;
		}
		if(Duration == null) {
			Duration = 0.5;
		}
		if(Intensity == null) {
			Intensity = 0.05;
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			camera.shake(Intensity,Duration,OnComplete,Force,Axes);
		}
	}
	,lock: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera == null || !camera.exists || !camera.visible) {
				continue;
			}
			if(flixel_FlxG.renderBlit) {
				camera.checkResize();
				if(this.useBufferLocking) {
					camera.buffer.lock();
				}
			}
			if(flixel_FlxG.renderTile) {
				camera.clearDrawStack();
				camera.canvas.get_graphics().clear();
			}
			if(flixel_FlxG.renderBlit) {
				camera.fill(camera.bgColor,camera.useBgAlphaBlending);
				camera.screen.dirty = true;
			} else {
				camera.fill(camera.bgColor & 16777215,camera.useBgAlphaBlending,(camera.bgColor >> 24 & 255) / 255);
			}
		}
	}
	,render: function() {
		if(flixel_FlxG.renderTile) {
			var _g = 0;
			var _g1 = this.list;
			while(_g < _g1.length) {
				var camera = _g1[_g];
				++_g;
				if(camera != null && camera.exists && camera.visible) {
					camera.render();
				}
			}
		}
	}
	,unlock: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera == null || !camera.exists || !camera.visible) {
				continue;
			}
			camera.drawFX();
			if(flixel_FlxG.renderBlit) {
				if(this.useBufferLocking) {
					camera.buffer.unlock();
				}
				camera.screen.dirty = true;
			}
		}
	}
	,update: function(elapsed) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera != null && camera.exists && camera.active) {
				camera.update(elapsed);
			}
		}
	}
	,resize: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			camera.onResize();
		}
	}
	,get_bgColor: function() {
		if(flixel_FlxG.camera == null) {
			return -16777216;
		} else {
			return flixel_FlxG.camera.bgColor;
		}
	}
	,set_bgColor: function(Color) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			camera.bgColor = Color;
		}
		return Color;
	}
	,__class__: flixel_system_frontEnds_CameraFrontEnd
	,__properties__: {set_bgColor:"set_bgColor",get_bgColor:"get_bgColor"}
};
var flixel_system_frontEnds_ConsoleFrontEnd = function() {
	this.stepAfterCommand = true;
	this.autoPause = true;
};
$hxClasses["flixel.system.frontEnds.ConsoleFrontEnd"] = flixel_system_frontEnds_ConsoleFrontEnd;
flixel_system_frontEnds_ConsoleFrontEnd.__name__ = "flixel.system.frontEnds.ConsoleFrontEnd";
flixel_system_frontEnds_ConsoleFrontEnd.prototype = {
	autoPause: null
	,stepAfterCommand: null
	,registerFunction: function(FunctionAlias,Function1) {
	}
	,registerObject: function(ObjectAlias,AnyObject) {
	}
	,registerClass: function(cl) {
	}
	,registerEnum: function(e) {
	}
	,__class__: flixel_system_frontEnds_ConsoleFrontEnd
};
var flixel_system_frontEnds_DebuggerFrontEnd = function() {
	this.visible = false;
	this.visibilityChanged = new flixel_util__$FlxSignal_FlxSignal0();
	this.drawDebugChanged = new flixel_util__$FlxSignal_FlxSignal0();
	this.drawDebug = false;
	this.toggleKeys = [113,192,220];
	this.precision = 3;
};
$hxClasses["flixel.system.frontEnds.DebuggerFrontEnd"] = flixel_system_frontEnds_DebuggerFrontEnd;
flixel_system_frontEnds_DebuggerFrontEnd.__name__ = "flixel.system.frontEnds.DebuggerFrontEnd";
flixel_system_frontEnds_DebuggerFrontEnd.prototype = {
	precision: null
	,toggleKeys: null
	,drawDebug: null
	,drawDebugChanged: null
	,visibilityChanged: null
	,visible: null
	,setLayout: function(Layout) {
	}
	,resetLayout: function() {
	}
	,addButton: function(Alignment,Icon,UpHandler,ToggleMode,UpdateLayout) {
		if(UpdateLayout == null) {
			UpdateLayout = true;
		}
		if(ToggleMode == null) {
			ToggleMode = false;
		}
		return null;
	}
	,track: function(ObjectOrClass,WindowTitle) {
		return null;
	}
	,addTrackerProfile: function(Profile) {
	}
	,removeButton: function(Button,UpdateLayout) {
		if(UpdateLayout == null) {
			UpdateLayout = true;
		}
	}
	,set_drawDebug: function(Value) {
		if(this.drawDebug == Value) {
			return this.drawDebug;
		}
		this.drawDebug = Value;
		return this.drawDebug;
	}
	,set_visible: function(Value) {
		if(this.visible == Value) {
			return this.visible;
		}
		this.visible = Value;
		return this.visible;
	}
	,__class__: flixel_system_frontEnds_DebuggerFrontEnd
	,__properties__: {set_visible:"set_visible",set_drawDebug:"set_drawDebug"}
};
var flixel_system_frontEnds_HTML5FrontEnd = function() {
	this.browser = this.getBrowser();
	this.platform = this.getPlatform();
	this.onMobile = this.getOnMobile();
};
$hxClasses["flixel.system.frontEnds.HTML5FrontEnd"] = flixel_system_frontEnds_HTML5FrontEnd;
flixel_system_frontEnds_HTML5FrontEnd.__name__ = "flixel.system.frontEnds.HTML5FrontEnd";
flixel_system_frontEnds_HTML5FrontEnd.prototype = {
	browser: null
	,platform: null
	,onMobile: null
	,browserPosition: null
	,getBrowser: function() {
		if(this.userAgentContains(" OPR/")) {
			return flixel_system_frontEnds_FlxBrowser.OPERA;
		} else if(this.userAgentContains("chrome",true)) {
			return flixel_system_frontEnds_FlxBrowser.CHROME;
		} else if($global.navigator.appName == "Netscape") {
			return flixel_system_frontEnds_FlxBrowser.FIREFOX;
		} else if(document.documentMode) {
			return flixel_system_frontEnds_FlxBrowser.INTERNET_EXPLORER;
		} else if(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor") > 0) {
			return flixel_system_frontEnds_FlxBrowser.SAFARI;
		}
		return flixel_system_frontEnds_FlxBrowser.UNKNOWN;
	}
	,getPlatform: function() {
		if(this.userAgentContains("Win")) {
			return flixel_system_frontEnds_FlxPlatform.WINDOWS;
		} else if(this.userAgentContains("IEMobile")) {
			return flixel_system_frontEnds_FlxPlatform.WINDOWS_PHONE;
		} else if(this.userAgentContains("Android")) {
			return flixel_system_frontEnds_FlxPlatform.ANDROID;
		} else if(this.userAgentContains("Linux")) {
			return flixel_system_frontEnds_FlxPlatform.LINUX;
		} else if(this.userAgentContains("BlackBerry")) {
			return flixel_system_frontEnds_FlxPlatform.BLACKBERRY;
		} else if(this.userAgentContains("iPhone")) {
			return flixel_system_frontEnds_FlxPlatform.IOS(flixel_system_frontEnds_FlxIOSDevice.IPHONE);
		} else if(this.userAgentContains("iPad")) {
			return flixel_system_frontEnds_FlxPlatform.IOS(flixel_system_frontEnds_FlxIOSDevice.IPAD);
		} else if(this.userAgentContains("iPod")) {
			return flixel_system_frontEnds_FlxPlatform.IOS(flixel_system_frontEnds_FlxIOSDevice.IPOD);
		} else if(this.userAgentContains("Mac")) {
			return flixel_system_frontEnds_FlxPlatform.MAC;
		} else {
			return flixel_system_frontEnds_FlxPlatform.UNKNOWN;
		}
	}
	,getOnMobile: function() {
		var _g = this.platform;
		switch(_g._hx_index) {
		case 3:case 4:case 5:
			return true;
		case 6:
			var _g1 = _g.device;
			return true;
		default:
			return false;
		}
	}
	,userAgentContains: function(substring,toLowerCase) {
		if(toLowerCase == null) {
			toLowerCase = false;
		}
		var userAgent = $global.navigator.userAgent;
		if(toLowerCase) {
			userAgent = userAgent.toLowerCase();
		}
		return userAgent.indexOf(substring) != -1;
	}
	,get_browserPosition: function() {
		if(this.browserPosition == null) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			this.browserPosition = point;
		}
		this.browserPosition.set(window.screenX,window.screenY);
		return this.browserPosition;
	}
	,get_browserWidth: function() {
		return window.innerWidth;
	}
	,get_browserHeight: function() {
		return window.innerHeight;
	}
	,__class__: flixel_system_frontEnds_HTML5FrontEnd
	,__properties__: {get_browserPosition:"get_browserPosition",get_browserHeight:"get_browserHeight",get_browserWidth:"get_browserWidth"}
};
var flixel_system_frontEnds_InputFrontEnd = function() {
	this.resetOnStateSwitch = true;
	this.list = [];
};
$hxClasses["flixel.system.frontEnds.InputFrontEnd"] = flixel_system_frontEnds_InputFrontEnd;
flixel_system_frontEnds_InputFrontEnd.__name__ = "flixel.system.frontEnds.InputFrontEnd";
flixel_system_frontEnds_InputFrontEnd.prototype = {
	add_flixel_input_actions_FlxActionManager: function(Input) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Input,true) == flixel_util_FlxStringUtil.getClassName(input,true)) {
				return Input;
			}
		}
		this.list.push(Input);
		return Input;
	}
	,add_flixel_input_gamepad_FlxGamepadManager: function(Input) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Input,true) == flixel_util_FlxStringUtil.getClassName(input,true)) {
				return Input;
			}
		}
		this.list.push(Input);
		return Input;
	}
	,add_flixel_input_touch_FlxTouchManager: function(Input) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Input,true) == flixel_util_FlxStringUtil.getClassName(input,true)) {
				return Input;
			}
		}
		this.list.push(Input);
		return Input;
	}
	,replace_flixel_input_mouse_FlxMouse: function(Old,New) {
		var i = 0;
		var success = false;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(input == Old) {
				this.list[i] = New;
				success = true;
				break;
			}
			++i;
		}
		if(success) {
			return New;
		}
		return null;
	}
	,add_flixel_input_mouse_FlxMouse: function(Input) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Input,true) == flixel_util_FlxStringUtil.getClassName(input,true)) {
				return Input;
			}
		}
		this.list.push(Input);
		return Input;
	}
	,add_flixel_input_keyboard_FlxKeyboard: function(Input) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Input,true) == flixel_util_FlxStringUtil.getClassName(input,true)) {
				return Input;
			}
		}
		this.list.push(Input);
		return Input;
	}
	,list: null
	,resetOnStateSwitch: null
	,reset: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.reset();
		}
	}
	,update: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.update();
		}
	}
	,onFocus: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.onFocus();
		}
	}
	,onFocusLost: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.onFocusLost();
		}
	}
	,onStateSwitch: function() {
		if(this.resetOnStateSwitch) {
			this.reset();
		}
	}
	,destroy: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input = flixel_util_FlxDestroyUtil.destroy(input);
		}
	}
	,__class__: flixel_system_frontEnds_InputFrontEnd
};
var flixel_system_frontEnds_LogFrontEnd = function() {
	this.redirectTraces = false;
	this._standardTraceFunction = haxe_Log.trace;
};
$hxClasses["flixel.system.frontEnds.LogFrontEnd"] = flixel_system_frontEnds_LogFrontEnd;
flixel_system_frontEnds_LogFrontEnd.__name__ = "flixel.system.frontEnds.LogFrontEnd";
flixel_system_frontEnds_LogFrontEnd.prototype = {
	redirectTraces: null
	,_standardTraceFunction: null
	,add: function(Data) {
	}
	,warn: function(Data) {
	}
	,error: function(Data) {
	}
	,notice: function(Data) {
	}
	,advanced: function(Data,Style,FireOnce) {
		if(FireOnce == null) {
			FireOnce = false;
		}
	}
	,clear: function() {
	}
	,set_redirectTraces: function(Redirect) {
		haxe_Log.trace = Redirect ? $bind(this,this.processTraceData) : this._standardTraceFunction;
		return this.redirectTraces = Redirect;
	}
	,processTraceData: function(Data,Info) {
		var paramArray = [Data];
		if(Info.customParams != null) {
			var _g = 0;
			var _g1 = Info.customParams;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				paramArray.push(i);
			}
		}
		this.advanced(paramArray,flixel_system_debug_log_LogStyle.NORMAL);
	}
	,__class__: flixel_system_frontEnds_LogFrontEnd
	,__properties__: {set_redirectTraces:"set_redirectTraces"}
};
var haxe_Log = function() { };
$hxClasses["haxe.Log"] = haxe_Log;
haxe_Log.__name__ = "haxe.Log";
haxe_Log.formatOutput = function(v,infos) {
	var str = Std.string(v);
	if(infos == null) {
		return str;
	}
	var pstr = infos.fileName + ":" + infos.lineNumber;
	if(infos.customParams != null) {
		var _g = 0;
		var _g1 = infos.customParams;
		while(_g < _g1.length) {
			var v = _g1[_g];
			++_g;
			str += ", " + Std.string(v);
		}
	}
	return pstr + ": " + str;
};
haxe_Log.trace = function(v,infos) {
	var str = haxe_Log.formatOutput(v,infos);
	if(typeof(console) != "undefined" && console.log != null) {
		console.log(str);
	}
};
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = "js.Boot";
js_Boot.getClass = function(o) {
	if(o == null) {
		return null;
	} else if(((o) instanceof Array)) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var con = e.__constructs__[o._hx_index];
			var n = con._hx_name;
			if(con.__params__) {
				s = s + "\t";
				return n + "(" + ((function($this) {
					var $r;
					var _g = [];
					{
						var _g1 = 0;
						var _g2 = con.__params__;
						while(true) {
							if(!(_g1 < _g2.length)) {
								break;
							}
							var p = _g2[_g1];
							_g1 = _g1 + 1;
							_g.push(js_Boot.__string_rec(o[p],s));
						}
					}
					$r = _g;
					return $r;
				}(this))).join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var str = "[";
			s += "\t";
			var _g = 0;
			var _g1 = o.length;
			while(_g < _g1) {
				var i = _g++;
				str += (i > 0 ? "," : "") + js_Boot.__string_rec(o[i],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( _g ) {
			haxe_NativeStackTrace.lastError = _g;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var str = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		var k = null;
		for( k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str.length != 2) {
			str += ", \n";
		}
		str += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str += "\n" + s + "}";
		return str;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = _g++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		return ((o) instanceof Array);
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return o != null;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(js_Boot.__downcastCheck(o,cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(((o) instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ != null ? $hxEnums[o.__enum__] == cl : false;
	}
};
js_Boot.__downcastCheck = function(o,cl) {
	if(!((o) instanceof cl)) {
		if(cl.__isInterface__) {
			return js_Boot.__interfLoop(js_Boot.getClass(o),cl);
		} else {
			return false;
		}
	} else {
		return true;
	}
};
js_Boot.__implements = function(o,iface) {
	return js_Boot.__interfLoop(js_Boot.getClass(o),iface);
};
js_Boot.__cast = function(o,t) {
	if(o == null || js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw haxe_Exception.thrown("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__toStr = null;
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var flixel_math_FlxRandom = function(InitialSeed) {
	this.internalSeed = 1;
	this._floatNormalRho = 0;
	this._twoPI = Math.PI * 2;
	this._floatNormalRand2 = 0;
	this._floatNormalRand1 = 0;
	this._hasFloatNormalSpare = false;
	this.initialSeed = 1;
	if(InitialSeed != null) {
		var lowerBound = InitialSeed < 1 ? 1 : InitialSeed;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		this.initialSeed = (this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	} else {
		var Value = Math.random() * 2147483647 | 0;
		var lowerBound = Value < 1 ? 1 : Value;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		this.initialSeed = (this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	}
};
$hxClasses["flixel.math.FlxRandom"] = flixel_math_FlxRandom;
flixel_math_FlxRandom.__name__ = "flixel.math.FlxRandom";
flixel_math_FlxRandom.rangeBound = function(Value) {
	var lowerBound = Value < 1 ? 1 : Value;
	return (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
};
flixel_math_FlxRandom.prototype = {
	getObject_flixel_group_FlxTypedGroup_T: function(Objects,WeightsArray,StartIndex,EndIndex) {
		if(StartIndex == null) {
			StartIndex = 0;
		}
		var selected = null;
		if(Objects.length != 0) {
			if(WeightsArray == null) {
				var _g = [];
				var _g1 = 0;
				var _g2 = Objects.length;
				while(_g1 < _g2) {
					var i = _g1++;
					_g.push(1);
				}
				WeightsArray = _g;
			}
			if(EndIndex == null) {
				EndIndex = Objects.length - 1;
			}
			var Max = Objects.length - 1;
			var lowerBound = StartIndex < 0 ? 0 : StartIndex;
			StartIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			var Max = Objects.length - 1;
			var lowerBound = EndIndex < 0 ? 0 : EndIndex;
			EndIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			if(EndIndex < StartIndex) {
				StartIndex += EndIndex;
				EndIndex = StartIndex - EndIndex;
				StartIndex -= EndIndex;
			}
			if(EndIndex > WeightsArray.length - 1) {
				EndIndex = WeightsArray.length - 1;
			}
			var _g = [];
			var _g1 = StartIndex;
			var _g2 = EndIndex + 1;
			while(_g1 < _g2) {
				var i = _g1++;
				_g.push(WeightsArray[i]);
			}
			flixel_math_FlxRandom._arrayFloatHelper = _g;
			selected = Objects[StartIndex + this.weightedPick(flixel_math_FlxRandom._arrayFloatHelper)];
		}
		return selected;
	}
	,getObject_Array_String: function(Objects,WeightsArray,StartIndex,EndIndex) {
		if(StartIndex == null) {
			StartIndex = 0;
		}
		var selected = null;
		if(Objects.length != 0) {
			if(WeightsArray == null) {
				var _g = [];
				var _g1 = 0;
				var _g2 = Objects.length;
				while(_g1 < _g2) {
					var i = _g1++;
					_g.push(1);
				}
				WeightsArray = _g;
			}
			if(EndIndex == null) {
				EndIndex = Objects.length - 1;
			}
			var Max = Objects.length - 1;
			var lowerBound = StartIndex < 0 ? 0 : StartIndex;
			StartIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			var Max = Objects.length - 1;
			var lowerBound = EndIndex < 0 ? 0 : EndIndex;
			EndIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			if(EndIndex < StartIndex) {
				StartIndex += EndIndex;
				EndIndex = StartIndex - EndIndex;
				StartIndex -= EndIndex;
			}
			if(EndIndex > WeightsArray.length - 1) {
				EndIndex = WeightsArray.length - 1;
			}
			var _g = [];
			var _g1 = StartIndex;
			var _g2 = EndIndex + 1;
			while(_g1 < _g2) {
				var i = _g1++;
				_g.push(WeightsArray[i]);
			}
			flixel_math_FlxRandom._arrayFloatHelper = _g;
			selected = Objects[StartIndex + this.weightedPick(flixel_math_FlxRandom._arrayFloatHelper)];
		}
		return selected;
	}
	,getObject_flixel_system_FlxSound: function(Objects,WeightsArray,StartIndex,EndIndex) {
		if(StartIndex == null) {
			StartIndex = 0;
		}
		var selected = null;
		if(Objects.length != 0) {
			if(WeightsArray == null) {
				var _g = [];
				var _g1 = 0;
				var _g2 = Objects.length;
				while(_g1 < _g2) {
					var i = _g1++;
					_g.push(1);
				}
				WeightsArray = _g;
			}
			if(EndIndex == null) {
				EndIndex = Objects.length - 1;
			}
			var Max = Objects.length - 1;
			var lowerBound = StartIndex < 0 ? 0 : StartIndex;
			StartIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			var Max = Objects.length - 1;
			var lowerBound = EndIndex < 0 ? 0 : EndIndex;
			EndIndex = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
			if(EndIndex < StartIndex) {
				StartIndex += EndIndex;
				EndIndex = StartIndex - EndIndex;
				StartIndex -= EndIndex;
			}
			if(EndIndex > WeightsArray.length - 1) {
				EndIndex = WeightsArray.length - 1;
			}
			var _g = [];
			var _g1 = StartIndex;
			var _g2 = EndIndex + 1;
			while(_g1 < _g2) {
				var i = _g1++;
				_g.push(WeightsArray[i]);
			}
			flixel_math_FlxRandom._arrayFloatHelper = _g;
			selected = Objects[StartIndex + this.weightedPick(flixel_math_FlxRandom._arrayFloatHelper)];
		}
		return selected;
	}
	,initialSeed: null
	,resetInitialSeed: function() {
		var Value = Math.random() * 2147483647 | 0;
		var lowerBound = Value < 1 ? 1 : Value;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		return this.initialSeed = (this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	}
	,int: function(Min,Max,Excludes) {
		if(Max == null) {
			Max = 2147483647;
		}
		if(Min == null) {
			Min = 0;
		}
		if(Min == 0 && Max == 2147483647 && Excludes == null) {
			return (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) | 0;
		} else if(Min == Max) {
			return Min;
		} else {
			if(Min > Max) {
				Min += Max;
				Max = Min - Max;
				Min -= Max;
			}
			if(Excludes == null) {
				return Math.floor(Min + (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647 * (Max - Min + 1));
			} else {
				var result = 0;
				while(true) {
					result = Math.floor(Min + (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647 * (Max - Min + 1));
					if(!(Excludes.indexOf(result) >= 0)) {
						break;
					}
				}
				return result;
			}
		}
	}
	,float: function(Min,Max,Excludes) {
		if(Max == null) {
			Max = 1;
		}
		if(Min == null) {
			Min = 0;
		}
		var result = 0;
		if(Min == 0 && Max == 1 && Excludes == null) {
			return (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647;
		} else if(Min == Max) {
			result = Min;
		} else {
			if(Min > Max) {
				Min += Max;
				Max = Min - Max;
				Min -= Max;
			}
			if(Excludes == null) {
				result = Min + (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647 * (Max - Min);
			} else {
				while(true) {
					result = Min + (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647 * (Max - Min);
					if(!(Excludes.indexOf(result) >= 0)) {
						break;
					}
				}
			}
		}
		return result;
	}
	,_hasFloatNormalSpare: null
	,_floatNormalRand1: null
	,_floatNormalRand2: null
	,_twoPI: null
	,_floatNormalRho: null
	,floatNormal: function(Mean,StdDev) {
		if(StdDev == null) {
			StdDev = 1;
		}
		if(Mean == null) {
			Mean = 0;
		}
		if(this._hasFloatNormalSpare) {
			this._hasFloatNormalSpare = false;
			var scale = StdDev * this._floatNormalRho;
			return Mean + scale * this._floatNormalRand2;
		}
		this._hasFloatNormalSpare = true;
		var theta = this._twoPI * ((this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647);
		this._floatNormalRho = Math.sqrt(-2 * Math.log(1 - (this.internalSeed = this.internalSeed * 48271.0 % 2147483647) / 2147483647));
		var scale = StdDev * this._floatNormalRho;
		this._floatNormalRand1 = Math.cos(theta);
		this._floatNormalRand2 = Math.sin(theta);
		return Mean + scale * this._floatNormalRand1;
	}
	,bool: function(Chance) {
		if(Chance == null) {
			Chance = 50;
		}
		return this.float(0,100) < Chance;
	}
	,sign: function(Chance) {
		if(Chance == null) {
			Chance = 50;
		}
		var Chance1 = Chance;
		if(Chance1 == null) {
			Chance1 = 50;
		}
		if(this.float(0,100) < Chance1) {
			return 1;
		} else {
			return -1;
		}
	}
	,weightedPick: function(WeightsArray) {
		var totalWeight = 0;
		var pick = 0;
		var _g = 0;
		while(_g < WeightsArray.length) {
			var i = WeightsArray[_g];
			++_g;
			totalWeight += i;
		}
		totalWeight = this.float(0,totalWeight);
		var _g = 0;
		var _g1 = WeightsArray.length;
		while(_g < _g1) {
			var i = _g++;
			if(totalWeight < WeightsArray[i]) {
				pick = i;
				break;
			}
			totalWeight -= WeightsArray[i];
		}
		return pick;
	}
	,color: function(Min,Max,Alpha,GreyScale) {
		if(GreyScale == null) {
			GreyScale = false;
		}
		var red;
		var green;
		var blue;
		var alpha;
		if(Min == null && Max == null) {
			red = this.int(0,255);
			green = this.int(0,255);
			blue = this.int(0,255);
			alpha = Alpha == null ? this.int(0,255) : Alpha;
		} else if(Max == null) {
			red = this.int(Min >> 16 & 255,255);
			green = GreyScale ? red : this.int(Min >> 8 & 255,255);
			blue = GreyScale ? red : this.int(Min & 255,255);
			alpha = Alpha == null ? this.int(Min >> 24 & 255,255) : Alpha;
		} else if(Min == null) {
			red = this.int(0,Max >> 16 & 255);
			green = GreyScale ? red : this.int(0,Max >> 8 & 255);
			blue = GreyScale ? red : this.int(0,Max & 255);
			alpha = Alpha == null ? this.int(0,Max >> 24 & 255) : Alpha;
		} else {
			red = this.int(Min >> 16 & 255,Max >> 16 & 255);
			green = GreyScale ? red : this.int(Min >> 8 & 255,Max >> 8 & 255);
			blue = GreyScale ? red : this.int(Min & 255,Max & 255);
			alpha = Alpha == null ? this.int(Min >> 24 & 255,Max >> 24 & 255) : Alpha;
		}
		var Alpha = alpha;
		if(Alpha == null) {
			Alpha = 255;
		}
		var color = flixel_util_FlxColor._new();
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 255;
		}
		color &= -16711681;
		color |= (red > 255 ? 255 : red < 0 ? 0 : red) << 16;
		color &= -65281;
		color |= (green > 255 ? 255 : green < 0 ? 0 : green) << 8;
		color &= -256;
		color |= blue > 255 ? 255 : blue < 0 ? 0 : blue;
		color &= 16777215;
		color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
		return color;
	}
	,generate: function() {
		return this.internalSeed = this.internalSeed * 48271.0 % 2147483647;
	}
	,internalSeed: null
	,set_initialSeed: function(NewSeed) {
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		return this.initialSeed = (this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	}
	,get_currentSeed: function() {
		return this.internalSeed | 0;
	}
	,set_currentSeed: function(NewSeed) {
		var lowerBound = NewSeed < 1 ? 1 : NewSeed;
		return (this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	}
	,__class__: flixel_math_FlxRandom
	,__properties__: {set_currentSeed:"set_currentSeed",get_currentSeed:"get_currentSeed",set_initialSeed:"set_initialSeed"}
};
var flixel_util_FlxSave = function() {
	this._closeRequested = false;
};
$hxClasses["flixel.util.FlxSave"] = flixel_util_FlxSave;
flixel_util_FlxSave.__name__ = "flixel.util.FlxSave";
flixel_util_FlxSave.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util_FlxSave.prototype = {
	data: null
	,name: null
	,path: null
	,_sharedObject: null
	,_onComplete: null
	,_closeRequested: null
	,destroy: function() {
		this._sharedObject = null;
		this.name = null;
		this.path = null;
		this.data = null;
		this._onComplete = null;
		this._closeRequested = false;
	}
	,bind: function(Name,Path) {
		this.destroy();
		this.name = Name;
		this.path = Path;
		try {
			this._sharedObject = openfl_net_SharedObject.getLocal(this.name,this.path);
		} catch( _g ) {
			if(((haxe_Exception.caught(_g)) instanceof openfl_errors_Error)) {
				this.destroy();
				return false;
			} else {
				throw _g;
			}
		}
		this.data = this._sharedObject.data;
		return true;
	}
	,close: function(MinFileSize,OnComplete) {
		if(MinFileSize == null) {
			MinFileSize = 0;
		}
		this._closeRequested = true;
		return this.flush(MinFileSize,OnComplete);
	}
	,flush: function(MinFileSize,OnComplete) {
		if(MinFileSize == null) {
			MinFileSize = 0;
		}
		if(!this.checkBinding()) {
			return false;
		}
		this._onComplete = OnComplete;
		var result = null;
		try {
			result = this._sharedObject.flush();
		} catch( _g ) {
			if(((haxe_Exception.caught(_g)) instanceof openfl_errors_Error)) {
				return this.onDone(flixel_util_FlxSaveStatus.ERROR);
			} else {
				throw _g;
			}
		}
		return this.onDone(result == 0 ? flixel_util_FlxSaveStatus.SUCCESS : flixel_util_FlxSaveStatus.PENDING);
	}
	,erase: function() {
		if(!this.checkBinding()) {
			return false;
		}
		this._sharedObject.clear();
		this.data = { };
		return true;
	}
	,onDone: function(Result) {
		switch(Result._hx_index) {
		case 1:
			break;
		case 2:
			break;
		default:
		}
		if(this._onComplete != null) {
			this._onComplete(Result == flixel_util_FlxSaveStatus.SUCCESS);
		}
		if(this._closeRequested) {
			this.destroy();
		}
		return Result == flixel_util_FlxSaveStatus.SUCCESS;
	}
	,checkBinding: function() {
		if(this._sharedObject == null) {
			return false;
		}
		return true;
	}
	,__class__: flixel_util_FlxSave
};
var flixel_system_scaleModes_BaseScaleMode = function() {
	this.verticalAlign = flixel_util_FlxVerticalAlign.CENTER;
	this.horizontalAlign = flixel_util_FlxHorizontalAlign.CENTER;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.deviceSize = point;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.gameSize = point;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.scale = point;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.offset = point;
};
$hxClasses["flixel.system.scaleModes.BaseScaleMode"] = flixel_system_scaleModes_BaseScaleMode;
flixel_system_scaleModes_BaseScaleMode.__name__ = "flixel.system.scaleModes.BaseScaleMode";
flixel_system_scaleModes_BaseScaleMode.prototype = {
	deviceSize: null
	,gameSize: null
	,scale: null
	,offset: null
	,horizontalAlign: null
	,verticalAlign: null
	,onMeasure: function(Width,Height) {
		flixel_FlxG.width = flixel_FlxG.initialWidth;
		flixel_FlxG.height = flixel_FlxG.initialHeight;
		this.updateGameSize(Width,Height);
		this.updateDeviceSize(Width,Height);
		this.updateScaleOffset();
		this.updateGamePosition();
	}
	,updateGameSize: function(Width,Height) {
		this.gameSize.set(Width,Height);
	}
	,updateDeviceSize: function(Width,Height) {
		this.deviceSize.set(Width,Height);
	}
	,updateScaleOffset: function() {
		this.scale.set_x(this.gameSize.x / (flixel_FlxG.width * flixel_FlxG.initialZoom));
		this.scale.set_y(this.gameSize.y / (flixel_FlxG.height * flixel_FlxG.initialZoom));
		this.updateOffsetX();
		this.updateOffsetY();
	}
	,updateOffsetX: function() {
		var tmp;
		switch(this.horizontalAlign._hx_index) {
		case 0:
			tmp = 0;
			break;
		case 1:
			tmp = Math.ceil((this.deviceSize.x - this.gameSize.x) * 0.5);
			break;
		case 2:
			tmp = this.deviceSize.x - this.gameSize.x;
			break;
		}
		this.offset.set_x(tmp);
	}
	,updateOffsetY: function() {
		var tmp;
		switch(this.verticalAlign._hx_index) {
		case 0:
			tmp = 0;
			break;
		case 1:
			tmp = Math.ceil((this.deviceSize.y - this.gameSize.y) * 0.5);
			break;
		case 2:
			tmp = this.deviceSize.y - this.gameSize.y;
			break;
		}
		this.offset.set_y(tmp);
	}
	,updateGamePosition: function() {
		if(flixel_FlxG.game == null) {
			return;
		}
		flixel_FlxG.game.set_x(this.offset.x);
		flixel_FlxG.game.set_y(this.offset.y);
	}
	,set_horizontalAlign: function(value) {
		this.horizontalAlign = value;
		if(this.offset != null) {
			this.updateOffsetX();
			this.updateGamePosition();
		}
		return value;
	}
	,set_verticalAlign: function(value) {
		this.verticalAlign = value;
		if(this.offset != null) {
			this.updateOffsetY();
			this.updateGamePosition();
		}
		return value;
	}
	,__class__: flixel_system_scaleModes_BaseScaleMode
	,__properties__: {set_verticalAlign:"set_verticalAlign",set_horizontalAlign:"set_horizontalAlign"}
};
var flixel_system_scaleModes_RatioScaleMode = function(fillScreen) {
	if(fillScreen == null) {
		fillScreen = false;
	}
	flixel_system_scaleModes_BaseScaleMode.call(this);
	this.fillScreen = fillScreen;
};
$hxClasses["flixel.system.scaleModes.RatioScaleMode"] = flixel_system_scaleModes_RatioScaleMode;
flixel_system_scaleModes_RatioScaleMode.__name__ = "flixel.system.scaleModes.RatioScaleMode";
flixel_system_scaleModes_RatioScaleMode.__super__ = flixel_system_scaleModes_BaseScaleMode;
flixel_system_scaleModes_RatioScaleMode.prototype = $extend(flixel_system_scaleModes_BaseScaleMode.prototype,{
	fillScreen: null
	,updateGameSize: function(Width,Height) {
		var ratio = flixel_FlxG.width / flixel_FlxG.height;
		var realRatio = Width / Height;
		var scaleY = realRatio < ratio;
		if(this.fillScreen) {
			scaleY = !scaleY;
		}
		if(scaleY) {
			this.gameSize.set_x(Width);
			this.gameSize.set_y(Math.floor(this.gameSize.x / ratio));
		} else {
			this.gameSize.set_y(Height);
			this.gameSize.set_x(Math.floor(this.gameSize.y * ratio));
		}
	}
	,__class__: flixel_system_scaleModes_RatioScaleMode
});
var flixel_system_frontEnds_SignalFrontEnd = function() {
	this.focusLost = new flixel_util__$FlxSignal_FlxSignal0();
	this.focusGained = new flixel_util__$FlxSignal_FlxSignal0();
	this.postDraw = new flixel_util__$FlxSignal_FlxSignal0();
	this.preDraw = new flixel_util__$FlxSignal_FlxSignal0();
	this.postUpdate = new flixel_util__$FlxSignal_FlxSignal0();
	this.preUpdate = new flixel_util__$FlxSignal_FlxSignal0();
	this.postGameStart = new flixel_util__$FlxSignal_FlxSignal0();
	this.preGameStart = new flixel_util__$FlxSignal_FlxSignal0();
	this.postGameReset = new flixel_util__$FlxSignal_FlxSignal0();
	this.preGameReset = new flixel_util__$FlxSignal_FlxSignal0();
	this.gameResized = new flixel_util__$FlxSignal_FlxSignal2();
	this.preStateCreate = new flixel_util__$FlxSignal_FlxSignal1();
	this.postStateSwitch = new flixel_util__$FlxSignal_FlxSignal0();
	this.preStateSwitch = new flixel_util__$FlxSignal_FlxSignal0();
};
$hxClasses["flixel.system.frontEnds.SignalFrontEnd"] = flixel_system_frontEnds_SignalFrontEnd;
flixel_system_frontEnds_SignalFrontEnd.__name__ = "flixel.system.frontEnds.SignalFrontEnd";
flixel_system_frontEnds_SignalFrontEnd.prototype = {
	preStateSwitch: null
	,postStateSwitch: null
	,preStateCreate: null
	,gameResized: null
	,preGameReset: null
	,postGameReset: null
	,preGameStart: null
	,postGameStart: null
	,preUpdate: null
	,postUpdate: null
	,preDraw: null
	,postDraw: null
	,focusGained: null
	,focusLost: null
	,get_stateSwitched: function() {
		return this.preStateSwitch;
	}
	,get_gameStarted: function() {
		return this.postGameStart;
	}
	,__class__: flixel_system_frontEnds_SignalFrontEnd
	,__properties__: {get_gameStarted:"get_gameStarted",get_stateSwitched:"get_stateSwitched"}
};
var flixel_system_frontEnds_WatchFrontEnd = function() {
};
$hxClasses["flixel.system.frontEnds.WatchFrontEnd"] = flixel_system_frontEnds_WatchFrontEnd;
flixel_system_frontEnds_WatchFrontEnd.__name__ = "flixel.system.frontEnds.WatchFrontEnd";
flixel_system_frontEnds_WatchFrontEnd.prototype = {
	add: function(object,field,displayName) {
	}
	,remove: function(object,field) {
	}
	,addQuick: function(displayName,value) {
	}
	,removeQuick: function(displayName) {
	}
	,addExpression: function(expression,displayName) {
	}
	,removeExpression: function(displayName) {
	}
	,addMouse: function() {
	}
	,removeMouse: function() {
	}
	,__class__: flixel_system_frontEnds_WatchFrontEnd
};
var flixel_FlxG = function() { };
$hxClasses["flixel.FlxG"] = flixel_FlxG;
flixel_FlxG.__name__ = "flixel.FlxG";
flixel_FlxG.__properties__ = {set_mouse:"set_mouse",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_scaleMode:"set_scaleMode",get_onMobile:"get_onMobile",set_drawFramerate:"set_drawFramerate",set_updateFramerate:"set_updateFramerate",get_state:"get_state",get_stage:"get_stage"};
flixel_FlxG.camera = null;
flixel_FlxG.game = null;
flixel_FlxG.updateFramerate = null;
flixel_FlxG.drawFramerate = null;
flixel_FlxG.renderMethod = null;
flixel_FlxG.renderBlit = null;
flixel_FlxG.renderTile = null;
flixel_FlxG.width = null;
flixel_FlxG.height = null;
flixel_FlxG.mouse = null;
flixel_FlxG.touches = null;
flixel_FlxG.keys = null;
flixel_FlxG.gamepads = null;
flixel_FlxG.accelerometer = null;
flixel_FlxG.vcr = null;
flixel_FlxG.plugins = null;
flixel_FlxG.sound = null;
flixel_FlxG.resizeGame = function(Width,Height) {
	flixel_FlxG.scaleMode.onMeasure(Width,Height);
};
flixel_FlxG.resizeWindow = function(Width,Height) {
};
flixel_FlxG.resetGame = function() {
	flixel_FlxG.game._resetGame = true;
};
flixel_FlxG.switchState = function(nextState) {
	if(flixel_FlxG.game._state.switchTo(nextState)) {
		flixel_FlxG.game._requestedState = nextState;
	}
};
flixel_FlxG.resetState = function() {
	var nextState = Type.createInstance(js_Boot.getClass(flixel_FlxG.game._state),[]);
	if(flixel_FlxG.game._state.switchTo(nextState)) {
		flixel_FlxG.game._requestedState = nextState;
	}
};
flixel_FlxG.overlap = function(ObjectOrGroup1,ObjectOrGroup2,NotifyCallback,ProcessCallback) {
	if(ObjectOrGroup1 == null) {
		ObjectOrGroup1 = flixel_FlxG.game._state;
	}
	if(ObjectOrGroup2 == ObjectOrGroup1) {
		ObjectOrGroup2 = null;
	}
	flixel_system_FlxQuadTree.divisions = flixel_FlxG.worldDivisions;
	var quadTree = flixel_system_FlxQuadTree.recycle(flixel_FlxG.worldBounds.x,flixel_FlxG.worldBounds.y,flixel_FlxG.worldBounds.width,flixel_FlxG.worldBounds.height);
	quadTree.load(ObjectOrGroup1,ObjectOrGroup2,NotifyCallback,ProcessCallback);
	var result = quadTree.execute();
	quadTree.destroy();
	return result;
};
flixel_FlxG.pixelPerfectOverlap = function(Sprite1,Sprite2,AlphaTolerance,Camera) {
	if(AlphaTolerance == null) {
		AlphaTolerance = 255;
	}
	return flixel_util_FlxCollision.pixelPerfectCheck(Sprite1,Sprite2,AlphaTolerance,Camera);
};
flixel_FlxG.collide = function(ObjectOrGroup1,ObjectOrGroup2,NotifyCallback) {
	return flixel_FlxG.overlap(ObjectOrGroup1,ObjectOrGroup2,NotifyCallback,flixel_FlxObject.separate);
};
flixel_FlxG.addChildBelowMouse = function(Child,IndexModifier) {
	if(IndexModifier == null) {
		IndexModifier = 0;
	}
	var index = flixel_FlxG.game.getChildIndex(flixel_FlxG.game._inputContainer);
	var max = flixel_FlxG.game.get_numChildren();
	index = flixel_math_FlxMath.maxAdd(index,IndexModifier,max);
	flixel_FlxG.game.addChildAt(Child,index);
	return Child;
};
flixel_FlxG.removeChild = function(Child) {
	if(flixel_FlxG.game.contains(Child)) {
		flixel_FlxG.game.removeChild(Child);
	}
	return Child;
};
flixel_FlxG.addPostProcess = function(postProcess) {
	return postProcess;
};
flixel_FlxG.removePostProcess = function(postProcess) {
};
flixel_FlxG.openURL = function(URL1,Target) {
	if(Target == null) {
		Target = "_blank";
	}
	var prefix = "";
	if(!new EReg("^https?://","").match(URL1)) {
		prefix = "http://";
	}
	openfl_Lib.getURL(new openfl_net_URLRequest(prefix + URL1),Target);
};
flixel_FlxG.init = function(Game,Width,Height,Zoom) {
	flixel_FlxG.game = Game;
	flixel_FlxG.width = Math.abs(Width) | 0;
	flixel_FlxG.height = Math.abs(Height) | 0;
	flixel_FlxG.initRenderMethod();
	flixel_FlxG.initialWidth = flixel_FlxG.width;
	flixel_FlxG.initialHeight = flixel_FlxG.height;
	flixel_FlxG.initialZoom = flixel_FlxCamera.defaultZoom = Zoom;
	var Width = openfl_Lib.get_current().stage.stageWidth;
	var Height = openfl_Lib.get_current().stage.stageHeight;
	flixel_FlxG.scaleMode.onMeasure(Width,Height);
	flixel_FlxG.keys = flixel_FlxG.inputs.add_flixel_input_keyboard_FlxKeyboard(new flixel_input_keyboard_FlxKeyboard());
	flixel_FlxG.set_mouse(flixel_FlxG.inputs.add_flixel_input_mouse_FlxMouse(new flixel_input_mouse_FlxMouse(flixel_FlxG.game._inputContainer)));
	flixel_FlxG.touches = flixel_FlxG.inputs.add_flixel_input_touch_FlxTouchManager(new flixel_input_touch_FlxTouchManager());
	flixel_FlxG.gamepads = flixel_FlxG.inputs.add_flixel_input_gamepad_FlxGamepadManager(new flixel_input_gamepad_FlxGamepadManager());
	flixel_FlxG.accelerometer = new flixel_input_FlxAccelerometer();
	flixel_FlxG.save.bind("flixel");
	flixel_FlxG.plugins = new flixel_system_frontEnds_PluginFrontEnd();
	flixel_FlxG.vcr = new flixel_system_frontEnds_VCRFrontEnd();
	flixel_FlxG.sound = new flixel_system_frontEnds_SoundFrontEnd();
};
flixel_FlxG.initRenderMethod = function() {
	flixel_FlxG.renderMethod = flixel_FlxRenderMethod.BLITTING;
	var tmp;
	switch(openfl_Lib.get_current().stage.window.context.type) {
	case "opengl":case "opengles":case "webgl":
		tmp = flixel_FlxRenderMethod.DRAW_TILES;
		break;
	default:
		tmp = flixel_FlxRenderMethod.BLITTING;
	}
	flixel_FlxG.renderMethod = tmp;
	flixel_FlxG.renderBlit = flixel_FlxG.renderMethod == flixel_FlxRenderMethod.BLITTING;
	flixel_FlxG.renderTile = flixel_FlxG.renderMethod == flixel_FlxRenderMethod.DRAW_TILES;
	flixel_FlxObject.defaultPixelPerfectPosition = flixel_FlxG.renderBlit;
};
flixel_FlxG.reset = function() {
	var _this = flixel_FlxG.random;
	var Value = Math.random() * 2147483647 | 0;
	var lowerBound = Value < 1 ? 1 : Value;
	var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
	var lowerBound = NewSeed < 1 ? 1 : NewSeed;
	var NewSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0;
	var lowerBound = NewSeed < 1 ? 1 : NewSeed;
	_this.initialSeed = (_this.internalSeed = (lowerBound > 2147483646 ? 2147483646 : lowerBound) | 0) | 0;
	flixel_FlxG.bitmap.reset();
	flixel_FlxG.inputs.reset();
	flixel_FlxG.sound.destroy(true);
	flixel_FlxG.autoPause = true;
	flixel_FlxG.fixedTimestep = true;
	flixel_FlxG.timeScale = 1.0;
	flixel_FlxG.elapsed = 0;
	flixel_FlxG.maxElapsed = 0.1;
	var _this = flixel_FlxG.worldBounds;
	var X = -10;
	var Y = -10;
	var Width = flixel_FlxG.width + 20;
	var Height = flixel_FlxG.height + 20;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.x = X;
	_this.y = Y;
	_this.width = Width;
	_this.height = Height;
	flixel_FlxG.worldDivisions = 6;
};
flixel_FlxG.set_scaleMode = function(ScaleMode) {
	flixel_FlxG.scaleMode = ScaleMode;
	flixel_FlxG.game.onResize(null);
	return ScaleMode;
};
flixel_FlxG.set_mouse = function(NewMouse) {
	if(flixel_FlxG.mouse == null) {
		flixel_FlxG.mouse = flixel_FlxG.inputs.add_flixel_input_mouse_FlxMouse(NewMouse);
		return flixel_FlxG.mouse;
	}
	var oldMouse = flixel_FlxG.mouse;
	var result = flixel_FlxG.inputs.replace_flixel_input_mouse_FlxMouse(oldMouse,NewMouse);
	if(result != null) {
		flixel_FlxG.mouse = result;
		oldMouse.destroy();
		return NewMouse;
	}
	return oldMouse;
};
flixel_FlxG.set_updateFramerate = function(Framerate) {
	var tmp = Framerate < flixel_FlxG.drawFramerate;
	flixel_FlxG.updateFramerate = Framerate;
	flixel_FlxG.game._stepMS = Math.abs(1000 / Framerate);
	flixel_FlxG.game._stepSeconds = flixel_FlxG.game._stepMS / 1000;
	if(flixel_FlxG.game._maxAccumulation < flixel_FlxG.game._stepMS) {
		flixel_FlxG.game._maxAccumulation = flixel_FlxG.game._stepMS;
	}
	return Framerate;
};
flixel_FlxG.set_drawFramerate = function(Framerate) {
	var tmp = Framerate > flixel_FlxG.updateFramerate;
	flixel_FlxG.drawFramerate = Math.abs(Framerate) | 0;
	if(flixel_FlxG.game.stage != null) {
		flixel_FlxG.game.stage.set_frameRate(flixel_FlxG.drawFramerate);
	}
	flixel_FlxG.game._maxAccumulation = 2000 / flixel_FlxG.drawFramerate - 1;
	if(flixel_FlxG.game._maxAccumulation < flixel_FlxG.game._stepMS) {
		flixel_FlxG.game._maxAccumulation = flixel_FlxG.game._stepMS;
	}
	return Framerate;
};
flixel_FlxG.get_fullscreen = function() {
	if(openfl_Lib.get_current().stage.get_displayState() != 0) {
		return openfl_Lib.get_current().stage.get_displayState() == 1;
	} else {
		return true;
	}
};
flixel_FlxG.set_fullscreen = function(Value) {
	openfl_Lib.get_current().stage.set_displayState(Value ? 0 : 2);
	return Value;
};
flixel_FlxG.get_stage = function() {
	return openfl_Lib.get_current().stage;
};
flixel_FlxG.get_state = function() {
	return flixel_FlxG.game._state;
};
flixel_FlxG.get_onMobile = function() {
	return flixel_FlxG.html5.onMobile;
};
var flixel_FlxRenderMethod = $hxEnums["flixel.FlxRenderMethod"] = { __ename__:"flixel.FlxRenderMethod",__constructs__:null
	,DRAW_TILES: {_hx_name:"DRAW_TILES",_hx_index:0,__enum__:"flixel.FlxRenderMethod",toString:$estr}
	,BLITTING: {_hx_name:"BLITTING",_hx_index:1,__enum__:"flixel.FlxRenderMethod",toString:$estr}
};
flixel_FlxRenderMethod.__constructs__ = [flixel_FlxRenderMethod.DRAW_TILES,flixel_FlxRenderMethod.BLITTING];
var flixel_FlxGame = function(GameWidth,GameHeight,InitialState,Zoom,UpdateFramerate,DrawFramerate,SkipSplash,StartFullscreen) {
	if(StartFullscreen == null) {
		StartFullscreen = false;
	}
	if(SkipSplash == null) {
		SkipSplash = false;
	}
	if(DrawFramerate == null) {
		DrawFramerate = 60;
	}
	if(UpdateFramerate == null) {
		UpdateFramerate = 60;
	}
	if(Zoom == null) {
		Zoom = 1;
	}
	if(GameHeight == null) {
		GameHeight = 0;
	}
	if(GameWidth == null) {
		GameWidth = 0;
	}
	this._resetGame = false;
	this._skipSplash = false;
	this._customSoundTray = flixel_system_ui_FlxSoundTray;
	this._lostFocus = false;
	this._startTime = 0;
	this._total = 0;
	this._gameJustStarted = false;
	this.filtersEnabled = true;
	this.ticks = 0;
	this.focusLostFramerate = 10;
	openfl_display_Sprite.call(this);
	this._inputContainer = new openfl_display_Sprite();
	if(GameWidth == 0) {
		GameWidth = openfl_Lib.get_current().stage.stageWidth;
	}
	if(GameHeight == 0) {
		GameHeight = openfl_Lib.get_current().stage.stageHeight;
	}
	flixel_FlxG.init(this,GameWidth,GameHeight,Zoom);
	flixel_FlxG.set_updateFramerate(UpdateFramerate);
	flixel_FlxG.set_drawFramerate(DrawFramerate);
	this._accumulator = this._stepMS;
	this._skipSplash = SkipSplash;
	this._initialState = InitialState == null ? flixel_FlxState : InitialState;
	this.addEventListener("addedToStage",$bind(this,this.create));
};
$hxClasses["flixel.FlxGame"] = flixel_FlxGame;
flixel_FlxGame.__name__ = "flixel.FlxGame";
flixel_FlxGame.__super__ = openfl_display_Sprite;
flixel_FlxGame.prototype = $extend(openfl_display_Sprite.prototype,{
	focusLostFramerate: null
	,soundTray: null
	,ticks: null
	,filtersEnabled: null
	,_gameJustStarted: null
	,_initialState: null
	,_state: null
	,_total: null
	,_startTime: null
	,_accumulator: null
	,_elapsedMS: null
	,_stepMS: null
	,_stepSeconds: null
	,_maxAccumulation: null
	,_lostFocus: null
	,_filters: null
	,_inputContainer: null
	,_customSoundTray: null
	,_skipSplash: null
	,_requestedState: null
	,_resetGame: null
	,setFilters: function(filters) {
		this._filters = filters;
	}
	,create: function(_) {
		if(this.stage == null) {
			return;
		}
		this.removeEventListener("addedToStage",$bind(this,this.create));
		this._startTime = this.getTimer();
		this._total = this.getTimer() - this._startTime;
		this.stage.set_scaleMode(2);
		this.stage.align = 6;
		this.stage.set_frameRate(flixel_FlxG.drawFramerate);
		this.addChild(this._inputContainer);
		this.soundTray = Type.createInstance(this._customSoundTray,[]);
		this.addChild(this.soundTray);
		this.stage.addEventListener("deactivate",$bind(this,this.onFocusLost));
		this.stage.addEventListener("activate",$bind(this,this.onFocus));
		flixel_FlxG.signals.preGameReset.dispatch();
		if(this._skipSplash || flixel_system_FlxSplash.nextState != null) {
			this._requestedState = Type.createInstance(this._initialState,[]);
			if(flixel_system_FlxSplash.nextState == null) {
				this._gameJustStarted = true;
			}
		} else {
			flixel_system_FlxSplash.nextState = this._initialState;
			this._requestedState = new flixel_system_FlxSplash();
			this._skipSplash = true;
		}
		flixel_FlxG.reset();
		flixel_FlxG.signals.postGameReset.dispatch();
		this.switchState();
		var tmp = flixel_FlxG.updateFramerate < flixel_FlxG.drawFramerate;
		this.stage.addEventListener("enterFrame",$bind(this,this.onEnterFrame));
		this.stage.addEventListener("resize",$bind(this,this.onResize));
		this.resizeGame(openfl_Lib.get_current().stage.stageWidth,openfl_Lib.get_current().stage.stageHeight);
		openfl_utils_Assets.addEventListener("change",($_=flixel_FlxG.bitmap,$bind($_,$_.onAssetsReload)));
	}
	,onFocus: function(_) {
		this._lostFocus = false;
		flixel_FlxG.signals.focusGained.dispatch();
		this._state.onFocus();
		if(!flixel_FlxG.autoPause) {
			return;
		}
		this.stage.set_frameRate(flixel_FlxG.drawFramerate);
		flixel_FlxG.sound.onFocus();
		var _g = 0;
		var _g1 = flixel_FlxG.inputs.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.onFocus();
		}
	}
	,onFocusLost: function(event) {
		this._lostFocus = true;
		flixel_FlxG.signals.focusLost.dispatch();
		this._state.onFocusLost();
		if(!flixel_FlxG.autoPause) {
			return;
		}
		this.stage.set_frameRate(this.focusLostFramerate);
		flixel_FlxG.sound.onFocusLost();
		var _g = 0;
		var _g1 = flixel_FlxG.inputs.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.onFocusLost();
		}
	}
	,onResize: function(_) {
		var width = openfl_Lib.get_current().stage.stageWidth;
		var height = openfl_Lib.get_current().stage.stageHeight;
		if(flixel_FlxG.renderTile) {
			flixel_FlxG.bitmap.onContext();
		}
		this.resizeGame(width,height);
	}
	,resizeGame: function(width,height) {
		flixel_FlxG.scaleMode.onMeasure(width,height);
		this._state.onResize(width,height);
		flixel_FlxG.cameras.resize();
		flixel_FlxG.signals.gameResized.dispatch(width,height);
		if(this.soundTray != null) {
			this.soundTray.screenCenter();
		}
	}
	,onEnterFrame: function(_) {
		this.ticks = this.getTimer() - this._startTime;
		this._elapsedMS = this.ticks - this._total;
		this._total = this.ticks;
		if(this.soundTray != null && this.soundTray.active) {
			this.soundTray.update(this._elapsedMS);
		}
		if(!this._lostFocus || !flixel_FlxG.autoPause) {
			if(flixel_FlxG.vcr.paused) {
				if(flixel_FlxG.vcr.stepRequested) {
					flixel_FlxG.vcr.stepRequested = false;
				} else if(this._state == this._requestedState) {
					return;
				}
			}
			if(flixel_FlxG.fixedTimestep) {
				this._accumulator += this._elapsedMS;
				this._accumulator = this._accumulator > this._maxAccumulation ? this._maxAccumulation : this._accumulator;
				while(this._accumulator >= this._stepMS) {
					this.step();
					this._accumulator -= this._stepMS;
				}
			} else {
				this.step();
			}
			this.draw();
		}
	}
	,resetGame: function() {
		flixel_FlxG.signals.preGameReset.dispatch();
		if(this._skipSplash || flixel_system_FlxSplash.nextState != null) {
			this._requestedState = Type.createInstance(this._initialState,[]);
			if(flixel_system_FlxSplash.nextState == null) {
				this._gameJustStarted = true;
			}
		} else {
			flixel_system_FlxSplash.nextState = this._initialState;
			this._requestedState = new flixel_system_FlxSplash();
			this._skipSplash = true;
		}
		flixel_FlxG.reset();
		flixel_FlxG.signals.postGameReset.dispatch();
	}
	,switchState: function() {
		flixel_FlxG.cameras.reset();
		flixel_FlxG.inputs.onStateSwitch();
		flixel_FlxG.sound.destroy();
		flixel_FlxG.signals.preStateSwitch.dispatch();
		if(this._state != null) {
			this._state.destroy();
		}
		flixel_FlxG.bitmap.clearCache();
		this._state = this._requestedState;
		if(this._gameJustStarted) {
			flixel_FlxG.signals.preGameStart.dispatch();
		}
		flixel_FlxG.signals.preStateCreate.dispatch(this._state);
		this._state.create();
		if(this._gameJustStarted) {
			this.gameStart();
		}
		flixel_FlxG.signals.postStateSwitch.dispatch();
	}
	,gameStart: function() {
		flixel_FlxG.signals.postGameStart.dispatch();
		this._gameJustStarted = false;
	}
	,step: function() {
		if(this._resetGame) {
			flixel_FlxG.signals.preGameReset.dispatch();
			if(this._skipSplash || flixel_system_FlxSplash.nextState != null) {
				this._requestedState = Type.createInstance(this._initialState,[]);
				if(flixel_system_FlxSplash.nextState == null) {
					this._gameJustStarted = true;
				}
			} else {
				flixel_system_FlxSplash.nextState = this._initialState;
				this._requestedState = new flixel_system_FlxSplash();
				this._skipSplash = true;
			}
			flixel_FlxG.reset();
			flixel_FlxG.signals.postGameReset.dispatch();
			this._resetGame = false;
		}
		this.handleReplayRequests();
		this.update();
	}
	,handleReplayRequests: function() {
	}
	,update: function() {
		if(!this._state.active || !this._state.exists) {
			return;
		}
		if(this._state != this._requestedState) {
			this.switchState();
		}
		this.updateElapsed();
		flixel_FlxG.signals.preUpdate.dispatch();
		this.updateInput();
		flixel_FlxG.sound.update(flixel_FlxG.elapsed);
		var elapsed = flixel_FlxG.elapsed;
		var _g = 0;
		var _g1 = flixel_FlxG.plugins.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(plugin.exists && plugin.active) {
				plugin.update(elapsed);
			}
		}
		this._state.tryUpdate(flixel_FlxG.elapsed);
		var elapsed = flixel_FlxG.elapsed;
		var _g = 0;
		var _g1 = flixel_FlxG.cameras.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera != null && camera.exists && camera.active) {
				camera.update(elapsed);
			}
		}
		flixel_FlxG.signals.postUpdate.dispatch();
		flixel_util_FlxArrayUtil.clearArray(flixel_FlxG.swipes);
		this.set_filters(this.filtersEnabled ? this._filters : null);
	}
	,updateElapsed: function() {
		if(flixel_FlxG.fixedTimestep) {
			flixel_FlxG.elapsed = flixel_FlxG.timeScale * this._stepSeconds;
		} else {
			flixel_FlxG.elapsed = flixel_FlxG.timeScale * (this._elapsedMS / 1000);
			var max = flixel_FlxG.maxElapsed * flixel_FlxG.timeScale;
			if(flixel_FlxG.elapsed > max) {
				flixel_FlxG.elapsed = max;
			}
		}
	}
	,updateInput: function() {
		var _g = 0;
		var _g1 = flixel_FlxG.inputs.list;
		while(_g < _g1.length) {
			var input = _g1[_g];
			++_g;
			input.update();
		}
	}
	,draw: function() {
		if(!this._state.visible || !this._state.exists) {
			return;
		}
		flixel_FlxG.signals.preDraw.dispatch();
		if(flixel_FlxG.renderTile) {
			flixel_graphics_tile_FlxDrawBaseItem.drawCalls = 0;
		}
		var _this = flixel_FlxG.cameras;
		var _g = 0;
		var _g1 = _this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera == null || !camera.exists || !camera.visible) {
				continue;
			}
			if(flixel_FlxG.renderBlit) {
				camera.checkResize();
				if(_this.useBufferLocking) {
					camera.buffer.lock();
				}
			}
			if(flixel_FlxG.renderTile) {
				camera.clearDrawStack();
				camera.canvas.get_graphics().clear();
			}
			if(flixel_FlxG.renderBlit) {
				camera.fill(camera.bgColor,camera.useBgAlphaBlending);
				camera.screen.dirty = true;
			} else {
				camera.fill(camera.bgColor & 16777215,camera.useBgAlphaBlending,(camera.bgColor >> 24 & 255) / 255);
			}
		}
		var _g = 0;
		var _g1 = flixel_FlxG.plugins.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(plugin.exists && plugin.visible) {
				plugin.draw();
			}
		}
		this._state.draw();
		if(flixel_FlxG.renderTile) {
			if(flixel_FlxG.renderTile) {
				var _g = 0;
				var _g1 = flixel_FlxG.cameras.list;
				while(_g < _g1.length) {
					var camera = _g1[_g];
					++_g;
					if(camera != null && camera.exists && camera.visible) {
						camera.render();
					}
				}
			}
		}
		var _this = flixel_FlxG.cameras;
		var _g = 0;
		var _g1 = _this.list;
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(camera == null || !camera.exists || !camera.visible) {
				continue;
			}
			camera.drawFX();
			if(flixel_FlxG.renderBlit) {
				if(_this.useBufferLocking) {
					camera.buffer.unlock();
				}
				camera.screen.dirty = true;
			}
		}
		flixel_FlxG.signals.postDraw.dispatch();
	}
	,getTicks: function() {
		return this.getTimer() - this._startTime;
	}
	,getTimer: function() {
		return openfl_Lib.getTimer();
	}
	,__class__: flixel_FlxGame
});
var flixel_addons_display_FlxGridOverlay = function() { };
$hxClasses["flixel.addons.display.FlxGridOverlay"] = flixel_addons_display_FlxGridOverlay;
flixel_addons_display_FlxGridOverlay.__name__ = "flixel.addons.display.FlxGridOverlay";
flixel_addons_display_FlxGridOverlay.create = function(CellWidth,CellHeight,Width,Height,Alternate,Color1,Color2) {
	if(Color2 == null) {
		Color2 = -2501163;
	}
	if(Color1 == null) {
		Color1 = -1579290;
	}
	if(Alternate == null) {
		Alternate = true;
	}
	if(Height == null) {
		Height = -1;
	}
	if(Width == null) {
		Width = -1;
	}
	if(Width == -1) {
		Width = flixel_FlxG.width;
	}
	if(Height == -1) {
		Height = flixel_FlxG.height;
	}
	if(Width < CellWidth || Height < CellHeight) {
		return null;
	}
	var grid = flixel_addons_display_FlxGridOverlay.createGrid(CellWidth,CellHeight,Width,Height,Alternate,Color1,Color2);
	var output = new flixel_FlxSprite();
	output.set_pixels(grid);
	output.dirty = true;
	return output;
};
flixel_addons_display_FlxGridOverlay.overlay = function(Sprite,CellWidth,CellHeight,Width,Height,Alternate,Color1,Color2) {
	if(Color2 == null) {
		Color2 = -1998989867;
	}
	if(Color1 == null) {
		Color1 = -1998067994;
	}
	if(Alternate == null) {
		Alternate = true;
	}
	if(Height == null) {
		Height = -1;
	}
	if(Width == null) {
		Width = -1;
	}
	if(Width == -1) {
		Width = flixel_FlxG.width;
	}
	if(Height == -1) {
		Height = flixel_FlxG.height;
	}
	if(Width < CellWidth || Height < CellHeight) {
		return null;
	}
	var grid = flixel_addons_display_FlxGridOverlay.createGrid(CellWidth,CellHeight,Width,Height,Alternate,Color1,Color2);
	Sprite.get_pixels().copyPixels(grid,new openfl_geom_Rectangle(0,0,Width,Height),new openfl_geom_Point(0,0),null,null,true);
	return Sprite;
};
flixel_addons_display_FlxGridOverlay.createGrid = function(CellWidth,CellHeight,Width,Height,Alternate,Color1,Color2) {
	var rowColor = Color1;
	var lastColor = Color1;
	var grid = new openfl_display_BitmapData(Width,Height,true);
	var y = 0;
	while(y <= Height) {
		if(y > 0 && lastColor == rowColor && Alternate) {
			if(lastColor == Color1) {
				lastColor = Color2;
			} else {
				lastColor = Color1;
			}
		} else if(y > 0 && lastColor != rowColor && Alternate == false) {
			if(lastColor == Color2) {
				lastColor = Color1;
			} else {
				lastColor = Color2;
			}
		}
		var x = 0;
		while(x <= Width) {
			if(x == 0) {
				rowColor = lastColor;
			}
			grid.fillRect(new openfl_geom_Rectangle(x,y,CellWidth,CellHeight),lastColor);
			if(lastColor == Color1) {
				lastColor = Color2;
			} else {
				lastColor = Color1;
			}
			x += CellWidth;
		}
		y += CellHeight;
	}
	return grid;
};
var flixel_addons_effects_FlxTrail = function(Target,Graphic,Length,Delay,Alpha,Diff) {
	if(Diff == null) {
		Diff = 0.05;
	}
	if(Alpha == null) {
		Alpha = 0.4;
	}
	if(Delay == null) {
		Delay = 3;
	}
	if(Length == null) {
		Length = 10;
	}
	this._recentAnimations = [];
	this._recentFlipY = [];
	this._recentFlipX = [];
	this._recentFrames = [];
	this._recentScales = [];
	this._recentAngles = [];
	this._recentPositions = [];
	this._transp = 1;
	this._trailLength = 0;
	this._counter = 0;
	this.framesEnabled = true;
	this.scalesEnabled = true;
	this.rotationsEnabled = true;
	this.yEnabled = true;
	this.xEnabled = true;
	flixel_group_FlxTypedSpriteGroup.call(this);
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var _this = point;
	var point = Target.origin;
	_this.set_x(point.x);
	_this.set_y(point.y);
	if(point._weak) {
		point.put();
	}
	this._spriteOrigin = _this;
	this.target = Target;
	this.delay = Delay;
	this._graphic = Graphic;
	this._transp = Alpha;
	this._difference = Diff;
	this.increaseLength(Length);
	this.set_solid(false);
};
$hxClasses["flixel.addons.effects.FlxTrail"] = flixel_addons_effects_FlxTrail;
flixel_addons_effects_FlxTrail.__name__ = "flixel.addons.effects.FlxTrail";
flixel_addons_effects_FlxTrail.__super__ = flixel_group_FlxTypedSpriteGroup;
flixel_addons_effects_FlxTrail.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	target: null
	,delay: null
	,xEnabled: null
	,yEnabled: null
	,rotationsEnabled: null
	,scalesEnabled: null
	,framesEnabled: null
	,_counter: null
	,_trailLength: null
	,_graphic: null
	,_transp: null
	,_difference: null
	,_recentPositions: null
	,_recentAngles: null
	,_recentScales: null
	,_recentFrames: null
	,_recentFlipX: null
	,_recentFlipY: null
	,_recentAnimations: null
	,_spriteOrigin: null
	,destroy: function() {
		flixel_util_FlxDestroyUtil.putArray(this._recentPositions);
		flixel_util_FlxDestroyUtil.putArray(this._recentScales);
		this._recentAngles = null;
		this._recentPositions = null;
		this._recentScales = null;
		this._recentFrames = null;
		this._recentFlipX = null;
		this._recentFlipY = null;
		this._recentAnimations = null;
		this._spriteOrigin = null;
		this.target = null;
		this._graphic = null;
		flixel_group_FlxTypedSpriteGroup.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		this._counter++;
		if(this._counter >= this.delay && this._trailLength >= 1) {
			this._counter = 0;
			var spritePosition = null;
			if(this._recentPositions.length == this._trailLength) {
				spritePosition = this._recentPositions.pop();
			} else {
				var point = flixel_math_FlxPoint._pool.get().set(0,0);
				point._inPool = false;
				spritePosition = point;
			}
			spritePosition.set(this.target.x - this.target.offset.x,this.target.y - this.target.offset.y);
			this._recentPositions.unshift(spritePosition);
			if(this.rotationsEnabled) {
				this.cacheValue(this._recentAngles,this.target.angle);
			}
			if(this.scalesEnabled) {
				var spriteScale = null;
				if(this._recentScales.length == this._trailLength) {
					spriteScale = this._recentScales.pop();
				} else {
					var point = flixel_math_FlxPoint._pool.get().set(0,0);
					point._inPool = false;
					spriteScale = point;
				}
				spriteScale.set(this.target.scale.x,this.target.scale.y);
				this._recentScales.unshift(spriteScale);
			}
			if(this.framesEnabled && this._graphic == null) {
				this.cacheValue(this._recentFrames,this.target.animation.frameIndex);
				this.cacheValue(this._recentFlipX,this.target.flipX);
				this.cacheValue(this._recentFlipY,this.target.flipY);
				this.cacheValue(this._recentAnimations,this.target.animation._curAnim);
			}
			var trailSprite;
			var _g = 0;
			var _g1 = this._recentPositions.length;
			while(_g < _g1) {
				var i = _g++;
				trailSprite = this.group.members[i];
				trailSprite.set_x(this._recentPositions[i].x);
				trailSprite.set_y(this._recentPositions[i].y);
				if(this.rotationsEnabled) {
					trailSprite.set_angle(this._recentAngles[i]);
					trailSprite.origin.set_x(this._spriteOrigin.x);
					trailSprite.origin.set_y(this._spriteOrigin.y);
				}
				if(this.scalesEnabled) {
					trailSprite.scale.set_x(this._recentScales[i].x);
					trailSprite.scale.set_y(this._recentScales[i].y);
				}
				if(this.framesEnabled && this._graphic == null) {
					trailSprite.animation.set_frameIndex(this._recentFrames[i]);
					trailSprite.set_flipX(this._recentFlipX[i]);
					trailSprite.set_flipY(this._recentFlipY[i]);
					var _this = trailSprite.animation;
					var Anim = this._recentAnimations[i];
					if(Anim != _this._curAnim) {
						if(_this._curAnim != null) {
							_this._curAnim.stop();
						}
						if(Anim != null) {
							Anim.play();
						}
					}
					_this._curAnim = Anim;
				}
				trailSprite.set_exists(true);
			}
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,cacheValue: function(array,value) {
		array.unshift(value);
		flixel_util_FlxArrayUtil.setLength_cacheValue_T(array,this._trailLength);
	}
	,resetTrail: function() {
		this._recentPositions.splice(0,this._recentPositions.length);
		this._recentAngles.splice(0,this._recentAngles.length);
		this._recentScales.splice(0,this._recentScales.length);
		this._recentFrames.splice(0,this._recentFrames.length);
		this._recentFlipX.splice(0,this._recentFlipX.length);
		this._recentFlipY.splice(0,this._recentFlipY.length);
		this._recentAnimations.splice(0,this._recentAnimations.length);
		var _g = 0;
		var _g1 = this.group.members.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.group.members[i] != null) {
				this.group.members[i].set_exists(false);
			}
		}
	}
	,increaseLength: function(Amount) {
		if(Amount <= 0) {
			return;
		}
		this._trailLength += Amount;
		var _g = 0;
		var _g1 = Amount;
		while(_g < _g1) {
			var i = _g++;
			var trailSprite = new flixel_FlxSprite(0,0);
			if(this._graphic == null) {
				trailSprite.loadGraphicFromSprite(this.target);
			} else {
				trailSprite.loadGraphic(this._graphic);
			}
			trailSprite.set_exists(false);
			trailSprite.set_active(false);
			this.add(trailSprite);
			trailSprite.set_alpha(this._transp);
			this._transp -= this._difference;
			trailSprite.set_solid((this.allowCollisions & 4369) > 0);
			if(trailSprite.alpha <= 0) {
				trailSprite.kill();
			}
		}
	}
	,changeGraphic: function(Image1) {
		this._graphic = Image1;
		var _g = 0;
		var _g1 = this._trailLength;
		while(_g < _g1) {
			var i = _g++;
			this.group.members[i].loadGraphic(Image1);
		}
	}
	,changeValuesEnabled: function(Angle,X,Y,Scale) {
		if(Scale == null) {
			Scale = true;
		}
		if(Y == null) {
			Y = true;
		}
		if(X == null) {
			X = true;
		}
		this.rotationsEnabled = Angle;
		this.xEnabled = X;
		this.yEnabled = Y;
		this.scalesEnabled = Scale;
	}
	,__class__: flixel_addons_effects_FlxTrail
});
var flixel_addons_effects_FlxTrailArea = function(X,Y,Width,Height,AlphaMultiplier,Delay,SimpleRender,Antialiasing,TrailBlendMode) {
	if(Antialiasing == null) {
		Antialiasing = false;
	}
	if(SimpleRender == null) {
		SimpleRender = false;
	}
	if(Delay == null) {
		Delay = 2;
	}
	if(AlphaMultiplier == null) {
		AlphaMultiplier = 0.8;
	}
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._height = 1;
	this._width = 1;
	this._counter = 0;
	this.alphaOffset = 0;
	this.blueOffset = 0;
	this.greenOffset = 0;
	this.redOffset = 0;
	this.blueMultiplier = 1;
	this.greenMultiplier = 1;
	this.redMultiplier = 1;
	this.blendMode = null;
	this.simpleRender = false;
	this.delay = 2;
	flixel_FlxSprite.call(this,X,Y);
	this.group = new flixel_group_FlxTypedGroup();
	this.delay = Delay;
	this.simpleRender = SimpleRender;
	this.blendMode = TrailBlendMode;
	this.set_antialiasing(Antialiasing);
	this.alphaMultiplier = AlphaMultiplier;
	this.setSize(Width,Height);
	this.set_pixels(this._areaPixels);
};
$hxClasses["flixel.addons.effects.FlxTrailArea"] = flixel_addons_effects_FlxTrailArea;
flixel_addons_effects_FlxTrailArea.__name__ = "flixel.addons.effects.FlxTrailArea";
flixel_addons_effects_FlxTrailArea.__super__ = flixel_FlxSprite;
flixel_addons_effects_FlxTrailArea.prototype = $extend(flixel_FlxSprite.prototype,{
	delay: null
	,simpleRender: null
	,blendMode: null
	,group: null
	,redMultiplier: null
	,greenMultiplier: null
	,blueMultiplier: null
	,alphaMultiplier: null
	,redOffset: null
	,greenOffset: null
	,blueOffset: null
	,alphaOffset: null
	,_counter: null
	,_width: null
	,_height: null
	,_areaPixels: null
	,setSize: function(Width,Height) {
		if(Width <= 0) {
			Width = flixel_FlxG.width;
		}
		if(Height <= 0) {
			Height = flixel_FlxG.height;
		}
		if(Width != this._width || Height != this._height) {
			this._width = Width;
			this._height = Height;
			this._areaPixels = new openfl_display_BitmapData(this._width | 0,this._height | 0,true,0);
		}
	}
	,destroy: function() {
		this.group = flixel_util_FlxDestroyUtil.destroy(this.group);
		this.blendMode = null;
		if(this.get_pixels() != this._areaPixels) {
			this._areaPixels.dispose();
		}
		this._areaPixels = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,draw: function() {
		this._counter++;
		if(this._counter >= this.delay) {
			this._counter = 0;
			this._areaPixels.lock();
			var cTrans = new openfl_geom_ColorTransform(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset);
			this._areaPixels.colorTransform(new openfl_geom_Rectangle(0,0,this._areaPixels.width,this._areaPixels.height),cTrans);
			var _g = 0;
			var _g1 = this.group.members;
			while(_g < _g1.length) {
				var member = _g1[_g];
				++_g;
				if(member.exists) {
					var finalX = member.x - this.x - member.offset.x;
					var finalY = member.y - this.y - member.offset.y;
					if(this.simpleRender) {
						this._areaPixels.copyPixels(member.updateFramePixels(),new openfl_geom_Rectangle(0,0,member.frameWidth,member.frameHeight),new openfl_geom_Point(finalX,finalY),null,null,true);
					} else {
						var scaled = member.scale.x != 1 || member.scale.y != 1;
						var rotated = member.angle != 0 && member.bakedRotationAngle <= 0;
						this._matrix.identity();
						if(rotated || scaled) {
							this._matrix.translate(-member.origin.x,-member.origin.y);
							if(scaled) {
								this._matrix.scale(member.scale.x,member.scale.y);
							}
							if(rotated) {
								this._matrix.rotate(member.angle * (Math.PI / 180));
							}
							this._matrix.translate(member.origin.x,member.origin.y);
						}
						this._matrix.translate(finalX,finalY);
						this._areaPixels.draw(member.updateFramePixels(),this._matrix,member.colorTransform,this.blendMode,null,this.antialiasing);
					}
				}
			}
			this._areaPixels.unlock();
			this.set_pixels(this._areaPixels);
		}
		flixel_FlxSprite.prototype.draw.call(this);
	}
	,resetTrail: function() {
		this._areaPixels.fillRect(new openfl_geom_Rectangle(0,0,this._areaPixels.width,this._areaPixels.height),0);
	}
	,add: function(Sprite) {
		return this.group.add(Sprite);
	}
	,get_width: function() {
		return this._width;
	}
	,set_width: function(Width) {
		if(Width <= 0) {
			Width = flixel_FlxG.width;
		}
		if(Width != this._width) {
			this._areaPixels = new openfl_display_BitmapData(Width | 0,this._height | 0,true,0);
		}
		return this._width = Width;
	}
	,get_height: function() {
		return this._height;
	}
	,set_height: function(Height) {
		if(Height <= 0) {
			Height = flixel_FlxG.height;
		}
		if(Height != this._height) {
			this._areaPixels = new openfl_display_BitmapData(this._width | 0,Height | 0,true,0);
		}
		return this._height = Height;
	}
	,__class__: flixel_addons_effects_FlxTrailArea
});
var flixel_addons_effects_chainable_FlxEffectSprite = function(Target,Effects) {
	this.updateTargetAnimation = true;
	this.effectsEnabled = true;
	flixel_FlxSprite.call(this);
	this.target = Target;
	this.effects = Effects != null ? Effects : [];
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._effectOffset = point;
};
$hxClasses["flixel.addons.effects.chainable.FlxEffectSprite"] = flixel_addons_effects_chainable_FlxEffectSprite;
flixel_addons_effects_chainable_FlxEffectSprite.__name__ = "flixel.addons.effects.chainable.FlxEffectSprite";
flixel_addons_effects_chainable_FlxEffectSprite.__super__ = flixel_FlxSprite;
flixel_addons_effects_chainable_FlxEffectSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	effectsEnabled: null
	,target: null
	,updateTargetAnimation: null
	,effects: null
	,_effectOffset: null
	,destroy: function() {
		this.effects = flixel_util_FlxDestroyUtil.destroyArray(this.effects);
		this._effectOffset = flixel_util_FlxDestroyUtil.put(this._effectOffset);
		this.target = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,getScreenPosition: function(point,Camera) {
		return flixel_FlxSprite.prototype.getScreenPosition.call(this,point,Camera).addPoint(this._effectOffset);
	}
	,draw: function() {
		if(this.target.dirty) {
			this.target.drawFrame();
		}
		if(this.target.framePixels == null) {
			flixel_FlxSprite.prototype.draw.call(this);
			return;
		}
		if(this.get_pixels() != null && this.get_pixels().width == this.target.framePixels.width && this.get_pixels().height == this.target.framePixels.height) {
			this.get_pixels().fillRect(this.get_pixels().rect,0);
			this.get_pixels().draw(this.target.framePixels);
		} else {
			flixel_util_FlxDestroyUtil.dispose(this.get_pixels());
			this.set_pixels(this.target.framePixels.clone());
		}
		this._effectOffset.set(0,0);
		if(this.effectsEnabled) {
			this.get_pixels().lock();
			var _g = 0;
			var _g1 = this.effects;
			while(_g < _g1.length) {
				var effect = _g1[_g];
				++_g;
				if(effect.active) {
					this.set_pixels(effect.apply(this.get_pixels()));
					if(effect.offset != null) {
						this._effectOffset.addPoint(effect.offset);
					}
				}
			}
			this.get_pixels().unlock();
			this._flashRect = this.get_pixels().rect;
		}
		flixel_FlxSprite.prototype.draw.call(this);
	}
	,update: function(elapsed) {
		if(this.updateTargetAnimation && this.target.animation._sprite.numFrames > 1) {
			this.target.updateAnimation(elapsed);
		}
		if(this.effectsEnabled) {
			var _g = 0;
			var _g1 = this.effects;
			while(_g < _g1.length) {
				var effect = _g1[_g];
				++_g;
				if(effect.active) {
					effect.update(elapsed);
				}
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,__class__: flixel_addons_effects_chainable_FlxEffectSprite
});
var flixel_addons_effects_chainable_IFlxEffect = function() { };
$hxClasses["flixel.addons.effects.chainable.IFlxEffect"] = flixel_addons_effects_chainable_IFlxEffect;
flixel_addons_effects_chainable_IFlxEffect.__name__ = "flixel.addons.effects.chainable.IFlxEffect";
flixel_addons_effects_chainable_IFlxEffect.__isInterface__ = true;
flixel_addons_effects_chainable_IFlxEffect.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_effects_chainable_IFlxEffect.prototype = {
	active: null
	,offset: null
	,update: null
	,apply: null
	,__class__: flixel_addons_effects_chainable_IFlxEffect
};
var flixel_addons_effects_chainable_FlxWaveEffect = function(Mode,Strength,Center,Speed,Wavelength,Direction,InterlaceOffset) {
	if(InterlaceOffset == null) {
		InterlaceOffset = 0;
	}
	if(Wavelength == null) {
		Wavelength = 5;
	}
	if(Speed == null) {
		Speed = 3;
	}
	if(Center == null) {
		Center = 0.5;
	}
	if(Strength == null) {
		Strength = 10;
	}
	this._flashRect = new openfl_geom_Rectangle();
	this._flashPoint = new openfl_geom_Point();
	this._time = 0;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.offset = point;
	this.active = true;
	this.strength = Strength;
	this.mode = Mode == null ? flixel_addons_effects_chainable_FlxWaveMode.ALL : Mode;
	this.speed = Speed;
	this.wavelength = Wavelength;
	this.direction = Direction != null ? Direction : flixel_addons_effects_chainable_FlxWaveDirection.HORIZONTAL;
	this.center = Center;
	this.set_interlaceOffset(InterlaceOffset);
};
$hxClasses["flixel.addons.effects.chainable.FlxWaveEffect"] = flixel_addons_effects_chainable_FlxWaveEffect;
flixel_addons_effects_chainable_FlxWaveEffect.__name__ = "flixel.addons.effects.chainable.FlxWaveEffect";
flixel_addons_effects_chainable_FlxWaveEffect.__interfaces__ = [flixel_addons_effects_chainable_IFlxEffect];
flixel_addons_effects_chainable_FlxWaveEffect.prototype = {
	active: null
	,offset: null
	,mode: null
	,speed: null
	,center: null
	,direction: null
	,wavelength: null
	,strength: null
	,interlaceOffset: null
	,_time: null
	,_flashPoint: null
	,_flashRect: null
	,_pixels: null
	,destroy: function() {
		this._flashPoint = null;
		this._flashRect = null;
		this.offset = flixel_util_FlxDestroyUtil.put(this.offset);
		this._pixels = flixel_util_FlxDestroyUtil.dispose(this._pixels);
	}
	,update: function(elapsed) {
		this._time += elapsed * this.speed;
	}
	,apply: function(bitmapData) {
		var horizontalStrength = this.direction == flixel_addons_effects_chainable_FlxWaveDirection.HORIZONTAL ? this.strength : 0;
		var verticalStrength = this.direction == flixel_addons_effects_chainable_FlxWaveDirection.VERTICAL ? this.strength : 0;
		this.offset.set(-horizontalStrength,-verticalStrength);
		if(this._pixels == null || this._pixels.width < bitmapData.width + horizontalStrength * 2 || this._pixels.height < bitmapData.height + verticalStrength * 2) {
			flixel_util_FlxDestroyUtil.dispose(this._pixels);
			this._pixels = new openfl_display_BitmapData(bitmapData.width + horizontalStrength * 2,bitmapData.height + verticalStrength * 2,true,0);
		} else {
			this._pixels.fillRect(this._pixels.rect,0);
		}
		var length = this.direction == flixel_addons_effects_chainable_FlxWaveDirection.HORIZONTAL ? bitmapData.height : bitmapData.width;
		var p = 0;
		while(p < length) {
			var pixelOffset = 0;
			var offsetP = length * this.center;
			var size = 1;
			switch(this.mode._hx_index) {
			case 0:
				offsetP = this.strength;
				break;
			case 1:
				if(p <= offsetP) {
					offsetP = (1 - p / offsetP) * this.strength;
				} else {
					size = length - p;
					offsetP = 0;
				}
				break;
			case 2:
				if(p >= offsetP) {
					offsetP = (1 - (1 - p / length) / (1 - this.center)) * this.strength;
				} else {
					size = Math.ceil(offsetP);
					offsetP = 0;
				}
				break;
			}
			var waveOffset = 0;
			if(this.interlaceOffset != 0 && this.interlaceOffset != 1 && ((p | 0) & 1) != 0) {
				waveOffset = Math.PI * 2 * this.interlaceOffset;
			}
			var n = p / this.wavelength + this._time + waveOffset;
			n *= 0.3183098862;
			if(n > 1) {
				n -= Math.ceil(n) >> 1 << 1;
			} else if(n < -1) {
				n += Math.ceil(-n) >> 1 << 1;
			}
			pixelOffset = offsetP * (n > 0 ? n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6))) : n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6))));
			if(this.direction == flixel_addons_effects_chainable_FlxWaveDirection.HORIZONTAL) {
				this._flashPoint.setTo(this.strength + pixelOffset,p);
				this._flashRect.setTo(0,p,bitmapData.width,size);
			} else {
				this._flashPoint.setTo(p,this.strength + pixelOffset);
				this._flashRect.setTo(p,0,size,bitmapData.height);
			}
			this._pixels.copyPixels(bitmapData,this._flashRect,this._flashPoint);
			p += size;
		}
		flixel_util_FlxDestroyUtil.dispose(bitmapData);
		return this._pixels.clone();
	}
	,calculateOffset: function(p,length) {
		var waveOffset = 0;
		if(this.interlaceOffset != 0 && this.interlaceOffset != 1 && ((p | 0) & 1) != 0) {
			waveOffset = Math.PI * 2 * this.interlaceOffset;
		}
		var n = p / this.wavelength + this._time + waveOffset;
		n *= 0.3183098862;
		if(n > 1) {
			n -= Math.ceil(n) >> 1 << 1;
		} else if(n < -1) {
			n += Math.ceil(-n) >> 1 << 1;
		}
		if(n > 0) {
			return n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6)));
		} else {
			return n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
		}
	}
	,set_interlaceOffset: function(InterlaceOffset) {
		var lowerBound = InterlaceOffset < 0 ? 0 : InterlaceOffset;
		return this.interlaceOffset = lowerBound > 1 ? 1 : lowerBound;
	}
	,__class__: flixel_addons_effects_chainable_FlxWaveEffect
	,__properties__: {set_interlaceOffset:"set_interlaceOffset"}
};
var flixel_addons_effects_chainable_FlxWaveMode = $hxEnums["flixel.addons.effects.chainable.FlxWaveMode"] = { __ename__:"flixel.addons.effects.chainable.FlxWaveMode",__constructs__:null
	,ALL: {_hx_name:"ALL",_hx_index:0,__enum__:"flixel.addons.effects.chainable.FlxWaveMode",toString:$estr}
	,START: {_hx_name:"START",_hx_index:1,__enum__:"flixel.addons.effects.chainable.FlxWaveMode",toString:$estr}
	,END: {_hx_name:"END",_hx_index:2,__enum__:"flixel.addons.effects.chainable.FlxWaveMode",toString:$estr}
};
flixel_addons_effects_chainable_FlxWaveMode.__constructs__ = [flixel_addons_effects_chainable_FlxWaveMode.ALL,flixel_addons_effects_chainable_FlxWaveMode.START,flixel_addons_effects_chainable_FlxWaveMode.END];
var flixel_addons_effects_chainable_FlxWaveDirection = $hxEnums["flixel.addons.effects.chainable.FlxWaveDirection"] = { __ename__:"flixel.addons.effects.chainable.FlxWaveDirection",__constructs__:null
	,HORIZONTAL: {_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"flixel.addons.effects.chainable.FlxWaveDirection",toString:$estr}
	,VERTICAL: {_hx_name:"VERTICAL",_hx_index:1,__enum__:"flixel.addons.effects.chainable.FlxWaveDirection",toString:$estr}
};
flixel_addons_effects_chainable_FlxWaveDirection.__constructs__ = [flixel_addons_effects_chainable_FlxWaveDirection.HORIZONTAL,flixel_addons_effects_chainable_FlxWaveDirection.VERTICAL];
var openfl_media_Sound = function(stream,context) {
	openfl_events_EventDispatcher.call(this,this);
	this.bytesLoaded = 0;
	this.bytesTotal = 0;
	this.isBuffering = false;
	this.url = null;
	if(stream != null) {
		this.load(stream,context);
	}
};
$hxClasses["openfl.media.Sound"] = openfl_media_Sound;
openfl_media_Sound.__name__ = "openfl.media.Sound";
openfl_media_Sound.fromAudioBuffer = function(buffer) {
	var sound = new openfl_media_Sound();
	sound.__buffer = buffer;
	return sound;
};
openfl_media_Sound.fromFile = function(path) {
	return openfl_media_Sound.fromAudioBuffer(lime_media_AudioBuffer.fromFile(path));
};
openfl_media_Sound.loadFromFile = function(path) {
	return lime_media_AudioBuffer.loadFromFile(path).then(function(audioBuffer) {
		return lime_app_Future.withValue(openfl_media_Sound.fromAudioBuffer(audioBuffer));
	});
};
openfl_media_Sound.loadFromFiles = function(paths) {
	return lime_media_AudioBuffer.loadFromFiles(paths).then(function(audioBuffer) {
		return lime_app_Future.withValue(openfl_media_Sound.fromAudioBuffer(audioBuffer));
	});
};
openfl_media_Sound.__super__ = openfl_events_EventDispatcher;
openfl_media_Sound.prototype = $extend(openfl_events_EventDispatcher.prototype,{
	bytesLoaded: null
	,bytesTotal: null
	,isBuffering: null
	,url: null
	,__buffer: null
	,close: function() {
		if(this.__buffer != null) {
			this.__buffer.dispose();
			this.__buffer = null;
		}
	}
	,load: function(stream,context) {
		var _gthis = this;
		this.url = stream.url;
		var defaultLibrary = lime_utils_Assets.getLibrary("default");
		if(defaultLibrary != null && Object.prototype.hasOwnProperty.call(defaultLibrary.cachedAudioBuffers.h,this.url)) {
			this.AudioBuffer_onURLLoad(defaultLibrary.cachedAudioBuffers.h[this.url]);
		} else {
			lime_media_AudioBuffer.loadFromFile(this.url).onComplete($bind(this,this.AudioBuffer_onURLLoad)).onError(function(_) {
				_gthis.AudioBuffer_onURLLoad(null);
			});
		}
	}
	,loadCompressedDataFromByteArray: function(bytes,bytesLength) {
		if(bytes == null || bytesLength <= 0) {
			this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"));
			return;
		}
		if(UInt.gt(bytes.position,0) || UInt.gt(openfl_utils_ByteArray.get_length(bytes),bytesLength)) {
			var length = bytesLength;
			if(length == null) {
				length = 0;
			}
			var this1 = new openfl_utils_ByteArrayData(length);
			var copy = this1;
			var offset = bytes.position;
			var length = bytesLength;
			if(length == null) {
				length = 0;
			}
			if(offset == null) {
				offset = 0;
			}
			copy.writeBytes(bytes,offset,length);
			bytes = copy;
		}
		this.__buffer = lime_media_AudioBuffer.fromBytes(openfl_utils_ByteArray.toBytes(bytes));
		if(this.__buffer == null) {
			this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"));
		} else {
			this.dispatchEvent(new openfl_events_Event("complete"));
		}
	}
	,loadPCMFromByteArray: function(bytes,samples,format,stereo,sampleRate) {
		if(sampleRate == null) {
			sampleRate = 44100;
		}
		if(stereo == null) {
			stereo = true;
		}
		if(format == null) {
			format = "float";
		}
		if(bytes == null) {
			this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"));
			return;
		}
		var bitsPerSample = format == "float" ? 32 : 16;
		var channels = stereo ? 2 : 1;
		var bytesLength = samples * channels * (bitsPerSample / 8) | 0;
		if(UInt.gt(bytes.position,0) || UInt.gt(openfl_utils_ByteArray.get_length(bytes),bytesLength)) {
			var length = bytesLength;
			if(length == null) {
				length = 0;
			}
			var this1 = new openfl_utils_ByteArrayData(length);
			var copy = this1;
			var offset = bytes.position;
			var length = bytesLength;
			if(length == null) {
				length = 0;
			}
			if(offset == null) {
				offset = 0;
			}
			copy.writeBytes(bytes,offset,length);
			bytes = copy;
		}
		var audioBuffer = new lime_media_AudioBuffer();
		audioBuffer.bitsPerSample = bitsPerSample;
		audioBuffer.channels = channels;
		var elements = null;
		var array = null;
		var vector = null;
		var view = null;
		var buffer = openfl_utils_ByteArray.toArrayBuffer(bytes);
		var len = null;
		var this1;
		if(elements != null) {
			this1 = new Uint8Array(elements);
		} else if(array != null) {
			this1 = new Uint8Array(array);
		} else if(vector != null) {
			this1 = new Uint8Array(vector.__array);
		} else if(view != null) {
			this1 = new Uint8Array(view);
		} else if(buffer != null) {
			if(len == null) {
				this1 = new Uint8Array(buffer,0);
			} else {
				this1 = new Uint8Array(buffer,0,len);
			}
		} else {
			this1 = null;
		}
		audioBuffer.data = this1;
		audioBuffer.sampleRate = sampleRate | 0;
		this.__buffer = audioBuffer;
		this.dispatchEvent(new openfl_events_Event("complete"));
	}
	,play: function(startTime,loops,sndTransform) {
		if(loops == null) {
			loops = 0;
		}
		if(startTime == null) {
			startTime = 0.0;
		}
		if(this.__buffer == null || openfl_media_SoundMixer.__soundChannels.length >= 32) {
			return null;
		}
		if(sndTransform == null) {
			sndTransform = new openfl_media_SoundTransform();
		} else {
			sndTransform = sndTransform.clone();
		}
		var pan = openfl_media_SoundMixer.__soundTransform.pan + sndTransform.pan;
		if(pan > 1) {
			pan = 1;
		}
		if(pan < -1) {
			pan = -1;
		}
		var volume = openfl_media_SoundMixer.__soundTransform.volume * sndTransform.volume;
		var source = new lime_media_AudioSource(this.__buffer);
		source.offset = startTime | 0;
		if(loops > 1) {
			source.set_loops(loops - 1);
		}
		source.set_gain(volume);
		var position = source.get_position();
		position.x = pan;
		position.z = -1 * Math.sqrt(1 - Math.pow(pan,2));
		source.set_position(position);
		return new openfl_media_SoundChannel(source,sndTransform);
	}
	,get_id3: function() {
		return new openfl_media_ID3Info();
	}
	,get_length: function() {
		if(this.__buffer != null) {
			return this.__buffer.get_src().duration() * 1000 | 0;
		}
		return 0;
	}
	,AudioBuffer_onURLLoad: function(buffer) {
		if(buffer == null) {
			this.dispatchEvent(new openfl_events_IOErrorEvent("ioError"));
		} else {
			this.__buffer = buffer;
			this.dispatchEvent(new openfl_events_Event("complete"));
		}
	}
	,__class__: openfl_media_Sound
	,__properties__: {get_length:"get_length",get_id3:"get_id3"}
});
var flixel_addons_text_TypeSound = function(stream,context) {
	openfl_media_Sound.call(this,stream,context);
};
$hxClasses["flixel.addons.text.TypeSound"] = flixel_addons_text_TypeSound;
flixel_addons_text_TypeSound.__name__ = "flixel.addons.text.TypeSound";
flixel_addons_text_TypeSound.__super__ = openfl_media_Sound;
flixel_addons_text_TypeSound.prototype = $extend(openfl_media_Sound.prototype,{
	__class__: flixel_addons_text_TypeSound
});
var flixel_addons_text_FlxTypeText = function(X,Y,Width,Text1,Size,EmbeddedFont) {
	if(EmbeddedFont == null) {
		EmbeddedFont = true;
	}
	if(Size == null) {
		Size = 8;
	}
	this._typeVarPercent = 0.5;
	this._typingVariation = false;
	this._cursorTimer = 0.0;
	this._waiting = false;
	this._erasing = false;
	this._typing = false;
	this._length = 0;
	this._waitTimer = 0.0;
	this._timer = 0.0;
	this._finalText = "";
	this.skipKeys = [];
	this.finishSounds = false;
	this.useDefaultSound = false;
	this.paused = false;
	this.waitTime = 1.0;
	this.autoErase = false;
	this.prefix = "";
	this.cursorBlinkSpeed = 0.5;
	this.cursorCharacter = "|";
	this.showCursor = false;
	this.eraseDelay = 0.02;
	this.delay = 0.05;
	flixel_text_FlxText.call(this,X,Y,Width,"",Size,EmbeddedFont);
	this._finalText = Text1;
};
$hxClasses["flixel.addons.text.FlxTypeText"] = flixel_addons_text_FlxTypeText;
flixel_addons_text_FlxTypeText.__name__ = "flixel.addons.text.FlxTypeText";
flixel_addons_text_FlxTypeText.__super__ = flixel_text_FlxText;
flixel_addons_text_FlxTypeText.prototype = $extend(flixel_text_FlxText.prototype,{
	delay: null
	,eraseDelay: null
	,showCursor: null
	,cursorCharacter: null
	,cursorBlinkSpeed: null
	,prefix: null
	,autoErase: null
	,waitTime: null
	,paused: null
	,sounds: null
	,useDefaultSound: null
	,finishSounds: null
	,skipKeys: null
	,completeCallback: null
	,eraseCallback: null
	,_finalText: null
	,_timer: null
	,_waitTimer: null
	,_length: null
	,_typing: null
	,_erasing: null
	,_waiting: null
	,_cursorTimer: null
	,_typingVariation: null
	,_typeVarPercent: null
	,_sound: null
	,start: function(Delay,ForceRestart,AutoErase,SkipKeys,Callback) {
		if(AutoErase == null) {
			AutoErase = false;
		}
		if(ForceRestart == null) {
			ForceRestart = false;
		}
		if(Delay != null) {
			this.delay = Delay;
		}
		this._typing = true;
		this._erasing = false;
		this.paused = false;
		this._waiting = false;
		if(ForceRestart) {
			this.set_text("");
			this._length = 0;
		}
		this.autoErase = AutoErase;
		if(SkipKeys != null) {
			this.skipKeys = SkipKeys;
		}
		if(Callback != null) {
			this.completeCallback = Callback;
		}
		this.insertBreakLines();
		if(this.useDefaultSound) {
			this.loadDefaultSound();
		}
	}
	,applyMarkup: function(input,rules) {
		flixel_text_FlxText.prototype.applyMarkup.call(this,input,rules);
		this.resetText(this.text);
		return this;
	}
	,insertBreakLines: function() {
		var saveText = this.text;
		var last = this._finalText.length;
		var n0 = 0;
		var n1 = 0;
		while(true) {
			last = HxOverrides.substr(this._finalText,0,last).lastIndexOf(" ");
			if(last <= 0) {
				break;
			}
			this.set_text(this.prefix + this._finalText);
			n0 = this.textField.get_numLines();
			var nextText = HxOverrides.substr(this._finalText,0,last) + "\n" + HxOverrides.substr(this._finalText,last + 1,this._finalText.length);
			this.set_text(this.prefix + nextText);
			n1 = this.textField.get_numLines();
			if(n0 == n1) {
				this._finalText = nextText;
			}
		}
		this.set_text(saveText);
	}
	,erase: function(Delay,ForceRestart,SkipKeys,Callback) {
		if(ForceRestart == null) {
			ForceRestart = false;
		}
		this._erasing = true;
		this._typing = false;
		this.paused = false;
		this._waiting = false;
		if(Delay != null) {
			this.eraseDelay = Delay;
		}
		if(ForceRestart) {
			this._length = this._finalText.length;
			this.set_text(this._finalText);
		}
		if(SkipKeys != null) {
			this.skipKeys = SkipKeys;
		}
		this.eraseCallback = Callback;
		if(this.useDefaultSound) {
			this.loadDefaultSound();
		}
	}
	,resetText: function(Text1) {
		this.set_text("");
		this._finalText = Text1;
		this._typing = false;
		this._erasing = false;
		this.paused = false;
		this._waiting = false;
		this._length = 0;
	}
	,setTypingVariation: function(Amount,On) {
		if(On == null) {
			On = true;
		}
		if(Amount == null) {
			Amount = 0.5;
		}
		this._typingVariation = On;
		var lowerBound = Amount < 0 ? 0 : Amount;
		this._typeVarPercent = lowerBound > 1 ? 1 : lowerBound;
	}
	,onComplete: function() {
		this._timer = 0;
		this._typing = false;
		if(this.useDefaultSound) {
			var _this = this._sound;
			_this.cleanup(_this.autoDestroy,true);
		} else if(this.sounds != null) {
			var _g = 0;
			var _g1 = this.sounds;
			while(_g < _g1.length) {
				var sound = _g1[_g];
				++_g;
				sound.cleanup(sound.autoDestroy,true);
			}
		}
		if(this.completeCallback != null) {
			this.completeCallback();
		}
		if(this.autoErase && this.waitTime <= 0) {
			this._erasing = true;
		} else if(this.autoErase) {
			this._waitTimer = this.waitTime;
			this._waiting = true;
		}
	}
	,onErased: function() {
		this._timer = 0;
		this._erasing = false;
		if(this.eraseCallback != null) {
			this.eraseCallback();
		}
	}
	,update: function(elapsed) {
		if(this.skipKeys != null && this.skipKeys.length > 0 && flixel_FlxG.keys.checkKeyArrayState(this.skipKeys,2)) {
			this.skip();
		}
		if(this._waiting && !this.paused) {
			this._waitTimer -= elapsed;
			if(this._waitTimer <= 0) {
				this._waiting = false;
				this._erasing = true;
			}
		}
		if(!this._waiting && !this.paused) {
			if(this._length < this._finalText.length && this._typing) {
				this._timer += elapsed;
			}
			if(this._length > 0 && this._erasing) {
				this._timer += elapsed;
			}
		}
		if(this._typing || this._erasing) {
			if(this._typing && this._timer >= this.delay) {
				this._length += this._timer / this.delay | 0;
				if(this._length > this._finalText.length) {
					this._length = this._finalText.length;
				}
			}
			if(this._erasing && this._timer >= this.eraseDelay) {
				this._length -= this._timer / this.eraseDelay | 0;
				if(this._length < 0) {
					this._length = 0;
				}
			}
			if(this._typing && this._timer >= this.delay || this._erasing && this._timer >= this.eraseDelay) {
				if(this._typingVariation) {
					if(this._typing) {
						this._timer = flixel_FlxG.random.float(-this.delay * this._typeVarPercent / 2,this.delay * this._typeVarPercent / 2);
					} else {
						this._timer = flixel_FlxG.random.float(-this.eraseDelay * this._typeVarPercent / 2,this.eraseDelay * this._typeVarPercent / 2);
					}
				} else {
					this._timer %= this.delay;
				}
				if(this.sounds != null && !this.useDefaultSound) {
					if(!this.finishSounds) {
						var _g = 0;
						var _g1 = this.sounds;
						while(_g < _g1.length) {
							var sound = _g1[_g];
							++_g;
							sound.cleanup(sound.autoDestroy,true);
						}
					}
					flixel_FlxG.random.getObject_flixel_system_FlxSound(this.sounds).play(!this.finishSounds);
				} else if(this.useDefaultSound) {
					this._sound.play(!this.finishSounds);
				}
			}
		}
		flixel_addons_text_FlxTypeText.helperString = this.prefix + HxOverrides.substr(this._finalText,0,this._length);
		if(this.showCursor) {
			this._cursorTimer += elapsed;
			var isBreakLine = (this.prefix + this._finalText).charAt(flixel_addons_text_FlxTypeText.helperString.length) == "\n";
			if(this._cursorTimer > this.cursorBlinkSpeed / 2 && !isBreakLine) {
				flixel_addons_text_FlxTypeText.helperString += this.cursorCharacter.charAt(0);
			}
			if(this._cursorTimer > this.cursorBlinkSpeed) {
				this._cursorTimer = 0;
			}
		}
		if(flixel_addons_text_FlxTypeText.helperString != this.text) {
			this.set_text(flixel_addons_text_FlxTypeText.helperString);
			if(this._length >= this._finalText.length && this._typing && !this._waiting && !this._erasing) {
				this.onComplete();
			}
			if(this._length == 0 && this._erasing && !this._typing && !this._waiting) {
				this.onErased();
			}
		}
		flixel_text_FlxText.prototype.update.call(this,elapsed);
	}
	,skip: function() {
		if(this._erasing || this._waiting) {
			this._length = 0;
			this._waiting = false;
		} else if(this._typing) {
			this._length = this._finalText.length;
		}
	}
	,loadDefaultSound: function() {
		this._sound = flixel_FlxG.sound.load(new flixel_addons_text_TypeSound());
	}
	,__class__: flixel_addons_text_FlxTypeText
});
var lime_math_Vector2 = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
$hxClasses["lime.math.Vector2"] = lime_math_Vector2;
lime_math_Vector2.__name__ = "lime.math.Vector2";
lime_math_Vector2.distance = function(pt1,pt2) {
	var dx = pt1.x - pt2.x;
	var dy = pt1.y - pt2.y;
	return Math.sqrt(dx * dx + dy * dy);
};
lime_math_Vector2.interpolate = function(pt1,pt2,f,result) {
	if(result == null) {
		result = new lime_math_Vector2();
	}
	result.x = pt2.x + f * (pt1.x - pt2.x);
	result.y = pt2.y + f * (pt1.y - pt2.y);
	return result;
};
lime_math_Vector2.polar = function(len,angle,result) {
	if(result == null) {
		result = new lime_math_Vector2();
	}
	var ya = len * Math.sin(angle);
	result.x = len * Math.cos(angle);
	result.y = ya;
	return result;
};
lime_math_Vector2.prototype = {
	x: null
	,y: null
	,add: function(v,result) {
		if(result == null) {
			result = new lime_math_Vector2();
		}
		result.x = v.x + this.x;
		result.y = v.y + this.y;
		return result;
	}
	,clone: function() {
		return new lime_math_Vector2(this.x,this.y);
	}
	,equals: function(toCompare) {
		if(toCompare != null && toCompare.x == this.x) {
			return toCompare.y == this.y;
		} else {
			return false;
		}
	}
	,normalize: function(thickness) {
		if(this.x == 0 && this.y == 0) {
			return;
		} else {
			var norm = thickness / Math.sqrt(this.x * this.x + this.y * this.y);
			this.x *= norm;
			this.y *= norm;
		}
	}
	,offset: function(dx,dy) {
		this.x += dx;
		this.y += dy;
	}
	,setTo: function(xa,ya) {
		this.x = xa;
		this.y = ya;
	}
	,subtract: function(v,result) {
		if(result == null) {
			result = new lime_math_Vector2();
		}
		result.x = this.x - v.x;
		result.y = this.y - v.y;
		return result;
	}
	,__toFlashPoint: function() {
		return null;
	}
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y);
	}
	,get_lengthSquared: function() {
		return this.x * this.x + this.y * this.y;
	}
	,__class__: lime_math_Vector2
	,__properties__: {get_lengthSquared:"get_lengthSquared",get_length:"get_length"}
};
var openfl_display_BitmapData = function(width,height,transparent,fillColor) {
	if(fillColor == null) {
		fillColor = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	this.__drawableType = 0;
	this.transparent = transparent;
	if(width == null) {
		width = 0;
	}
	if(height == null) {
		height = 0;
	}
	if(width < 0) {
		width = 0;
	}
	if(height < 0) {
		height = 0;
	}
	this.width = width;
	this.height = height;
	this.rect = new openfl_geom_Rectangle(0,0,width,height);
	this.__textureWidth = width;
	this.__textureHeight = height;
	if(width > 0 && height > 0) {
		if(transparent) {
			if((fillColor & -16777216) == 0) {
				fillColor = 0;
			}
		} else {
			fillColor = -16777216 | fillColor & 16777215;
		}
		fillColor = fillColor << 8 | fillColor >>> 24 & 255;
		this.image = new lime_graphics_Image(null,0,0,width,height,fillColor);
		this.image.set_transparent(transparent);
		this.__isValid = true;
		this.readable = true;
	}
	this.__renderTransform = new openfl_geom_Matrix();
	this.__worldAlpha = 1;
	this.__worldTransform = new openfl_geom_Matrix();
	this.__worldColorTransform = new openfl_geom_ColorTransform();
	this.__renderable = true;
};
$hxClasses["openfl.display.BitmapData"] = openfl_display_BitmapData;
openfl_display_BitmapData.__name__ = "openfl.display.BitmapData";
openfl_display_BitmapData.__interfaces__ = [openfl_display_IBitmapDrawable];
openfl_display_BitmapData.__textureFormat = null;
openfl_display_BitmapData.__textureInternalFormat = null;
openfl_display_BitmapData.fromBase64 = function(base64,type) {
	return null;
};
openfl_display_BitmapData.fromBytes = function(bytes,rawAlpha) {
	return null;
};
openfl_display_BitmapData.fromCanvas = function(canvas,transparent) {
	if(transparent == null) {
		transparent = true;
	}
	if(canvas == null) {
		return null;
	}
	var bitmapData = new openfl_display_BitmapData(0,0,transparent,0);
	bitmapData.__fromImage(lime_graphics_Image.fromCanvas(canvas));
	bitmapData.image.set_transparent(transparent);
	return bitmapData;
};
openfl_display_BitmapData.fromFile = function(path) {
	return null;
};
openfl_display_BitmapData.fromImage = function(image,transparent) {
	if(transparent == null) {
		transparent = true;
	}
	if(image == null || image.buffer == null) {
		return null;
	}
	var bitmapData = new openfl_display_BitmapData(0,0,transparent,0);
	bitmapData.__fromImage(image);
	bitmapData.image.set_transparent(transparent);
	if(bitmapData.image != null) {
		return bitmapData;
	} else {
		return null;
	}
};
openfl_display_BitmapData.fromTexture = function(texture) {
	if(texture == null) {
		return null;
	}
	var bitmapData = new openfl_display_BitmapData(texture.__width,texture.__height,true,0);
	bitmapData.readable = false;
	bitmapData.__texture = texture;
	bitmapData.__textureContext = texture.__textureContext;
	bitmapData.image = null;
	return bitmapData;
};
openfl_display_BitmapData.loadFromBase64 = function(base64,type) {
	return lime_graphics_Image.loadFromBase64(base64,type).then(function(image) {
		return lime_app_Future.withValue(openfl_display_BitmapData.fromImage(image));
	});
};
openfl_display_BitmapData.loadFromBytes = function(bytes,rawAlpha) {
	return lime_graphics_Image.loadFromBytes(openfl_utils_ByteArray.toBytes(bytes)).then(function(image) {
		var bitmapData = openfl_display_BitmapData.fromImage(image);
		if(rawAlpha != null) {
			bitmapData.__applyAlpha(rawAlpha);
		}
		return lime_app_Future.withValue(bitmapData);
	});
};
openfl_display_BitmapData.loadFromFile = function(path) {
	return lime_graphics_Image.loadFromFile(path).then(function(image) {
		return lime_app_Future.withValue(openfl_display_BitmapData.fromImage(image));
	});
};
openfl_display_BitmapData.prototype = {
	height: null
	,image: null
	,readable: null
	,rect: null
	,transparent: null
	,width: null
	,__blendMode: null
	,__drawableType: null
	,__framebuffer: null
	,__framebufferContext: null
	,__indexBuffer: null
	,__indexBufferContext: null
	,__indexBufferData: null
	,__indexBufferGrid: null
	,__isMask: null
	,__isValid: null
	,__mask: null
	,__renderable: null
	,__renderTransform: null
	,__scrollRect: null
	,__stencilBuffer: null
	,__surface: null
	,__texture: null
	,__textureContext: null
	,__textureHeight: null
	,__textureVersion: null
	,__textureWidth: null
	,__transform: null
	,__uvRect: null
	,__vertexBuffer: null
	,__vertexBufferContext: null
	,__vertexBufferData: null
	,__vertexBufferGrid: null
	,__vertexBufferHeight: null
	,__vertexBufferScaleX: null
	,__vertexBufferScaleY: null
	,__vertexBufferWidth: null
	,__worldAlpha: null
	,__worldColorTransform: null
	,__worldTransform: null
	,applyFilter: function(sourceBitmapData,sourceRect,destPoint,filter) {
		if(!this.readable || sourceBitmapData == null || !sourceBitmapData.readable) {
			return;
		}
		var needSecondBitmapData = filter.__needSecondBitmapData;
		var needCopyOfOriginal = filter.__preserveObject;
		var bitmapData2 = null;
		var bitmapData3 = null;
		if(needSecondBitmapData) {
			bitmapData2 = new openfl_display_BitmapData(this.width,this.height,true,0);
		} else {
			bitmapData2 = this;
		}
		if(needCopyOfOriginal) {
			bitmapData3 = new openfl_display_BitmapData(this.width,this.height,true,0);
		}
		if(filter.__preserveObject) {
			bitmapData3.copyPixels(this,this.rect,destPoint);
		}
		var lastBitmap = filter.__applyFilter(bitmapData2,this,sourceRect,destPoint);
		if(filter.__preserveObject) {
			lastBitmap.draw(bitmapData3,null,null);
		}
		if(needSecondBitmapData && lastBitmap == bitmapData2) {
			bitmapData2.image.version = this.image.version;
			this.image = bitmapData2.image;
		}
		this.image.dirty = true;
		this.image.version++;
	}
	,clone: function() {
		var bitmapData;
		if(!this.__isValid) {
			bitmapData = new openfl_display_BitmapData(this.width,this.height,this.transparent,0);
		} else if(!this.readable && this.image == null) {
			bitmapData = new openfl_display_BitmapData(0,0,this.transparent,0);
			bitmapData.width = this.width;
			bitmapData.height = this.height;
			bitmapData.__textureWidth = this.__textureWidth;
			bitmapData.__textureHeight = this.__textureHeight;
			bitmapData.rect.copyFrom(this.rect);
			bitmapData.__framebuffer = this.__framebuffer;
			bitmapData.__framebufferContext = this.__framebufferContext;
			bitmapData.__texture = this.__texture;
			bitmapData.__textureContext = this.__textureContext;
			bitmapData.__isValid = true;
		} else {
			bitmapData = openfl_display_BitmapData.fromImage(this.image.clone(),this.transparent);
		}
		bitmapData.__worldTransform.copyFrom(this.__worldTransform);
		bitmapData.__renderTransform.copyFrom(this.__renderTransform);
		return bitmapData;
	}
	,colorTransform: function(rect,colorTransform) {
		if(!this.readable) {
			return;
		}
		this.image.colorTransform(rect.__toLimeRectangle(),colorTransform.__toLimeColorMatrix());
	}
	,compare: function(otherBitmapData) {
		if(otherBitmapData == this) {
			return 0;
		} else if(otherBitmapData == null) {
			return -1;
		} else if(this.readable == false || otherBitmapData.readable == false) {
			return -2;
		} else if(this.width != otherBitmapData.width) {
			return -3;
		} else if(this.height != otherBitmapData.height) {
			return -4;
		}
		if(this.image != null && otherBitmapData.image != null && this.image.get_format() == otherBitmapData.image.get_format()) {
			var bytes = this.image.get_data();
			var otherBytes = otherBitmapData.image.get_data();
			var equal = true;
			var _g = 0;
			var _g1 = bytes.length;
			while(_g < _g1) {
				var i = _g++;
				if(bytes[i] != otherBytes[i]) {
					equal = false;
					break;
				}
			}
			if(equal) {
				return 0;
			}
		}
		var bitmapData = null;
		var foundDifference;
		var pixel;
		var otherPixel;
		var comparePixel;
		var r;
		var g;
		var b;
		var a;
		var _g = 0;
		var _g1 = this.height;
		while(_g < _g1) {
			var y = _g++;
			var _g2 = 0;
			var _g3 = this.width;
			while(_g2 < _g3) {
				var x = _g2++;
				foundDifference = false;
				pixel = this.getPixel32(x,y);
				otherPixel = otherBitmapData.getPixel32(x,y);
				comparePixel = 0;
				if(pixel != otherPixel) {
					r = (pixel >>> 16 & 255) - (otherPixel >>> 16 & 255);
					g = (pixel >>> 8 & 255) - (otherPixel >>> 8 & 255);
					b = (pixel & 255) - (otherPixel & 255);
					if(r < 0) {
						r *= -1;
					}
					if(g < 0) {
						g *= -1;
					}
					if(b < 0) {
						b *= -1;
					}
					if(r == 0 && g == 0 && b == 0) {
						a = (pixel >>> 24 & 255) - (otherPixel >>> 24 & 255);
						if(a != 0) {
							comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | 16711680 | (comparePixel >>> 8 & 255 & 255) << 8 | comparePixel & 255 & 255;
							comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | (comparePixel >>> 16 & 255 & 255) << 16 | 65280 | comparePixel & 255 & 255;
							comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | (comparePixel >>> 16 & 255 & 255) << 16 | (comparePixel >>> 8 & 255 & 255) << 8 | 255;
							comparePixel = (a & 255) << 24 | (comparePixel >>> 16 & 255 & 255) << 16 | (comparePixel >>> 8 & 255 & 255) << 8 | comparePixel & 255 & 255;
							foundDifference = true;
						}
					} else {
						comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | (r & 255) << 16 | (comparePixel >>> 8 & 255 & 255) << 8 | comparePixel & 255 & 255;
						comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | (comparePixel >>> 16 & 255 & 255) << 16 | (g & 255) << 8 | comparePixel & 255 & 255;
						comparePixel = (comparePixel >>> 24 & 255 & 255) << 24 | (comparePixel >>> 16 & 255 & 255) << 16 | (comparePixel >>> 8 & 255 & 255) << 8 | b & 255;
						comparePixel = -16777216 | (comparePixel >>> 16 & 255 & 255) << 16 | (comparePixel >>> 8 & 255 & 255) << 8 | comparePixel & 255 & 255;
						foundDifference = true;
					}
				}
				if(foundDifference) {
					if(bitmapData == null) {
						bitmapData = new openfl_display_BitmapData(this.width,this.height,this.transparent || otherBitmapData.transparent,0);
					}
					bitmapData.setPixel32(x,y,comparePixel);
				}
			}
		}
		if(bitmapData == null) {
			return 0;
		}
		return bitmapData;
	}
	,copyChannel: function(sourceBitmapData,sourceRect,destPoint,sourceChannel,destChannel) {
		if(!this.readable) {
			return;
		}
		var sourceChannel1;
		switch(sourceChannel) {
		case 1:
			sourceChannel1 = lime_graphics_ImageChannel.RED;
			break;
		case 2:
			sourceChannel1 = lime_graphics_ImageChannel.GREEN;
			break;
		case 4:
			sourceChannel1 = lime_graphics_ImageChannel.BLUE;
			break;
		case 8:
			sourceChannel1 = lime_graphics_ImageChannel.ALPHA;
			break;
		default:
			return;
		}
		var destChannel1;
		switch(destChannel) {
		case 1:
			destChannel1 = lime_graphics_ImageChannel.RED;
			break;
		case 2:
			destChannel1 = lime_graphics_ImageChannel.GREEN;
			break;
		case 4:
			destChannel1 = lime_graphics_ImageChannel.BLUE;
			break;
		case 8:
			destChannel1 = lime_graphics_ImageChannel.ALPHA;
			break;
		default:
			return;
		}
		this.image.copyChannel(sourceBitmapData.image,sourceRect.__toLimeRectangle(),destPoint.__toLimeVector2(),sourceChannel1,destChannel1);
	}
	,copyPixels: function(sourceBitmapData,sourceRect,destPoint,alphaBitmapData,alphaPoint,mergeAlpha) {
		if(mergeAlpha == null) {
			mergeAlpha = false;
		}
		if(!this.readable || sourceBitmapData == null) {
			return;
		}
		if(alphaPoint != null) {
			openfl_display_BitmapData.__tempVector.x = alphaPoint.x;
			openfl_display_BitmapData.__tempVector.y = alphaPoint.y;
		}
		this.image.copyPixels(sourceBitmapData.image,sourceRect.__toLimeRectangle(),destPoint.__toLimeVector2(),alphaBitmapData != null ? alphaBitmapData.image : null,alphaPoint != null ? openfl_display_BitmapData.__tempVector : null,mergeAlpha);
	}
	,dispose: function() {
		this.image = null;
		this.width = 0;
		this.height = 0;
		this.rect = null;
		this.__isValid = false;
		this.readable = false;
		this.__surface = null;
		this.__vertexBuffer = null;
		this.__framebuffer = null;
		this.__framebufferContext = null;
		this.__texture = null;
		this.__textureContext = null;
	}
	,disposeImage: function() {
		this.readable = false;
	}
	,draw: function(source,matrix,colorTransform,blendMode,clipRect,smoothing) {
		if(smoothing == null) {
			smoothing = false;
		}
		if(source == null) {
			return;
		}
		source.__update(false,true);
		var transform = openfl_geom_Matrix.__pool.get();
		transform.copyFrom(source.__renderTransform);
		transform.invert();
		if(matrix != null) {
			transform.concat(matrix);
		}
		var clipMatrix = null;
		if(clipRect != null) {
			clipMatrix = openfl_geom_Matrix.__pool.get();
			clipMatrix.copyFrom(transform);
			clipMatrix.invert();
		}
		var _colorTransform = new openfl_geom_ColorTransform();
		_colorTransform.__copyFrom(source.__worldColorTransform);
		_colorTransform.__invert();
		if(!this.readable && openfl_Lib.get_current().stage.context3D != null) {
			if(this.__textureContext == null) {
				this.__textureContext = lime_app_Application.current.__window.context;
			}
			if(colorTransform != null) {
				_colorTransform.__combine(colorTransform);
			}
			var renderer = new openfl_display_OpenGLRenderer(openfl_Lib.get_current().stage.context3D,this);
			renderer.__allowSmoothing = smoothing;
			renderer.__overrideBlendMode = blendMode;
			renderer.__worldTransform = transform;
			renderer.__worldAlpha = 1 / source.__worldAlpha;
			renderer.__worldColorTransform = _colorTransform;
			renderer.__resize(this.width,this.height);
			if(clipRect != null) {
				renderer.__pushMaskRect(clipRect,clipMatrix);
			}
			this.__drawGL(source,renderer);
			if(clipRect != null) {
				renderer.__popMaskRect();
				openfl_geom_Matrix.__pool.release(clipMatrix);
			}
		} else {
			if(colorTransform != null) {
				var bounds = openfl_geom_Rectangle.__pool.get();
				var boundsMatrix = openfl_geom_Matrix.__pool.get();
				source.__getBounds(bounds,boundsMatrix);
				var width = Math.ceil(bounds.width);
				var height = Math.ceil(bounds.height);
				boundsMatrix.tx = -bounds.x;
				boundsMatrix.ty = -bounds.y;
				var copy = new openfl_display_BitmapData(width,height,true,0);
				copy.draw(source,boundsMatrix);
				copy.colorTransform(copy.rect,colorTransform);
				copy.__renderTransform.identity();
				copy.__renderTransform.tx = bounds.x;
				copy.__renderTransform.ty = bounds.y;
				copy.__renderTransform.concat(source.__renderTransform);
				copy.__worldAlpha = source.__worldAlpha;
				copy.__worldColorTransform.__copyFrom(source.__worldColorTransform);
				source = copy;
				openfl_geom_Rectangle.__pool.release(bounds);
				openfl_geom_Matrix.__pool.release(boundsMatrix);
			}
			lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this.image);
			var renderer = new openfl_display_CanvasRenderer(this.image.buffer.__srcContext);
			renderer.__allowSmoothing = smoothing;
			renderer.__overrideBlendMode = blendMode;
			renderer.__worldTransform = transform;
			renderer.__worldAlpha = 1 / source.__worldAlpha;
			renderer.__worldColorTransform = _colorTransform;
			if(clipRect != null) {
				renderer.__pushMaskRect(clipRect,clipMatrix);
			}
			this.__drawCanvas(source,renderer);
			if(clipRect != null) {
				renderer.__popMaskRect();
				openfl_geom_Matrix.__pool.release(clipMatrix);
			}
		}
		openfl_geom_Matrix.__pool.release(transform);
	}
	,drawWithQuality: function(source,matrix,colorTransform,blendMode,clipRect,smoothing,quality) {
		if(smoothing == null) {
			smoothing = false;
		}
		this.draw(source,matrix,colorTransform,blendMode,clipRect,quality != 2 && smoothing);
	}
	,encode: function(rect,compressor,byteArray) {
		if(!this.readable || rect == null) {
			byteArray = null;
			return byteArray;
		}
		if(byteArray == null) {
			var this1 = new openfl_utils_ByteArrayData(0);
			byteArray = this1;
		}
		var image = this.image;
		if(!rect.equals(this.rect)) {
			var matrix = openfl_geom_Matrix.__pool.get();
			matrix.tx = Math.round(-rect.x);
			matrix.ty = Math.round(-rect.y);
			var bitmapData = new openfl_display_BitmapData(Math.ceil(rect.width),Math.ceil(rect.height),true,0);
			bitmapData.draw(this,matrix);
			image = bitmapData.image;
			openfl_geom_Matrix.__pool.release(matrix);
		}
		if(((compressor) instanceof openfl_display_PNGEncoderOptions)) {
			byteArray.writeBytes(openfl_utils_ByteArray.fromBytes(image.encode(lime_graphics_ImageFileFormat.PNG)),0,0);
			return byteArray;
		} else if(((compressor) instanceof openfl_display_JPEGEncoderOptions)) {
			byteArray.writeBytes(openfl_utils_ByteArray.fromBytes(image.encode(lime_graphics_ImageFileFormat.JPEG,(js_Boot.__cast(compressor , openfl_display_JPEGEncoderOptions)).quality)),0,0);
			return byteArray;
		}
		byteArray = null;
		return byteArray;
	}
	,fillRect: function(rect,color) {
		this.__fillRect(rect,color,true);
	}
	,floodFill: function(x,y,color) {
		if(!this.readable) {
			return;
		}
		this.image.floodFill(x,y,color,1);
	}
	,generateFilterRect: function(sourceRect,filter) {
		return sourceRect.clone();
	}
	,getIndexBuffer: function(context,scale9Grid) {
		var gl = context.gl;
		if(this.__indexBuffer == null || this.__indexBufferContext != context.__context || scale9Grid != null && this.__indexBufferGrid == null || this.__indexBufferGrid != null && !this.__indexBufferGrid.equals(scale9Grid)) {
			this.__indexBufferContext = context.__context;
			this.__indexBuffer = null;
			if(scale9Grid != null) {
				if(this.__indexBufferGrid == null) {
					this.__indexBufferGrid = new openfl_geom_Rectangle();
				}
				this.__indexBufferGrid.copyFrom(scale9Grid);
				var centerX = scale9Grid.width;
				var centerY = scale9Grid.height;
				if(centerX != 0 && centerY != 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Uint16Array(54);
					this.__indexBufferData = this1;
					this.__indexBufferData[0] = 0;
					this.__indexBufferData[1] = 1;
					this.__indexBufferData[2] = 2;
					this.__indexBufferData[3] = 2;
					this.__indexBufferData[4] = 1;
					this.__indexBufferData[5] = 3;
					this.__indexBufferData[6] = 4;
					this.__indexBufferData[7] = 0;
					this.__indexBufferData[8] = 5;
					this.__indexBufferData[9] = 5;
					this.__indexBufferData[10] = 0;
					this.__indexBufferData[11] = 2;
					this.__indexBufferData[12] = 6;
					this.__indexBufferData[13] = 4;
					this.__indexBufferData[14] = 7;
					this.__indexBufferData[15] = 7;
					this.__indexBufferData[16] = 4;
					this.__indexBufferData[17] = 5;
					this.__indexBufferData[18] = 8;
					this.__indexBufferData[19] = 9;
					this.__indexBufferData[20] = 0;
					this.__indexBufferData[21] = 0;
					this.__indexBufferData[22] = 9;
					this.__indexBufferData[23] = 1;
					this.__indexBufferData[24] = 10;
					this.__indexBufferData[25] = 8;
					this.__indexBufferData[26] = 4;
					this.__indexBufferData[27] = 4;
					this.__indexBufferData[28] = 8;
					this.__indexBufferData[29] = 0;
					this.__indexBufferData[30] = 11;
					this.__indexBufferData[31] = 10;
					this.__indexBufferData[32] = 6;
					this.__indexBufferData[33] = 6;
					this.__indexBufferData[34] = 10;
					this.__indexBufferData[35] = 4;
					this.__indexBufferData[36] = 12;
					this.__indexBufferData[37] = 13;
					this.__indexBufferData[38] = 8;
					this.__indexBufferData[39] = 8;
					this.__indexBufferData[40] = 13;
					this.__indexBufferData[41] = 9;
					this.__indexBufferData[42] = 14;
					this.__indexBufferData[43] = 12;
					this.__indexBufferData[44] = 10;
					this.__indexBufferData[45] = 10;
					this.__indexBufferData[46] = 12;
					this.__indexBufferData[47] = 8;
					this.__indexBufferData[48] = 15;
					this.__indexBufferData[49] = 14;
					this.__indexBufferData[50] = 11;
					this.__indexBufferData[51] = 11;
					this.__indexBufferData[52] = 14;
					this.__indexBufferData[53] = 10;
					this.__indexBuffer = context.createIndexBuffer(54);
				} else if(centerX == 0 && centerY != 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Uint16Array(18);
					this.__indexBufferData = this1;
					this.__indexBufferData[0] = 0;
					this.__indexBufferData[1] = 1;
					this.__indexBufferData[2] = 2;
					this.__indexBufferData[3] = 2;
					this.__indexBufferData[4] = 1;
					this.__indexBufferData[5] = 3;
					this.__indexBufferData[6] = 4;
					this.__indexBufferData[7] = 5;
					this.__indexBufferData[8] = 0;
					this.__indexBufferData[9] = 0;
					this.__indexBufferData[10] = 5;
					this.__indexBufferData[11] = 1;
					this.__indexBufferData[12] = 6;
					this.__indexBufferData[13] = 7;
					this.__indexBufferData[14] = 4;
					this.__indexBufferData[15] = 4;
					this.__indexBufferData[16] = 7;
					this.__indexBufferData[17] = 5;
					this.__indexBuffer = context.createIndexBuffer(18);
				} else if(centerX != 0 && centerY == 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Uint16Array(18);
					this.__indexBufferData = this1;
					this.__indexBufferData[0] = 0;
					this.__indexBufferData[1] = 1;
					this.__indexBufferData[2] = 2;
					this.__indexBufferData[3] = 2;
					this.__indexBufferData[4] = 1;
					this.__indexBufferData[5] = 3;
					this.__indexBufferData[6] = 4;
					this.__indexBufferData[7] = 0;
					this.__indexBufferData[8] = 5;
					this.__indexBufferData[9] = 5;
					this.__indexBufferData[10] = 0;
					this.__indexBufferData[11] = 2;
					this.__indexBufferData[12] = 6;
					this.__indexBufferData[13] = 4;
					this.__indexBufferData[14] = 7;
					this.__indexBufferData[15] = 7;
					this.__indexBufferData[16] = 4;
					this.__indexBufferData[17] = 5;
					this.__indexBuffer = context.createIndexBuffer(18);
				}
			} else {
				this.__indexBufferGrid = null;
			}
			if(this.__indexBuffer == null) {
				var array = null;
				var vector = null;
				var view = null;
				var buffer = null;
				var len = null;
				var this1 = new Uint16Array(6);
				this.__indexBufferData = this1;
				this.__indexBufferData[0] = 0;
				this.__indexBufferData[1] = 1;
				this.__indexBufferData[2] = 2;
				this.__indexBufferData[3] = 2;
				this.__indexBufferData[4] = 1;
				this.__indexBufferData[5] = 3;
				this.__indexBuffer = context.createIndexBuffer(6);
			}
			this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData);
		}
		return this.__indexBuffer;
	}
	,getVertexBuffer: function(context,scale9Grid,targetObject) {
		var gl = context.gl;
		if(this.__vertexBuffer == null || this.__vertexBufferContext != context.__context || scale9Grid != null && this.__vertexBufferGrid == null || this.__vertexBufferGrid != null && !this.__vertexBufferGrid.equals(scale9Grid) || targetObject != null && (this.__vertexBufferWidth != targetObject.get_width() || this.__vertexBufferHeight != targetObject.get_height() || this.__vertexBufferScaleX != targetObject.get_scaleX() || this.__vertexBufferScaleY != targetObject.get_scaleY())) {
			this.__uvRect = new openfl_geom_Rectangle(0,0,this.width,this.height);
			var uvWidth = 1;
			var uvHeight = 1;
			this.__vertexBufferContext = context.__context;
			this.__vertexBuffer = null;
			if(targetObject != null) {
				this.__vertexBufferWidth = targetObject.get_width();
				this.__vertexBufferHeight = targetObject.get_height();
				this.__vertexBufferScaleX = targetObject.get_scaleX();
				this.__vertexBufferScaleY = targetObject.get_scaleY();
			}
			if(scale9Grid != null && targetObject != null) {
				if(this.__vertexBufferGrid == null) {
					this.__vertexBufferGrid = new openfl_geom_Rectangle();
				}
				this.__vertexBufferGrid.copyFrom(scale9Grid);
				this.__vertexBufferWidth = targetObject.get_width();
				this.__vertexBufferHeight = targetObject.get_height();
				this.__vertexBufferScaleX = targetObject.get_scaleX();
				this.__vertexBufferScaleY = targetObject.get_scaleY();
				var centerX = scale9Grid.width;
				var centerY = scale9Grid.height;
				if(centerX != 0 && centerY != 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Float32Array(224);
					this.__vertexBufferData = this1;
					var left = scale9Grid.x;
					var top = scale9Grid.y;
					var right = this.width - centerX - left;
					var bottom = this.height - centerY - top;
					var uvLeft = left / this.width;
					var uvTop = top / this.height;
					var uvCenterX = centerX / this.width;
					var uvCenterY = centerY / this.height;
					var uvRight = right / this.width;
					var uvBottom = bottom / this.height;
					var renderedLeft = left / targetObject.get_scaleX();
					var renderedTop = top / targetObject.get_scaleY();
					var renderedRight = right / targetObject.get_scaleX();
					var renderedBottom = bottom / targetObject.get_scaleY();
					var renderedCenterX = targetObject.get_width() / targetObject.get_scaleX() - renderedLeft - renderedRight;
					var renderedCenterY = targetObject.get_height() / targetObject.get_scaleY() - renderedTop - renderedBottom;
					this.__vertexBufferData[0] = renderedLeft;
					this.__vertexBufferData[1] = renderedTop;
					this.__vertexBufferData[3] = uvWidth * uvLeft;
					this.__vertexBufferData[4] = uvHeight * uvTop;
					this.__vertexBufferData[15] = renderedTop;
					this.__vertexBufferData[18] = uvHeight * uvTop;
					this.__vertexBufferData[28] = renderedLeft;
					this.__vertexBufferData[31] = uvWidth * uvLeft;
					this.__vertexBufferData[56] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[57] = renderedTop;
					this.__vertexBufferData[59] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[60] = uvHeight * uvTop;
					this.__vertexBufferData[70] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[73] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[84] = this.width;
					this.__vertexBufferData[85] = renderedTop;
					this.__vertexBufferData[87] = uvWidth;
					this.__vertexBufferData[88] = uvHeight * uvTop;
					this.__vertexBufferData[98] = this.width;
					this.__vertexBufferData[101] = uvWidth;
					this.__vertexBufferData[112] = renderedLeft;
					this.__vertexBufferData[113] = renderedTop + renderedCenterY;
					this.__vertexBufferData[115] = uvWidth * uvLeft;
					this.__vertexBufferData[116] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[127] = renderedTop + renderedCenterY;
					this.__vertexBufferData[130] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[140] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[141] = renderedTop + renderedCenterY;
					this.__vertexBufferData[143] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[144] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[154] = this.width;
					this.__vertexBufferData[155] = renderedTop + renderedCenterY;
					this.__vertexBufferData[157] = uvWidth;
					this.__vertexBufferData[158] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[168] = renderedLeft;
					this.__vertexBufferData[169] = this.height;
					this.__vertexBufferData[171] = uvWidth * uvLeft;
					this.__vertexBufferData[172] = uvHeight;
					this.__vertexBufferData[183] = this.height;
					this.__vertexBufferData[186] = uvHeight;
					this.__vertexBufferData[196] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[197] = this.height;
					this.__vertexBufferData[199] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[200] = uvHeight;
					this.__vertexBufferData[210] = this.width;
					this.__vertexBufferData[211] = this.height;
					this.__vertexBufferData[213] = uvWidth;
					this.__vertexBufferData[214] = uvHeight;
					this.__vertexBuffer = context.createVertexBuffer(16,14);
				} else if(centerX == 0 && centerY != 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Float32Array(112);
					this.__vertexBufferData = this1;
					var top = scale9Grid.y;
					var bottom = this.height - centerY - top;
					var uvTop = top / this.height;
					var uvCenterY = centerY / this.height;
					var uvBottom = bottom / this.height;
					var renderedTop = top / targetObject.get_scaleY();
					var renderedBottom = bottom / targetObject.get_scaleY();
					var renderedCenterY = targetObject.get_height() / targetObject.get_scaleY() - renderedTop - renderedBottom;
					var renderedWidth = targetObject.get_width() / targetObject.get_scaleX();
					this.__vertexBufferData[0] = renderedWidth;
					this.__vertexBufferData[1] = renderedTop;
					this.__vertexBufferData[3] = uvWidth;
					this.__vertexBufferData[4] = uvHeight * uvTop;
					this.__vertexBufferData[15] = renderedTop;
					this.__vertexBufferData[18] = uvHeight * uvTop;
					this.__vertexBufferData[28] = renderedWidth;
					this.__vertexBufferData[31] = uvWidth;
					this.__vertexBufferData[56] = renderedWidth;
					this.__vertexBufferData[57] = renderedTop + renderedCenterY;
					this.__vertexBufferData[59] = uvWidth;
					this.__vertexBufferData[60] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[71] = renderedTop + renderedCenterY;
					this.__vertexBufferData[74] = uvHeight * (uvTop + uvCenterY);
					this.__vertexBufferData[84] = renderedWidth;
					this.__vertexBufferData[85] = this.height;
					this.__vertexBufferData[87] = uvWidth;
					this.__vertexBufferData[88] = uvHeight;
					this.__vertexBufferData[99] = this.height;
					this.__vertexBufferData[102] = uvHeight;
					this.__vertexBuffer = context.createVertexBuffer(8,14);
				} else if(centerY == 0 && centerX != 0) {
					var array = null;
					var vector = null;
					var view = null;
					var buffer = null;
					var len = null;
					var this1 = new Float32Array(112);
					this.__vertexBufferData = this1;
					var left = scale9Grid.x;
					var right = this.width - centerX - left;
					var uvLeft = left / this.width;
					var uvCenterX = centerX / this.width;
					var uvRight = right / this.width;
					var renderedLeft = left / targetObject.get_scaleX();
					var renderedRight = right / targetObject.get_scaleX();
					var renderedCenterX = targetObject.get_width() / targetObject.get_scaleX() - renderedLeft - renderedRight;
					var renderedHeight = targetObject.get_height() / targetObject.get_scaleY();
					this.__vertexBufferData[0] = renderedLeft;
					this.__vertexBufferData[1] = renderedHeight;
					this.__vertexBufferData[3] = uvWidth * uvLeft;
					this.__vertexBufferData[4] = uvHeight;
					this.__vertexBufferData[15] = renderedHeight;
					this.__vertexBufferData[18] = uvHeight;
					this.__vertexBufferData[28] = renderedLeft;
					this.__vertexBufferData[31] = uvWidth * uvLeft;
					this.__vertexBufferData[56] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[57] = renderedHeight;
					this.__vertexBufferData[59] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[60] = uvHeight;
					this.__vertexBufferData[70] = renderedLeft + renderedCenterX;
					this.__vertexBufferData[73] = uvWidth * (uvLeft + uvCenterX);
					this.__vertexBufferData[84] = this.width;
					this.__vertexBufferData[85] = renderedHeight;
					this.__vertexBufferData[87] = uvWidth;
					this.__vertexBufferData[88] = uvHeight;
					this.__vertexBufferData[98] = this.width;
					this.__vertexBufferData[101] = uvWidth;
					this.__vertexBuffer = context.createVertexBuffer(8,14);
				}
			} else {
				this.__vertexBufferGrid = null;
			}
			if(this.__vertexBuffer == null) {
				var array = null;
				var vector = null;
				var view = null;
				var buffer = null;
				var len = null;
				var this1 = new Float32Array(56);
				this.__vertexBufferData = this1;
				this.__vertexBufferData[0] = this.width;
				this.__vertexBufferData[1] = this.height;
				this.__vertexBufferData[3] = uvWidth;
				this.__vertexBufferData[4] = uvHeight;
				this.__vertexBufferData[15] = this.height;
				this.__vertexBufferData[18] = uvHeight;
				this.__vertexBufferData[28] = this.width;
				this.__vertexBufferData[31] = uvWidth;
				this.__vertexBuffer = context.createVertexBuffer(3,14);
			}
			this.__vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__vertexBufferData));
		}
		return this.__vertexBuffer;
	}
	,getColorBoundsRect: function(mask,color,findColor) {
		if(findColor == null) {
			findColor = true;
		}
		if(!this.readable) {
			return new openfl_geom_Rectangle(0,0,this.width,this.height);
		}
		if(!this.transparent || (mask >> 24 & 255) > 0) {
			var color1 = color;
			if((color1 >>> 24 & 255) == 0) {
				color1 = 0;
			}
		}
		var rect = this.image.getColorBoundsRect(mask,color,findColor,1);
		return new openfl_geom_Rectangle(rect.x,rect.y,rect.width,rect.height);
	}
	,getPixel: function(x,y) {
		if(!this.readable) {
			return 0;
		}
		return this.image.getPixel(x,y,1);
	}
	,getPixel32: function(x,y) {
		if(!this.readable) {
			return 0;
		}
		return this.image.getPixel32(x,y,1);
	}
	,getPixels: function(rect) {
		if(!this.readable) {
			return null;
		}
		if(rect == null) {
			rect = this.rect;
		}
		var byteArray = openfl_utils_ByteArray.fromBytes(this.image.getPixels(rect.__toLimeRectangle(),1));
		byteArray.__endian = 0;
		return byteArray;
	}
	,getSurface: function() {
		if(!this.readable) {
			return null;
		}
		if(this.__surface == null) {
			this.__surface = lime_graphics_cairo_CairoImageSurface.fromImage(this.image);
		}
		return this.__surface;
	}
	,getTexture: function(context) {
		if(!this.__isValid) {
			return null;
		}
		if(this.__texture == null || this.__textureContext != context.__context) {
			this.__textureContext = context.__context;
			this.__texture = context.createRectangleTexture(this.width,this.height,1,false);
			this.__textureVersion = -1;
		}
		lime__$internal_graphics_ImageCanvasUtil.sync(this.image,false);
		if(this.image != null && this.image.version > this.__textureVersion) {
			if(this.__surface != null) {
				lime_graphics_cairo_CairoSurface.flush(this.__surface);
			}
			var textureImage = this.image;
			if(!openfl_display3D_textures_TextureBase.__supportsBGRA && textureImage.get_format() != 0) {
				textureImage = textureImage.clone();
				textureImage.set_format(0);
			}
			this.__texture.__uploadFromImage(textureImage);
			this.__textureVersion = this.image.version;
			this.__textureWidth = textureImage.buffer.width;
			this.__textureHeight = textureImage.buffer.height;
		}
		if(!this.readable && this.image != null) {
			this.__surface = null;
			this.image = null;
		}
		return this.__texture;
	}
	,getVector: function(rect) {
		var pixels = this.getPixels(rect);
		var length = UInt.toFloat(openfl_utils_ByteArray.get_length(pixels)) / UInt.toFloat(4) | 0;
		var result = openfl_Vector.toIntVector(null,length,true);
		var _g = 0;
		var _g1 = length;
		while(_g < _g1) {
			var i = _g++;
			result.set(i,pixels.readUnsignedInt());
		}
		return result;
	}
	,histogram: function(hRect) {
		var rect = hRect != null ? hRect : new openfl_geom_Rectangle(0,0,this.width,this.height);
		var pixels = this.getPixels(rect);
		var _g = [];
		var _g1 = [];
		var _g2 = 0;
		while(_g2 < 256) {
			var j = _g2++;
			_g1.push(0);
		}
		_g.push(_g1);
		var _g1 = [];
		var _g2 = 0;
		while(_g2 < 256) {
			var j = _g2++;
			_g1.push(0);
		}
		_g.push(_g1);
		var _g1 = [];
		var _g2 = 0;
		while(_g2 < 256) {
			var j = _g2++;
			_g1.push(0);
		}
		_g.push(_g1);
		var _g1 = [];
		var _g2 = 0;
		while(_g2 < 256) {
			var j = _g2++;
			_g1.push(0);
		}
		_g.push(_g1);
		var result = _g;
		var _g = 0;
		var _g1 = openfl_utils_ByteArray.get_length(pixels);
		while(_g < _g1) {
			var i = _g++;
			var result1 = result[i % 4];
			++result1[pixels.readUnsignedByte()];
		}
		return result;
	}
	,hitTest: function(firstPoint,firstAlphaThreshold,secondObject,secondBitmapDataPoint,secondAlphaThreshold) {
		if(secondAlphaThreshold == null) {
			secondAlphaThreshold = 1;
		}
		if(!this.readable) {
			return false;
		}
		if(((secondObject) instanceof openfl_display_Bitmap)) {
			secondObject = (js_Boot.__cast(secondObject , openfl_display_Bitmap)).__bitmapData;
		}
		if(((secondObject) instanceof openfl_geom_Point)) {
			var secondPoint = secondObject;
			var x = secondPoint.x - firstPoint.x | 0;
			var y = secondPoint.y - firstPoint.y | 0;
			if(this.rect.contains(x,y)) {
				var pixel = this.getPixel32(x,y);
				if((pixel >> 24 & 255) > firstAlphaThreshold) {
					return true;
				}
			}
		} else if(((secondObject) instanceof openfl_display_BitmapData)) {
			var secondBitmapData = secondObject;
			var x;
			var y;
			if(secondBitmapDataPoint == null) {
				x = 0;
				y = 0;
			} else {
				x = Math.round(secondBitmapDataPoint.x - firstPoint.x);
				y = Math.round(secondBitmapDataPoint.y - firstPoint.y);
			}
			var hitRect = openfl_geom_Rectangle.__pool.get();
			hitRect.setTo(x,y,secondBitmapData.width,secondBitmapData.height);
			if(this.rect.intersects(hitRect)) {
				if(x < 0) {
					hitRect.x = 0;
					hitRect.width = Math.min(secondBitmapData.width + x,this.width);
				} else {
					hitRect.width = Math.min(secondBitmapData.width,this.width - x);
				}
				if(y < 0) {
					hitRect.y = 0;
					hitRect.height = Math.min(secondBitmapData.height + y,this.height);
				} else {
					hitRect.height = Math.min(secondBitmapData.height,this.height - y);
				}
				var pixels = this.getPixels(hitRect);
				hitRect.x = x < 0 ? -x : 0;
				hitRect.y = y < 0 ? -y : 0;
				var testPixels = secondBitmapData.getPixels(hitRect);
				var length = hitRect.width * hitRect.height | 0;
				var pixel;
				var testPixel;
				var _g = 0;
				var _g1 = length;
				while(_g < _g1) {
					var i = _g++;
					pixel = pixels.readUnsignedInt();
					testPixel = testPixels.readUnsignedInt();
					if(UInt.gt(pixel >>> 24 & 255,firstAlphaThreshold) && UInt.gt(testPixel >>> 24 & 255,secondAlphaThreshold)) {
						openfl_geom_Rectangle.__pool.release(hitRect);
						return true;
					}
				}
			}
			openfl_geom_Rectangle.__pool.release(hitRect);
		} else if(((secondObject) instanceof openfl_geom_Rectangle)) {
			var secondRectangle = openfl_geom_Rectangle.__pool.get();
			secondRectangle.copyFrom(secondObject);
			secondRectangle.offset(-firstPoint.x,-firstPoint.y);
			secondRectangle.__contract(0,0,this.width,this.height);
			if(secondRectangle.width > 0 && secondRectangle.height > 0) {
				var pixels = this.getPixels(secondRectangle);
				var length = UInt.toFloat(openfl_utils_ByteArray.get_length(pixels)) / UInt.toFloat(4) | 0;
				var pixel;
				var _g = 0;
				var _g1 = length;
				while(_g < _g1) {
					var i = _g++;
					pixel = pixels.readUnsignedInt();
					if(UInt.gt(pixel >>> 24 & 255,firstAlphaThreshold)) {
						openfl_geom_Rectangle.__pool.release(secondRectangle);
						return true;
					}
				}
			}
			openfl_geom_Rectangle.__pool.release(secondRectangle);
		}
		return false;
	}
	,lock: function() {
	}
	,merge: function(sourceBitmapData,sourceRect,destPoint,redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier) {
		if(!this.readable || sourceBitmapData == null || !sourceBitmapData.readable || sourceRect == null || destPoint == null) {
			return;
		}
		this.image.merge(sourceBitmapData.image,sourceRect.__toLimeRectangle(),destPoint.__toLimeVector2(),redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier);
	}
	,noise: function(randomSeed,low,high,channelOptions,grayScale) {
		if(grayScale == null) {
			grayScale = false;
		}
		if(channelOptions == null) {
			channelOptions = 7;
		}
		if(high == null) {
			high = 255;
		}
		if(low == null) {
			low = 0;
		}
		if(!this.readable) {
			return;
		}
		var func = function() {
			randomSeed = randomSeed * 1103515245 + 12345;
			return (Math.abs(randomSeed / 65536) | 0) % 32768;
		};
		var rand = func;
		rand();
		var range = high - low;
		var redChannel = (channelOptions & 1) == 1;
		var greenChannel = (channelOptions & 2) >> 1 == 1;
		var blueChannel = (channelOptions & 4) >> 2 == 1;
		var alphaChannel = (channelOptions & 8) >> 3 == 1;
		var _g = 0;
		var _g1 = this.height;
		while(_g < _g1) {
			var y = _g++;
			var _g2 = 0;
			var _g3 = this.width;
			while(_g2 < _g3) {
				var x = _g2++;
				var red = 0;
				var blue = 0;
				var green = 0;
				var alpha = 255;
				if(grayScale) {
					blue = low + rand() % range;
					green = blue;
					red = green;
					alpha = 255;
				} else {
					if(redChannel) {
						red = low + rand() % range;
					}
					if(greenChannel) {
						green = low + rand() % range;
					}
					if(blueChannel) {
						blue = low + rand() % range;
					}
					if(alphaChannel) {
						alpha = low + rand() % range;
					}
				}
				var rgb = alpha;
				rgb = (rgb << 8) + red;
				rgb = (rgb << 8) + green;
				rgb = (rgb << 8) + blue;
				this.setPixel32(x,y,rgb);
			}
		}
	}
	,paletteMap: function(sourceBitmapData,sourceRect,destPoint,redArray,greenArray,blueArray,alphaArray) {
		var sw = sourceRect.width | 0;
		var sh = sourceRect.height | 0;
		var pixels = sourceBitmapData.getPixels(sourceRect);
		var pixelValue;
		var r;
		var g;
		var b;
		var a;
		var color;
		var _g = 0;
		var _g1 = sh * sw;
		while(_g < _g1) {
			var i = _g++;
			pixelValue = pixels.readUnsignedInt();
			a = alphaArray == null ? pixelValue & -16777216 : alphaArray[pixelValue >> 24 & 255];
			r = redArray == null ? pixelValue & 16711680 : redArray[pixelValue >> 16 & 255];
			g = greenArray == null ? pixelValue & 65280 : greenArray[pixelValue >> 8 & 255];
			b = blueArray == null ? pixelValue & 255 : blueArray[pixelValue & 255];
			color = a + r + g + b;
			pixels.position = i * 4;
			pixels.writeUnsignedInt(color);
		}
		pixels.position = 0;
		var destRect = openfl_geom_Rectangle.__pool.get();
		destRect.setTo(destPoint.x,destPoint.y,sw,sh);
		this.setPixels(destRect,pixels);
		openfl_geom_Rectangle.__pool.release(destRect);
	}
	,perlinNoise: function(baseX,baseY,numOctaves,randomSeed,stitch,fractalNoise,channelOptions,grayScale,offsets) {
		if(grayScale == null) {
			grayScale = false;
		}
		if(channelOptions == null) {
			channelOptions = 7;
		}
		if(!this.readable) {
			return;
		}
		var noise = new openfl_display__$internal_PerlinNoise(randomSeed,numOctaves,channelOptions,grayScale,0.5,stitch,0.15);
		noise.fill(this,baseX,baseY,0);
	}
	,scroll: function(x,y) {
		if(!this.readable) {
			return;
		}
		this.image.scroll(x,y);
	}
	,setPixel: function(x,y,color) {
		if(!this.readable) {
			return;
		}
		this.image.setPixel(x,y,color,1);
	}
	,setPixel32: function(x,y,color) {
		if(!this.readable) {
			return;
		}
		this.image.setPixel32(x,y,color,1);
	}
	,setPixels: function(rect,byteArray) {
		if(!this.readable || rect == null) {
			return;
		}
		var length = rect.width * rect.height * 4;
		if(UInt.toFloat(byteArray.length - byteArray.position) < length) {
			throw new openfl_errors_Error("End of file was encountered.",2030);
		}
		this.image.setPixels(rect.__toLimeRectangle(),openfl_utils_ByteArray.toBytePointer(byteArray),1,openfl_utils_Endian.toLimeEndian(byteArray.__endian));
	}
	,setVector: function(rect,inputVector) {
		var this1 = new openfl_utils_ByteArrayData(0);
		var byteArray = this1;
		openfl_utils_ByteArray.set_length(byteArray,inputVector.get_length() * 4);
		var color = inputVector.iterator();
		while(color.hasNext()) {
			var color1 = color.next();
			byteArray.writeUnsignedInt(color1);
		}
		byteArray.position = 0;
		this.setPixels(rect,byteArray);
	}
	,threshold: function(sourceBitmapData,sourceRect,destPoint,operation,threshold,color,mask,copySource) {
		if(copySource == null) {
			copySource = false;
		}
		if(mask == null) {
			mask = -1;
		}
		if(color == null) {
			color = 0;
		}
		if(sourceBitmapData == null || sourceRect == null || destPoint == null || sourceRect.x > sourceBitmapData.width || sourceRect.y > sourceBitmapData.height || destPoint.x > this.width || destPoint.y > this.height) {
			return 0;
		}
		return this.image.threshold(sourceBitmapData.image,sourceRect.__toLimeRectangle(),destPoint.__toLimeVector2(),operation,threshold,color,mask,copySource,1);
	}
	,unlock: function(changeRect) {
	}
	,__applyAlpha: function(alpha) {
		lime__$internal_graphics_ImageCanvasUtil.convertToCanvas(this.image);
		lime__$internal_graphics_ImageCanvasUtil.createImageData(this.image);
		var data = this.image.buffer.data;
		var _g = 0;
		var _g1 = openfl_utils_ByteArray.get_length(alpha);
		while(_g < _g1) {
			var i = _g++;
			data[i * 4 + 3] = alpha.readUnsignedByte();
		}
		this.image.version++;
	}
	,__drawCairo: function(source,renderer) {
	}
	,__drawCanvas: function(source,renderer) {
		var buffer = this.image.buffer;
		if(!renderer.__allowSmoothing) {
			renderer.applySmoothing(buffer.__srcContext,false);
		}
		renderer.__render(source);
		if(!renderer.__allowSmoothing) {
			renderer.applySmoothing(buffer.__srcContext,true);
		}
		buffer.__srcContext.setTransform(1,0,0,1,0,0);
		buffer.__srcImageData = null;
		buffer.data = null;
		this.image.dirty = true;
		this.image.version++;
	}
	,__drawGL: function(source,renderer) {
		var context = renderer.__context3D;
		var cacheRTT = context.__state.renderToTexture;
		var cacheRTTDepthStencil = context.__state.renderToTextureDepthStencil;
		var cacheRTTAntiAlias = context.__state.renderToTextureAntiAlias;
		var cacheRTTSurfaceSelector = context.__state.renderToTextureSurfaceSelector;
		context.setRenderToTexture(this.getTexture(context),true);
		renderer.__render(source);
		if(cacheRTT != null) {
			context.setRenderToTexture(cacheRTT,cacheRTTDepthStencil,cacheRTTAntiAlias,cacheRTTSurfaceSelector);
		} else {
			context.setRenderToBackBuffer();
		}
	}
	,__fillRect: function(rect,color,allowFramebuffer) {
		if(rect == null) {
			return;
		}
		if(this.transparent && (color & -16777216) == 0) {
			color = 0;
		}
		if(allowFramebuffer && this.__texture != null && this.__texture.__glFramebuffer != null && openfl_Lib.get_current().stage.__renderer.__type == "opengl") {
			var renderer = openfl_Lib.get_current().stage.__renderer;
			var context = renderer.__context3D;
			var color1 = color;
			var useScissor = !this.rect.equals(rect);
			var cacheRTT = context.__state.renderToTexture;
			var cacheRTTDepthStencil = context.__state.renderToTextureDepthStencil;
			var cacheRTTAntiAlias = context.__state.renderToTextureAntiAlias;
			var cacheRTTSurfaceSelector = context.__state.renderToTextureSurfaceSelector;
			context.setRenderToTexture(this.__texture);
			if(useScissor) {
				context.setScissorRectangle(rect);
			}
			context.clear((color1 >>> 16 & 255) / 255,(color1 >>> 8 & 255) / 255,(color1 & 255) / 255,this.transparent ? (color1 >>> 24 & 255) / 255 : 1,0,0,1);
			if(useScissor) {
				context.setScissorRectangle(null);
			}
			if(cacheRTT != null) {
				context.setRenderToTexture(cacheRTT,cacheRTTDepthStencil,cacheRTTAntiAlias,cacheRTTSurfaceSelector);
			} else {
				context.setRenderToBackBuffer();
			}
		} else if(this.readable) {
			this.image.fillRect(rect.__toLimeRectangle(),color,1);
		}
	}
	,__fromBase64: function(base64,type) {
		var image = lime_graphics_Image.fromBase64(base64,type);
		this.__fromImage(image);
	}
	,__fromBytes: function(bytes,rawAlpha) {
		var image = lime_graphics_Image.fromBytes(openfl_utils_ByteArray.toBytes(bytes));
		this.__fromImage(image);
		if(rawAlpha != null) {
			this.__applyAlpha(rawAlpha);
		}
	}
	,__fromFile: function(path) {
		var image = lime_graphics_Image.fromFile(path);
		this.__fromImage(image);
	}
	,__fromImage: function(image) {
		if(image != null && image.buffer != null) {
			this.image = image;
			this.width = image.width;
			this.height = image.height;
			this.rect = new openfl_geom_Rectangle(0,0,image.width,image.height);
			this.__textureWidth = this.width;
			this.__textureHeight = this.height;
			this.readable = true;
			this.__isValid = true;
		}
	}
	,__getBounds: function(rect,matrix) {
		var bounds = openfl_geom_Rectangle.__pool.get();
		this.rect.__transform(bounds,matrix);
		rect.__expand(bounds.x,bounds.y,bounds.width,bounds.height);
		openfl_geom_Rectangle.__pool.release(bounds);
	}
	,__loadFromBase64: function(base64,type) {
		var _gthis = this;
		return lime_graphics_Image.loadFromBase64(base64,type).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		});
	}
	,__loadFromBytes: function(bytes,rawAlpha) {
		var _gthis = this;
		return lime_graphics_Image.loadFromBytes(openfl_utils_ByteArray.toBytes(bytes)).then(function(image) {
			_gthis.__fromImage(image);
			if(rawAlpha != null) {
				_gthis.__applyAlpha(rawAlpha);
			}
			return lime_app_Future.withValue(_gthis);
		});
	}
	,__loadFromFile: function(path) {
		var _gthis = this;
		return lime_graphics_Image.loadFromFile(path).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		});
	}
	,__resize: function(width,height) {
		this.width = width;
		this.height = height;
		this.rect.width = width;
		this.rect.height = height;
		this.__textureWidth = width;
		this.__textureHeight = height;
	}
	,__setUVRect: function(context,x,y,width,height) {
		var buffer = this.getVertexBuffer(context);
		if(buffer != null && (width != this.__uvRect.width || height != this.__uvRect.height || x != this.__uvRect.x || y != this.__uvRect.y)) {
			var gl = context.gl;
			if(this.__uvRect == null) {
				this.__uvRect = new openfl_geom_Rectangle();
			}
			this.__uvRect.setTo(x,y,width,height);
			var uvX = this.__textureWidth > 0 ? x / this.__textureWidth : 0;
			var uvY = this.__textureHeight > 0 ? y / this.__textureHeight : 0;
			var uvWidth = this.__textureWidth > 0 ? width / this.__textureWidth : 0;
			var uvHeight = this.__textureHeight > 0 ? height / this.__textureHeight : 0;
			this.__vertexBufferData[0] = width;
			this.__vertexBufferData[1] = height;
			this.__vertexBufferData[3] = uvX + uvWidth;
			this.__vertexBufferData[4] = uvY + uvHeight;
			this.__vertexBufferData[15] = height;
			this.__vertexBufferData[17] = uvX;
			this.__vertexBufferData[18] = uvY + uvHeight;
			this.__vertexBufferData[28] = width;
			this.__vertexBufferData[31] = uvX + uvWidth;
			this.__vertexBufferData[32] = uvY;
			this.__vertexBufferData[45] = uvX;
			this.__vertexBufferData[46] = uvY;
			this.__vertexBuffer.uploadFromTypedArray(lime_utils_Float32Array.toArrayBufferView(this.__vertexBufferData));
		}
	}
	,__sync: function() {
		lime__$internal_graphics_ImageCanvasUtil.sync(this.image,false);
	}
	,__update: function(transformOnly,updateChildren) {
		this.__updateTransforms();
	}
	,__updateTransforms: function(overrideTransform) {
		if(overrideTransform == null) {
			this.__worldTransform.identity();
		} else {
			this.__worldTransform.copyFrom(overrideTransform);
		}
		this.__renderTransform.copyFrom(this.__worldTransform);
	}
	,__class__: openfl_display_BitmapData
};
var flixel_addons_transition_GraphicTransTileCircle = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_addons_transition_GraphicTransTileCircle.preload != null) {
		this.__fromImage(flixel_addons_transition_GraphicTransTileCircle.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_addons_transition_GraphicTransTileCircle.resourceName),flixel_addons_transition_GraphicTransTileCircle.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_addons_transition_GraphicTransTileCircle.preload == null) {
				flixel_addons_transition_GraphicTransTileCircle.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.addons.transition.GraphicTransTileCircle"] = flixel_addons_transition_GraphicTransTileCircle;
flixel_addons_transition_GraphicTransTileCircle.__name__ = "flixel.addons.transition.GraphicTransTileCircle";
flixel_addons_transition_GraphicTransTileCircle.preload = null;
flixel_addons_transition_GraphicTransTileCircle.__super__ = openfl_display_BitmapData;
flixel_addons_transition_GraphicTransTileCircle.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_addons_transition_GraphicTransTileCircle
});
var flixel_addons_transition_GraphicTransTileDiamond = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_addons_transition_GraphicTransTileDiamond.preload != null) {
		this.__fromImage(flixel_addons_transition_GraphicTransTileDiamond.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_addons_transition_GraphicTransTileDiamond.resourceName),flixel_addons_transition_GraphicTransTileDiamond.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_addons_transition_GraphicTransTileDiamond.preload == null) {
				flixel_addons_transition_GraphicTransTileDiamond.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.addons.transition.GraphicTransTileDiamond"] = flixel_addons_transition_GraphicTransTileDiamond;
flixel_addons_transition_GraphicTransTileDiamond.__name__ = "flixel.addons.transition.GraphicTransTileDiamond";
flixel_addons_transition_GraphicTransTileDiamond.preload = null;
flixel_addons_transition_GraphicTransTileDiamond.__super__ = openfl_display_BitmapData;
flixel_addons_transition_GraphicTransTileDiamond.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_addons_transition_GraphicTransTileDiamond
});
var flixel_addons_transition_GraphicTransTileSquare = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_addons_transition_GraphicTransTileSquare.preload != null) {
		this.__fromImage(flixel_addons_transition_GraphicTransTileSquare.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_addons_transition_GraphicTransTileSquare.resourceName),flixel_addons_transition_GraphicTransTileSquare.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_addons_transition_GraphicTransTileSquare.preload == null) {
				flixel_addons_transition_GraphicTransTileSquare.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.addons.transition.GraphicTransTileSquare"] = flixel_addons_transition_GraphicTransTileSquare;
flixel_addons_transition_GraphicTransTileSquare.__name__ = "flixel.addons.transition.GraphicTransTileSquare";
flixel_addons_transition_GraphicTransTileSquare.preload = null;
flixel_addons_transition_GraphicTransTileSquare.__super__ = openfl_display_BitmapData;
flixel_addons_transition_GraphicTransTileSquare.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_addons_transition_GraphicTransTileSquare
});
var flixel_addons_transition_FlxTransitionSprite = function(X,Y,Delay,Graphic,GraphicWidth,GraphicHeight,FrameRate) {
	if(FrameRate == null) {
		FrameRate = 40;
	}
	if(GraphicHeight == null) {
		GraphicHeight = 32;
	}
	if(GraphicWidth == null) {
		GraphicWidth = 32;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._newStatus = -1;
	this.status = 0;
	this._finished = false;
	this._starting = true;
	flixel_FlxSprite.call(this,X,Y);
	if(Graphic == null) {
		Graphic = flixel_graphics_FlxGraphic.fromClass(flixel_addons_transition_GraphicTransTileDiamond);
		GraphicWidth = 32;
		GraphicHeight = 32;
	}
	this._delay = Delay;
	this.loadGraphic(Graphic,true,GraphicWidth,GraphicHeight);
	this.graphic.persist = true;
	this.graphic.set_destroyOnNoUse(false);
	var inArray = [];
	var outArray = [];
	var _g = 1;
	var _g1 = this.numFrames - 1;
	while(_g < _g1) {
		var i = _g++;
		inArray.push(i);
	}
	outArray = inArray.slice();
	outArray.reverse();
	this.animation.add("empty",[0],0,false);
	this.animation.add("in",inArray,FrameRate,false);
	this.animation.add("full",[this.numFrames - 1],0,false);
	this.animation.add("out",outArray,FrameRate,false);
	this.setStatus(3);
};
$hxClasses["flixel.addons.transition.FlxTransitionSprite"] = flixel_addons_transition_FlxTransitionSprite;
flixel_addons_transition_FlxTransitionSprite.__name__ = "flixel.addons.transition.FlxTransitionSprite";
flixel_addons_transition_FlxTransitionSprite.__super__ = flixel_FlxSprite;
flixel_addons_transition_FlxTransitionSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	_delay: null
	,_count: null
	,_starting: null
	,_finished: null
	,status: null
	,_newStatus: null
	,start: function(NewStatus) {
		this._starting = true;
		this._finished = false;
		this._count = 0;
		this._newStatus = NewStatus;
	}
	,startStatus: function(NewStatus) {
		this.setStatus(NewStatus);
	}
	,setStatus: function(Status) {
		var anim;
		switch(Status) {
		case -1:case 2:
			anim = "empty";
			break;
		case 0:
			anim = "in";
			break;
		case 1:
			anim = "out";
			break;
		case 3:
			anim = "full";
			break;
		}
		this.animation.play(anim);
		this.animation.finishCallback = $bind(this,this.onFinishAnim);
		this.status = Status;
	}
	,onFinishAnim: function(str) {
		if(!this._finished) {
			this._finished = true;
			switch(this.status) {
			case 0:
				this.setStatus(3);
				break;
			case 1:
				this.setStatus(2);
				break;
			default:
			}
		}
	}
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this._starting) {
			this._count += elapsed;
			if(this._count >= this._delay) {
				this.onTime();
			}
		}
	}
	,onTime: function() {
		this._starting = false;
		this._count = 0;
		this.setStatus(this._newStatus);
		this._newStatus = -1;
	}
	,__class__: flixel_addons_transition_FlxTransitionSprite
});
var flixel_addons_transition_Transition = function(data) {
	flixel_FlxSubState.call(this,0);
	this._effect = this.createEffect(data);
	this._effect.scrollFactor.set(0,0);
	this.add(this._effect);
};
$hxClasses["flixel.addons.transition.Transition"] = flixel_addons_transition_Transition;
flixel_addons_transition_Transition.__name__ = "flixel.addons.transition.Transition";
flixel_addons_transition_Transition.__super__ = flixel_FlxSubState;
flixel_addons_transition_Transition.prototype = $extend(flixel_FlxSubState.prototype,{
	_effect: null
	,update: function(elapsed) {
		flixel_FlxSubState.prototype.update.call(this,elapsed);
		this._effect.update(elapsed);
	}
	,destroy: function() {
		flixel_FlxSubState.prototype.destroy.call(this);
		this.set_finishCallback(null);
		this._effect.destroy();
		this._effect = null;
	}
	,start: function(NewStatus) {
		this._effect.start(NewStatus);
	}
	,setStatus: function(NewStatus) {
		this._effect.setStatus(NewStatus);
	}
	,createEffect: function(Data) {
		switch(Data.type) {
		case "fade":
			return new flixel_addons_transition_TransitionFade(Data);
		case "tiles":
			return new flixel_addons_transition_TransitionTiles(Data);
		default:
			return null;
		}
	}
	,get_finishCallback: function() {
		if(this._effect != null) {
			return this._effect.finishCallback;
		}
		return null;
	}
	,set_finishCallback: function(f) {
		if(this._effect != null) {
			this._effect.finishCallback = f;
			return f;
		}
		return null;
	}
	,__class__: flixel_addons_transition_Transition
	,__properties__: $extend(flixel_FlxSubState.prototype.__properties__,{set_finishCallback:"set_finishCallback",get_finishCallback:"get_finishCallback"})
});
var flixel_addons_transition_TransitionData = function(TransType,Color,Duration,Direction,TileData,Region) {
	if(Duration == null) {
		Duration = 1.0;
	}
	if(Color == null) {
		Color = -1;
	}
	if(TransType == null) {
		TransType = "fade";
	}
	this.duration = 1.0;
	this.type = TransType;
	this.tileData = TileData;
	this.duration = Duration;
	this.color = Color;
	this.direction = Direction;
	if(this.direction == null) {
		this.direction = new flixel_math_FlxPoint(0,0);
	}
	var Value = this.direction.x;
	var lowerBound = Value < -1 ? -1 : Value;
	var tmp = lowerBound > 1;
	var Value = this.direction.y;
	var lowerBound = Value < -1 ? -1 : Value;
	var tmp = lowerBound > 1;
	this.tweenOptions = { onComplete : null};
	this.region = Region;
	if(Region == null) {
		this.region = new flixel_math_FlxRect(0,0,flixel_FlxG.width,flixel_FlxG.height);
	}
};
$hxClasses["flixel.addons.transition.TransitionData"] = flixel_addons_transition_TransitionData;
flixel_addons_transition_TransitionData.__name__ = "flixel.addons.transition.TransitionData";
flixel_addons_transition_TransitionData.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_transition_TransitionData.prototype = {
	type: null
	,tileData: null
	,color: null
	,duration: null
	,direction: null
	,tweenOptions: null
	,region: null
	,destroy: function() {
		this.tileData = null;
		this.direction = null;
		this.tweenOptions.onComplete = null;
		this.tweenOptions.ease = null;
		this.tweenOptions = null;
		this.region = null;
		this.direction = null;
	}
	,__class__: flixel_addons_transition_TransitionData
};
var flixel_addons_transition_TransitionEffect = function(data) {
	this._finalDelayTime = 0.0;
	this._started = false;
	this.finished = false;
	this._data = data;
	flixel_group_FlxTypedSpriteGroup.call(this);
};
$hxClasses["flixel.addons.transition.TransitionEffect"] = flixel_addons_transition_TransitionEffect;
flixel_addons_transition_TransitionEffect.__name__ = "flixel.addons.transition.TransitionEffect";
flixel_addons_transition_TransitionEffect.__super__ = flixel_group_FlxTypedSpriteGroup;
flixel_addons_transition_TransitionEffect.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	finishCallback: null
	,finished: null
	,_started: null
	,_endStatus: null
	,_finalDelayTime: null
	,_data: null
	,destroy: function() {
		flixel_group_FlxTypedSpriteGroup.prototype.destroy.call(this);
		this.finishCallback = null;
	}
	,start: function(NewStatus) {
		this._started = true;
		if(NewStatus == 0) {
			this._endStatus = 3;
		} else {
			this._endStatus = 2;
		}
	}
	,setStatus: function(NewStatus) {
	}
	,delayThenFinish: function() {
		new flixel_util_FlxTimer().start(this._finalDelayTime,$bind(this,this.onFinish));
	}
	,onFinish: function(f) {
		this.finished = true;
		if(this.finishCallback != null) {
			var callback = this.finishCallback;
			this.finishCallback = null;
			callback();
		}
	}
	,__class__: flixel_addons_transition_TransitionEffect
});
var flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.preload != null) {
		this.__fromImage(flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.resourceName),flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.preload == null) {
				flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.addons.transition._TransitionFade.GraphicDiagonalGradient"] = flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient;
flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.__name__ = "flixel.addons.transition._TransitionFade.GraphicDiagonalGradient";
flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.preload = null;
flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.__super__ = openfl_display_BitmapData;
flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient
});
var flixel_addons_transition_TransitionFade = function(data) {
	this.tweenValEnd2 = 0;
	this.tweenValEnd = 0;
	this.tweenValStart2 = 0;
	this.tweenValStart = 0;
	this.tweenStr2 = "";
	this.tweenStr = "";
	flixel_addons_transition_TransitionEffect.call(this,data);
	this.back = this.makeSprite(data.direction.x,data.direction.y,data.region);
	this.back.scrollFactor.set(0,0);
	this.add(this.back);
};
$hxClasses["flixel.addons.transition.TransitionFade"] = flixel_addons_transition_TransitionFade;
flixel_addons_transition_TransitionFade.__name__ = "flixel.addons.transition.TransitionFade";
flixel_addons_transition_TransitionFade.__super__ = flixel_addons_transition_TransitionEffect;
flixel_addons_transition_TransitionFade.prototype = $extend(flixel_addons_transition_TransitionEffect.prototype,{
	back: null
	,tweenStr: null
	,tweenStr2: null
	,tweenValStart: null
	,tweenValStart2: null
	,tweenValEnd: null
	,tweenValEnd2: null
	,destroy: function() {
		flixel_addons_transition_TransitionEffect.prototype.destroy.call(this);
		this.back = null;
	}
	,start: function(NewStatus) {
		flixel_addons_transition_TransitionEffect.prototype.start.call(this,NewStatus);
		this.setTweenValues(NewStatus,this._data.direction.x,this._data.direction.y);
		switch(this.tweenStr) {
		case "alpha":
			this.back.set_alpha(this.tweenValStart);
			break;
		case "x":
			this.back.set_x(this.tweenValStart);
			break;
		case "y":
			this.back.set_y(this.tweenValStart);
			break;
		}
		switch(this.tweenStr2) {
		case "alpha":
			this.back.set_alpha(this.tweenValStart2);
			break;
		case "x":
			this.back.set_x(this.tweenValStart2);
			break;
		case "y":
			this.back.set_y(this.tweenValStart2);
			break;
		}
		var Values = { };
		Values[this.tweenStr] = this.tweenValEnd;
		if(this.tweenStr2 != "") {
			Values[this.tweenStr2] = this.tweenValEnd2;
		}
		this._data.tweenOptions.onComplete = $bind(this,this.finishTween);
		flixel_tweens_FlxTween.tween(this.back,Values,this._data.duration,this._data.tweenOptions);
	}
	,setTweenValues: function(NewStatus,DirX,DirY) {
		if(DirX == 0 && DirY == 0) {
			this.tweenStr = "alpha";
			this.tweenValStart = NewStatus == 0 ? 0.0 : 1.0;
			this.tweenValEnd = NewStatus == 0 ? 1.0 : 0.0;
		} else if(Math.abs(DirX) > 0 && DirY == 0) {
			this.tweenStr = "x";
			if(DirX > 0) {
				this.tweenValStart = NewStatus == 0 ? -this.back.get_width() : 0;
				this.tweenValEnd = NewStatus == 0 ? 0 : -this.back.get_width();
			} else {
				this.tweenValStart = NewStatus == 0 ? flixel_FlxG.width : -this.back.get_width() / 2;
				this.tweenValEnd = NewStatus == 0 ? -this.back.get_width() / 2 : flixel_FlxG.width;
			}
		} else if(DirX == 0 && Math.abs(DirY) > 0) {
			this.tweenStr = "y";
			if(DirY > 0) {
				this.tweenValStart = NewStatus == 0 ? -this.back.get_height() : 0;
				this.tweenValEnd = NewStatus == 0 ? 0 : -this.back.get_height();
			} else {
				this.tweenValStart = NewStatus == 0 ? flixel_FlxG.height : -this.back.get_height() / 2;
				this.tweenValEnd = NewStatus == 0 ? -this.back.get_height() / 2 : flixel_FlxG.height;
			}
		} else if(Math.abs(DirX) > 0 && Math.abs(DirY) > 0) {
			this.tweenStr = "x";
			this.tweenStr2 = "y";
			if(DirX > 0) {
				this.tweenValStart = NewStatus == 0 ? -this.back.get_width() : 0;
				this.tweenValEnd = NewStatus == 0 ? 0 : -this.back.get_width();
			} else {
				this.tweenValStart = NewStatus == 0 ? flixel_FlxG.width : -this.back.get_width() * 0.66666666666666663;
				this.tweenValEnd = NewStatus == 0 ? -this.back.get_width() * 0.66666666666666663 : flixel_FlxG.width;
			}
			if(DirY > 0) {
				this.tweenValStart2 = NewStatus == 0 ? -this.back.get_height() : 0;
				this.tweenValEnd2 = NewStatus == 0 ? 0 : -this.back.get_height();
			} else {
				this.tweenValStart2 = NewStatus == 0 ? flixel_FlxG.height : -this.back.get_height() * 0.66666666666666663;
				this.tweenValEnd2 = NewStatus == 0 ? -this.back.get_height() * 0.66666666666666663 : flixel_FlxG.height;
			}
		}
	}
	,makeSprite: function(DirX,DirY,region) {
		var s = new flixel_FlxSprite(region.x,region.y);
		var locX = 0;
		var locY = 0;
		var angle = 0;
		var pixels = null;
		if(DirX == 0 && DirY == 0) {
			s.makeGraphic(region.width | 0,region.height | 0,this._data.color);
		} else if(DirX == 0 && Math.abs(DirY) > 0) {
			locY = DirY > 0 ? region.height : 0;
			angle = DirY > 0 ? 90 : 270;
			s.makeGraphic(1,region.height * 2 | 0,this._data.color);
			pixels = s.get_pixels();
			var gvert = flixel_util_FlxGradient.createGradientBitmapData(1,region.height | 0,[this._data.color,0],1,angle);
			pixels.copyPixels(gvert,gvert.rect,new openfl_geom_Point(0,locY));
			s.set_pixels(pixels);
			s.scale.set(region.width,1.0);
			s.updateHitbox();
		} else if(Math.abs(DirX) > 0 && DirY == 0) {
			locX = DirX > 0 ? region.width : 0;
			angle = DirX > 0 ? 0 : 180;
			s.makeGraphic(region.width * 2 | 0,1,this._data.color);
			pixels = s.get_pixels();
			var ghorz = flixel_util_FlxGradient.createGradientBitmapData(region.width | 0,1,[this._data.color,0],1,angle);
			pixels.copyPixels(ghorz,ghorz.rect,new openfl_geom_Point(locX,0));
			s.set_pixels(pixels);
			s.scale.set(1.0,region.height);
			s.updateHitbox();
		} else if(Math.abs(DirX) > 0 && Math.abs(DirY) > 0) {
			locY = DirY > 0 ? region.height : 0;
			s.loadGraphic(this.getGradient());
			s.set_flipX(DirX < 0);
			s.set_flipY(DirY < 0);
		}
		return s;
	}
	,getGradient: function() {
		var rawBmp = new flixel_addons_transition__$TransitionFade_GraphicDiagonalGradient(0,0);
		var gdiag = rawBmp;
		var gdiag_scaled = new openfl_display_BitmapData(flixel_FlxG.width * 2,flixel_FlxG.height * 2,true);
		var m = new openfl_geom_Matrix();
		m.scale(gdiag_scaled.width / gdiag.width,gdiag_scaled.height / gdiag.height);
		gdiag_scaled.draw(gdiag,m,null,null,null,true);
		var theColor = this._data.color;
		var final_pixels = new openfl_display_BitmapData(flixel_FlxG.width * 3,flixel_FlxG.height * 3,true,theColor);
		final_pixels.copyChannel(gdiag_scaled,gdiag_scaled.rect,new openfl_geom_Point(final_pixels.width - gdiag_scaled.width,final_pixels.height - gdiag_scaled.height),1,8);
		gdiag.dispose();
		gdiag_scaled.dispose();
		return final_pixels;
	}
	,finishTween: function(f) {
		this.delayThenFinish();
	}
	,__class__: flixel_addons_transition_TransitionFade
});
var flixel_addons_transition_TransitionTiles = function(data) {
	this._isCenter = false;
	flixel_addons_transition_TransitionEffect.call(this,data);
	this._grpSprites = new flixel_group_FlxTypedSpriteGroup();
	var delay = 0;
	if(data.tileData == null) {
		data.tileData = { asset : null, width : 32, height : 32};
	}
	var region = data.region;
	var tilesX = Math.ceil(region.width / data.tileData.width);
	var tilesY = Math.ceil(region.height / data.tileData.height);
	var maxTiles = tilesX > tilesY ? tilesX : tilesY;
	var dTime = data.duration / maxTiles;
	var xDelay = dTime * Math.abs(data.direction.x);
	var yDelay = dTime * Math.abs(data.direction.y);
	var addX = data.tileData.width;
	var addY = data.tileData.height;
	var tx = 0;
	var ty = 0;
	var startX = region.x | 0;
	var startY = region.y | 0;
	if(data.direction.x < 0) {
		addX *= -1;
		startX += region.width + addX | 0;
	}
	if(data.direction.y < 0) {
		addY *= -1;
		startY += region.height + addY | 0;
	}
	tx = startX;
	ty = startY;
	var _g = 0;
	var _g1 = tilesY;
	while(_g < _g1) {
		var iy = _g++;
		var _g2 = 0;
		var _g3 = tilesX;
		while(_g2 < _g3) {
			var ix = _g2++;
			var frameRate = 40;
			if(data.tileData.frameRate != null) {
				frameRate = data.tileData.frameRate;
			}
			var ts = new flixel_addons_transition_FlxTransitionSprite(tx,ty,delay,data.tileData.asset,data.tileData.width,data.tileData.height,frameRate);
			ts.set_color(data.color);
			ts.scrollFactor.set(0,0);
			this._grpSprites.add(ts);
			tx += addX;
			delay += xDelay;
		}
		ty += addY;
		tx = startX;
		delay = (iy + 1) * yDelay;
	}
	this.add(this._grpSprites);
	this._isCenter = data.direction.x == 0 && data.direction.y == 0;
};
$hxClasses["flixel.addons.transition.TransitionTiles"] = flixel_addons_transition_TransitionTiles;
flixel_addons_transition_TransitionTiles.__name__ = "flixel.addons.transition.TransitionTiles";
flixel_addons_transition_TransitionTiles.__super__ = flixel_addons_transition_TransitionEffect;
flixel_addons_transition_TransitionTiles.prototype = $extend(flixel_addons_transition_TransitionEffect.prototype,{
	_grpSprites: null
	,_isCenter: null
	,destroy: function() {
		flixel_addons_transition_TransitionEffect.prototype.destroy.call(this);
		this._grpSprites = null;
	}
	,start: function(NewStatus) {
		flixel_addons_transition_TransitionEffect.prototype.start.call(this,NewStatus);
		this._grpSprites.group.forEach(function(t) {
			t.start(NewStatus);
		},false);
	}
	,setStatus: function(NewStatus) {
		flixel_addons_transition_TransitionEffect.prototype.setStatus.call(this,NewStatus);
		this._grpSprites.group.forEach(function(t) {
			t.setStatus(NewStatus);
		},false);
	}
	,update: function(elapsed) {
		flixel_addons_transition_TransitionEffect.prototype.update.call(this,elapsed);
		if(this._started) {
			var allDone = true;
			var _g = 0;
			var _g1 = this._grpSprites.group.members;
			while(_g < _g1.length) {
				var sprite = _g1[_g];
				++_g;
				if(sprite.status != -1 && sprite.status != this._endStatus) {
					allDone = false;
					break;
				}
			}
			if(allDone) {
				this._started = false;
				this.delayThenFinish();
			}
		}
	}
	,__class__: flixel_addons_transition_TransitionTiles
});
var flixel_addons_ui_Anchor = function(XOff,YOff,XSide,YSide,XFlush,YFlush) {
	this.x = new flixel_addons_ui_AnchorPoint(XOff,XSide,XFlush);
	this.y = new flixel_addons_ui_AnchorPoint(YOff,YSide,YFlush);
};
$hxClasses["flixel.addons.ui.Anchor"] = flixel_addons_ui_Anchor;
flixel_addons_ui_Anchor.__name__ = "flixel.addons.ui.Anchor";
flixel_addons_ui_Anchor.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_ui_Anchor.prototype = {
	x: null
	,y: null
	,destroy: function() {
		this.x = null;
		this.y = null;
	}
	,anchorThing: function(thing,destination) {
		var destX = 0;
		var destY = 0;
		switch(this.x.side) {
		case "center":
			destX = destination.x + destination.get_width() / 2;
			break;
		case "left":
			destX = destination.x;
			break;
		case "right":
			destX = destination.x + destination.get_width();
			break;
		default:
			destX = destination.x;
		}
		switch(this.y.side) {
		case "bottom":
			destY = destination.y + destination.get_height();
			break;
		case "center":
			destY = destination.y + destination.get_height() / 2;
			break;
		case "top":
			destY = destination.y;
			break;
		default:
			destY = destination.y;
		}
		switch(this.x.flush) {
		case "center":
			destX -= thing.get_width() / 2;
			break;
		case "left":
			break;
		case "right":
			destX -= thing.get_width();
			break;
		default:
		}
		switch(this.y.flush) {
		case "bottom":
			destY -= thing.get_height();
			break;
		case "center":
			destY -= thing.get_height() / 2;
			break;
		case "top":
			break;
		default:
		}
		thing.set_x(destX + this.x.offset);
		thing.set_y(destY + this.y.offset);
	}
	,getFlipped: function(FlipX,FlipY,AnchorObject) {
		var xoff = FlipX ? -1 * this.x.offset : this.x.offset;
		var yoff = FlipY ? -1 * this.y.offset : this.y.offset;
		var xside = FlipX ? this.flipAnchorSide(this.x.side) : this.x.side;
		var yside = FlipY ? this.flipAnchorSide(this.y.side) : this.y.side;
		var xflush = FlipX ? this.flipAnchorSide(this.x.flush) : this.x.flush;
		var yflush = FlipY ? this.flipAnchorSide(this.y.flush) : this.y.flush;
		if(AnchorObject == null) {
			AnchorObject = new flixel_addons_ui_Anchor(xoff,yoff,xside,yside,xflush,yflush);
		} else {
			AnchorObject.x.offset = xoff;
			AnchorObject.y.offset = yoff;
			AnchorObject.x.side = xside;
			AnchorObject.y.side = yside;
			AnchorObject.x.flush = xflush;
			AnchorObject.y.flush = yflush;
		}
		return AnchorObject;
	}
	,clone: function() {
		return new flixel_addons_ui_Anchor(this.x.offset,this.y.offset,this.x.side,this.y.side,this.x.flush,this.y.flush);
	}
	,flipAnchorSide: function(str) {
		if(str == "left") {
			return "right";
		}
		if(str == "right") {
			return "left";
		}
		if(str == "top") {
			return "bottom";
		}
		if(str == "bottom") {
			return "top";
		}
		return str;
	}
	,__class__: flixel_addons_ui_Anchor
};
var flixel_addons_ui_AnchorPoint = function(Offset,Side,Flush) {
	this.flush = "center";
	this.side = "center";
	this.offset = 0;
	this.offset = Offset;
	this.side = Side;
	this.flush = Flush;
};
$hxClasses["flixel.addons.ui.AnchorPoint"] = flixel_addons_ui_AnchorPoint;
flixel_addons_ui_AnchorPoint.__name__ = "flixel.addons.ui.AnchorPoint";
flixel_addons_ui_AnchorPoint.prototype = {
	offset: null
	,side: null
	,flush: null
	,__class__: flixel_addons_ui_AnchorPoint
};
var flixel_addons_ui_BorderDef = function(Style,Color,Size,Quality) {
	if(Quality == null) {
		Quality = 1;
	}
	if(Size == null) {
		Size = 1;
	}
	this.style = Style;
	this.color = Color;
	this.size = Size;
	this.quality = Quality;
};
$hxClasses["flixel.addons.ui.BorderDef"] = flixel_addons_ui_BorderDef;
flixel_addons_ui_BorderDef.__name__ = "flixel.addons.ui.BorderDef";
flixel_addons_ui_BorderDef.fromXML = function(data) {
	var border_str = flixel_addons_ui_U.xml_str(data,"border");
	var border_style = flixel_text_FlxTextBorderStyle.NONE;
	var border_color = flixel_addons_ui_U.xml_color(data,"border_color",true,0);
	var border_size = flixel_addons_ui_U.xml_f(data,"border_size",1);
	var border_quality = flixel_addons_ui_U.xml_f(data,"border_quality",0);
	var borderDef = new flixel_addons_ui_BorderDef(border_style,border_color,border_size,border_quality);
	switch(border_str) {
	case "":
		border_str = flixel_addons_ui_U.xml_str(data,"shadow",true,"");
		if(border_str != "" && border_str != "false" && border_str != "none") {
			borderDef.style = flixel_text_FlxTextBorderStyle.SHADOW;
			var safe = true;
			if(safe == null) {
				safe = false;
			}
			var return_val = flixel_util_FlxColor.fromString(border_str);
			if(return_val == null) {
				if(!safe) {
					throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + border_str);
				} else {
					return_val = 0;
				}
			}
			borderDef.color = return_val;
		} else {
			border_str = flixel_addons_ui_U.xml_str(data,"outline",true,"");
			if(border_str != "" && border_str != "false" && border_str != "none") {
				borderDef.style = flixel_text_FlxTextBorderStyle.OUTLINE;
				var safe = true;
				if(safe == null) {
					safe = false;
				}
				var return_val = flixel_util_FlxColor.fromString(border_str);
				if(return_val == null) {
					if(!safe) {
						throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + border_str);
					} else {
						return_val = 0;
					}
				}
				borderDef.color = return_val;
			} else {
				border_str = flixel_addons_ui_U.xml_str(data,"outline_fast");
				if(border_str != "" && border_str != "false" && border_str != "none") {
					borderDef.style = flixel_text_FlxTextBorderStyle.OUTLINE_FAST;
					var safe = true;
					if(safe == null) {
						safe = false;
					}
					var return_val = flixel_util_FlxColor.fromString(border_str);
					if(return_val == null) {
						if(!safe) {
							throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + border_str);
						} else {
							return_val = 0;
						}
					}
					borderDef.color = return_val;
				}
			}
		}
		break;
	case "false":case "none":
		borderDef.style = flixel_text_FlxTextBorderStyle.NONE;
		break;
	case "outline":
		borderDef.style = flixel_text_FlxTextBorderStyle.OUTLINE;
		break;
	case "outline_fast":
		borderDef.style = flixel_text_FlxTextBorderStyle.OUTLINE_FAST;
		break;
	case "shadow":
		borderDef.style = flixel_text_FlxTextBorderStyle.SHADOW;
		break;
	}
	return borderDef;
};
flixel_addons_ui_BorderDef.prototype = {
	style: null
	,color: null
	,size: null
	,quality: null
	,clone: function() {
		return new flixel_addons_ui_BorderDef(this.style,this.color,this.size,this.quality);
	}
	,apply: function(f) {
		var Color = this.color;
		var Size = this.size;
		var Quality = this.quality;
		if(Quality == null) {
			Quality = 1;
		}
		if(Size == null) {
			Size = 1;
		}
		if(Color == null) {
			Color = 0;
		}
		f.set_borderStyle(this.style);
		f.set_borderColor(Color);
		f.set_borderSize(Size);
		f.set_borderQuality(Quality);
		return f;
	}
	,__class__: flixel_addons_ui_BorderDef
};
var flixel_addons_ui_ButtonLabelStyle = function(Font,Align,Color,Border) {
	this.align = null;
	this.color = null;
	this.border = null;
	this.font = null;
	this.font = Font;
	this.border = Border;
	this.color = Color;
	this.align = Align;
};
$hxClasses["flixel.addons.ui.ButtonLabelStyle"] = flixel_addons_ui_ButtonLabelStyle;
flixel_addons_ui_ButtonLabelStyle.__name__ = "flixel.addons.ui.ButtonLabelStyle";
flixel_addons_ui_ButtonLabelStyle.prototype = {
	font: null
	,border: null
	,color: null
	,align: null
	,apply: function(f) {
		if(this.font != null) {
			this.font.apply(null,f);
		}
		if(this.border != null) {
			this.border.apply(f);
		}
		if(this.color != null) {
			f.set_color(this.color);
		}
		if(this.align != null) {
			f.set_alignment(this.align);
		}
	}
	,__class__: flixel_addons_ui_ButtonLabelStyle
};
var flixel_addons_ui_FlxBaseMultiInput = function() {
};
$hxClasses["flixel.addons.ui.FlxBaseMultiInput"] = flixel_addons_ui_FlxBaseMultiInput;
flixel_addons_ui_FlxBaseMultiInput.__name__ = "flixel.addons.ui.FlxBaseMultiInput";
flixel_addons_ui_FlxBaseMultiInput.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_ui_FlxBaseMultiInput.prototype = {
	input: null
	,combos: null
	,forbiddens: null
	,destroy: function() {
		this.combos = null;
		this.forbiddens = null;
	}
	,checkJustPressed: function() {
		return false;
	}
	,checkJustReleased: function() {
		return false;
	}
	,checkPressed: function() {
		return false;
	}
	,justPressed: function() {
		if(this.checkJustPressed()) {
			return this.passCombosAndForbiddens();
		} else {
			return false;
		}
	}
	,justReleased: function() {
		if(this.checkJustReleased()) {
			if(this.forbiddens != null) {
				return this.checkForbiddens(false);
			} else {
				return true;
			}
		} else {
			return false;
		}
	}
	,pressed: function() {
		if(this.checkPressed()) {
			return this.passCombosAndForbiddens();
		} else {
			return false;
		}
	}
	,equals: function(other) {
		if(other == null) {
			return false;
		}
		if(Type.typeof(other) != Type.typeof(this)) {
			return false;
		}
		if(this.input != other.input) {
			return false;
		}
		if(this.combos == null != (other.combos == null)) {
			return false;
		}
		if(this.forbiddens == null != (other.forbiddens == null)) {
			return false;
		}
		if(this.combos != null && other.combos != null) {
			var _g = 0;
			var _g1 = this.combos;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(other.combos.indexOf(i) == -1) {
					return false;
				}
			}
		}
		if(this.forbiddens != null && other.forbiddens != null) {
			var _g = 0;
			var _g1 = this.forbiddens;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(other.forbiddens.indexOf(i) == -1) {
					return false;
				}
			}
		}
		return true;
	}
	,passCombosAndForbiddens: function(comboValue,forbiddenValue) {
		if(forbiddenValue == null) {
			forbiddenValue = false;
		}
		if(comboValue == null) {
			comboValue = true;
		}
		var passCombos = this.combos == null || this.checkCombos(comboValue);
		var passForbiddens = this.forbiddens == null || this.checkForbiddens(forbiddenValue);
		if(passCombos) {
			return passForbiddens;
		} else {
			return false;
		}
	}
	,checkCombos: function(value) {
		return false;
	}
	,checkForbiddens: function(value) {
		return false;
	}
	,__class__: flixel_addons_ui_FlxBaseMultiInput
};
var flixel_addons_ui_FlxInputText = function(X,Y,Width,Text1,size,TextColor,BackgroundColor,EmbeddedFont) {
	if(EmbeddedFont == null) {
		EmbeddedFont = true;
	}
	if(BackgroundColor == null) {
		BackgroundColor = -1;
	}
	if(TextColor == null) {
		TextColor = -16777216;
	}
	if(size == null) {
		size = 8;
	}
	if(Width == null) {
		Width = 150;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._scrollBoundIndeces = { left : 0, right : 0};
	this.backgroundColor = -1;
	this.fieldBorderThickness = 1;
	this.fieldBorderColor = -16777216;
	this.filterMode = 0;
	this.maxLength = 0;
	this.forceCase = 0;
	this.caretIndex = 0;
	this.hasFocus = false;
	this.caretWidth = 1;
	this.background = false;
	flixel_text_FlxText.call(this,X,Y,Width,Text1,size,EmbeddedFont);
	this.set_backgroundColor(BackgroundColor);
	if(BackgroundColor != 0) {
		this.background = true;
	}
	this.set_color(TextColor);
	this.set_caretColor(TextColor);
	this.caret = new flixel_FlxSprite();
	this.caret.makeGraphic(this.caretWidth,size + 2 | 0);
	this._caretTimer = new flixel_util_FlxTimer();
	this.set_caretIndex(0);
	this.set_hasFocus(false);
	if(this.background) {
		this.fieldBorderSprite = new flixel_FlxSprite(X,Y);
		this.backgroundSprite = new flixel_FlxSprite(X,Y);
	}
	this.set_lines(1);
	openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.onKeyDown));
	if(Text1 == null) {
		Text1 = "";
	}
	this.set_text(Text1);
	this.calcFrame();
};
$hxClasses["flixel.addons.ui.FlxInputText"] = flixel_addons_ui_FlxInputText;
flixel_addons_ui_FlxInputText.__name__ = "flixel.addons.ui.FlxInputText";
flixel_addons_ui_FlxInputText.__super__ = flixel_text_FlxText;
flixel_addons_ui_FlxInputText.prototype = $extend(flixel_text_FlxText.prototype,{
	customFilterPattern: null
	,set_customFilterPattern: function(cfp) {
		this.customFilterPattern = cfp;
		this.set_filterMode(4);
		return this.customFilterPattern;
	}
	,callback: null
	,background: null
	,caretColor: null
	,set_caretColor: function(i) {
		this.caretColor = i;
		this.dirty = true;
		return this.caretColor;
	}
	,caretWidth: null
	,set_caretWidth: function(i) {
		this.caretWidth = i;
		this.dirty = true;
		return this.caretWidth;
	}
	,params: null
	,hasFocus: null
	,caretIndex: null
	,focusGained: null
	,focusLost: null
	,forceCase: null
	,maxLength: null
	,lines: null
	,filterMode: null
	,fieldBorderColor: null
	,fieldBorderThickness: null
	,backgroundColor: null
	,backgroundSprite: null
	,_caretTimer: null
	,caret: null
	,fieldBorderSprite: null
	,_scrollBoundIndeces: null
	,_charBoundaries: null
	,lastScroll: null
	,destroy: function() {
		openfl_Lib.get_current().stage.removeEventListener("keyDown",$bind(this,this.onKeyDown));
		this.backgroundSprite = flixel_util_FlxDestroyUtil.destroy(this.backgroundSprite);
		this.fieldBorderSprite = flixel_util_FlxDestroyUtil.destroy(this.fieldBorderSprite);
		this.callback = null;
		flixel_text_FlxText.prototype.destroy.call(this);
	}
	,draw: function() {
		this.drawSprite(this.fieldBorderSprite);
		this.drawSprite(this.backgroundSprite);
		flixel_text_FlxText.prototype.draw.call(this);
		if(this.caretColor != this.caret.color || this.caret.get_height() != (this._defaultFormat.size | 0) + 2) {
			this.caret.set_color(this.caretColor);
		}
		this.drawSprite(this.caret);
	}
	,drawSprite: function(Sprite) {
		if(Sprite != null && Sprite.visible) {
			Sprite.scrollFactor = this.scrollFactor;
			Sprite.set_cameras(this.get_cameras());
			Sprite.draw();
		}
	}
	,update: function(elapsed) {
		flixel_text_FlxText.prototype.update.call(this,elapsed);
		if(flixel_FlxG.mouse._leftButton.current == 2) {
			var hadFocus = this.hasFocus;
			if(flixel_FlxG.mouse.overlaps(this)) {
				this.set_caretIndex(this.getCaretIndex());
				this.set_hasFocus(true);
				if(!hadFocus && this.focusGained != null) {
					this.focusGained();
				}
			} else {
				this.set_hasFocus(false);
				if(hadFocus && this.focusLost != null) {
					this.focusLost();
				}
			}
		}
	}
	,onKeyDown: function(e) {
		var key = e.keyCode;
		if(this.hasFocus) {
			if(key == 16 || key == 17 || key == 220 || key == 27) {
				return;
			} else if(key == 37) {
				if(this.caretIndex > 0) {
					this.set_caretIndex(this.caretIndex - 1);
					this.set_text(this.text);
				}
			} else if(key == 39) {
				if(this.caretIndex < this.text.length) {
					this.set_caretIndex(this.caretIndex + 1);
					this.set_text(this.text);
				}
			} else if(key == 35) {
				this.set_caretIndex(this.text.length);
				this.set_text(this.text);
			} else if(key == 36) {
				this.set_caretIndex(0);
				this.set_text(this.text);
			} else if(key == 8) {
				if(this.caretIndex > 0) {
					this.set_caretIndex(this.caretIndex - 1);
					this.set_text(this.text.substring(0,this.caretIndex) + this.text.substring(this.caretIndex + 1));
					this.onChange("backspace");
				}
			} else if(key == 46) {
				if(this.text.length > 0 && this.caretIndex < this.text.length) {
					this.set_text(this.text.substring(0,this.caretIndex) + this.text.substring(this.caretIndex + 1));
					this.onChange("delete");
				}
			} else if(key == 13) {
				this.onChange("enter");
			} else {
				if(e.charCode == 0) {
					return;
				}
				var code = e.charCode;
				var newText = this.filter(String.fromCodePoint(code));
				if(newText.length > 0 && (this.maxLength == 0 || this.text.length + newText.length < this.maxLength)) {
					this.set_text(this.insertSubstring(this.text,newText,this.caretIndex));
					this.set_caretIndex(this.caretIndex + 1);
					this.onChange("input");
				}
			}
		}
	}
	,onChange: function(action) {
		if(this.callback != null) {
			this.callback(this.text,action);
		}
	}
	,insertSubstring: function(Original,Insert,Index) {
		if(Index != Original.length) {
			Original = Original.substring(0,Index) + Insert + Original.substring(Index);
		} else {
			Original += Insert;
		}
		return Original;
	}
	,getCaretIndex: function() {
		var X = flixel_FlxG.mouse.x - this.x;
		var Y = flixel_FlxG.mouse.y - this.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var hit = point;
		return this.getCharIndexAtPoint(hit.x,hit.y);
	}
	,getCharBoundaries: function(charIndex) {
		if(this._charBoundaries != null && charIndex >= 0 && this._charBoundaries.length > 0) {
			var r = new openfl_geom_Rectangle();
			if(charIndex >= this._charBoundaries.length) {
				var _this = this._charBoundaries[this._charBoundaries.length - 1];
				var FlashRect = r;
				if(FlashRect == null) {
					FlashRect = new openfl_geom_Rectangle();
				}
				FlashRect.x = _this.x;
				FlashRect.y = _this.y;
				FlashRect.width = _this.width;
				FlashRect.height = _this.height;
			} else {
				var _this = this._charBoundaries[charIndex];
				var FlashRect = r;
				if(FlashRect == null) {
					FlashRect = new openfl_geom_Rectangle();
				}
				FlashRect.x = _this.x;
				FlashRect.y = _this.y;
				FlashRect.width = _this.width;
				FlashRect.height = _this.height;
			}
			return r;
		}
		return null;
	}
	,set_text: function(Text1) {
		var return_text = flixel_text_FlxText.prototype.set_text.call(this,Text1);
		if(this.textField == null) {
			return return_text;
		}
		var numChars = Text1.length;
		this.prepareCharBoundaries(numChars);
		this.textField.set_text("");
		var textH = 0;
		var textW = 0;
		var lastW = 0;
		var magicX = 2;
		var magicY = 2;
		var _g = 0;
		var _g1 = numChars;
		while(_g < _g1) {
			var i = _g++;
			this.textField.appendText(HxOverrides.substr(Text1,i,1));
			textW = this.textField.get_textWidth();
			if(i == 0) {
				textH = this.textField.get_textHeight();
			}
			this._charBoundaries[i].x = magicX + lastW;
			this._charBoundaries[i].y = magicY;
			this._charBoundaries[i].width = textW - lastW;
			this._charBoundaries[i].height = textH;
			lastW = textW;
		}
		this.textField.set_text(Text1);
		this.onSetTextCheck();
		return return_text;
	}
	,getCharIndexAtPoint: function(X,Y) {
		var i = 0;
		if(this._charBoundaries != null && this._charBoundaries.length > 0) {
			if(this.textField.get_textWidth() <= this.textField.get_width()) {
				switch(this.getAlignStr()) {
				case "center":
					X = X - this.textField.get_width() / 2 + this.textField.get_textWidth() / 2;
					break;
				case "right":
					X = X - this.textField.get_width() + this.textField.get_textWidth();
					break;
				default:
				}
			}
		}
		if(this._charBoundaries != null) {
			var _g = 0;
			var _g1 = this._charBoundaries;
			while(_g < _g1.length) {
				var r = _g1[_g];
				++_g;
				if(X >= r.x && X <= r.x + r.width) {
					return i;
				}
				++i;
			}
		}
		if(this._charBoundaries != null && this._charBoundaries.length > 0) {
			if(X > this.textField.get_textWidth()) {
				return this._charBoundaries.length;
			}
		}
		return 0;
	}
	,prepareCharBoundaries: function(numChars) {
		if(this._charBoundaries == null) {
			this._charBoundaries = [];
		}
		if(this._charBoundaries.length > numChars) {
			var diff = this._charBoundaries.length - numChars;
			var _g = 0;
			var _g1 = diff;
			while(_g < _g1) {
				var i = _g++;
				this._charBoundaries.pop();
			}
		}
		var _g = 0;
		var _g1 = numChars;
		while(_g < _g1) {
			var i = _g++;
			if(this._charBoundaries.length - 1 < i) {
				var tmp = this._charBoundaries;
				var X = 0;
				var Y = 0;
				var Width = 0;
				var Height = 0;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				tmp.push(rect);
			}
		}
	}
	,onSetTextCheck: function() {
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
		flixel_text_FlxText.prototype.calcFrame.call(this,RunOnCpp);
		if(this.fieldBorderSprite != null) {
			if(this.fieldBorderThickness > 0) {
				this.fieldBorderSprite.makeGraphic(this.get_width() + this.fieldBorderThickness * 2 | 0,this.get_height() + this.fieldBorderThickness * 2 | 0,this.fieldBorderColor);
				this.fieldBorderSprite.set_x(this.x - this.fieldBorderThickness);
				this.fieldBorderSprite.set_y(this.y - this.fieldBorderThickness);
			} else if(this.fieldBorderThickness == 0) {
				this.fieldBorderSprite.set_visible(false);
			}
		}
		if(this.backgroundSprite != null) {
			if(this.background) {
				this.backgroundSprite.makeGraphic(this.get_width() | 0,this.get_height() | 0,this.backgroundColor);
				this.backgroundSprite.set_x(this.x);
				this.backgroundSprite.set_y(this.y);
			} else {
				this.backgroundSprite.set_visible(false);
			}
		}
		if(this.caret != null) {
			var cw = this.caretWidth;
			var ch = (this._defaultFormat.size | 0) + 2 | 0;
			var borderC = -16777216 | this.borderColor & 16777215;
			var caretC = -16777216 | this.caretColor & 16777215;
			var caretKey = "caret" + cw + "x" + ch + "c:" + caretC + "b:" + Std.string(this.borderStyle) + "," + this.borderSize + "," + borderC;
			switch(this.borderStyle._hx_index) {
			case 0:
				this.caret.makeGraphic(cw,ch,caretC,false,caretKey);
				this.caret.offset.set_x(this.caret.offset.set_y(0));
				break;
			case 1:
				cw += this.borderSize | 0;
				ch += this.borderSize | 0;
				this.caret.makeGraphic(cw,ch,0,false,caretKey);
				var r = new openfl_geom_Rectangle(this.borderSize,this.borderSize,this.caretWidth,(this._defaultFormat.size | 0) + 2 | 0);
				this.caret.get_pixels().fillRect(r,borderC);
				r.x = r.y = 0;
				this.caret.get_pixels().fillRect(r,caretC);
				this.caret.offset.set_x(this.caret.offset.set_y(0));
				break;
			case 2:case 3:
				cw += this.borderSize * 2 | 0;
				ch += this.borderSize * 2 | 0;
				this.caret.makeGraphic(cw,ch,borderC,false,caretKey);
				var r = new openfl_geom_Rectangle(this.borderSize,this.borderSize,this.caretWidth,(this._defaultFormat.size | 0) + 2 | 0);
				this.caret.get_pixels().fillRect(r,caretC);
				this.caret.offset.set_x(this.caret.offset.set_y(this.borderSize));
				break;
			}
			this.caret.set_width(cw);
			this.caret.set_height(ch);
			this.set_caretIndex(this.caretIndex);
		}
	}
	,toggleCaret: function(timer) {
		this.caret.set_visible(!this.caret.visible);
	}
	,filter: function(text) {
		if(this.forceCase == 1) {
			text = text.toUpperCase();
		} else if(this.forceCase == 2) {
			text = text.toLowerCase();
		}
		if(this.filterMode != 0) {
			var pattern;
			switch(this.filterMode) {
			case 1:
				pattern = new EReg("[^a-zA-Z]*","g");
				break;
			case 2:
				pattern = new EReg("[^0-9]*","g");
				break;
			case 3:
				pattern = new EReg("[^a-zA-Z0-9]*","g");
				break;
			case 4:
				pattern = this.customFilterPattern;
				break;
			default:
				throw new openfl_errors_Error("FlxInputText: Unknown filterMode (" + this.filterMode + ")");
			}
			text = text.replace(pattern.r,"");
		}
		return text;
	}
	,set_params: function(p) {
		this.params = p;
		if(this.params == null) {
			this.params = [];
		}
		var namedValue = { name : "value", value : this.text};
		this.params.push(namedValue);
		return p;
	}
	,set_x: function(X) {
		if(this.fieldBorderSprite != null && this.fieldBorderThickness > 0) {
			this.fieldBorderSprite.set_x(X - this.fieldBorderThickness);
		}
		if(this.backgroundSprite != null && this.background) {
			this.backgroundSprite.set_x(X);
		}
		return flixel_text_FlxText.prototype.set_x.call(this,X);
	}
	,set_y: function(Y) {
		if(this.fieldBorderSprite != null && this.fieldBorderThickness > 0) {
			this.fieldBorderSprite.set_y(Y - this.fieldBorderThickness);
		}
		if(this.backgroundSprite != null && this.background) {
			this.backgroundSprite.set_y(Y);
		}
		return flixel_text_FlxText.prototype.set_y.call(this,Y);
	}
	,set_hasFocus: function(newFocus) {
		if(newFocus) {
			if(this.hasFocus != newFocus) {
				this._caretTimer = new flixel_util_FlxTimer().start(0.5,$bind(this,this.toggleCaret),0);
				this.caret.set_visible(true);
				this.set_caretIndex(this.text.length);
			}
		} else {
			this.caret.set_visible(false);
			if(this._caretTimer != null) {
				this._caretTimer.cancel();
			}
		}
		if(newFocus != this.hasFocus) {
			this.calcFrame();
		}
		return this.hasFocus = newFocus;
	}
	,getAlignStr: function() {
		var alignStr = "left";
		if(this._defaultFormat != null && this._defaultFormat.align != null) {
			alignStr = flixel_text_FlxTextAlign.fromOpenFL(this._defaultFormat.align);
		}
		return alignStr;
	}
	,set_caretIndex: function(newCaretIndex) {
		var offx = 0;
		var alignStr = this.getAlignStr();
		switch(alignStr) {
		case "center":
			if(offx <= 1) {
				offx = 0;
			}
			break;
		case "right":
			offx = this.textField.get_width() - 2 - this.textField.get_textWidth() - 2;
			if(offx < 0) {
				offx = 0;
			}
			break;
		default:
			offx = 0;
		}
		this.caretIndex = newCaretIndex;
		if(this.caretIndex > this.text.length + 1) {
			this.caretIndex = -1;
		}
		if(this.caretIndex != -1) {
			var boundaries = null;
			if(this.caretIndex < this.text.length) {
				boundaries = this.getCharBoundaries(this.caretIndex);
				if(boundaries != null) {
					this.caret.set_x(offx + boundaries.get_left() + this.x);
					this.caret.set_y(boundaries.get_top() + this.y);
				}
			} else {
				boundaries = this.getCharBoundaries(this.caretIndex - 1);
				if(boundaries != null) {
					this.caret.set_x(offx + boundaries.get_right() + this.x);
					this.caret.set_y(boundaries.get_top() + this.y);
				} else if(this.text.length == 0) {
					this.caret.set_x(this.x + offx + 2);
					this.caret.set_y(this.y + 2);
				}
			}
		}
		if(this.lines == 1 && this.caret.x + this.caret.get_width() > this.x + this.get_width()) {
			this.caret.set_x(this.x + this.get_width() - 2);
		}
		return this.caretIndex;
	}
	,set_forceCase: function(Value) {
		this.forceCase = Value;
		this.set_text(this.filter(this.text));
		return this.forceCase;
	}
	,set_size: function(Value) {
		flixel_text_FlxText.prototype.set_size.call(this,Value);
		this.caret.makeGraphic(1,(this._defaultFormat.size | 0) + 2 | 0);
		return Value;
	}
	,set_maxLength: function(Value) {
		this.maxLength = Value;
		if(this.text.length > this.maxLength) {
			this.set_text(this.text.substring(0,this.maxLength));
		}
		return this.maxLength;
	}
	,set_lines: function(Value) {
		if(Value == 0) {
			return 0;
		}
		if(Value > 1) {
			this.textField.set_wordWrap(true);
			this.textField.set_multiline(true);
		} else {
			this.textField.set_wordWrap(false);
			this.textField.set_multiline(false);
		}
		this.lines = Value;
		this.calcFrame();
		return this.lines;
	}
	,get_passwordMode: function() {
		return this.textField.get_displayAsPassword();
	}
	,set_passwordMode: function(value) {
		this.textField.set_displayAsPassword(value);
		this.calcFrame();
		return value;
	}
	,set_filterMode: function(Value) {
		this.filterMode = Value;
		this.set_text(this.filter(this.text));
		return this.filterMode;
	}
	,set_fieldBorderColor: function(Value) {
		this.fieldBorderColor = Value;
		this.calcFrame();
		return this.fieldBorderColor;
	}
	,set_fieldBorderThickness: function(Value) {
		this.fieldBorderThickness = Value;
		this.calcFrame();
		return this.fieldBorderThickness;
	}
	,set_backgroundColor: function(Value) {
		this.backgroundColor = Value;
		this.calcFrame();
		return this.backgroundColor;
	}
	,__class__: flixel_addons_ui_FlxInputText
	,__properties__: $extend(flixel_text_FlxText.prototype.__properties__,{set_backgroundColor:"set_backgroundColor",set_fieldBorderThickness:"set_fieldBorderThickness",set_fieldBorderColor:"set_fieldBorderColor",set_filterMode:"set_filterMode",set_lines:"set_lines",set_maxLength:"set_maxLength",set_forceCase:"set_forceCase",set_caretIndex:"set_caretIndex",set_hasFocus:"set_hasFocus",set_passwordMode:"set_passwordMode",get_passwordMode:"get_passwordMode",set_params:"set_params",set_caretWidth:"set_caretWidth",set_caretColor:"set_caretColor",set_customFilterPattern:"set_customFilterPattern"})
});
var flixel_addons_ui_FlxMultiGamepad = function(Gamepad1,Input,Combos,Forbiddens) {
	flixel_addons_ui_FlxBaseMultiInput.call(this);
	this.input = Input;
	this.gamepad = Gamepad1;
	this.combos = Combos;
	this.forbiddens = Forbiddens;
};
$hxClasses["flixel.addons.ui.FlxMultiGamepad"] = flixel_addons_ui_FlxMultiGamepad;
flixel_addons_ui_FlxMultiGamepad.__name__ = "flixel.addons.ui.FlxMultiGamepad";
flixel_addons_ui_FlxMultiGamepad.__super__ = flixel_addons_ui_FlxBaseMultiInput;
flixel_addons_ui_FlxMultiGamepad.prototype = $extend(flixel_addons_ui_FlxBaseMultiInput.prototype,{
	gamepad: null
	,destroy: function() {
		flixel_addons_ui_FlxBaseMultiInput.prototype.destroy.call(this);
		this.gamepad = null;
	}
	,checkJustPressed: function() {
		if(this.gamepad == null) {
			return false;
		}
		var _this = this.gamepad;
		var ID = this.input;
		var Status = 2;
		switch(ID) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(ID);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,checkJustReleased: function() {
		if(this.gamepad == null) {
			return false;
		}
		var _this = this.gamepad;
		var ID = this.input;
		var Status = -1;
		switch(ID) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(ID);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,checkPressed: function() {
		if(this.gamepad == null) {
			return false;
		}
		var _this = this.gamepad;
		var ID = this.input;
		var Status = 1;
		switch(ID) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(ID);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,checkCombos: function(value) {
		if(this.gamepad == null) {
			return false;
		}
		return this.gamepad.checkButtonArrayState(this.combos,1) == value;
	}
	,checkForbiddens: function(value) {
		if(this.gamepad == null) {
			return false;
		}
		return this.gamepad.checkButtonArrayState(this.forbiddens,1) == value;
	}
	,__class__: flixel_addons_ui_FlxMultiGamepad
});
var flixel_addons_ui_FlxMultiGamepadAnalogStick = function(Gamepad1,Input,Combos,Forbiddens) {
	this.sInput = Input;
	flixel_addons_ui_FlxMultiGamepad.call(this,Gamepad1,Input.id,Combos,Forbiddens);
};
$hxClasses["flixel.addons.ui.FlxMultiGamepadAnalogStick"] = flixel_addons_ui_FlxMultiGamepadAnalogStick;
flixel_addons_ui_FlxMultiGamepadAnalogStick.__name__ = "flixel.addons.ui.FlxMultiGamepadAnalogStick";
flixel_addons_ui_FlxMultiGamepadAnalogStick.getStickInput = function(str) {
	str = str.toLowerCase();
	switch(str) {
	case "left_analog_stick_x_minus":
		return { id : 19, axis : flixel_addons_ui_XY.X, positive : false};
	case "left_analog_stick_x_plus":
		return { id : 19, axis : flixel_addons_ui_XY.X, positive : true};
	case "left_analog_stick_y_minus":
		return { id : 19, axis : flixel_addons_ui_XY.Y, positive : false};
	case "left_analog_stick_y_plus":
		return { id : 19, axis : flixel_addons_ui_XY.Y, positive : true};
	case "right_analog_stick_x_minus":
		return { id : 20, axis : flixel_addons_ui_XY.X, positive : false};
	case "right_analog_stick_x_plus":
		return { id : 20, axis : flixel_addons_ui_XY.X, positive : true};
	case "right_analog_stick_y_minus":
		return { id : 20, axis : flixel_addons_ui_XY.Y, positive : false};
	case "right_analog_stick_y_plus":
		return { id : 20, axis : flixel_addons_ui_XY.Y, positive : true};
	}
	return null;
};
flixel_addons_ui_FlxMultiGamepadAnalogStick.__super__ = flixel_addons_ui_FlxMultiGamepad;
flixel_addons_ui_FlxMultiGamepadAnalogStick.prototype = $extend(flixel_addons_ui_FlxMultiGamepad.prototype,{
	sInput: null
	,destroy: function() {
		flixel_addons_ui_FlxMultiGamepad.prototype.destroy.call(this);
		this.sInput = null;
	}
	,checkJustPressed: function() {
		if(this.gamepad == null) {
			return false;
		}
		var dz = this.gamepad.get_deadZone();
		switch(this.sInput.id) {
		case 19:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				var _this = this.gamepad.analog.justMoved;
				var stick = _this.gamepad.mapping.getAnalogStick(19);
				var tmp;
				if(stick == null) {
					tmp = false;
				} else {
					var button = _this.gamepad.buttons[stick.x];
					tmp = button != null && button.hasState(_this.status);
				}
				if(tmp) {
					if(this.sInput.positive) {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19)) > dz;
					} else {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19)) < -dz;
					}
				} else {
					return false;
				}
			} else {
				var _this = this.gamepad.analog.justMoved;
				var stick = _this.gamepad.mapping.getAnalogStick(19);
				var tmp;
				if(stick == null) {
					tmp = false;
				} else {
					var button = _this.gamepad.buttons[stick.y];
					tmp = button != null && button.hasState(_this.status);
				}
				if(tmp) {
					if(this.sInput.positive) {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getYAxisRaw(_this.mapping.getAnalogStick(19)) > dz;
					} else {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getYAxisRaw(_this.mapping.getAnalogStick(19)) < -dz;
					}
				} else {
					return false;
				}
			}
			break;
		case 20:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				var _this = this.gamepad.analog.justMoved;
				var stick = _this.gamepad.mapping.getAnalogStick(20);
				var tmp;
				if(stick == null) {
					tmp = false;
				} else {
					var button = _this.gamepad.buttons[stick.x];
					tmp = button != null && button.hasState(_this.status);
				}
				if(tmp) {
					if(this.sInput.positive) {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20)) > dz;
					} else {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20)) < -dz;
					}
				} else {
					return false;
				}
			} else {
				var _this = this.gamepad.analog.justMoved;
				var stick = _this.gamepad.mapping.getAnalogStick(20);
				var tmp;
				if(stick == null) {
					tmp = false;
				} else {
					var button = _this.gamepad.buttons[stick.y];
					tmp = button != null && button.hasState(_this.status);
				}
				if(tmp) {
					if(this.sInput.positive) {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getYAxisRaw(_this.mapping.getAnalogStick(20)) > dz;
					} else {
						var _this = this.gamepad.analog.value.gamepad;
						return _this.getYAxisRaw(_this.mapping.getAnalogStick(20)) < -dz;
					}
				} else {
					return false;
				}
			}
			break;
		default:
			return false;
		}
	}
	,checkJustReleased: function() {
		if(this.gamepad == null) {
			return false;
		}
		switch(this.sInput.id) {
		case 19:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				var _this = this.gamepad.analog.justReleased;
				var stick = _this.gamepad.mapping.getAnalogStick(19);
				if(stick == null) {
					return false;
				} else {
					var button = _this.gamepad.buttons[stick.x];
					if(button != null) {
						return button.hasState(_this.status);
					} else {
						return false;
					}
				}
			} else {
				var _this = this.gamepad.analog.justReleased;
				var stick = _this.gamepad.mapping.getAnalogStick(19);
				if(stick == null) {
					return false;
				} else {
					var button = _this.gamepad.buttons[stick.y];
					if(button != null) {
						return button.hasState(_this.status);
					} else {
						return false;
					}
				}
			}
			break;
		case 20:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				var _this = this.gamepad.analog.justReleased;
				var stick = _this.gamepad.mapping.getAnalogStick(20);
				if(stick == null) {
					return false;
				} else {
					var button = _this.gamepad.buttons[stick.x];
					if(button != null) {
						return button.hasState(_this.status);
					} else {
						return false;
					}
				}
			} else {
				var _this = this.gamepad.analog.justReleased;
				var stick = _this.gamepad.mapping.getAnalogStick(20);
				if(stick == null) {
					return false;
				} else {
					var button = _this.gamepad.buttons[stick.y];
					if(button != null) {
						return button.hasState(_this.status);
					} else {
						return false;
					}
				}
			}
			break;
		default:
			return false;
		}
	}
	,checkPressed: function() {
		if(this.gamepad == null) {
			return false;
		}
		var value = false;
		var dz = this.gamepad.get_deadZone();
		switch(this.sInput.id) {
		case 19:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				if(this.sInput.positive) {
					var _this = this.gamepad.analog.value.gamepad;
					return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19)) > dz;
				} else {
					var _this = this.gamepad.analog.value.gamepad;
					return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19)) < -dz;
				}
			} else if(this.sInput.positive) {
				var _this = this.gamepad.analog.value.gamepad;
				return _this.getYAxisRaw(_this.mapping.getAnalogStick(19)) > dz;
			} else {
				var _this = this.gamepad.analog.value.gamepad;
				return _this.getYAxisRaw(_this.mapping.getAnalogStick(19)) < -dz;
			}
			break;
		case 20:
			if(this.sInput.axis == flixel_addons_ui_XY.X) {
				if(this.sInput.positive) {
					var _this = this.gamepad.analog.value.gamepad;
					return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20)) > dz;
				} else {
					var _this = this.gamepad.analog.value.gamepad;
					return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20)) < -dz;
				}
			} else if(this.sInput.positive) {
				var _this = this.gamepad.analog.value.gamepad;
				return _this.getYAxisRaw(_this.mapping.getAnalogStick(20)) > dz;
			} else {
				var _this = this.gamepad.analog.value.gamepad;
				return _this.getYAxisRaw(_this.mapping.getAnalogStick(20)) < -dz;
			}
			break;
		default:
			value = false;
			return value;
		}
	}
	,checkCombos: function(value) {
		if(this.gamepad == null) {
			return false;
		}
		return this.gamepad.checkButtonArrayState(this.combos,1) == value;
	}
	,checkForbiddens: function(value) {
		if(this.gamepad == null) {
			return false;
		}
		return this.gamepad.checkButtonArrayState(this.forbiddens,1) == value;
	}
	,__class__: flixel_addons_ui_FlxMultiGamepadAnalogStick
});
var flixel_addons_ui_XY = $hxEnums["flixel.addons.ui.XY"] = { __ename__:"flixel.addons.ui.XY",__constructs__:null
	,X: {_hx_name:"X",_hx_index:0,__enum__:"flixel.addons.ui.XY",toString:$estr}
	,Y: {_hx_name:"Y",_hx_index:1,__enum__:"flixel.addons.ui.XY",toString:$estr}
};
flixel_addons_ui_XY.__constructs__ = [flixel_addons_ui_XY.X,flixel_addons_ui_XY.Y];
var flixel_addons_ui_FlxMultiKey = function(Input,Combos,Forbiddens) {
	flixel_addons_ui_FlxBaseMultiInput.call(this);
	this.input = Input;
	this.combos = Combos;
	this.forbiddens = Forbiddens;
};
$hxClasses["flixel.addons.ui.FlxMultiKey"] = flixel_addons_ui_FlxMultiKey;
flixel_addons_ui_FlxMultiKey.__name__ = "flixel.addons.ui.FlxMultiKey";
flixel_addons_ui_FlxMultiKey.__super__ = flixel_addons_ui_FlxBaseMultiInput;
flixel_addons_ui_FlxMultiKey.prototype = $extend(flixel_addons_ui_FlxBaseMultiInput.prototype,{
	checkJustPressed: function() {
		return flixel_FlxG.keys.checkStatus(this.input,2);
	}
	,checkJustReleased: function() {
		return flixel_FlxG.keys.checkStatus(this.input,-1);
	}
	,checkPressed: function() {
		return flixel_FlxG.keys.checkStatus(this.input,1);
	}
	,checkCombos: function(value) {
		return flixel_FlxG.keys.checkKeyArrayState(this.combos,1) == value;
	}
	,checkForbiddens: function(value) {
		return flixel_FlxG.keys.checkKeyArrayState(this.forbiddens,1) == value;
	}
	,__class__: flixel_addons_ui_FlxMultiKey
});
var flixel_addons_ui_FlxUI = function(data,ptr,superIndex_,tongue_,liveFilePath_,uiVars_) {
	if(liveFilePath_ == null) {
		liveFilePath_ = "";
	}
	this._scaledAssets = [];
	this._assetsToCleanUp = [];
	this._safe_input_delay_elapsed = 0.0;
	this._curr_mode = "";
	this._pointY = 1;
	this._pointX = 1;
	this._postLoaded = false;
	this.cursorLists = null;
	this.getTextFallback = null;
	this.failed_by = 0;
	this.failed = false;
	this.safe_input_delay_time = 0.01;
	this.do_safe_input_delay = true;
	flixel_addons_ui_FlxUIGroup.call(this);
	this._ptr_tongue = tongue_;
	this._ptr = ptr;
	if(superIndex_ != null) {
		this.setSuperIndex(superIndex_);
	}
	if(uiVars_ != null) {
		this._variable_index = new haxe_ds_StringMap();
		var h = uiVars_.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			this._variable_index.h[key] = uiVars_.h[key];
		}
	}
	if(data != null) {
		this.load(data);
	}
};
$hxClasses["flixel.addons.ui.FlxUI"] = flixel_addons_ui_FlxUI;
flixel_addons_ui_FlxUI.__name__ = "flixel.addons.ui.FlxUI";
flixel_addons_ui_FlxUI.__interfaces__ = [flixel_addons_ui_interfaces_IEventGetter];
flixel_addons_ui_FlxUI.event = function(name,sender,data,params) {
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	if(currState != null) {
		currState.getEvent(name,sender,data,params);
	}
};
flixel_addons_ui_FlxUI.fontStr = function(str,style) {
	if(style == null) {
		style = "";
	}
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	var tongue = currState._tongue;
	var t = tongue != null ? tongue : null;
	if(t != null) {
		str = t.getFont(str);
	}
	var style1 = style;
	if(style1 == null) {
		style1 = "";
	}
	var style = style1;
	if(style == null) {
		style = "";
	}
	style = style.toLowerCase();
	var suffix = "";
	switch(style) {
	case "b":case "bold":
		suffix = "b";
		break;
	case "bi":case "bold-italic":case "boldi":case "bolditalic":case "ib":case "ibold":case "italic-bold":case "italicbold":case "z":
		suffix = "z";
		break;
	case "i":case "italic":
		suffix = "i";
		break;
	case "":case "none":case "normal":case "regular":
		suffix = "";
		break;
	}
	if(str.indexOf("assets/fonts/") != 0) {
		return "assets/fonts/" + str + suffix;
	} else {
		return str + suffix;
	}
};
flixel_addons_ui_FlxUI.fontSize = function(str,size) {
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	var tongue = currState._tongue;
	var t = tongue != null ? tongue : null;
	if(t != null) {
		size = t.getFontSize(str,size);
	}
	return size;
};
flixel_addons_ui_FlxUI.font = function(str,style,extension) {
	if(extension == null) {
		extension = ".ttf";
	}
	if(style == null) {
		style = "";
	}
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	var tongue = currState._tongue;
	var t = tongue != null ? tongue : null;
	if(t != null) {
		str = t.getFont(str);
	}
	return flixel_addons_ui_U.font(str,style,extension);
};
flixel_addons_ui_FlxUI.__getTongue = function() {
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	var tongue = currState._tongue;
	if(tongue != null) {
		return tongue;
	}
	return null;
};
flixel_addons_ui_FlxUI.forceFocus = function(b,thing) {
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	if(currState != null) {
		currState.forceFocus(b,thing);
	}
};
flixel_addons_ui_FlxUI.getLeafUIState = function() {
	var state = flixel_FlxG.game._state;
	if(state != null) {
		while(state.subState != null) state = state.subState;
	}
	if(js_Boot.__implements(state,flixel_addons_ui_interfaces_IFlxUIState)) {
		return state;
	}
	return null;
};
flixel_addons_ui_FlxUI.request = function(name,sender,data,params) {
	var currState = flixel_addons_ui_FlxUI.getLeafUIState();
	if(currState != null) {
		return currState.getRequest(name,sender,data,params);
	}
	return null;
};
flixel_addons_ui_FlxUI._delta = function(thing,X,Y) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	thing.set_x(thing.x + X);
	thing.set_y(thing.y + Y);
};
flixel_addons_ui_FlxUI._center = function(thing,X,Y) {
	if(Y == null) {
		Y = true;
	}
	if(X == null) {
		X = true;
	}
	if(X) {
		thing.set_x((flixel_FlxG.width - thing.get_width()) / 2);
	}
	if(Y) {
		thing.set_y((flixel_FlxG.height - thing.get_height()) / 2);
	}
	return thing;
};
flixel_addons_ui_FlxUI.consolidateData = function(data,definition,combineUniqueChildren) {
	if(combineUniqueChildren == null) {
		combineUniqueChildren = false;
	}
	if(data == null && definition != null) {
		return definition;
	}
	if(definition == null) {
		return data;
	} else {
		var new_data = Xml.parse(haxe_xml_Printer.print(definition)).firstElement();
		var att = data.attributes();
		while(att.hasNext()) {
			var att1 = att.next();
			var val = haxe_xml__$Access_AttribAccess.resolve(data,att1);
			new_data.set(att1,val);
		}
		var v;
		if(data.nodeType == Xml.Document) {
			v = "Document";
		} else {
			if(data.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Bad node type, expected Element but found " + (data.nodeType == null ? "null" : XmlType.toString(data.nodeType)));
			}
			v = data.nodeName;
		}
		if(new_data.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (new_data.nodeType == null ? "null" : XmlType.toString(new_data.nodeType)));
		}
		new_data.nodeName = v;
		if(haxe_xml__$Access_HasAttribAccess.resolve(data,"name") || haxe_xml__$Access_HasAttribAccess.resolve(data,"id")) {
			new_data.set("name",flixel_addons_ui_U.xml_name(data));
		} else {
			new_data.set("name","");
		}
		var element = data.elements();
		while(element.hasNext()) {
			var element1 = element.next();
			if(element1.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Bad node type, expected Element but found " + (element1.nodeType == null ? "null" : XmlType.toString(element1.nodeType)));
			}
			var nodeName = element1.nodeName;
			var notCombine = !combineUniqueChildren;
			if(combineUniqueChildren) {
				var new_els = new_data.elementsNamed(nodeName);
				var new_el = new_els.next();
				if(haxe_xml__$Access_NodeListAccess.resolve(data,nodeName).length == 1 && new_el != null && new_els.hasNext() == false) {
					var att = element1.attributes();
					while(att.hasNext()) {
						var att1 = att.next();
						new_el.set(att1,element1.get(att1));
					}
				} else {
					notCombine = true;
				}
			}
			if(notCombine) {
				new_data.insertChild(Xml.parse(haxe_xml_Printer.print(element1)).firstElement(),0);
			}
		}
		if(new_data.nodeType != Xml.Document && new_data.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Invalid nodeType " + (new_data.nodeType == null ? "null" : XmlType.toString(new_data.nodeType)));
		}
		var this1 = new_data;
		return this1;
	}
};
flixel_addons_ui_FlxUI._loadBitmapRect = function(source,rect_str) {
	var b1 = openfl_utils_Assets.getBitmapData(flixel_addons_ui_U.gfx(source));
	var coords = rect_str.split(",");
	var rect = null;
	if(coords != null && coords.length == 4) {
		var x_ = Std.parseInt(coords[0]);
		var y_ = Std.parseInt(coords[1]);
		var w_ = Std.parseInt(coords[2]);
		var h_ = Std.parseInt(coords[3]);
		rect = new openfl_geom_Rectangle(x_,y_,w_,h_);
	}
	var r = rect;
	var b2 = new openfl_display_BitmapData(r.width | 0,r.height | 0,true,16777215);
	b2.copyPixels(b1,r,new openfl_geom_Point(0,0));
	return b2;
};
flixel_addons_ui_FlxUI.getParams = function(data) {
	var params = null;
	if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
		params = [];
		var _g = 0;
		var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
		while(_g < _g1.length) {
			var param = _g1[_g];
			++_g;
			if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
				var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
				type = type.toLowerCase();
				var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
				var value = valueStr;
				var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
				switch(type) {
				case "bool":case "boolean":
					var str = new String(valueStr);
					str = str.toLowerCase();
					if(str == "true" || str == "1") {
						value = true;
					} else {
						value = false;
					}
					break;
				case "color":case "hex":
					var return_val = flixel_util_FlxColor.fromString(valueStr);
					if(return_val == null) {
						throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
					}
					value = return_val;
					break;
				case "float":
					value = parseFloat(valueStr);
					break;
				case "int":
					value = Std.parseInt(valueStr);
					break;
				case "string":
					value = new String(valueStr);
					break;
				}
				params.push({ sort : sort, value : value});
			}
		}
		params.sort(flixel_addons_ui_FlxUI.sortParams);
		var _g = 0;
		var _g1 = params.length;
		while(_g < _g1) {
			var i = _g++;
			params[i] = params[i].value;
		}
	}
	return params;
};
flixel_addons_ui_FlxUI.sortParams = function(a,b) {
	if(a.sort < b.sort) {
		return -1;
	}
	if(a.sort > b.sort) {
		return 1;
	}
	return 0;
};
flixel_addons_ui_FlxUI.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUI.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	do_safe_input_delay: null
	,safe_input_delay_time: null
	,failed: null
	,failed_by: null
	,get_isRoot: function() {
		if(this._ptr != null) {
			return this._ptr == flixel_addons_ui_FlxUI.getLeafUIState();
		} else {
			return false;
		}
	}
	,liveFilePath: null
	,get_tongue: function() {
		return this._ptr_tongue;
	}
	,set_tongue: function(t) {
		this._ptr_tongue = t;
		this._tongueSet(this.group.members,t);
		return this._ptr_tongue;
	}
	,focus: null
	,set_focus: function(widget) {
		if(this.focus != null) {
			this.onFocusLost(this.focus);
		}
		this.focus = widget;
		if(this.focus != null) {
			this.onFocus(this.focus);
		}
		return widget;
	}
	,getTextFallback: null
	,cursorLists: null
	,_ptr_tongue: null
	,_data: null
	,_tongueSet: function(list,tongue) {
		var _g = 0;
		while(_g < list.length) {
			var fs = list[_g];
			++_g;
			if(((fs) instanceof flixel_addons_ui_FlxUIGroup)) {
				var g = js_Boot.__cast(fs , flixel_addons_ui_FlxUIGroup);
				this._tongueSet(g.group.members,tongue);
			} else if(((fs) instanceof flixel_addons_ui_FlxUI)) {
				var fu = js_Boot.__cast(fs , flixel_addons_ui_FlxUI);
				fu.set_tongue(tongue);
			}
		}
	}
	,callEvent: function(name,sender,data,params) {
		this.getEvent(name,sender,data,params);
	}
	,getEvent: function(name,sender,data,params) {
		if(this._ptr != null) {
			this._ptr.getEvent(name,sender,data,params);
			if(name == "post_load") {
				var h = this._asset_index.h;
				var key_h = h;
				var key_keys = Object.keys(h);
				var key_length = key_keys.length;
				var key_current = 0;
				while(key_current < key_length) {
					var key = key_keys[key_current++];
					var thing = this._asset_index.h[key];
					if(((thing) instanceof flixel_addons_ui_FlxUI)) {
						var fui = thing;
						fui.getEvent("post_load",sender,data);
					}
				}
			}
		}
	}
	,getRequest: function(name,sender,data,params) {
		if(this._ptr != null) {
			return this._ptr.getRequest(name,sender,data,params);
		}
		return null;
	}
	,onFocus: function(widget) {
		if(((widget) instanceof flixel_addons_ui_FlxUIDropDownMenu)) {
			var _g = 0;
			var _g1 = this.group.members;
			while(_g < _g1.length) {
				var asset = _g1[_g];
				++_g;
				this.setWidgetSuppression(asset,widget);
			}
		}
	}
	,setWidgetSuppression: function(asset,butNotThisOne,suppressed) {
		if(suppressed == null) {
			suppressed = true;
		}
		if(js_Boot.__implements(asset,flixel_addons_ui_interfaces_IFlxUIClickable)) {
			var skip = false;
			if(((asset) instanceof flixel_addons_ui_FlxUIDropDownMenu)) {
				var ddasset = asset;
				if(ddasset == butNotThisOne) {
					skip = true;
				}
			}
			if(!skip) {
				var ibtn = asset;
				ibtn.set_skipButtonUpdate(suppressed);
			}
		} else if(((asset) instanceof flixel_addons_ui_FlxUIGroup)) {
			var g = asset;
			var _g = 0;
			var _g1 = g.group.members;
			while(_g < _g1.length) {
				var groupAsset = _g1[_g];
				++_g;
				this.setWidgetSuppression(groupAsset,butNotThisOne,suppressed);
			}
		}
	}
	,onFocusLost: function(widget) {
		if(((widget) instanceof flixel_addons_ui_FlxUIDropDownMenu)) {
			var _g = 0;
			var _g1 = this.group.members;
			while(_g < _g1.length) {
				var asset = _g1[_g];
				++_g;
				this.setWidgetSuppression(asset,null,false);
			}
		}
	}
	,setSuperIndex: function(flxUI) {
		this._superIndexUI = flxUI;
	}
	,update: function(elapsed) {
		if(this.do_safe_input_delay) {
			this._safe_input_delay_elapsed += flixel_FlxG.elapsed;
			if(this._safe_input_delay_elapsed > this.safe_input_delay_time) {
				this.do_safe_input_delay = false;
			} else {
				return;
			}
		}
		flixel_addons_ui_FlxUIGroup.prototype.update.call(this,elapsed);
	}
	,toggleShow: function(key) {
		var thing = this.getAsset(key,false);
		if(thing == null) {
			var group = this.getGroup(key,false);
			if(group != null) {
				group.set_visible(!group.visible);
				return group.visible;
			}
		} else {
			thing.set_visible(!thing.visible);
			return thing.visible;
		}
		return false;
	}
	,showGroup: function(key,Show,Active) {
		var group = this.getGroup(key,false);
		if(group != null) {
			group.set_visible(Show);
			if(Active == null) {
				group.set_active(Show);
			} else {
				group.set_active(Active);
			}
		}
	}
	,showAsset: function(key,Show,Active) {
		var asset = this.getAsset(key,false);
		if(asset != null) {
			asset.set_visible(Show);
			if(Active == null) {
				asset.set_active(Show);
			} else {
				asset.set_active(Active);
			}
		}
	}
	,removeAsset: function(key,destroy) {
		if(destroy == null) {
			destroy = true;
		}
		var asset = this.getAsset(key,false);
		if(asset != null) {
			this.replaceInGroup(asset,null,true);
			var _this = this._asset_index;
			if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
				delete(_this.h[key]);
			}
		}
		if(destroy && asset != null) {
			asset.destroy();
			asset = null;
		}
		return asset;
	}
	,addAsset: function(asset,key,group_name,recursive) {
		if(recursive == null) {
			recursive = false;
		}
		if(group_name == null) {
			group_name = "";
		}
		if(Object.prototype.hasOwnProperty.call(this._asset_index.h,key)) {
			var tmp = key == "screen";
			return false;
		}
		var g = this.getGroup(group_name,recursive);
		if(g != null) {
			g.add(asset);
		} else {
			this.add(asset);
		}
		this._asset_index.h[key] = asset;
		return true;
	}
	,replaceAsset: function(key,replace,center_x,center_y,destroy_old) {
		if(destroy_old == null) {
			destroy_old = true;
		}
		if(center_y == null) {
			center_y = true;
		}
		if(center_x == null) {
			center_x = true;
		}
		var original = this.getAsset(key,false);
		if(original != null) {
			if(!center_x) {
				replace.set_x(original.x);
			} else {
				replace.set_x(original.x + (original.get_width() - replace.get_width()) / 2);
			}
			if(!center_y) {
				replace.set_y(original.y);
			} else {
				replace.set_y(original.y + (original.get_height() - replace.get_height()) / 2);
			}
			this.replaceInGroup(original,replace);
			var _this = this._asset_index;
			if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
				delete(_this.h[key]);
			}
			this._asset_index.h[key] = replace;
			if(destroy_old) {
				original.destroy();
				original = null;
			}
		}
		return original;
	}
	,destroy: function() {
		if(this._group_index != null) {
			var h = this._group_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._group_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._group_index = null;
		}
		if(this._asset_index != null) {
			var h = this._asset_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._asset_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._asset_index = null;
		}
		if(this._tag_index != null) {
			var h = this._tag_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				flixel_util_FlxArrayUtil.clearArray(this._tag_index.h[key]);
				var _this = this._tag_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._tag_index = null;
		}
		if(this._definition_index != null) {
			var h = this._definition_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._definition_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._definition_index = null;
		}
		if(this._variable_index != null) {
			var h = this._variable_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._variable_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._variable_index = null;
		}
		if(this._mode_index != null) {
			var h = this._mode_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var _this = this._mode_index;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			this._mode_index = null;
		}
		this._ptr = null;
		this._superIndexUI = null;
		this._ptr_tongue = null;
		if(this.cursorLists != null) {
			var _g = 0;
			var _g1 = this.cursorLists;
			while(_g < _g1.length) {
				var arr = _g1[_g];
				++_g;
				flixel_util_FlxArrayUtil.clearArray(arr);
			}
			flixel_util_FlxArrayUtil.clearArray(this.cursorLists);
		}
		this.cursorLists = null;
		flixel_util_FlxArrayUtil.clearArray(this._failure_checks);
		this._failure_checks = null;
		flixel_util_FlxArrayUtil.clearArray(this._assetsToCleanUp);
		this._assetsToCleanUp = null;
		flixel_util_FlxArrayUtil.clearArray(this._scaledAssets);
		this._scaledAssets = null;
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
	}
	,load: function(data) {
		this._group_index = new haxe_ds_StringMap();
		this._asset_index = new haxe_ds_StringMap();
		this._tag_index = new haxe_ds_StringMap();
		this._definition_index = new haxe_ds_StringMap();
		if(this._variable_index == null) {
			this._variable_index = new haxe_ds_StringMap();
		}
		this._mode_index = new haxe_ds_StringMap();
		if(data != null) {
			if(this._superIndexUI == null) {
				var screenRegion = new flixel_addons_ui_FlxUIRegion(0,0,flixel_FlxG.width,flixel_FlxG.height);
				screenRegion.name = "screen";
				this.addAsset(screenRegion,"screen");
				if(haxe_xml__$Access_HasNodeAccess.resolve(data,"screen_override")) {
					if(this._loadTest(haxe_xml__$Access_NodeAccess.resolve(data,"screen_override"))) {
						var screenNode = haxe_xml__$Access_NodeAccess.resolve(data,"screen_override");
						this._loadPosition(screenNode,screenRegion);
						screenRegion.set_width(this._loadWidth(screenNode,flixel_FlxG.width));
						screenRegion.set_height(this._loadHeight(screenNode,flixel_FlxG.height));
					}
				}
			}
			this._data = data;
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"inject")) {
				while(haxe_xml__$Access_HasNodeAccess.resolve(data,"inject")) {
					var inj_data = haxe_xml__$Access_NodeAccess.resolve(data,"inject");
					var inj_name = flixel_addons_ui_U.xml_name(inj_data);
					var payload = flixel_addons_ui_U.xml(inj_name,"xml",false);
					if(payload != null) {
						var parent = inj_data.parent;
						var i = 0;
						var _g = 0;
						var _g1 = parent.children;
						while(_g < _g1.length) {
							var child = _g1[_g];
							++_g;
							if(child == inj_data) {
								break;
							}
							++i;
						}
						if(parent.removeChild(inj_data)) {
							var j = 0;
							var e = payload.elements();
							while(e.hasNext()) {
								var e1 = e.next();
								parent.insertChild(e1,i + j);
								++j;
							}
						}
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"include")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"include");
				while(_g < _g1.length) {
					var inc_data = _g1[_g];
					++_g;
					var inc_name = flixel_addons_ui_U.xml_name(inc_data);
					var liveFile = null;
					var inc_xml = null;
					if(liveFile == null) {
						inc_xml = flixel_addons_ui_U.xml(inc_name);
					} else {
						inc_xml = liveFile;
					}
					if(inc_xml != null) {
						var _g2 = 0;
						var _g3 = haxe_xml__$Access_NodeListAccess.resolve(inc_xml,"definition");
						while(_g2 < _g3.length) {
							var def_data = _g3[_g2];
							++_g2;
							var def_name = "include:" + flixel_addons_ui_U.xml_name(def_data);
							this.unparentXML(def_data);
							this._definition_index.h[def_name] = def_data;
						}
						if(haxe_xml__$Access_HasNodeAccess.resolve(inc_xml,"point_size")) {
							this._loadPointSize(inc_xml);
						}
						if(haxe_xml__$Access_HasNodeAccess.resolve(inc_xml,"default")) {
							var _g4 = 0;
							var _g5 = haxe_xml__$Access_NodeListAccess.resolve(inc_xml,"default");
							while(_g4 < _g5.length) {
								var defaultNode = _g5[_g4];
								++_g4;
								if(this._loadTest(defaultNode)) {
									var defaultName = flixel_addons_ui_U.xml_name(defaultNode);
									this.unparentXML(defaultNode);
									this._definition_index.h["default:" + defaultName] = defaultNode;
								}
							}
						}
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"point_size")) {
				this._loadPointSize(data);
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"definition")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"definition");
				while(_g < _g1.length) {
					var def_data = _g1[_g];
					++_g;
					if(this._loadTest(def_data)) {
						var def_name = flixel_addons_ui_U.xml_name(def_data);
						var error = "";
						if(def_name.indexOf("default:") != -1) {
							error = "'default:'";
						}
						if(def_name.indexOf("include:") != -1) {
							error = "'include:'";
						}
						if(error == "") {
							this.unparentXML(def_data);
							this._definition_index.h[def_name] = def_data;
						}
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"default")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"default");
				while(_g < _g1.length) {
					var defaultNode = _g1[_g];
					++_g;
					if(this._loadTest(defaultNode)) {
						var defaultName = flixel_addons_ui_U.xml_name(defaultNode);
						this.unparentXML(defaultNode);
						this._definition_index.h["default:" + defaultName] = defaultNode;
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"variable")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"variable");
				while(_g < _g1.length) {
					var var_data = _g1[_g];
					++_g;
					if(this._loadTest(var_data)) {
						var var_name = flixel_addons_ui_U.xml_name(var_data);
						var var_value = flixel_addons_ui_U.xml_str(var_data,"value");
						if(var_name != "") {
							this._variable_index.h[var_name] = var_value;
						}
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"mode")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"mode");
				while(_g < _g1.length) {
					var mode_data = _g1[_g];
					++_g;
					if(this._loadTest(mode_data)) {
						var mode_data2 = this.applyNodeConditionals(mode_data);
						var mode_name = flixel_addons_ui_U.xml_name(mode_data);
						this.unparentXML(mode_data2);
						this._mode_index.h[mode_name] = mode_data2;
					}
				}
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"group")) {
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"group");
				while(_g < _g1.length) {
					var group_data = _g1[_g];
					++_g;
					if(this._loadTest(group_data)) {
						var name = flixel_addons_ui_U.xml_name(group_data);
						var custom = flixel_addons_ui_U.xml_str(group_data,"custom");
						var tempGroup = null;
						if(custom != "") {
							var result = this._ptr.getRequest("ui_get_group:",this,custom);
							if(result != null && ((result) instanceof flixel_addons_ui_FlxUIGroup)) {
								tempGroup = result;
							}
						}
						if(tempGroup == null) {
							tempGroup = new flixel_addons_ui_FlxUIGroup();
						}
						tempGroup.name = name;
						this._group_index.h[name] = tempGroup;
						this.add(tempGroup);
					}
				}
			}
			if(data.firstElement() != null) {
				var node = data.elements();
				while(node.hasNext()) {
					var node1 = node.next();
					this._loadSub(node1);
				}
			}
			this._postLoad(data);
		} else {
			this._onFinishLoad();
		}
	}
	,unparentXML: function(f) {
		return flixel_addons_ui_U.unparentXML(f);
	}
	,_loadPointSize: function(data) {
		var data1 = haxe_xml__$Access_NodeAccess.resolve(data,"point_size");
		var default_ = -1.0;
		if(default_ == null) {
			default_ = 0;
		}
		var ptx = this._loadWidth(data1,default_,"x");
		var data1 = haxe_xml__$Access_NodeAccess.resolve(data,"point_size");
		var default_ = -1.0;
		if(default_ == null) {
			default_ = 0;
		}
		var pty = this._loadHeight(data1,default_,"y");
		if(pty < 1 && ptx < 1) {
			pty = this._loadHeight(haxe_xml__$Access_NodeAccess.resolve(data,"point_size"),-1,"value");
			ptx = pty;
		}
		if(pty > 0) {
			this._pointX = ptx;
		}
		if(ptx > 0) {
			this._pointY = pty;
		}
	}
	,_loadSub: function(node,iteration) {
		if(iteration == null) {
			iteration = 0;
		}
		if(node.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (node.nodeType == null ? "null" : XmlType.toString(node.nodeType)));
		}
		var type = node.nodeName;
		if(node.nodeType != Xml.Document && node.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Invalid nodeType " + (node.nodeType == null ? "null" : XmlType.toString(node.nodeType)));
		}
		var this1 = node;
		var obj = this1;
		if(type == "load_if") {
			if(this._loadTest(obj)) {
				if(node.firstElement() != null) {
					var subNode = node.elements();
					while(subNode.hasNext()) {
						var subNode1 = subNode.next();
						this._loadSub(subNode1,iteration + 1);
					}
				}
			}
			return;
		}
		var group_name = "";
		var tempGroup = null;
		var thing_name = flixel_addons_ui_U.xml_name(obj);
		if(haxe_xml__$Access_HasAttribAccess.resolve(obj,"group")) {
			group_name = haxe_xml__$Access_AttribAccess.resolve(obj,"group");
			tempGroup = this.getGroup(group_name);
		}
		var thing = this._loadThing(type,obj);
		if(thing != null) {
			this._loadGlobals(obj,thing);
			if(thing_name != null && thing_name != "") {
				this._asset_index.h[thing_name] = thing;
				thing.name = thing_name;
				var thing_tags = flixel_addons_ui_U.xml_str(obj,"tags");
				if(thing_tags != "") {
					var tagArr = thing_tags.split(",");
					this._addTags(tagArr,thing_name);
				}
			}
			this._loadTooltip(thing,obj);
			if(tempGroup != null) {
				tempGroup.add(thing);
			} else {
				this.add(thing);
			}
			this._loadPosition(obj,thing);
		}
	}
	,_addTags: function(arr,thingName) {
		var _g = 0;
		while(_g < arr.length) {
			var tag = arr[_g];
			++_g;
			var list = null;
			if(!Object.prototype.hasOwnProperty.call(this._tag_index.h,tag)) {
				this._tag_index.h[tag] = [];
			}
			list = this._tag_index.h[tag];
			if(list.indexOf(thingName) == -1) {
				list.push(thingName);
			}
		}
	}
	,_loadGlobals: function(data,thing) {
		if(((thing) instanceof flixel_FlxBasic)) {
			var isVis = flixel_addons_ui_U.xml_bool(data,"visible",true);
			var isActive = flixel_addons_ui_U.xml_bool(data,"active",true);
			var numID = flixel_addons_ui_U.xml_i(data,"num_id");
			thing.visible = isVis;
			thing.active = isActive;
			thing.ID = numID;
			if(((thing) instanceof flixel_FlxSprite)) {
				var alpha = flixel_addons_ui_U.xml_f(data,"alpha",1.0);
				var s = thing;
				s.set_alpha(alpha);
			}
		}
	}
	,_postLoad: function(data) {
		this._postLoaded = true;
		if(data.firstElement() != null) {
			var node = data.elements();
			while(node.hasNext()) {
				var node1 = node.next();
				if(node1.nodeType != Xml.Element) {
					throw haxe_Exception.thrown("Bad node type, expected Element but found " + (node1.nodeType == null ? "null" : XmlType.toString(node1.nodeType)));
				}
				var tmp = node1.nodeName.toLowerCase();
				if(node1.nodeType != Xml.Document && node1.nodeType != Xml.Element) {
					throw haxe_Exception.thrown("Invalid nodeType " + (node1.nodeType == null ? "null" : XmlType.toString(node1.nodeType)));
				}
				var this1 = node1;
				this._postLoadThing(tmp,this1);
			}
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"mode")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"mode");
			while(_g < _g1.length) {
				var mode_node = _g1[_g];
				++_g;
				var is_default = flixel_addons_ui_U.xml_bool(mode_node,"is_default");
				if(is_default) {
					var mode_name = flixel_addons_ui_U.xml_name(mode_node);
					this.setMode(mode_name);
					break;
				}
			}
		}
		if(this._failure_checks != null) {
			var _g = 0;
			var _g1 = this._failure_checks;
			while(_g < _g1.length) {
				var data = _g1[_g];
				++_g;
				if(this._checkFailure(data)) {
					this.failed = true;
					break;
				}
			}
			flixel_addons_ui_U.clearArraySoft(this._failure_checks);
			this._failure_checks = null;
		}
		this._onFinishLoad();
	}
	,_sendTo: function(thing,dir) {
		var group = this.getAssetGroup(null,thing);
		if(group == null) {
			if(this.group.members.indexOf(thing) != -1) {
				group = this;
			} else {
				return;
			}
		}
		if(dir != -1 && dir != 1) {
			return;
		}
		HxOverrides.remove(group.group.members,thing);
		switch(dir) {
		case -1:
			group.group.members.splice(0,0,thing);
			break;
		case 1:
			group.group.members.push(thing);
			break;
		}
	}
	,sendToFront: function(name,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var thing = this.getAsset(name,recursive);
		if(thing != null) {
			this._sendTo(thing,1);
		}
	}
	,sendToBack: function(name,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var thing = this.getAsset(name,recursive);
		if(thing != null) {
			this._sendTo(thing,-1);
		}
	}
	,get_currMode: function() {
		return this._curr_mode;
	}
	,set_currMode: function(m) {
		this.setMode(m);
		return this._curr_mode;
	}
	,setMode: function(mode_name,target_name) {
		if(target_name == null) {
			target_name = "";
		}
		if(this._curr_mode == mode_name) {
			return;
		}
		var mode = this.getMode(mode_name);
		this._curr_mode = mode_name;
		var name = "";
		var thing;
		if(target_name == "") {
			if(mode != null) {
				var xml;
				var node = mode.elements();
				while(node.hasNext()) {
					var node1 = node.next();
					var node2 = this.applyNodeConditionals(node1);
					xml = node2;
					if(xml.nodeType != Xml.Element) {
						throw haxe_Exception.thrown("Bad node type, expected Element but found " + (xml.nodeType == null ? "null" : XmlType.toString(xml.nodeType)));
					}
					var nodeName = xml.nodeName;
					var activeStatus = flixel_addons_ui_U.xml_str(xml,"active") == "" ? null : true;
					if(activeStatus != null) {
						activeStatus = flixel_addons_ui_U.xml_bool(xml,"active");
					}
					if(this._loadTest(node2)) {
						switch(nodeName) {
						case "align":
							this._alignThing(node2);
							break;
						case "change":
							this._changeThing(node2);
							break;
						case "hide":
							this.showThing(flixel_addons_ui_U.xml_name(xml),false,activeStatus);
							break;
						case "position":
							name = flixel_addons_ui_U.xml_name(xml);
							thing = this.getAsset(name);
							if(thing != null) {
								this._loadPosition(node2,thing);
							}
							break;
						case "show":
							this.showThing(flixel_addons_ui_U.xml_name(xml),true,activeStatus);
							break;
						}
					}
				}
			}
		} else {
			var target = this.getAsset(target_name);
			if(target != null && ((target) instanceof flixel_addons_ui_FlxUI)) {
				var targetUI = js_Boot.__cast(target , flixel_addons_ui_FlxUI);
				targetUI.setMode(mode_name,"");
			}
		}
	}
	,showThing: function(name,visibleStatus,activeStatus) {
		if(visibleStatus == null) {
			visibleStatus = true;
		}
		if(name.indexOf(",") != -1) {
			var names = name.split(",");
			var _g = 0;
			while(_g < names.length) {
				var each_name = names[_g];
				++_g;
				var thing = this.getAsset(each_name);
				if(thing != null) {
					thing.set_visible(visibleStatus);
					if(activeStatus != null) {
						thing.set_active(activeStatus);
					}
				} else {
					var group = this.getGroup(each_name);
					if(group != null) {
						group.set_visible(visibleStatus);
						if(activeStatus != null) {
							group.set_active(activeStatus);
						}
					}
				}
			}
		} else if(name != "*") {
			var thing = this.getAsset(name);
			if(thing != null) {
				thing.set_visible(visibleStatus);
				if(activeStatus != null) {
					thing.set_active(activeStatus);
				}
			} else {
				var group = this.getGroup(name);
				if(group != null) {
					group.set_visible(visibleStatus);
					if(activeStatus != null) {
						group.set_active(activeStatus);
					}
				}
			}
		} else {
			var h = this._asset_index.h;
			var asset_name_h = h;
			var asset_name_keys = Object.keys(h);
			var asset_name_length = asset_name_keys.length;
			var asset_name_current = 0;
			while(asset_name_current < asset_name_length) {
				var asset_name = asset_name_keys[asset_name_current++];
				if(asset_name != "*") {
					this.showThing(asset_name,visibleStatus,activeStatus);
				}
			}
		}
	}
	,getGroup: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var tempGroup = this._group_index.h[key];
		if(tempGroup == null && recursive && this._superIndexUI != null) {
			return this._superIndexUI.getGroup(key,recursive);
		}
		return tempGroup;
	}
	,getFlxText: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var asset = this.getAsset(key,recursive);
		if(asset != null) {
			if(((asset) instanceof flixel_text_FlxText)) {
				return js_Boot.__cast(asset , flixel_text_FlxText);
			}
		}
		return null;
	}
	,getAllAssets: function() {
		var arr = [];
		var h = this._asset_index.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			arr.push(this.getAsset(key));
		}
		return arr;
	}
	,getAssetKeys: function() {
		var arr = [];
		var h = this._asset_index.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			arr.push(key);
		}
		return arr;
	}
	,hasAsset: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		if(Object.prototype.hasOwnProperty.call(this._asset_index.h,key)) {
			return true;
		}
		if(recursive && this._superIndexUI != null) {
			return this._superIndexUI.hasAsset(key,recursive);
		}
		return false;
	}
	,getAsset: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var asset = this._asset_index.h[key];
		if(asset == null && recursive && this._superIndexUI != null) {
			return this._superIndexUI.getAsset(key,recursive);
		}
		return asset;
	}
	,getAssetsWithTag: function(tag) {
		if(Object.prototype.hasOwnProperty.call(this._tag_index.h,tag)) {
			var list = this._tag_index.h[tag];
			if(list == null || list.length == 0) {
				return null;
			}
			var arr = [];
			var _g = 0;
			while(_g < list.length) {
				var key = list[_g];
				++_g;
				var widget = this.getAsset(key);
				if(widget != null) {
					arr.push(widget);
				}
			}
			return arr;
		}
		return null;
	}
	,getAssetGroup: function(key,thing) {
		if(thing == null && (key == null || key == "")) {
			return null;
		}
		if(thing == null) {
			thing = this.getAsset(key);
		}
		if(thing == null) {
			return null;
		}
		var h = this._group_index.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			var g = this._group_index.h[key];
			if(g.group.members.indexOf(thing) != -1) {
				return g;
			}
		}
		return null;
	}
	,getMode: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var mode = this._mode_index.h[key];
		if(mode == null && recursive && this._superIndexUI != null) {
			return this._superIndexUI.getMode(key,recursive);
		}
		return mode;
	}
	,getLabelStyleFromDefinition: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var definition = this.getDefinition(key,recursive);
		if(definition != null) {
			var fontDef = this._loadFontDef(definition);
			var align = flixel_addons_ui_U.xml_str(definition,"align");
			if(align == "") {
				align = null;
			}
			var color = this._loadColor(definition);
			var border = this._loadBorder(definition);
			return new flixel_addons_ui_ButtonLabelStyle(fontDef,align,color,border);
		}
		return null;
	}
	,getLabelStyleFromData: function(data) {
		var fontDef = this._loadFontDef(data);
		var align = flixel_addons_ui_U.xml_str(data,"align");
		if(align == "") {
			align = null;
		}
		var color = this._loadColor(data);
		var border = this._loadBorder(data);
		return new flixel_addons_ui_ButtonLabelStyle(fontDef,align,color,border);
	}
	,checkVariable: function(key,otherValue,type,op,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		if(op == null) {
			op = "==";
		}
		var variable = this.getVariable(key,recursive);
		if(variable != null) {
			return flixel_addons_ui_U.compareStringVars(variable,otherValue,type,op);
		} else {
			return flixel_addons_ui_U.compareStringVars("",otherValue,type,op);
		}
	}
	,setVariable: function(key,value) {
		this._variable_index.h[key] = value;
	}
	,getVariable: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var variable = this._variable_index.h[key];
		if(variable == null && recursive && this._superIndexUI != null) {
			variable = this._superIndexUI.getVariable(key,recursive);
		}
		return variable;
	}
	,getDefinition: function(key,recursive) {
		if(recursive == null) {
			recursive = true;
		}
		var definition = this._definition_index.h[key];
		if(definition == null && recursive && this._superIndexUI != null) {
			definition = this._superIndexUI.getDefinition(key,recursive);
		}
		if(definition == null) {
			if(key.indexOf("include:") == -1) {
				definition = this.getDefinition("include:" + key,recursive);
			}
		}
		return definition;
	}
	,screenWidth: function() {
		if(this.hasAsset("screen")) {
			return this.getAsset("screen").get_width() | 0;
		}
		return flixel_FlxG.width;
	}
	,screenHeight: function() {
		if(this.hasAsset("height")) {
			return this.getAsset("screen").get_height() | 0;
		}
		return flixel_FlxG.height;
	}
	,_postLoaded: null
	,_pointX: null
	,_pointY: null
	,_group_index: null
	,_asset_index: null
	,_tag_index: null
	,_definition_index: null
	,_variable_index: null
	,_mode_index: null
	,_curr_mode: null
	,_ptr: null
	,_superIndexUI: null
	,_safe_input_delay_elapsed: null
	,_failure_checks: null
	,_assetsToCleanUp: null
	,_scaledAssets: null
	,replaceInGroup: function(original,replace,splice) {
		if(splice == null) {
			splice = false;
		}
		if(this._group_index != null) {
			var h = this._group_index.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				var tempGroup = this._group_index.h[key];
				if(tempGroup.group.members != null) {
					var i = 0;
					var _g = 0;
					var _g1 = tempGroup.group.members;
					while(_g < _g1.length) {
						var member = _g1[_g];
						++_g;
						if(member != null) {
							if(member == original) {
								tempGroup.group.members[i] = replace;
								if(replace == null) {
									if(splice) {
										tempGroup.group.members.splice(i,1);
										--i;
									}
								}
								return;
							}
							++i;
						}
					}
				}
			}
		}
		if(this.group.members != null) {
			var i = 0;
			var _g = 0;
			var _g1 = this.group.members;
			while(_g < _g1.length) {
				var member = _g1[_g];
				++_g;
				if(member != null) {
					if(member == original) {
						this.group.members[i] = replace;
						if(replace == null) {
							if(splice) {
								this.group.members.splice(i,1);
								--i;
							}
						}
						return;
					}
				}
				++i;
			}
		}
	}
	,applyNodeConditionals: function(info) {
		if(haxe_xml__$Access_HasNodeAccess.resolve(info,"locale") || haxe_xml__$Access_HasNodeAccess.resolve(info,"haxedef")) {
			var x = Xml.parse(haxe_xml_Printer.print(info)).firstElement();
			if(x.nodeType != Xml.Document && x.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Invalid nodeType " + (x.nodeType == null ? "null" : XmlType.toString(x.nodeType)));
			}
			var this1 = x;
			info = this1;
			if(haxe_xml__$Access_HasNodeAccess.resolve(info,"locale")) {
				info = this.applyNodeChanges(info,"locale");
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(info,"haxedef")) {
				info = this.applyNodeChanges(info,"haxedef");
			}
			if(haxe_xml__$Access_HasNodeAccess.resolve(info,"window")) {
				info = this.applyNodeChanges(info,"window");
			}
		}
		return info;
	}
	,applyNodeChanges: function(data,nodeName) {
		var nodeValue = "";
		if(nodeName == "locale") {
			if(this._ptr_tongue == null) {
				return data;
			}
			nodeValue = this._ptr_tongue.locale.toLowerCase();
		}
		var haxedef = false;
		if(nodeName == "haxedef") {
			haxedef = true;
		}
		if(nodeName == "window") {
			nodeValue = flixel_FlxG.width + "," + flixel_FlxG.height;
		}
		var _g = 0;
		var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,nodeName);
		while(_g < _g1.length) {
			var cNode = _g1[_g];
			++_g;
			var cname = flixel_addons_ui_U.xml_name(cNode);
			if(haxedef) {
				nodeValue = "";
				if(flixel_addons_ui_U.checkHaxedef(cname)) {
					nodeValue = cname;
				}
			}
			if(cname == nodeValue) {
				if(haxe_xml__$Access_HasNodeAccess.resolve(cNode,"change")) {
					var _g2 = 0;
					var _g3 = haxe_xml__$Access_NodeListAccess.resolve(cNode,"change");
					while(_g2 < _g3.length) {
						var change = _g3[_g2];
						++_g2;
						var att = change.attributes();
						while(att.hasNext()) {
							var att1 = att.next();
							var value = change.get(att1);
							data.set(att1,value);
						}
					}
				}
			}
		}
		return data;
	}
	,loadThing: function(type,data) {
		return this._loadThing(type,data);
	}
	,_loadThingGetInfo: function(data) {
		var _this = data;
		if(_this.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Bad node type, expected Element but found " + (_this.nodeType == null ? "null" : XmlType.toString(_this.nodeType)));
		}
		var nodeName = _this.nodeName;
		var defaultDef = this.getDefinition("default:" + nodeName);
		var info = null;
		if(defaultDef != null) {
			info = flixel_addons_ui_FlxUI.consolidateData(data,defaultDef,true);
		}
		if(info == null) {
			info = data;
		}
		var use_def = flixel_addons_ui_U.xml_str(info,"use_def",true);
		var definition = null;
		if(use_def != "") {
			definition = this.getDefinition(use_def);
		}
		info = flixel_addons_ui_FlxUI.consolidateData(info,definition);
		info = this.applyNodeConditionals(info);
		if(this._loadTest(info) == false) {
			return null;
		}
		return info;
	}
	,_loadTooltip: function(thing,data) {
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"tooltip")) {
			var tt = this._loadTooltipData(haxe_xml__$Access_NodeAccess.resolve(data,"tooltip"));
			var state = flixel_addons_ui_FlxUI.getLeafUIState();
			if(((thing) instanceof flixel_addons_ui_FlxUICheckBox)) {
				var check = thing;
				state.tooltips.add(check.button,tt);
			} else {
				state.tooltips.add(thing,tt);
			}
		}
	}
	,_loadTooltipData: function(tNode) {
		var tt = { title : "", body : "", anchor : null, style : { titleFormat : null, bodyFormat : null, titleBorder : null, bodyBorder : null, titleOffset : null, bodyOffset : null, titleWidth : -1, bodyWidth : -1, background : null, borderSize : -1, borderColor : null, arrow : null, autoSizeVertical : null, autoSizeHorizontal : null, leftPadding : -1, rightPadding : -1, topPadding : -1, bottomPadding : -1}};
		var defaultDef = this.getDefinition("default:tooltip");
		if(defaultDef != null) {
			tNode = flixel_addons_ui_FlxUI.consolidateData(tNode,defaultDef,true);
		}
		if(haxe_xml__$Access_HasAttribAccess.resolve(tNode,"use_def")) {
			var defStr = flixel_addons_ui_U.xml_str(tNode,"use_def",true);
			var def = this.getDefinition(defStr);
			if(def != null) {
				tNode = flixel_addons_ui_FlxUI.consolidateData(tNode,def,true);
			}
		}
		if(haxe_xml__$Access_HasAttribAccess.resolve(tNode,"text")) {
			this._loadTooltipText(tNode,"text",tt);
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(tNode,"title")) {
			this._loadTooltipText(haxe_xml__$Access_NodeAccess.resolve(tNode,"title"),"text",tt);
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(tNode,"body")) {
			this._loadTooltipText(haxe_xml__$Access_NodeAccess.resolve(tNode,"body"),"text",tt);
		}
		tt.anchor = this._loadAnchor(tNode);
		this._loadTooltipStyle(tNode,tt);
		return tt;
	}
	,_loadTooltipStyle: function(node,tt) {
		tt.style.background = flixel_addons_ui_U.xml_color(node,"background");
		tt.style.borderSize = flixel_addons_ui_U.xml_i(node,"border",-1);
		tt.style.borderColor = flixel_addons_ui_U.xml_color(node,"border_color");
		var tmp;
		if(haxe_xml__$Access_HasAttribAccess.resolve(node,"arrow")) {
			var data = node;
			var str = "";
			if(data.get("arrow") != null) {
				str = data.get("arrow");
				if(str == "" || str == null) {
					str = "";
				} else {
					str = flixel_addons_ui_U.gfx(str);
					try {
						if(!openfl_utils_Assets.exists(str,"IMAGE")) {
							throw haxe_Exception.thrown("couldn't load bmp \"" + "arrow" + "\"");
						}
					} catch( _g ) {
						haxe_NativeStackTrace.lastError = _g;
						if(typeof(haxe_Exception.caught(_g).unwrap()) != "string") {
							throw _g;
						}
					}
				}
			}
			tmp = str;
		} else {
			tmp = null;
		}
		tt.style.arrow = tmp;
		tt.style.autoSizeHorizontal = flixel_addons_ui_U.xml_bool(node,"auto_size_horizontal",true);
		tt.style.autoSizeVertical = flixel_addons_ui_U.xml_bool(node,"auto_size_vertical",true);
		var padAll = this._loadHeight(node,-1,"pad_all") | 0;
		if(padAll != -1) {
			tt.style.leftPadding = tt.style.rightPadding = tt.style.topPadding = tt.style.bottomPadding = padAll;
		} else {
			var tmp = this._loadWidth(node,0,"pad_left") | 0;
			tt.style.leftPadding = tmp;
			var tmp = this._loadWidth(node,0,"pad_right") | 0;
			tt.style.rightPadding = tmp;
			var tmp = this._loadHeight(node,0,"pad_top") | 0;
			tt.style.topPadding = tmp;
			var tmp = this._loadHeight(node,0,"pad_bottom") | 0;
			tt.style.bottomPadding = tmp;
		}
	}
	,_loadTooltipText: function(node,fieldName,tt) {
		var nodeName;
		if(node.nodeType == Xml.Document) {
			nodeName = "Document";
		} else {
			if(node.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Bad node type, expected Element but found " + (node.nodeType == null ? "null" : XmlType.toString(node.nodeType)));
			}
			nodeName = node.nodeName;
		}
		var text = this._loadString(node,fieldName);
		var offset = new flixel_math_FlxPoint(this._loadWidth(node,0,"x"),this._loadHeight(node,0,"y"));
		if(haxe_xml__$Access_HasAttribAccess.resolve(node,"use_def")) {
			var use_def = flixel_addons_ui_U.xml_str(node,"use_def",true);
			var the_def = this.getDefinition(use_def);
			if(the_def != null) {
				node = flixel_addons_ui_FlxUI.consolidateData(node,the_def);
			}
		}
		var border = this._loadBorder(node);
		var format = this._loadFontDef(node);
		var color = flixel_addons_ui_U.xml_color(node,"color",true,-16777216);
		format.format.color = color;
		var W = this._loadWidth(node,-1,"width") | 0;
		switch(nodeName) {
		case "body":
			if(text != "") {
				tt.body = text;
			}
			tt.style.bodyOffset = offset;
			tt.style.bodyFormat = format;
			tt.style.bodyWidth = W;
			tt.style.bodyBorder = border;
			break;
		case "title":case "tooltip":
			if(text != "") {
				tt.title = text;
			}
			tt.style.titleOffset = offset;
			tt.style.titleFormat = format;
			tt.style.titleWidth = W;
			tt.style.titleBorder = border;
			break;
		default:
		}
	}
	,_loadAnchor: function(data) {
		var xOff = this._loadWidth(data,0,"x");
		var yOff = this._loadHeight(data,0,"y");
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"anchor")) {
			var xSide = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"x",true,"right");
			var ySide = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"y",true,"top");
			var xFlush = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"x-flush",true,"left");
			var yFlush = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"y-flush",true,"top");
			return new flixel_addons_ui_Anchor(xOff,yOff,xSide,ySide,xFlush,yFlush);
		}
		return null;
	}
	,_loadThing: function(type,data) {
		var info = this._loadThingGetInfo(data);
		if(info == null) {
			return null;
		}
		switch(type) {
		case "align":
			this._alignThing(info,true);
			return null;
		case "bar":
			return this._loadBar(info);
		case "box":
			return this._loadBox(info);
		case "button":
			return this._loadButton(info);
		case "button_toggle":
			return this._loadButton(info,true,true);
		case "change":
			this._changeThing(info);
			return null;
		case "checkbox":
			return this._loadCheckBox(info);
		case "failure":
			if(this._failure_checks == null) {
				this._failure_checks = [];
			}
			this.unparentXML(info);
			this._failure_checks.push(info);
			return null;
		case "input_text":
			return this._loadInputText(info);
		case "line":
			return this._loadLine(info);
		case "default":case "group":case "include":case "inject":case "load_if":case "mode":
			return null;
		case "chrome":case "nine_slice":case "nine_slice_sprite":case "nineslice":case "nineslicesprite":
			return this._load9SliceSprite(info);
		case "num_stepper":case "numeric_stepper":case "numstepper":
			return this._loadNumericStepper(info);
		case "position":
			this.name = flixel_addons_ui_U.xml_name(info);
			var thing = this.getAsset(this.name);
			if(thing != null) {
				this._loadPosition(info,thing);
			}
			return null;
		case "dropdown":case "dropdown_menu":case "pulldown":case "pulldown_menu":
			return this._loadDropDownMenu(info);
		case "radio_group":
			return this._loadRadioGroup(info);
		case "region":
			return this._loadRegion(info);
		case "sprite":
			return this._loadSprite(info);
		case "tab_menu":
			return this._loadTabMenu(info);
		case "text":
			return this._loadText(info);
		case "tile_test":
			return this._loadTileTest(info);
		case "layout":case "ui":
			return this._loadLayout(info);
		default:
			var result = this._ptr.getRequest("ui_get:" + type,this,info,[data]);
			return result;
		}
	}
	,_loadX: function(data,default_) {
		if(default_ == null) {
			default_ = 0;
		}
		return this._loadWidth(data,default_,"x");
	}
	,_loadY: function(data,default_) {
		if(default_ == null) {
			default_ = 0;
		}
		return this._loadHeight(data,default_,"y");
	}
	,_loadScale: function(data,default_,str) {
		if(str == null) {
			str = "scale";
		}
		if(default_ == null) {
			default_ = 1.0;
		}
		return this._loadHeight(data,default_,str,"none");
	}
	,_loadScaleX: function(data,default_) {
		if(default_ == null) {
			default_ = 1.0;
		}
		return this._loadWidth(data,default_,"scale_x","none");
	}
	,_loadScaleY: function(data,default_) {
		if(default_ == null) {
			default_ = 1.0;
		}
		return this._loadHeight(data,default_,"scale_y","none");
	}
	,_loadWidth: function(data,default_,str,defaultRound) {
		if(defaultRound == null) {
			defaultRound = "";
		}
		if(str == null) {
			str = "width";
		}
		if(default_ == null) {
			default_ = 10;
		}
		var ws = flixel_addons_ui_U.xml_str(data,str,true,default_ == null ? "null" : "" + default_);
		var round = this.getRound(data,defaultRound);
		return this.doRound(this._getDataSize("w",ws,default_),round);
	}
	,_loadHeight: function(data,default_,str,defaultRound) {
		if(defaultRound == null) {
			defaultRound = "";
		}
		if(str == null) {
			str = "height";
		}
		if(default_ == null) {
			default_ = 10;
		}
		var hs = flixel_addons_ui_U.xml_str(data,str,true,default_ == null ? "null" : "" + default_);
		var round = this.getRound(data,defaultRound);
		return this.doRound(this._getDataSize("h",hs,default_),round);
	}
	,_loadCompass: function(data,str) {
		if(str == null) {
			str = "resize_point";
		}
		var cs = flixel_addons_ui_U.xml_str(data,str,true,"nw");
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var fp = point;
		switch(cs) {
		case "c":case "center":case "m":case "mid":
			fp.set_x(0.5);
			fp.set_y(0.5);
			break;
		case "ll":case "sw":
			fp.set_x(0);
			fp.set_y(1);
			break;
		case "n":case "u":
			fp.set_x(0.5);
			fp.set_y(0);
			break;
		case "nw":case "ul":
			fp.set_x(0);
			fp.set_y(0);
			break;
		case "e":case "r":
			fp.set_x(1);
			fp.set_y(0.5);
			break;
		case "s":
			fp.set_x(0.5);
			fp.set_y(1);
			break;
		case "lr":case "se":
			fp.set_x(1);
			fp.set_y(1);
			break;
		case "ne":case "ur":
			fp.set_x(1);
			fp.set_y(0);
			break;
		case "w":
			fp.set_x(0.5);
			fp.set_y(0);
			break;
		}
		return fp;
	}
	,_changeParamsThing: function(data) {
		var name = flixel_addons_ui_U.xml_name(data);
		var thing = this.getAsset(name);
		if(thing == null) {
			return;
		}
		if(!js_Boot.__implements(thing,flixel_addons_ui_interfaces_IHasParams)) {
			return;
		}
		var ihp = thing;
		var params = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			params = [];
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
			while(_g < _g1.length) {
				var param = _g1[_g];
				++_g;
				if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
					var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
					type = type.toLowerCase();
					var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
					var value = valueStr;
					var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
					switch(type) {
					case "bool":case "boolean":
						var str = new String(valueStr);
						str = str.toLowerCase();
						if(str == "true" || str == "1") {
							value = true;
						} else {
							value = false;
						}
						break;
					case "color":case "hex":
						var return_val = flixel_util_FlxColor.fromString(valueStr);
						if(return_val == null) {
							throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
						}
						value = return_val;
						break;
					case "float":
						value = parseFloat(valueStr);
						break;
					case "int":
						value = Std.parseInt(valueStr);
						break;
					case "string":
						value = new String(valueStr);
						break;
					}
					params.push({ sort : sort, value : value});
				}
			}
			params.sort(flixel_addons_ui_FlxUI.sortParams);
			var _g = 0;
			var _g1 = params.length;
			while(_g < _g1) {
				var i = _g++;
				params[i] = params[i].value;
			}
		}
		ihp.set_params(params);
	}
	,_changeThing: function(data) {
		var name = flixel_addons_ui_U.xml_name(data);
		var thing = this.getAsset(name);
		if(thing == null) {
			return;
		}
		var new_width = -1;
		var new_height = -1;
		var context = "";
		var code = "";
		var attribute = data.attributes();
		while(attribute.hasNext()) {
			var attribute1 = attribute.next();
			switch(attribute1) {
			case "height":
				new_height = this._loadHeight(data);
				break;
			case "label":
				var label = flixel_addons_ui_U.xml_str(data,"label");
				context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
				code = flixel_addons_ui_U.xml_str(data,"code",true,"");
				label = this.getText(label,context,true,code);
				if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_ILabeled)) {
					var b = thing;
					b.getLabel().set_text(label);
				}
				break;
			case "text":
				if(((thing) instanceof flixel_addons_ui_FlxUIText)) {
					var text = flixel_addons_ui_U.xml_str(data,"text");
					context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
					var t = thing;
					code = flixel_addons_ui_U.xml_str(data,"code",true,"");
					t.set_text(this.getText(text,context,true,code));
				}
				break;
			case "width":
				new_width = this._loadWidth(data);
				break;
			}
		}
		if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_IResizable)) {
			var ir = thing;
			if(new_width != -1 || new_height != -1) {
				if(new_width == -1) {
					new_width = ir.get_width();
				}
				if(new_height == -1) {
					new_height = ir.get_height();
				}
				ir.resize(new_width,new_height);
			}
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_IHasParams)) {
				var ihp = thing;
				var params = null;
				if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
					params = [];
					var _g = 0;
					var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
					while(_g < _g1.length) {
						var param = _g1[_g];
						++_g;
						if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
							var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
							type = type.toLowerCase();
							var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
							var value = valueStr;
							var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
							switch(type) {
							case "bool":case "boolean":
								var str = new String(valueStr);
								str = str.toLowerCase();
								if(str == "true" || str == "1") {
									value = true;
								} else {
									value = false;
								}
								break;
							case "color":case "hex":
								var return_val = flixel_util_FlxColor.fromString(valueStr);
								if(return_val == null) {
									throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
								}
								value = return_val;
								break;
							case "float":
								value = parseFloat(valueStr);
								break;
							case "int":
								value = Std.parseInt(valueStr);
								break;
							case "string":
								value = new String(valueStr);
								break;
							}
							params.push({ sort : sort, value : value});
						}
					}
					params.sort(flixel_addons_ui_FlxUI.sortParams);
					var _g = 0;
					var _g1 = params.length;
					while(_g < _g1) {
						var i = _g++;
						params[i] = params[i].value;
					}
				}
				ihp.set_params(params);
			}
		}
	}
	,_alignThing: function(data,suppressError) {
		if(suppressError == null) {
			suppressError = false;
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"objects")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"objects");
			while(_g < _g1.length) {
				var objectNode = _g1[_g];
				++_g;
				var objects = flixel_addons_ui_U.xml_str(objectNode,"value",true,"").split(",");
				var axis = flixel_addons_ui_U.xml_str(data,"axis",true);
				if(axis != "horizontal" && axis != "vertical") {
					throw new openfl_errors_Error("FlxUI._alignThing(): axis must be \"horizontal\" or \"vertical\"!");
				}
				var spacing = -1;
				if(axis == "horizontal") {
					spacing = this._getDataSize("w",flixel_addons_ui_U.xml_str(data,"spacing",true),-1);
				} else {
					spacing = this._getDataSize("h",flixel_addons_ui_U.xml_str(data,"spacing",true),-1);
				}
				var resize = flixel_addons_ui_U.xml_bool(data,"resize");
				var grow = flixel_addons_ui_U.xml_bool(data,"grow",true);
				var shrink = flixel_addons_ui_U.xml_bool(data,"shrink",true);
				var X = -1;
				var Y = -1;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var point = flixel_math_FlxPoint._pool.get().set(X,Y);
				point._inPool = false;
				var bounds = point;
				var boundsError = "";
				if(haxe_xml__$Access_HasNodeAccess.resolve(data,"bounds")) {
					if(axis == "horizontal") {
						bounds.set_x(this._getDataSize("w",flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"bounds"),"left"),-1));
						bounds.set_y(this._getDataSize("w",flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"bounds"),"right"),-1));
					} else if(axis == "vertical") {
						bounds.set_x(this._getDataSize("h",flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"bounds"),"top"),-1));
						bounds.set_y(this._getDataSize("h",flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"bounds"),"bottom"),-1));
					}
				}
				if(bounds.x != -1 && bounds.y != -1) {
					if(bounds.y <= bounds.x) {
						boundsError = "bounds max must be > bounds min! (max=" + bounds.y + " min=" + bounds.x + ")";
					}
				} else {
					boundsError = "missing bound!";
				}
				if(boundsError == "") {
					this._doAlign(objects,axis,spacing,resize,bounds,grow,shrink);
				}
				if(haxe_xml__$Access_HasNodeAccess.resolve(data,"anchor") || haxe_xml__$Access_HasAttribAccess.resolve(data,"x") || haxe_xml__$Access_HasAttribAccess.resolve(data,"y")) {
					var _g2 = 0;
					while(_g2 < objects.length) {
						var object = objects[_g2];
						++_g2;
						var thing = this.getAsset(object);
						this._loadPosition(data,thing);
					}
				} else {
					var tmp = boundsError != "";
				}
			}
		} else {
			throw new openfl_errors_Error("FlxUI._alignThing(): <objects> node not found!");
		}
	}
	,_doAlign: function(objects,axis,spacing,resize,bounds,allowGrow,allowShrink) {
		if(allowShrink == null) {
			allowShrink = true;
		}
		if(allowGrow == null) {
			allowGrow = true;
		}
		var total_spacing = 0;
		var total_size = 0;
		var bound_range = bounds.y - bounds.x;
		var spaces = objects.length - 1;
		var space_size = 0;
		var object_size = 0;
		var size_prop = "width";
		var pos_prop = "x";
		if(axis == "vertical") {
			size_prop = "height";
			pos_prop = "y";
		}
		var _g = 0;
		while(_g < objects.length) {
			var nameStr = objects[_g];
			++_g;
			var widget = this.getAsset(nameStr);
			if(widget != null) {
				var theval = 0;
				switch(size_prop) {
				case "height":
					theval = widget.get_height();
					break;
				case "width":
					theval = widget.get_width();
					break;
				}
				total_size += theval;
			}
		}
		if(resize == false) {
			total_spacing = bound_range - total_size;
			space_size = total_spacing / spaces;
		} else {
			space_size = spacing;
			total_spacing = spacing * spaces;
			object_size = (bound_range - total_spacing) / objects.length;
		}
		object_size = object_size | 0;
		space_size = space_size | 0;
		var last_pos = bounds.x;
		var _g = 0;
		while(_g < objects.length) {
			var nameStr = objects[_g];
			++_g;
			var widget = this.getAsset(nameStr);
			if(widget != null) {
				var pos = last_pos;
				if(!resize) {
					switch(size_prop) {
					case "height":
						object_size = widget.get_height();
						break;
					case "width":
						object_size = widget.get_width();
						break;
					}
				} else if(js_Boot.__implements(widget,flixel_addons_ui_interfaces_IResizable)) {
					var allow = true;
					var widgetr = widget;
					if(axis == "vertical") {
						if(object_size > widgetr.get_width()) {
							allow = allowGrow;
						} else if(object_size < widgetr.get_width()) {
							allow = allowShrink;
						}
						if(allow) {
							widgetr.resize(widgetr.get_width(),object_size);
						}
					} else if(axis == "horizontal") {
						if(object_size > widgetr.get_height()) {
							allow = allowGrow;
						} else if(object_size < widgetr.get_height()) {
							allow = allowShrink;
						}
						if(allow) {
							widgetr.resize(object_size,widgetr.get_height());
						}
					}
				}
				last_pos = pos + object_size + space_size;
				switch(pos_prop) {
				case "x":
					widget.set_x(pos);
					break;
				case "y":
					widget.set_y(pos);
					break;
				}
			}
		}
	}
	,_checkFailure: function(data) {
		var target = flixel_addons_ui_U.xml_str(data,"target",true);
		var property = flixel_addons_ui_U.xml_str(data,"property",true);
		var compare = flixel_addons_ui_U.xml_str(data,"compare",true);
		var value = flixel_addons_ui_U.xml_str(data,"value",true);
		var thing = this.getAsset(target);
		if(thing == null) {
			return false;
		}
		var prop_f = 0;
		var val_f = 0;
		var p = flixel_addons_ui_U.perc_to_float(value);
		switch(property) {
		case "h":case "height":
			prop_f = thing.get_height();
			break;
		case "w":case "width":
			prop_f = thing.get_width();
			break;
		}
		if(isNaN(p)) {
			if(flixel_addons_ui_U.isStrNum(value)) {
				val_f = parseFloat(value);
			} else {
				return false;
			}
		} else {
			switch(property) {
			case "h":case "height":
				val_f = p * this.screenHeight();
				break;
			case "w":case "width":
				val_f = p * this.screenWidth();
				break;
			}
		}
		var return_val = false;
		switch(compare) {
		case "<":
			if(prop_f < val_f) {
				this.failed_by = val_f - prop_f;
				return_val = true;
			}
			break;
		case "<=":
			if(prop_f <= val_f) {
				this.failed_by = val_f - prop_f;
				return_val = true;
			}
			break;
		case "=":case "==":
			if(prop_f == val_f) {
				this.failed_by = Math.abs(prop_f - val_f);
				return_val = true;
			}
			break;
		case ">":
			if(prop_f > val_f) {
				this.failed_by = prop_f - val_f;
				return_val = true;
			}
			break;
		case ">=":
			if(prop_f >= val_f) {
				this.failed_by = prop_f - val_f;
				return_val = true;
			}
			break;
		}
		return return_val;
	}
	,_resizeThing: function(fo_r,bounds) {
		var do_resize = false;
		var ww = fo_r.get_width();
		var hh = fo_r.get_height();
		if(ww < bounds.min_width) {
			do_resize = true;
			ww = bounds.min_width;
		} else if(ww > bounds.max_width) {
			do_resize = true;
			ww = bounds.max_width;
		}
		if(hh < bounds.min_height) {
			do_resize = true;
			hh = bounds.min_height;
		} else if(hh > bounds.max_height) {
			do_resize = true;
			hh = bounds.max_height;
		}
		if(do_resize) {
			fo_r.resize(ww,hh);
		}
	}
	,_postLoadThing: function(type,data) {
		if(type == "load_if") {
			if(this._loadTest(data)) {
				if(data.firstElement() != null) {
					var subNode = data.elements();
					while(subNode.hasNext()) {
						var subNode1 = subNode.next();
						if(subNode1.nodeType != Xml.Element) {
							throw haxe_Exception.thrown("Bad node type, expected Element but found " + (subNode1.nodeType == null ? "null" : XmlType.toString(subNode1.nodeType)));
						}
						var nodeType = subNode1.nodeName.toLowerCase();
						if(subNode1.nodeType != Xml.Document && subNode1.nodeType != Xml.Element) {
							throw haxe_Exception.thrown("Invalid nodeType " + (subNode1.nodeType == null ? "null" : XmlType.toString(subNode1.nodeType)));
						}
						var this1 = subNode1;
						this._postLoadThing(nodeType,this1);
					}
				}
			}
			return;
		}
		if(this._loadTest(data) == false) {
			return;
		}
		var name = flixel_addons_ui_U.xml_name(data);
		var thing = this.getAsset(name);
		var isGroup = type == "group";
		if(isGroup) {
			thing = this.getGroup(name);
		}
		if(type == "align") {
			this._alignThing(data);
		}
		if(type == "change") {
			this._changeThing(data);
		}
		if(type == "position") {
			this._loadPosition(data,thing);
			return;
		}
		if(type == "cursor") {
			this._loadCursor(data);
		}
		if(thing == null && !isGroup) {
			return;
		}
		if(!isGroup) {
			var use_def = flixel_addons_ui_U.xml_str(data,"use_def",true);
			var definition = null;
			if(use_def != "") {
				definition = this.getDefinition(use_def);
			}
			if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_IResizable)) {
				var ww = this._getDataSize("w",flixel_addons_ui_U.xml_str(data,"width"));
				var hh = this._getDataSize("h",flixel_addons_ui_U.xml_str(data,"height"));
				if(ww == 0 || ww == thing.get_width()) {
					ww = null;
				}
				if(hh == 0 || hh == thing.get_height()) {
					hh = null;
				}
				var bounds = this.calcMaxMinSize(data);
				if(bounds != null) {
					if(ww != null) {
						if(ww < bounds.min_width) {
							ww = bounds.min_width;
						}
						if(ww > bounds.max_width) {
							ww = bounds.max_width;
						}
						bounds.min_width = bounds.max_width = ww;
					}
					if(hh != null) {
						if(hh < bounds.min_height) {
							hh = bounds.min_height;
						}
						if(hh > bounds.max_height) {
							hh = bounds.max_height;
						}
						bounds.min_height = bounds.max_height = hh;
					}
					this._resizeThing(js_Boot.__cast(thing , flixel_addons_ui_interfaces_IResizable),bounds);
				}
			}
			var X = -thing.x;
			var Y = -thing.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			thing.set_x(thing.x + X);
			thing.set_y(thing.y + Y);
			this._loadPosition(data,thing);
		}
		var send_to = flixel_addons_ui_U.xml_str(data,"send_to",true,"");
		if(send_to != "") {
			switch(send_to) {
			case "back":case "bottom":
				this._sendTo(thing,-1);
				break;
			case "front":case "top":
				this._sendTo(thing,1);
				break;
			}
		}
		if(!isGroup && ((thing) instanceof flixel_addons_ui_FlxUI)) {
			var fui_thing = thing;
			if(fui_thing._postLoaded == false) {
				fui_thing.getEvent("post_load",this,null);
			}
		}
	}
	,_loadTileTest: function(data) {
		var tiles_w = flixel_addons_ui_U.xml_i(data,"tiles_w",2);
		var tiles_h = flixel_addons_ui_U.xml_i(data,"tiles_h",2);
		var w = this._loadWidth(data);
		var h = this._loadHeight(data);
		var bounds = this.calcMaxMinSize(data);
		if(w < bounds.min_width) {
			w = bounds.min_width;
		}
		if(h < bounds.min_height) {
			h = bounds.min_height;
		}
		var tileWidth = w / tiles_w | 0;
		var tileHeight = h / tiles_h | 0;
		if(tileWidth < tileHeight) {
			tileHeight = tileWidth;
		} else if(tileHeight < tileWidth) {
			tileWidth = tileHeight;
		}
		var totalw = tileWidth * tiles_w;
		var totalh = tileHeight * tiles_h;
		if(totalw > bounds.max_width) {
			tileWidth = bounds.max_width / tiles_w | 0;
		}
		if(totalh > bounds.max_height) {
			tileHeight = bounds.max_height / tiles_h | 0;
		}
		if(tileWidth < tileHeight) {
			tileHeight = tileWidth;
		} else if(tileHeight < tileWidth) {
			tileWidth = tileHeight;
		}
		if(tileWidth < 2) {
			tileWidth = 2;
		}
		if(tileHeight < 2) {
			tileHeight = 2;
		}
		var color1 = flixel_util_FlxColor.fromString(flixel_addons_ui_U.xml_str(data,"color1",true,"0x808080"));
		var color2 = flixel_util_FlxColor.fromString(flixel_addons_ui_U.xml_str(data,"color2",true,"0xc4c4c4"));
		var baseTileSize = flixel_addons_ui_U.xml_i(data,"base_tile_size",-1);
		var floorToEven = flixel_addons_ui_U.xml_bool(data,"floor_to_even",false);
		var ftt = new flixel_addons_ui_FlxUITileTest(0,0,tileWidth,tileHeight,tiles_w,tiles_h,color1,color2,floorToEven);
		ftt.baseTileSize = baseTileSize;
		return ftt;
	}
	,_loadString: function(data,attributeName) {
		var string = flixel_addons_ui_U.xml_str(data,attributeName);
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		string = this.getText(string,context,true,code);
		return string;
	}
	,_loadText: function(data) {
		var text = flixel_addons_ui_U.xml_str(data,"text");
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		text = this.getText(text,context,true,code);
		var W = this._loadWidth(data,100) | 0;
		var H = this._loadHeight(data,-1) | 0;
		var the_font = this._loadFontFace(data);
		var input = flixel_addons_ui_U.xml_bool(data,"input");
		if(input) {
			throw new openfl_errors_Error("FlxUI._loadText(): <text> with input has been deprecated. Use <input_text> instead.");
		}
		var align = flixel_addons_ui_U.xml_str(data,"align");
		if(align == "") {
			align = null;
		}
		var size = this._loadHeight(data,8,"size","floor") | 0;
		var color = this._loadColor(data);
		var border = this._loadBorder(data);
		var ftu = new flixel_addons_ui_FlxUIText(0,0,W,text,size);
		ftu.setFormat(the_font,size,color,align);
		border.apply(ftu);
		ftu.drawFrame();
		var ft = ftu;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			var params = null;
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
				params = [];
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
				while(_g < _g1.length) {
					var param = _g1[_g];
					++_g;
					if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
						var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
						type = type.toLowerCase();
						var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
						var value = valueStr;
						var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
						switch(type) {
						case "bool":case "boolean":
							var str = new String(valueStr);
							str = str.toLowerCase();
							if(str == "true" || str == "1") {
								value = true;
							} else {
								value = false;
							}
							break;
						case "color":case "hex":
							var return_val = flixel_util_FlxColor.fromString(valueStr);
							if(return_val == null) {
								throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
							}
							value = return_val;
							break;
						case "float":
							value = parseFloat(valueStr);
							break;
						case "int":
							value = Std.parseInt(valueStr);
							break;
						case "string":
							value = new String(valueStr);
							break;
						}
						params.push({ sort : sort, value : value});
					}
				}
				params.sort(flixel_addons_ui_FlxUI.sortParams);
				var _g = 0;
				var _g1 = params.length;
				while(_g < _g1) {
					var i = _g++;
					params[i] = params[i].value;
				}
			}
			var params1 = params;
			var ihp = ft;
			ihp.set_params(params1);
		}
		if(H > 0 && ft.get_height() != H) {
			if(js_Boot.__implements(ft,flixel_addons_ui_interfaces_IResizable)) {
				var r = ft;
				r.resize(r.get_width(),H);
			}
		}
		ftu.set_text(" ");
		ftu.set_text(text);
		return ft;
	}
	,_loadInputText: function(data) {
		var text = flixel_addons_ui_U.xml_str(data,"text");
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		text = this.getText(text,context,true,code);
		var W = this._loadWidth(data,100) | 0;
		var H = this._loadHeight(data,-1) | 0;
		var the_font = this._loadFontFace(data);
		var align = flixel_addons_ui_U.xml_str(data,"align");
		if(align == "") {
			align = null;
		}
		var size = this._loadHeight(data,8,"size") | 0;
		var color = this._loadColor(data);
		var border = this._loadBorder(data);
		var str = flixel_addons_ui_U.xml_str(data,"background",true,"0x00000000");
		var safe = true;
		var default_color = 0;
		if(default_color == null) {
			default_color = 0;
		}
		if(safe == null) {
			safe = false;
		}
		var return_val = flixel_util_FlxColor.fromString(str);
		if(return_val == null) {
			if(!safe) {
				throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + str);
			} else {
				return_val = default_color;
			}
		}
		var backgroundColor = return_val;
		var passwordMode = flixel_addons_ui_U.xml_bool(data,"password_mode");
		var fti = new flixel_addons_ui_FlxUIInputText(0,0,W,text,size,color,backgroundColor);
		fti.set_passwordMode(passwordMode);
		var force_case = flixel_addons_ui_U.xml_str(data,"force_case",true,"");
		var forceCase;
		switch(force_case) {
		case "lower":case "lower_case":case "lowercase":
			forceCase = 2;
			break;
		case "l":case "u":
			throw new openfl_errors_Error("FlxUI._loadInputText(): 1 letter values have been deprecated (force_case attribute).");
		case "upper":case "upper_case":case "uppercase":
			forceCase = 1;
			break;
		default:
			forceCase = 0;
		}
		var filter = flixel_addons_ui_U.xml_str(data,"filter",true,"");
		var filterMode;
		while(filter.indexOf("_") != -1) filter = StringTools.replace(filter,"_","");
		switch(filter) {
		case "a":case "an":case "n":
			throw new openfl_errors_Error("FlxUI._loadInputText(): 1 letter values have been deprecated (filter attribute).");
		case "alpha":case "onlyalpha":
			filterMode = 1;
			break;
		case "alphanum":case "alphanumeric":case "onlyalphanumeric":
			filterMode = 3;
			break;
		case "num":case "numeric":case "onlynumeric":
			filterMode = 2;
			break;
		default:
			filterMode = 0;
		}
		fti.setFormat(the_font,size,color,align);
		fti.set_forceCase(forceCase);
		fti.set_filterMode(filterMode);
		border.apply(fti);
		fti.drawFrame();
		var ft = fti;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			var params = null;
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
				params = [];
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
				while(_g < _g1.length) {
					var param = _g1[_g];
					++_g;
					if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
						var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
						type = type.toLowerCase();
						var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
						var value = valueStr;
						var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
						switch(type) {
						case "bool":case "boolean":
							var str = new String(valueStr);
							str = str.toLowerCase();
							if(str == "true" || str == "1") {
								value = true;
							} else {
								value = false;
							}
							break;
						case "color":case "hex":
							var return_val = flixel_util_FlxColor.fromString(valueStr);
							if(return_val == null) {
								throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
							}
							value = return_val;
							break;
						case "float":
							value = parseFloat(valueStr);
							break;
						case "int":
							value = Std.parseInt(valueStr);
							break;
						case "string":
							value = new String(valueStr);
							break;
						}
						params.push({ sort : sort, value : value});
					}
				}
				params.sort(flixel_addons_ui_FlxUI.sortParams);
				var _g = 0;
				var _g1 = params.length;
				while(_g < _g1) {
					var i = _g++;
					params[i] = params[i].value;
				}
			}
			var params1 = params;
			var ihp = ft;
			ihp.set_params(params1);
		}
		if(H > 0 && ft.get_height() != H) {
			if(js_Boot.__implements(ft,flixel_addons_ui_interfaces_IResizable)) {
				var r = ft;
				r.resize(r.get_width(),H);
			}
		}
		return ft;
	}
	,_loadRadioGroup: function(data) {
		var frg = null;
		var dot_src = flixel_addons_ui_U.xml_str(data,"dot_src",true);
		var radio_src = flixel_addons_ui_U.xml_str(data,"radio_src",true);
		var labels = [];
		var names = [];
		var W = this._loadWidth(data,11,"radio_width");
		var H = this._loadHeight(data,11,"radio_height");
		var scrollH = this._loadHeight(data,0,"height");
		var scrollW = this._loadHeight(data,0,"width");
		var labelW = this._loadWidth(data,100,"label_width");
		var _g = 0;
		var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"radio");
		while(_g < _g1.length) {
			var radioNode = _g1[_g];
			++_g;
			var name = flixel_addons_ui_U.xml_name(radioNode);
			var label = flixel_addons_ui_U.xml_str(radioNode,"label");
			var context = flixel_addons_ui_U.xml_str(radioNode,"context",true,"ui");
			var code = flixel_addons_ui_U.xml_str(radioNode,"code",true,"");
			label = this.getText(label,context,true,code);
			names.push(name);
			labels.push(label);
		}
		names.reverse();
		labels.reverse();
		var y_space = this._loadHeight(data,25,"y_space");
		var params = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			params = [];
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
			while(_g < _g1.length) {
				var param = _g1[_g];
				++_g;
				if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
					var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
					type = type.toLowerCase();
					var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
					var value = valueStr;
					var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
					switch(type) {
					case "bool":case "boolean":
						var str = new String(valueStr);
						str = str.toLowerCase();
						if(str == "true" || str == "1") {
							value = true;
						} else {
							value = false;
						}
						break;
					case "color":case "hex":
						var return_val = flixel_util_FlxColor.fromString(valueStr);
						if(return_val == null) {
							throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
						}
						value = return_val;
						break;
					case "float":
						value = parseFloat(valueStr);
						break;
					case "int":
						value = Std.parseInt(valueStr);
						break;
					case "string":
						value = new String(valueStr);
						break;
					}
					params.push({ sort : sort, value : value});
				}
			}
			params.sort(flixel_addons_ui_FlxUI.sortParams);
			var _g = 0;
			var _g1 = params.length;
			while(_g < _g1) {
				var i = _g++;
				params[i] = params[i].value;
			}
		}
		var params1 = params;
		var radio_asset = null;
		if(radio_src != "") {
			radio_asset = flixel_addons_ui_U.gfx(radio_src);
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"box")) {
			if(flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"box"),"slice9") != "") {
				radio_asset = this._load9SliceSprite(haxe_xml__$Access_NodeAccess.resolve(data,"box"));
			} else {
				radio_asset = this._loadSprite(haxe_xml__$Access_NodeAccess.resolve(data,"box"));
			}
		}
		var dot_asset = null;
		if(dot_src != "") {
			dot_asset = flixel_addons_ui_U.gfx(dot_src);
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"dot")) {
			if(flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"dot"),"slice9") != "") {
				dot_asset = this._load9SliceSprite(haxe_xml__$Access_NodeAccess.resolve(data,"dot"));
			} else {
				dot_asset = this._loadSprite(haxe_xml__$Access_NodeAccess.resolve(data,"dot"));
			}
		}
		var prevOffset = null;
		var nextOffset = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"button")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"button");
			while(_g < _g1.length) {
				var btnNode = _g1[_g];
				++_g;
				var name = flixel_addons_ui_U.xml_name(btnNode);
				if(name == "previous" || name == "prev") {
					var X = flixel_addons_ui_U.xml_f(btnNode,"x");
					var Y = flixel_addons_ui_U.xml_f(btnNode,"y");
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var point = flixel_math_FlxPoint._pool.get().set(X,Y);
					point._inPool = false;
					prevOffset = point;
				} else if(name == "next") {
					var X1 = flixel_addons_ui_U.xml_f(btnNode,"x");
					var Y1 = flixel_addons_ui_U.xml_f(btnNode,"y");
					if(Y1 == null) {
						Y1 = 0;
					}
					if(X1 == null) {
						X1 = 0;
					}
					var point1 = flixel_math_FlxPoint._pool.get().set(X1,Y1);
					point1._inPool = false;
					nextOffset = point1;
				}
			}
		}
		frg = new flixel_addons_ui_FlxUIRadioGroup(0,0,names,labels,null,y_space,W,H,labelW,null,prevOffset,nextOffset);
		frg.set_params(params1);
		if(radio_asset != "" && radio_asset != null) {
			frg.loadGraphics(radio_asset,dot_asset);
		}
		var text_x = this._loadWidth(data,0,"text_x") | 0;
		var text_y = this._loadHeight(data,0,"text_y") | 0;
		var radios = frg.getRadios();
		var i = 0;
		var styleSet = false;
		var radioList = data.elementsNamed("radio");
		var radioNode = null;
		var _g = 0;
		var _g1 = radios.length;
		while(_g < _g1) {
			var k = _g++;
			var fo = radios[radios.length - 1 - k];
			radioNode = radioList.hasNext() ? radioList.next() : null;
			if(fo != null) {
				if(((fo) instanceof flixel_addons_ui_FlxUICheckBox)) {
					var fc = js_Boot.__cast(fo , flixel_addons_ui_FlxUICheckBox);
					var t = this.formatButtonText(data,fc);
					if(t != null && styleSet == false) {
						var fd = flixel_addons_ui_FontDef.copyFromFlxText(t);
						var bd = new flixel_addons_ui_BorderDef(t.borderStyle,t.borderColor,t.borderSize,t.borderQuality);
						frg.set_activeStyle(new flixel_addons_ui_CheckStyle(16777215,fd,flixel_text_FlxTextAlign.fromOpenFL(t._defaultFormat.align),t.color,bd));
						styleSet = true;
					}
					fc.set_textX(text_x);
					fc.set_textY(text_y);
					++i;
					if(radioNode != null) {
						if(radioNode.nodeType != Xml.Document && radioNode.nodeType != Xml.Element) {
							throw haxe_Exception.thrown("Invalid nodeType " + (radioNode.nodeType == null ? "null" : XmlType.toString(radioNode.nodeType)));
						}
						var this1 = radioNode;
						this._loadTooltip(fc,this1);
					}
				}
			}
		}
		if(scrollW != 0) {
			frg.fixedSize = true;
			frg.set_width(scrollW);
		}
		if(scrollH != 0) {
			frg.fixedSize = true;
			frg.set_height(scrollH);
		}
		return frg;
	}
	,_loadCheckBox: function(data) {
		var fc = null;
		var label = flixel_addons_ui_U.xml_str(data,"label");
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		var checked = flixel_addons_ui_U.xml_bool(data,"checked",false);
		label = this.getText(label,context,true,code);
		var labelW = this._loadWidth(data,100,"label_width");
		var check_src = flixel_addons_ui_U.xml_str(data,"check_src",true);
		var box_src = flixel_addons_ui_U.xml_str(data,"box_src",true);
		var params = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			params = [];
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
			while(_g < _g1.length) {
				var param = _g1[_g];
				++_g;
				if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
					var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
					type = type.toLowerCase();
					var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
					var value = valueStr;
					var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
					switch(type) {
					case "bool":case "boolean":
						var str = new String(valueStr);
						str = str.toLowerCase();
						if(str == "true" || str == "1") {
							value = true;
						} else {
							value = false;
						}
						break;
					case "color":case "hex":
						var return_val = flixel_util_FlxColor.fromString(valueStr);
						if(return_val == null) {
							throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
						}
						value = return_val;
						break;
					case "float":
						value = parseFloat(valueStr);
						break;
					case "int":
						value = Std.parseInt(valueStr);
						break;
					case "string":
						value = new String(valueStr);
						break;
					}
					params.push({ sort : sort, value : value});
				}
			}
			params.sort(flixel_addons_ui_FlxUI.sortParams);
			var _g = 0;
			var _g1 = params.length;
			while(_g < _g1) {
				var i = _g++;
				params[i] = params[i].value;
			}
		}
		var params1 = params;
		var box_asset = null;
		var check_asset = null;
		if(box_src != "") {
			box_asset = flixel_addons_ui_U.gfx(box_src);
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"box")) {
			if(flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"box"),"slice9") != "") {
				box_asset = this._load9SliceSprite(haxe_xml__$Access_NodeAccess.resolve(data,"box"));
			} else {
				box_asset = this._loadSprite(haxe_xml__$Access_NodeAccess.resolve(data,"box"));
			}
		}
		if(check_src != "") {
			check_asset = flixel_addons_ui_U.gfx(check_src);
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"check")) {
			if(flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"check"),"slice9") != "") {
				check_asset = this._load9SliceSprite(haxe_xml__$Access_NodeAccess.resolve(data,"check"));
			} else {
				check_asset = this._loadSprite(haxe_xml__$Access_NodeAccess.resolve(data,"check"));
			}
		}
		fc = new flixel_addons_ui_FlxUICheckBox(0,0,box_asset,check_asset,label,labelW,params1);
		this.formatButtonText(data,fc);
		var text_x = this._loadWidth(data,0,"text_x") | 0;
		var text_y = this._loadHeight(data,0,"text_y") | 0;
		fc.set_textX(text_x);
		fc.set_textY(text_y);
		fc.set_text(label);
		fc.set_checked(checked);
		return fc;
	}
	,_loadDropDownMenu: function(data) {
		var fud = null;
		var label = flixel_addons_ui_U.xml_str(data,"label");
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		label = this.getText(label,context,true,code);
		var back_def = flixel_addons_ui_U.xml_str(data,"back_def",true);
		var panel_def = flixel_addons_ui_U.xml_str(data,"panel_def",true);
		var button_def = flixel_addons_ui_U.xml_str(data,"button_def",true);
		var label_def = flixel_addons_ui_U.xml_str(data,"label_def",true);
		var back_asset = null;
		var panel_asset = null;
		var button_asset = null;
		var label_asset = null;
		if(back_def != "") {
			back_asset = this._loadSprite(this.getDefinition(back_def));
		}
		if(panel_def != "") {
			panel_asset = this._load9SliceSprite(this.getDefinition(panel_def));
		}
		if(button_def != "") {
			try {
				button_asset = this._loadButton(this.getDefinition(button_def),false,false);
			} catch( _g ) {
				if(((haxe_Exception.caught(_g)) instanceof openfl_errors_Error)) {
					button_asset = null;
				} else {
					throw _g;
				}
			}
		}
		if(label_def != "") {
			try {
				label_asset = this._loadText(this.getDefinition(label_def));
			} catch( _g ) {
				if(((haxe_Exception.caught(_g)) instanceof openfl_errors_Error)) {
					label_asset = null;
				} else {
					throw _g;
				}
			}
			if(label_asset != null && label != "") {
				label_asset.set_text(label);
			}
		}
		var asset_list = null;
		var data_list = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"data")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"data");
			while(_g < _g1.length) {
				var dataNode = _g1[_g];
				++_g;
				if(data_list == null) {
					data_list = [];
				}
				var namel = new flixel_addons_ui_StrNameLabel(flixel_addons_ui_U.xml_str(dataNode,"name",true),flixel_addons_ui_U.xml_str(dataNode,"label"));
				data_list.push(namel);
			}
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"asset")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"asset");
			while(_g < _g1.length) {
				var assetNode = _g1[_g];
				++_g;
				if(asset_list == null) {
					asset_list = [];
				}
				var def_name = flixel_addons_ui_U.xml_str(assetNode,"def",true);
				var name = flixel_addons_ui_U.xml_name(assetNode);
				var asset = null;
				try {
					asset = this._loadButton(this.getDefinition(def_name),false);
				} catch( _g2 ) {
					if(!((haxe_Exception.caught(_g2)) instanceof openfl_errors_Error)) {
						throw _g2;
					}
				}
				if(asset != null) {
					asset.name = name;
					if(asset_list == null) {
						asset_list = [];
					}
					asset_list.push(asset);
				}
			}
		}
		var header = new flixel_addons_ui_FlxUIDropDownHeader(120,back_asset,label_asset,button_asset);
		fud = new flixel_addons_ui_FlxUIDropDownMenu(0,0,data_list,null,header,panel_asset,asset_list);
		return fud;
	}
	,_loadTest: function(data) {
		var result = true;
		var tmp;
		if(data.nodeType == Xml.Document) {
			tmp = "Document";
		} else {
			if(data.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Bad node type, expected Element but found " + (data.nodeType == null ? "null" : XmlType.toString(data.nodeType)));
			}
			tmp = data.nodeName;
		}
		if(tmp == "load_if") {
			result = this._loadTestSub(data);
			if(result == false) {
				return false;
			}
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"load_if")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"load_if");
			while(_g < _g1.length) {
				var node = _g1[_g];
				++_g;
				var _this = node;
				if(_this.nodeType != Xml.Document && _this.nodeType != Xml.Element) {
					throw haxe_Exception.thrown("Bad node type, expected Element or Document but found " + (_this.nodeType == null ? "null" : XmlType.toString(_this.nodeType)));
				}
				if(_this.children[0] == null) {
					result = this._loadTestSub(node);
					if(result == false) {
						return false;
					}
				}
			}
		}
		return result;
	}
	,_loadTestSub: function(node) {
		var matchValue = flixel_addons_ui_U.xml_bool(node,"is",true);
		var match = matchValue;
		var aspect_ratio = flixel_addons_ui_U.xml_f(node,"aspect_ratio",-1);
		if(aspect_ratio != -1) {
			match = true;
			var screen_ratio = js_Boot.__cast(flixel_FlxG.width , Float) / js_Boot.__cast(flixel_FlxG.height , Float);
			var diff = Math.abs(screen_ratio - aspect_ratio);
			if(haxe_xml__$Access_HasAttribAccess.resolve(node,"tolerance")) {
				var tolerance = flixel_addons_ui_U.xml_f(node,"tolerance",0.1);
				if(diff > tolerance) {
					match = false;
				}
			} else if(haxe_xml__$Access_HasAttribAccess.resolve(node,"tolerance_plus") || haxe_xml__$Access_HasAttribAccess.resolve(node,"tolerance_minus")) {
				var tolerance_minus = flixel_addons_ui_U.xml_f(node,"tolerance_minus",-1);
				var tolerance_plus = flixel_addons_ui_U.xml_f(node,"tolerance_plus",-1);
				if(screen_ratio > aspect_ratio && tolerance_plus != -1) {
					if(diff > tolerance_plus) {
						match = false;
					}
				}
				if(screen_ratio < aspect_ratio && tolerance_minus != -1) {
					if(diff > tolerance_minus) {
						match = false;
					}
				}
			}
			if(match != matchValue) {
				return false;
			}
		}
		var resolution = flixel_addons_ui_U.xml_pt(node,"resolution",null);
		if(resolution != null) {
			match = true;
			var toleranceRes = flixel_addons_ui_U.xml_pt(node,"tolerance",null);
			if(toleranceRes == null) {
				toleranceRes = new flixel_math_FlxPoint(0,0);
			}
			var diffX = Math.abs(resolution.x - flixel_FlxG.width);
			var diffY = Math.abs(resolution.y - flixel_FlxG.height);
			if(diffX > toleranceRes.x || diffY > toleranceRes.y) {
				match = false;
			}
			if(match != matchValue) {
				return false;
			}
		}
		var haxeDef = flixel_addons_ui_U.xml_str(node,"haxedef",true,"");
		var haxeVal = flixel_addons_ui_U.xml_bool(node,"value",true);
		if(haxeDef != "") {
			match = true;
			var defValue = flixel_addons_ui_U.checkHaxedef(haxeDef);
			match = defValue == haxeVal;
			if(match != matchValue) {
				return false;
			}
		}
		var variable = flixel_addons_ui_U.xml_str(node,"variable",false,"");
		var variableType = flixel_addons_ui_U.xml_str(node,"type",true,"string");
		if(variable != "") {
			match = true;
			var varData = this.parseVarValue(variable);
			if(varData != null) {
				match = this.checkVariable(varData.variable,varData.value,variableType,varData.op);
			}
			if(match != matchValue) {
				return false;
			}
		}
		return true;
	}
	,parseVarValue: function(varString) {
		var arr = ["==","=","!=","!==","<",">","<=",">="];
		var temp;
		var _g = 0;
		while(_g < arr.length) {
			var op = arr[_g];
			++_g;
			if(varString.indexOf(op) != -1) {
				temp = varString.split(op);
				if(temp != null && temp.length == 2) {
					return { variable : temp[0], value : temp[1], op : op};
				}
			}
		}
		return null;
	}
	,_loadLayout: function(data) {
		var name = flixel_addons_ui_U.xml_str(data,"name",true);
		var X = this._loadWidth(data,0,"x");
		var Y = this._loadHeight(data,0,"y");
		var _ui = this.createUI(data);
		_ui.set_x(X);
		_ui.set_y(Y);
		_ui.name = name;
		return _ui;
	}
	,addToCleanup: function(str) {
		if(this._assetsToCleanUp == null) {
			return;
		}
		if(this._assetsToCleanUp.indexOf(str) == -1) {
			this._assetsToCleanUp.push(str);
		}
	}
	,addToScaledAssets: function(str) {
		if(this._scaledAssets != null && this._scaledAssets.indexOf(str) == -1) {
			this._scaledAssets.push(str);
		}
	}
	,cleanup: function() {
		var _g = 0;
		var _g1 = this._assetsToCleanUp;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			flixel_FlxG.bitmap.removeByKey(key);
		}
		this._assetsToCleanUp = null;
		this._scaledAssets = null;
	}
	,createUI: function(data) {
		return new flixel_addons_ui_FlxUI(data,this,this,this._ptr_tongue,this.liveFilePath);
	}
	,_loadTabMenu: function(data) {
		var back_def_str = flixel_addons_ui_U.xml_str(data,"back_def");
		var back_def = this.getDefinition(back_def_str);
		if(back_def == null) {
			back_def = data;
		}
		back_def = flixel_addons_ui_FlxUI.consolidateData(back_def,data);
		var back_type = flixel_addons_ui_U.xml_str(data,"back_type",true,"chrome");
		var backSprite;
		switch(back_type) {
		case "region":
			backSprite = new flixel_addons_ui_FlxUIRegion();
			break;
		case "sprite":
			backSprite = this._loadSprite(back_def);
			break;
		default:
			backSprite = this._load9SliceSprite(back_def,"tab_menu");
		}
		var tab_def = null;
		var stretch_tabs = flixel_addons_ui_U.xml_bool(data,"stretch_tabs",false);
		var stackToggled = "front";
		var stackUntoggled = "back";
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"stacking")) {
			stackToggled = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"stacking"),"toggled",true,"front");
			stackUntoggled = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"stacking"),"untoggled",true,"back");
		}
		var tab_spacing_str = flixel_addons_ui_U.xml_str(data,"spacing",true,"");
		var tab_spacing = null;
		if(tab_spacing_str != "") {
			tab_spacing = this._loadWidth(data,0,"spacing");
		}
		var tab_x = this._loadWidth(data,0,"tab_x");
		var tab_y = this._loadHeight(data,0,"tab_y");
		var X = tab_x;
		var Y = tab_y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var tab_offset = point;
		var tab_def_str = "";
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"tab")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"tab");
			while(_g < _g1.length) {
				var tabNode = _g1[_g];
				++_g;
				var temp = flixel_addons_ui_U.xml_str(tabNode,"use_def");
				if(temp != "") {
					tab_def_str = temp;
				}
			}
			if(tab_def_str != "") {
				tab_def = this.getDefinition(tab_def_str);
			} else {
				tab_def = haxe_xml__$Access_NodeAccess.resolve(data,"tab");
			}
		}
		var list_tabs = [];
		var name = "";
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"tab")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"tab");
			while(_g < _g1.length) {
				var tab_node = _g1[_g];
				++_g;
				name = flixel_addons_ui_U.xml_name(tab_node);
				if(name != "") {
					var label = flixel_addons_ui_U.xml_str(tab_node,"label");
					var context = flixel_addons_ui_U.xml_str(tab_node,"context",true,"ui");
					var code = flixel_addons_ui_U.xml_str(tab_node,"code",true,"");
					label = this.getText(label,context,true,code);
					label = this.getText(label,context,true,code);
					var tab_info = flixel_addons_ui_FlxUI.consolidateData(tab_node,tab_def);
					var tab = this._loadButton(tab_info,true,true,"tab_menu");
					tab.name = name;
					list_tabs.push(tab);
					this._loadTooltip(tab,tab_info);
				}
			}
		}
		if(list_tabs.length > 0) {
			if(tab_def == null || !haxe_xml__$Access_HasNodeAccess.resolve(tab_def,"text")) {
				var _g = 0;
				while(_g < list_tabs.length) {
					var t = list_tabs[_g];
					++_g;
					if(((t) instanceof flixel_addons_ui_FlxUITypedButton)) {
						var tb = t;
						tb.label.set_color(16777215);
						if(((tb.label) instanceof flixel_addons_ui_FlxUIText)) {
							var labelText = tb.label;
							labelText.set_borderStyle(flixel_text_FlxTextBorderStyle.OUTLINE);
							labelText.set_borderColor(0);
							labelText.set_borderSize(1);
							labelText.set_borderQuality(1);
						}
					}
				}
			}
			if(tab_def == null || !haxe_xml__$Access_HasAttribAccess.resolve(tab_def,"width")) {
				stretch_tabs = true;
			}
		}
		var tab_stacking = [stackToggled,stackUntoggled];
		var fg = new flixel_addons_ui_FlxUITabMenu(backSprite,list_tabs,null,tab_offset,stretch_tabs,tab_spacing,tab_stacking);
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"group")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"group");
			while(_g < _g1.length) {
				var group_node = _g1[_g];
				++_g;
				name = flixel_addons_ui_U.xml_name(group_node);
				var _ui = new flixel_addons_ui_FlxUI(group_node,fg,this,this._ptr_tongue);
				if(list_tabs != null && list_tabs.length > 0) {
					_ui.set_y(_ui.y + list_tabs[0].get_height());
				}
				_ui.name = name;
				fg.addGroup(_ui);
			}
		}
		return fg;
	}
	,_loadNumericStepper: function(data,setCallback) {
		if(setCallback == null) {
			setCallback = true;
		}
		var stepSize = flixel_addons_ui_U.xml_f(data,"step",1);
		var defaultValue = flixel_addons_ui_U.xml_f(data,"value",0);
		var min = flixel_addons_ui_U.xml_f(data,"min",0);
		var max = flixel_addons_ui_U.xml_f(data,"max",10);
		var decimals = flixel_addons_ui_U.xml_i(data,"decimals",0);
		var percent = flixel_addons_ui_U.xml_bool(data,"percent");
		var stack = flixel_addons_ui_U.xml_str(data,"stack",true,"");
		if(stack == "") {
			stack = flixel_addons_ui_U.xml_str(data,"stacking",true,"");
		}
		stack = stack.toLowerCase();
		var stacking;
		switch(stack) {
		case "h":case "horizontal":case "horz":
			stacking = 1;
			break;
		case "v":case "vert":case "vertical":
			stacking = 0;
			break;
		default:
			stacking = 1;
		}
		var theText = null;
		var buttPlus = null;
		var buttMinus = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"text")) {
			theText = this._loadThing("text",haxe_xml__$Access_NodeAccess.resolve(data,"text"));
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"plus")) {
			buttPlus = this._loadThing("button",haxe_xml__$Access_NodeAccess.resolve(data,"plus"));
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"minus")) {
			buttMinus = this._loadThing("button",haxe_xml__$Access_NodeAccess.resolve(data,"minus"));
		}
		var ns = new flixel_addons_ui_FlxUINumericStepper(0,0,stepSize,defaultValue,min,max,decimals,stacking,theText,buttPlus,buttMinus,percent);
		if(setCallback) {
			var params = null;
			if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
				params = [];
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
				while(_g < _g1.length) {
					var param = _g1[_g];
					++_g;
					if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
						var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
						type = type.toLowerCase();
						var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
						var value = valueStr;
						var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
						switch(type) {
						case "bool":case "boolean":
							var str = new String(valueStr);
							str = str.toLowerCase();
							if(str == "true" || str == "1") {
								value = true;
							} else {
								value = false;
							}
							break;
						case "color":case "hex":
							var return_val = flixel_util_FlxColor.fromString(valueStr);
							if(return_val == null) {
								throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
							}
							value = return_val;
							break;
						case "float":
							value = parseFloat(valueStr);
							break;
						case "int":
							value = Std.parseInt(valueStr);
							break;
						case "string":
							value = new String(valueStr);
							break;
						}
						params.push({ sort : sort, value : value});
					}
				}
				params.sort(flixel_addons_ui_FlxUI.sortParams);
				var _g = 0;
				var _g1 = params.length;
				while(_g < _g1) {
					var i = _g++;
					params[i] = params[i].value;
				}
			}
			var params1 = params;
			ns.set_params(params1);
		}
		return ns;
	}
	,getResizeRatio: function(data,defaultAxis) {
		if(defaultAxis == null) {
			defaultAxis = 1;
		}
		var str = flixel_addons_ui_U.xml_str(data,"resize_ratio_x",true);
		if(str == "") {
			str = flixel_addons_ui_U.xml_str(data,"resize_ratio_y",true);
			if(str == "") {
				var resize_ratio = flixel_addons_ui_U.xml_f(data,"resize_ratio",-1);
				return new flixel_math_FlxPoint(resize_ratio,defaultAxis);
			} else {
				return new flixel_math_FlxPoint(parseFloat(str),1);
			}
		} else {
			return new flixel_math_FlxPoint(parseFloat(str),0);
		}
	}
	,_loadButton: function(data,setCallback,isToggle,load_code) {
		if(load_code == null) {
			load_code = "";
		}
		if(isToggle == null) {
			isToggle = false;
		}
		if(setCallback == null) {
			setCallback = true;
		}
		var fb = null;
		var color = this._loadColor(data);
		var resize_ratio = flixel_addons_ui_U.xml_f(data,"resize_ratio",-1);
		var resize_point = this._loadCompass(data,"resize_point");
		var resize_label = flixel_addons_ui_U.xml_bool(data,"resize_label",false);
		var label = flixel_addons_ui_U.xml_str(data,"label");
		var sprite = null;
		var toggleSprite = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"sprite")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"sprite");
			while(_g < _g1.length) {
				var spriteNode = _g1[_g];
				++_g;
				var forToggle = isToggle && flixel_addons_ui_U.xml_bool(spriteNode,"toggle");
				if(forToggle) {
					toggleSprite = this._loadThing("sprite",spriteNode);
				} else {
					sprite = this._loadThing("sprite",spriteNode);
				}
			}
		}
		var context = flixel_addons_ui_U.xml_str(data,"context",true,"ui");
		var code = flixel_addons_ui_U.xml_str(data,"code",true,"");
		label = this.getText(label,context,true,code);
		var W = this._loadWidth(data,0,"width") | 0;
		var H = this._loadHeight(data,0,"height") | 0;
		var params = null;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"param")) {
			params = [];
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"param");
			while(_g < _g1.length) {
				var param = _g1[_g];
				++_g;
				if(haxe_xml__$Access_HasAttribAccess.resolve(param,"type") && haxe_xml__$Access_HasAttribAccess.resolve(param,"value")) {
					var type = haxe_xml__$Access_AttribAccess.resolve(param,"type");
					type = type.toLowerCase();
					var valueStr = haxe_xml__$Access_AttribAccess.resolve(param,"value");
					var value = valueStr;
					var sort = flixel_addons_ui_U.xml_i(param,"sort",-1);
					switch(type) {
					case "bool":case "boolean":
						var str = new String(valueStr);
						str = str.toLowerCase();
						if(str == "true" || str == "1") {
							value = true;
						} else {
							value = false;
						}
						break;
					case "color":case "hex":
						var return_val = flixel_util_FlxColor.fromString(valueStr);
						if(return_val == null) {
							throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + valueStr);
						}
						value = return_val;
						break;
					case "float":
						value = parseFloat(valueStr);
						break;
					case "int":
						value = Std.parseInt(valueStr);
						break;
					case "string":
						value = new String(valueStr);
						break;
					}
					params.push({ sort : sort, value : value});
				}
			}
			params.sort(flixel_addons_ui_FlxUI.sortParams);
			var _g = 0;
			var _g1 = params.length;
			while(_g < _g1) {
				var i = _g++;
				params[i] = params[i].value;
			}
		}
		var params1 = params;
		if(sprite == null) {
			var useDefaultGraphic = haxe_xml__$Access_HasNodeAccess.resolve(data,"graphic") == false;
			fb = new flixel_addons_ui_FlxUIButton(0,0,label,null,useDefaultGraphic,false,color);
			var fuib = fb;
			fuib._autoCleanup = false;
		} else {
			var tempGroup = null;
			if(label != "") {
				var labelTxt = new flixel_addons_ui_FlxUIText(0,0,80,label,8);
				labelTxt.setFormat(null,8,3355443,"center");
				tempGroup = new flixel_group_FlxTypedSpriteGroup();
				tempGroup.add(sprite);
				tempGroup.add(labelTxt);
				fb = new flixel_addons_ui_FlxUISpriteButton(0,0,tempGroup);
			} else {
				fb = new flixel_addons_ui_FlxUISpriteButton(0,0,sprite);
			}
		}
		fb.resize_ratio = resize_ratio;
		fb.resize_point = resize_point;
		fb.autoResizeLabel = resize_label;
		if(setCallback) {
			fb.set_params(params1);
		}
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"graphic")) {
			var blank = flixel_addons_ui_U.xml_bool(haxe_xml__$Access_NodeAccess.resolve(data,"graphic"),"blank");
			if(blank) {
				fb.loadGraphicSlice9(["","",""],W,H,null,0,resize_ratio);
			} else {
				var graphic_names = null;
				var slice9_names = null;
				var frames = null;
				if(isToggle) {
					graphic_names = ["","","","","",""];
					slice9_names = [null,null,null,null,null,null];
				} else {
					graphic_names = ["","",""];
					slice9_names = [null,null,null];
				}
				var src_w = flixel_addons_ui_U.xml_i(haxe_xml__$Access_NodeAccess.resolve(data,"graphic"),"src_w",0);
				var src_h = flixel_addons_ui_U.xml_i(haxe_xml__$Access_NodeAccess.resolve(data,"graphic"),"src_h",0);
				var tileStr = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"graphic"),"tile",true,"");
				var tile = 0;
				switch(tileStr) {
				case "h":case "horizontal":
					tile = 16;
					break;
				case "v":case "vertical":
					tile = 1;
					break;
				case "all":case "both":case "hv":case "true":case "vh":
					tile = 17;
					break;
				}
				var tile1 = tile;
				var frame_str = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"graphic"),"frames",true);
				if(frame_str != "") {
					frames = [];
					var arr = frame_str.split(",");
					var _g = 0;
					while(_g < arr.length) {
						var numstr = arr[_g];
						++_g;
						frames.push(Std.parseInt(numstr));
					}
				}
				var _g = 0;
				var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"graphic");
				while(_g < _g1.length) {
					var graphicNode = _g1[_g];
					++_g;
					var graphic_name = flixel_addons_ui_U.xml_name(graphicNode);
					var image = flixel_addons_ui_U.xml_str(graphicNode,"image");
					var slice9 = flixel_util_FlxStringUtil.toIntArray(flixel_addons_ui_U.xml_str(graphicNode,"slice9"));
					var tileStr = flixel_addons_ui_U.xml_str(graphicNode,"tile",true,"");
					var tile = 0;
					switch(tileStr) {
					case "h":case "horizontal":
						tile = 16;
						break;
					case "v":case "vertical":
						tile = 1;
						break;
					case "all":case "both":case "hv":case "true":case "vh":
						tile = 17;
						break;
					}
					tile1 = tile;
					var toggleState = flixel_addons_ui_U.xml_bool(graphicNode,"toggle");
					toggleState = toggleState && isToggle;
					var igfx = flixel_addons_ui_U.gfx(image);
					switch(graphic_name) {
					case "all":
						var tilesTall = isToggle ? 6 : 3;
						var temp = null;
						if(src_h != 0) {
							var temp1 = flixel_addons_ui_U.getBmp(igfx);
							tilesTall = temp1.height / src_h | 0;
						}
						if(image != "") {
							graphic_names = [this.loadScaledSrc(graphicNode,"image","scale_src",1,tilesTall)];
						}
						slice9_names = [this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[0],"image")];
						temp = flixel_addons_ui_U.getBmp(graphic_names[0]);
						src_w = temp.width;
						src_h = temp.height / tilesTall | 0;
						break;
					case "active":case "highlight":case "hilight":case "hover":case "over":
						if(image != "") {
							if(!toggleState) {
								graphic_names[1] = this.loadScaledSrc(graphicNode,"image","scale_src");
							} else {
								graphic_names[4] = this.loadScaledSrc(graphicNode,"image","scale_src");
							}
						}
						if(!toggleState) {
							slice9_names[1] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[1],"image");
						} else {
							slice9_names[4] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[4],"image");
						}
						break;
					case "down":case "pressed":case "pushed":
						if(image != "") {
							if(!toggleState) {
								graphic_names[2] = this.loadScaledSrc(graphicNode,"image","scale_src");
							} else {
								graphic_names[5] = this.loadScaledSrc(graphicNode,"image","scale_src");
							}
						}
						if(!toggleState) {
							slice9_names[2] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[2],"image");
						} else {
							slice9_names[5] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[5],"image");
						}
						break;
					case "":case "inactive":case "normal":case "up":
						if(image != "") {
							if(!toggleState) {
								graphic_names[0] = this.loadScaledSrc(graphicNode,"image","scale_src");
							} else {
								graphic_names[3] = this.loadScaledSrc(graphicNode,"image","scale_src");
							}
						}
						if(!toggleState) {
							slice9_names[0] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[0],"image");
						} else {
							slice9_names[3] = this.load9SliceSprite_scaleSub(slice9,graphicNode,graphic_names[3],"image");
						}
						break;
					}
					if(graphic_names[0] != "") {
						if(graphic_names.length >= 3) {
							if(graphic_names[1] == "") {
								graphic_names[1] = graphic_names[0];
							}
							if(graphic_names[2] == "") {
								graphic_names[2] = graphic_names[1];
							}
							if(graphic_names.length >= 6) {
								if(graphic_names[3] == "") {
									graphic_names[3] = graphic_names[0];
								}
								if(graphic_names[4] == "") {
									graphic_names[4] = graphic_names[1];
								}
								if(graphic_names[5] == "") {
									graphic_names[5] = graphic_names[2];
								}
							}
						}
					}
				}
				fb.loadGraphicSlice9(graphic_names,W,H,slice9_names,tile1,resize_ratio,isToggle,src_w,src_h,frames);
			}
		} else if(load_code == "tab_menu") {
			var graphic_names = ["flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab.png","flixel/flixel-ui/img/tab.png","flixel/flixel-ui/img/tab.png"];
			var slice9_tab = flixel_util_FlxStringUtil.toIntArray("6,6,11,11");
			var slice9_names = [slice9_tab,slice9_tab,slice9_tab,slice9_tab,slice9_tab,slice9_tab];
			if(((fb) instanceof flixel_addons_ui_FlxUIButton)) {
				var fbui = fb;
				fbui.loadGraphicSlice9(graphic_names,W,H,slice9_names,0,resize_ratio,isToggle);
			} else if(((fb) instanceof flixel_addons_ui_FlxUISpriteButton)) {
				var fbuis = fb;
				fbuis.loadGraphicSlice9(graphic_names,W,H,slice9_names,0,resize_ratio,isToggle);
			} else {
				fb.loadGraphicSlice9(graphic_names,W,H,slice9_names,0,resize_ratio,isToggle);
			}
		} else {
			if(W <= 0) {
				W = 80;
			}
			if(H <= 0) {
				H = 20;
			}
			fb.loadGraphicSlice9(null,W,H,null,0,resize_ratio,isToggle);
		}
		if(sprite == null) {
			if(data != null && haxe_xml__$Access_HasNodeAccess.resolve(data,"text")) {
				this.formatButtonText(data,fb);
			} else if(load_code == "tab_menu") {
				fb.up_color = 16777215;
				fb.down_color = 16777215;
				fb.over_color = 16777215;
				fb.up_toggle_color = 16777215;
				fb.down_toggle_color = 16777215;
				fb.over_toggle_color = 16777215;
			} else {
				fb.autoCenterLabel();
			}
		} else {
			fb.autoCenterLabel();
		}
		if(sprite != null && label != "") {
			if(data != null && haxe_xml__$Access_HasNodeAccess.resolve(data,"text")) {
				this.formatButtonText(data,fb);
			}
		}
		var text_x = 0;
		var text_y = 0;
		if(data.get("text_x") != null) {
			text_x = this._loadWidth(data,0,"text_x") | 0;
		} else if(data.get("label_x") != null) {
			text_x = this._loadWidth(data,0,"label_x") | 0;
		}
		if(data.get("text_y") != null) {
			text_y = this._loadHeight(data,0,"text_y") | 0;
		} else if(data.get("label_y") != null) {
			text_y = this._loadHeight(data,0,"label_y") | 0;
		}
		if(((fb) instanceof flixel_addons_ui_FlxUISpriteButton)) {
			var fbs = fb;
			if(((fbs.label) instanceof flixel_group_FlxTypedSpriteGroup)) {
				var g = fbs.label;
				var _g = 0;
				var _g1 = g.group.members;
				while(_g < _g1.length) {
					var sprite1 = _g1[_g];
					++_g;
					if(((sprite1) instanceof flixel_addons_ui_FlxUIText)) {
						var fh = sprite1.offset;
						fh.set_x(fh.x - text_x);
						var fh1 = sprite1.offset;
						fh1.set_y(fh1.y - text_y);
						break;
					}
				}
			} else {
				var fh = fbs.label.offset;
				fh.set_x(fh.x - text_x);
				var fh = fbs.label.offset;
				fh.set_y(fh.y - text_y);
				if(toggleSprite != null) {
					var fh = toggleSprite.offset;
					fh.set_x(fh.x - text_x);
					var fh = toggleSprite.offset;
					fh.set_y(fh.y - text_y);
				}
			}
		} else {
			var fbu = fb;
			var fh = fbu.label.offset;
			fh.set_x(fh.x - text_x);
			var fh = fbu.label.offset;
			fh.set_y(fh.y - text_y);
		}
		if(sprite != null && toggleSprite != null) {
			fb.set_toggle_label(toggleSprite);
		}
		if(((fb) instanceof flixel_addons_ui_FlxUITypedButton)) {
			var fuitb = fb;
			if(fuitb._assetsToCleanup != null) {
				var _g = 0;
				var _g1 = fuitb._assetsToCleanup;
				while(_g < _g1.length) {
					var key = _g1[_g];
					++_g;
					this.addToCleanup(key);
				}
			}
		}
		return fb;
	}
	,_loadRegion: function(data) {
		var bounds = this.calcMaxMinSize(data);
		var w = this._loadWidth(data) | 0;
		var h = this._loadHeight(data) | 0;
		if(bounds != null) {
			var pt = flixel_addons_ui_U.conformToBounds(new openfl_geom_Point(w,h),bounds);
			w = pt.x | 0;
			h = pt.y | 0;
		}
		var vis = flixel_addons_ui_U.xml_bool(data,"visible",true);
		var reg = new flixel_addons_ui_FlxUIRegion(0,0,w,h);
		reg.set_visible(vis);
		return reg;
	}
	,_load9SliceSprite: function(data,load_code) {
		if(load_code == null) {
			load_code = "";
		}
		var src = "";
		var f9s = null;
		var resize = this.getResizeRatio(data);
		var color = this._loadColor(data);
		var resize_ratio = resize.x;
		var resize_point = this._loadCompass(data,"resize_point");
		var resize_ratio_axis = resize.y | 0;
		var bounds = this.calcMaxMinSize(data);
		var data1 = data;
		var str = "";
		if(data1.get("src") != null) {
			str = data1.get("src");
			if(str == "" || str == null) {
				str = "";
			} else {
				str = flixel_addons_ui_U.gfx(str);
				try {
					if(!openfl_utils_Assets.exists(str,"IMAGE")) {
						throw haxe_Exception.thrown("couldn't load bmp \"" + "src" + "\"");
					}
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					if(typeof(haxe_Exception.caught(_g).unwrap()) != "string") {
						throw _g;
					}
				}
			}
		}
		src = str;
		var hasScaledSrc = haxe_xml__$Access_HasNodeAccess.resolve(data,"scale_src");
		if(hasScaledSrc) {
			var origSrc = src;
			src = this.loadScaledSrc(data,"src","scale_src");
			if(src != origSrc) {
				this.addToCleanup(origSrc);
			}
		}
		if(src == "") {
			src = null;
		}
		if(src == null) {
			if(load_code == "tab_menu") {
				src = "flixel/flixel-ui/img/chrome_flat.png";
			}
		}
		var rect_w = this._loadWidth(data) | 0;
		var rect_h = this._loadHeight(data) | 0;
		if(bounds != null) {
			if(rect_w < bounds.min_width) {
				rect_w = bounds.min_width | 0;
			} else if(rect_w > bounds.max_width) {
				rect_w = bounds.max_width;
			}
			if(rect_h < bounds.min_height) {
				rect_h = bounds.min_height | 0;
			} else if(rect_h > bounds.max_height) {
				rect_h = bounds.max_height | 0;
			}
		}
		if(rect_w == 0 || rect_h == 0) {
			return null;
		}
		var rc = new openfl_geom_Rectangle(0,0,rect_w,rect_h);
		var slice9 = flixel_util_FlxStringUtil.toIntArray(flixel_addons_ui_U.xml_str(data,"slice9"));
		var srcId = "";
		var srcGraphic = src;
		if(hasScaledSrc) {
			slice9 = this.load9SliceSprite_scaleSub(slice9,data,src);
			srcId = src;
			srcGraphic = flixel_FlxG.bitmap._cache.h[src];
		}
		var smooth = flixel_addons_ui_U.xml_bool(data,"smooth",false);
		var tileStr = flixel_addons_ui_U.xml_str(data,"tile",true,"");
		var tile = 0;
		switch(tileStr) {
		case "h":case "horizontal":
			tile = 16;
			break;
		case "v":case "vertical":
			tile = 1;
			break;
		case "all":case "both":case "hv":case "true":case "vh":
			tile = 17;
			break;
		}
		var tile1 = tile;
		f9s = new flixel_addons_ui_FlxUI9SliceSprite(0,0,srcGraphic,rc,slice9,tile1,smooth,srcId,resize_ratio,resize_point,resize_ratio_axis,false,color);
		return f9s;
	}
	,load9SliceSprite_scaleSub: function(slice9,data,src,srcString) {
		if(srcString == null) {
			srcString = "src";
		}
		var data1 = data;
		var str = "";
		if(data1.get(srcString) != null) {
			str = data1.get(srcString);
			if(str == "" || str == null) {
				str = "";
			} else {
				str = flixel_addons_ui_U.gfx(str);
				try {
					if(!openfl_utils_Assets.exists(str,"IMAGE")) {
						throw haxe_Exception.thrown("couldn't load bmp \"" + srcString + "\"");
					}
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					if(typeof(haxe_Exception.caught(_g).unwrap()) != "string") {
						throw _g;
					}
				}
			}
		}
		var origSrc = str;
		if(src == origSrc) {
			return slice9;
		}
		var srcAsset = flixel_FlxG.bitmap._cache.h[src] != null ? flixel_FlxG.bitmap._cache.h[src].bitmap : null;
		if(srcAsset == null) {
			srcAsset = openfl_utils_Assets.getBitmapData(origSrc);
		}
		var origAsset = openfl_utils_Assets.getBitmapData(origSrc,false);
		var srcScaleFactorX = srcAsset.width / origAsset.width;
		var srcScaleFactorY = srcAsset.height / origAsset.height;
		if(Math.abs(1.0 - srcScaleFactorX) <= 0.001 && Math.abs(1.0 - srcScaleFactorY) <= 0.001) {
			return slice9;
		}
		if(slice9 != null) {
			slice9[0] = slice9[0] * srcScaleFactorX | 0;
			slice9[1] = slice9[1] * srcScaleFactorY | 0;
			var widthDiff = origAsset.width - slice9[2];
			var heightDiff = origAsset.height - slice9[3];
			widthDiff = widthDiff * srcScaleFactorX | 0;
			heightDiff = heightDiff * srcScaleFactorY | 0;
			slice9[2] = srcAsset.width - widthDiff | 0;
			slice9[3] = srcAsset.height - heightDiff | 0;
		}
		return slice9;
	}
	,_loadTileRule: function(data) {
		var tileStr = flixel_addons_ui_U.xml_str(data,"tile",true,"");
		var tile = 0;
		switch(tileStr) {
		case "h":case "horizontal":
			tile = 16;
			break;
		case "v":case "vertical":
			tile = 1;
			break;
		case "all":case "both":case "hv":case "true":case "vh":
			tile = 17;
			break;
		}
		return tile;
	}
	,_loadBox: function(data) {
		var fs = null;
		var thickness = this._loadWidth(data,1,"thickness") | 0;
		var bounds = this.calcMaxMinSize(data);
		if(bounds == null) {
			bounds = { min_width : -Infinity, min_height : -Infinity, max_width : Infinity, max_height : Infinity};
		}
		var W = this._loadWidth(data) | 0;
		var H = this._loadHeight(data) | 0;
		if(bounds != null) {
			if(W < bounds.min_width) {
				W = bounds.min_width | 0;
			} else if(W > bounds.max_width) {
				W = bounds.max_width | 0;
			}
			if(H < bounds.min_height) {
				H = bounds.max_height | 0;
			} else if(H > bounds.max_height) {
				H = bounds.max_height | 0;
			}
		}
		var cstr = flixel_addons_ui_U.xml_str(data,"color",true,"0xff000000");
		var C = 0;
		if(cstr != "") {
			var return_val = flixel_util_FlxColor.fromString(cstr);
			if(return_val == null) {
				throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + cstr);
			}
			C = return_val;
		}
		fs = new flixel_addons_ui_FlxUISprite(0,0);
		var key = W + "x" + H + ":" + C + ":" + thickness;
		if(flixel_FlxG.bitmap._cache.h[key] != null) {
			fs.loadGraphic(key);
		} else {
			fs.makeGraphic(W,H,C,false,key);
			var r = new openfl_geom_Rectangle(thickness,thickness,W - thickness * 2,H - thickness * 2);
			fs.graphic.bitmap.fillRect(r,0);
		}
		return fs;
	}
	,_loadLine: function(data) {
		var axis = flixel_addons_ui_U.xml_str(data,"axis",true,"horizontal");
		var thickness = this._loadWidth(data,-1,"thickness") | 0;
		var bounds = this.calcMaxMinSize(data);
		if(bounds == null) {
			bounds = { min_width : 1, min_height : 1, max_width : Infinity, max_height : Infinity};
		}
		switch(axis) {
		case "h":case "horizontal":case "horz":
			bounds.max_height = thickness;
			bounds.min_height = thickness;
			break;
		case "v":case "vert":case "vertical":
			bounds.max_width = thickness;
			bounds.min_width = thickness;
			break;
		}
		var W = this._loadWidth(data) | 0;
		var H = this._loadHeight(data) | 0;
		if(bounds != null) {
			if(W < bounds.min_width) {
				W = bounds.min_width | 0;
			} else if(W > bounds.max_width) {
				W = bounds.max_width | 0;
			}
			if(H < bounds.min_height) {
				H = bounds.max_height | 0;
			} else if(H > bounds.max_height) {
				H = bounds.max_height | 0;
			}
		}
		var cstr = flixel_addons_ui_U.xml_str(data,"color",true,"0xff000000");
		var C = 0;
		if(cstr != "") {
			var return_val = flixel_util_FlxColor.fromString(cstr);
			if(return_val == null) {
				throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + cstr);
			}
			C = return_val;
		}
		var lineAxis = axis == "horizontal" ? flixel_addons_ui_LineAxis.HORIZONTAL : flixel_addons_ui_LineAxis.VERTICAL;
		var lineLength = lineAxis == flixel_addons_ui_LineAxis.HORIZONTAL ? W : H;
		var lineThickness = thickness != -1 ? thickness : lineAxis == flixel_addons_ui_LineAxis.HORIZONTAL ? H : W;
		var fl = new flixel_addons_ui_FlxUILine(0,0,lineAxis,lineLength,lineThickness,C);
		return fl;
	}
	,_loadBar: function(data) {
		var fb = null;
		var style = { filledColors : null, emptyColors : null, chunkSize : null, gradRotation : null, filledColor : null, emptyColor : null, borderColor : null, filledImgSrc : "", emptyImgSrc : ""};
		var W = this._loadWidth(data,-1) | 0;
		var H = this._loadHeight(data,-1) | 0;
		var direction = flixel_addons_ui_U.xml_str(data,"fill_direction",true);
		var fillDir = flixel_ui_FlxBarFillDirection.TOP_TO_BOTTOM;
		switch(direction) {
		case "bottom_to_top":
			fillDir = flixel_ui_FlxBarFillDirection.BOTTOM_TO_TOP;
			break;
		case "horizontal_inside_out":
			fillDir = flixel_ui_FlxBarFillDirection.HORIZONTAL_INSIDE_OUT;
			break;
		case "horizontal_outside_in":
			fillDir = flixel_ui_FlxBarFillDirection.HORIZONTAL_OUTSIDE_IN;
			break;
		case "left_to_right":
			fillDir = flixel_ui_FlxBarFillDirection.LEFT_TO_RIGHT;
			break;
		case "right_to_left":
			fillDir = flixel_ui_FlxBarFillDirection.RIGHT_TO_LEFT;
			break;
		case "top_to_bottom":
			fillDir = flixel_ui_FlxBarFillDirection.TOP_TO_BOTTOM;
			break;
		case "vertical_inside_out":
			fillDir = flixel_ui_FlxBarFillDirection.VERTICAL_INSIDE_OUT;
			break;
		case "vertical_outside_in":
			fillDir = flixel_ui_FlxBarFillDirection.VERTICAL_OUTSIDE_IN;
			break;
		default:
			fillDir = flixel_ui_FlxBarFillDirection.LEFT_TO_RIGHT;
		}
		var parentRefStr = flixel_addons_ui_U.xml_str(data,"parent_ref",true);
		var parentRef = parentRefStr != "" ? this.getAsset(parentRefStr) : null;
		var variableName = flixel_addons_ui_U.xml_str(data,"variable");
		var value = flixel_addons_ui_U.xml_f(data,"value",-1);
		var min = flixel_addons_ui_U.xml_f(data,"min",0);
		var max = flixel_addons_ui_U.xml_f(data,"max",100);
		if(value == -1) {
			value = max;
		}
		style.borderColor = flixel_addons_ui_U.xml_color(data,"border_color");
		var showBorder = style.borderColor != null;
		style.filledColor = flixel_addons_ui_U.xml_color(data,"filled_color");
		if(style.filledColor == null) {
			style.filledColor = flixel_addons_ui_U.xml_color(data,"color");
		}
		style.emptyColor = flixel_addons_ui_U.xml_color(data,"empty_color");
		style.filledColors = flixel_addons_ui_U.xml_colorArray(data,"filled_colors");
		style.emptyColors = flixel_addons_ui_U.xml_colorArray(data,"empty_colors");
		if(style.filledColors == null) {
			style.filledColors = flixel_addons_ui_U.xml_colorArray(data,"colors");
		}
		style.filledImgSrc = this.loadScaledSrc(data,"src_filled");
		style.emptyImgSrc = this.loadScaledSrc(data,"src_empty");
		if(style.filledImgSrc == "") {
			style.filledImgSrc = this.loadScaledSrc(data,"src");
		}
		style.chunkSize = flixel_addons_ui_U.xml_i(data,"chunk_size",1);
		style.gradRotation = flixel_addons_ui_U.xml_i(data,"rotation",90);
		if(style.filledImgSrc == "" && style.filledColor == null && style.filledColors == null) {
			style.filledColor = -65536;
		}
		if(W == -1 && H == -1) {
			fb = new flixel_addons_ui_FlxUIBar(0,0,fillDir,100,10,parentRef,variableName,min,max,showBorder);
		} else {
			fb = new flixel_addons_ui_FlxUIBar(0,0,fillDir,W,H,parentRef,variableName,min,max,showBorder);
		}
		fb.set_style(style);
		fb.resize(fb.barWidth,fb.barHeight);
		fb.set_value(value);
		return fb;
	}
	,_loadSprite: function(data) {
		var src = "";
		var fs = null;
		src = this.loadScaledSrc(data);
		var bounds = this.calcMaxMinSize(data);
		var resize = this.getResizeRatio(data,-1);
		var resize_ratio = resize.x;
		var resize_ratio_axis = resize.y | 0;
		var resize_point = this._loadCompass(data,"resize_point");
		var W = this._loadWidth(data,-1) | 0;
		var H = this._loadHeight(data,-1) | 0;
		if(bounds != null) {
			if(W < bounds.min_width) {
				W = bounds.min_width | 0;
			} else if(W > bounds.max_width) {
				W = bounds.max_width | 0;
			}
			if(H < bounds.min_height) {
				H = bounds.max_height | 0;
			} else if(H > bounds.max_height) {
				H = bounds.max_height | 0;
			}
		}
		if(src != "") {
			if(W == -1 && H == -1) {
				fs = new flixel_addons_ui_FlxUISprite(0,0,src);
			} else {
				if(resize_ratio != -1 && (W == -1 || H == -1)) {
					if(resize_ratio_axis == -1) {
						if(W == -1) {
							resize_ratio_axis = 0;
						}
						if(H == -1) {
							resize_ratio_axis = 1;
						}
					}
					if(resize_ratio_axis == 1) {
						H = W * (1 / resize_ratio);
					} else if(resize_ratio_axis == 0) {
						W = H * (1 / resize_ratio);
					}
				}
				var smooth = this.loadSmooth(data,true);
				fs = new flixel_addons_ui_FlxUISprite(0,0,flixel_addons_ui_U.loadScaledImage(flixel_addons_ui_U.xml_str(data,"src"),W,H,smooth));
			}
		} else {
			var cstr = flixel_addons_ui_U.xml_str(data,"color");
			var C = 0;
			if(cstr != "") {
				var return_val = flixel_util_FlxColor.fromString(cstr);
				if(return_val == null) {
					throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + cstr);
				}
				C = return_val;
			}
			fs = new flixel_addons_ui_FlxUISprite(0,0);
			fs.makeGraphic(W,H,C);
		}
		fs.set_resize_point(resize_point);
		fs.set_resize_ratio(resize_ratio);
		fs.resize_ratio_axis = resize_ratio_axis;
		return fs;
	}
	,loadSmooth: function(scaleNode,defaultValue) {
		var defaultStr = defaultValue ? "true" : "false";
		var smoothStr = flixel_addons_ui_U.xml_str(scaleNode,"smooth",true,defaultStr);
		if(smoothStr == "") {
			smoothStr = flixel_addons_ui_U.xml_str(scaleNode,"antialias",true,defaultStr);
		}
		return flixel_addons_ui_U.boolify(smoothStr);
	}
	,loadScaledSrc: function(data,attName,scaleName,tilesWide,tilesTall) {
		if(tilesTall == null) {
			tilesTall = 1;
		}
		if(tilesWide == null) {
			tilesWide = 1;
		}
		if(scaleName == null) {
			scaleName = "scale";
		}
		if(attName == null) {
			attName = "src";
		}
		var src = flixel_addons_ui_U.xml_str(data,attName);
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,scaleName)) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,scaleName);
			while(_g < _g1.length) {
				var scaleNode = _g1[_g];
				++_g;
				var ratio = flixel_addons_ui_U.xml_f(scaleNode,"screen_ratio",-1);
				var tolerance = flixel_addons_ui_U.xml_f(scaleNode,"tolerance",0.1);
				var actualRatio = flixel_FlxG.width / flixel_FlxG.height;
				if(ratio < 0 || ratio > 0 && Math.abs(ratio - actualRatio) <= tolerance) {
					var suffix = flixel_addons_ui_U.xml_str(scaleNode,"suffix");
					var srcSuffix = src + suffix;
					var testAsset = null;
					var scale_ = -1;
					var smooth = this.loadSmooth(scaleNode,true);
					var to_height = this._loadHeight(scaleNode,-1,"to_height");
					if(to_height != -1) {
						var testAsset1 = flixel_addons_ui_U.getBmp(flixel_addons_ui_U.gfx(src));
						if(testAsset1 != null) {
							scale_ = to_height / testAsset1.height;
						}
					} else {
						scale_ = this._loadScale(scaleNode,-1);
						if(scale_ == -1) {
							scale_ = this._loadScale(scaleNode,-1,"value");
						}
					}
					var scale_x = scale_ != -1 ? scale_ : this._loadScaleX(scaleNode,-1);
					var scale_y = scale_ != -1 ? scale_ : this._loadScaleY(scaleNode,-1);
					var sw = 0;
					var sh = 0;
					if(scale_x > 0 && scale_y > 0) {
						if(scale_x <= 0) {
							scale_x = 1.0;
						}
						if(scale_y <= 0) {
							scale_y = 1.0;
						}
						sw = this._loadWidth(scaleNode,-1);
						sh = this._loadHeight(scaleNode,-1);
						if(sw == -1 || sh == -1) {
							testAsset = openfl_utils_Assets.getBitmapData(flixel_addons_ui_U.gfx(src));
							sw = testAsset.width;
							sh = testAsset.height;
						}
						sw *= scale_x;
						sh *= scale_y;
					} else {
						sw = this._loadWidth(scaleNode,-1);
						sh = this._loadHeight(scaleNode,-1);
					}
					if(sw != 0 && sh != 0) {
						if(tilesTall > 1 || tilesWide > 1) {
							testAsset = openfl_utils_Assets.getBitmapData(flixel_addons_ui_U.gfx(src));
							var str = flixel_addons_ui_U.scaleAndStoreTileset(flixel_addons_ui_U.gfx(srcSuffix),scale_y,testAsset.width / tilesWide | 0,testAsset.height / tilesTall | 0,sw | 0,sh / tilesTall | 0,smooth);
							this.addToScaledAssets(str);
							return str;
						} else {
							var str1 = flixel_addons_ui_U.loadScaledImage(srcSuffix,sw,sh,smooth);
							this.addToScaledAssets(str1);
							return str1;
						}
					}
					break;
				}
			}
		}
		var data1 = data;
		var str = "";
		if(data1.get(attName) != null) {
			str = data1.get(attName);
			if(str == "" || str == null) {
				str = "";
			} else {
				str = flixel_addons_ui_U.gfx(str);
				try {
					if(!openfl_utils_Assets.exists(str,"IMAGE")) {
						throw haxe_Exception.thrown("couldn't load bmp \"" + attName + "\"");
					}
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					if(typeof(haxe_Exception.caught(_g).unwrap()) != "string") {
						throw _g;
					}
				}
			}
		}
		return str;
	}
	,thisWidth: function() {
		return flixel_FlxG.width;
	}
	,thisHeight: function() {
		return flixel_FlxG.height;
	}
	,_getAnchorPos: function(thing,axis,str) {
		switch(str) {
		case "":
			return 0;
		case "bottom":case "down":
			return this.screenHeight();
		case "center":
			if(axis == "x") {
				return this.screenWidth() / 2;
			} else if(axis == "y") {
				return this.screenHeight() / 2;
			}
			break;
		case "left":
			return 0;
		case "right":
			return this.screenWidth();
		case "top":case "up":
			return 0;
		default:
			var perc = flixel_addons_ui_U.perc_to_float(str);
			if(!isNaN(perc)) {
				if(axis == "x") {
					return perc * this.screenWidth();
				} else if(axis == "y") {
					return perc * this.screenHeight();
				}
			} else {
				var r = new EReg("[\\w]+\\.[\\w]+","");
				if(r.match(str)) {
					var wh = "";
					if(axis == "x") {
						wh = "w";
					}
					if(axis == "y") {
						wh = "h";
					}
					var assetValue = this._getStretch(1,wh,str);
					return assetValue;
				}
			}
		}
		return 0;
	}
	,getRound: function(node,defaultStr) {
		if(defaultStr == null) {
			defaultStr = "";
		}
		var roundStr = flixel_addons_ui_U.xml_str(node,"round",true,defaultStr);
		switch(roundStr) {
		case "-1":case "down":case "floor":
			return flixel_addons_ui_Rounding.Floor;
		case "1":case "ceil":case "ceiling":case "up":
			return flixel_addons_ui_Rounding.Ceil;
		case "0":case "round":case "true":
			return flixel_addons_ui_Rounding.Round;
		}
		return flixel_addons_ui_Rounding.None;
	}
	,doRound: function(f,round) {
		switch(round._hx_index) {
		case 0:
			return Math.floor(f);
		case 1:
			return Math.ceil(f);
		case 2:
			return Math.round(f);
		case 3:
			return f;
		}
	}
	,calcMaxMinSize: function(data,width,height) {
		var min_w = 0;
		var min_h = 0;
		var max_w = Infinity;
		var max_h = Infinity;
		var temp_min_w = 0;
		var temp_min_h = 0;
		var temp_max_w = Infinity;
		var temp_max_h = Infinity;
		var round = flixel_addons_ui_Rounding.None;
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"exact_size")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"exact_size");
			while(_g < _g1.length) {
				var exactNode = _g1[_g];
				++_g;
				var exact_w_str = flixel_addons_ui_U.xml_str(exactNode,"width");
				var exact_h_str = flixel_addons_ui_U.xml_str(exactNode,"height");
				round = this.getRound(exactNode);
				min_w = this.doRound(this._getDataSize("w",exact_w_str,0),round);
				min_h = this.doRound(this._getDataSize("h",exact_h_str,0),round);
				max_w = this.doRound(min_w,round);
				max_h = this.doRound(min_h,round);
			}
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"min_size")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"min_size");
			while(_g < _g1.length) {
				var minNode = _g1[_g];
				++_g;
				var min_w_str = flixel_addons_ui_U.xml_str(minNode,"width");
				var min_h_str = flixel_addons_ui_U.xml_str(minNode,"height");
				round = this.getRound(minNode);
				temp_min_w = this.doRound(this._getDataSize("w",min_w_str,0),round);
				temp_min_h = this.doRound(this._getDataSize("h",min_h_str,0),round);
				if(temp_min_w > min_w) {
					min_w = temp_min_w;
				}
				if(temp_min_h > min_h) {
					min_h = temp_min_h;
				}
			}
		} else if(haxe_xml__$Access_HasNodeAccess.resolve(data,"max_size")) {
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"max_size");
			while(_g < _g1.length) {
				var maxNode = _g1[_g];
				++_g;
				var max_w_str = flixel_addons_ui_U.xml_str(maxNode,"width");
				var max_h_str = flixel_addons_ui_U.xml_str(maxNode,"height");
				round = this.getRound(maxNode);
				temp_max_w = this.doRound(this._getDataSize("w",max_w_str,Infinity),round);
				temp_max_h = this.doRound(this._getDataSize("h",max_h_str,Infinity),round);
				if(temp_max_w < max_w) {
					max_w = temp_max_w;
				}
				if(temp_max_h < max_h) {
					max_h = temp_max_h;
				}
			}
		} else {
			return null;
		}
		if(width != null) {
			if(width > min_w) {
				min_w = width;
			}
			if(width < max_w) {
				max_w = width;
			}
		}
		if(height != null) {
			if(height > min_h) {
				min_h = height;
			}
			if(height < max_h) {
				max_h = height;
			}
		}
		if(max_w <= 0) {
			max_w = Infinity;
		}
		if(max_h <= 0) {
			max_h = Infinity;
		}
		return { min_width : min_w, min_height : min_h, max_width : max_w, max_height : max_h};
	}
	,_getDataSize: function(target,str,default_) {
		if(default_ == null) {
			default_ = 0;
		}
		if(flixel_addons_ui_U.isStrNum(str)) {
			return parseFloat(str);
		}
		var percf = flixel_addons_ui_U.perc_to_float(str);
		if(!isNaN(percf)) {
			switch(target) {
			case "h":case "height":
				return this.screenHeight() * percf;
			case "scale":case "scale_x":case "scale_y":
				return percf;
			case "w":case "width":
				return this.screenWidth() * percf;
			}
		} else {
			if(str.indexOf("stretch:") == 0) {
				str = StringTools.replace(str,"stretch:","");
				var arr = str.split(",");
				var stretch_0 = this._getStretch(0,target,arr[0]);
				var stretch_1 = this._getStretch(1,target,arr[1]);
				if(stretch_0 != -1 && stretch_1 != -1) {
					return stretch_1 - stretch_0;
				} else {
					return default_;
				}
			} else if(str.indexOf("asset:") == 0) {
				str = StringTools.replace(str,"asset:","");
				var assetValue = this._getStretch(1,target,str);
				return assetValue;
			} else {
				var r = new EReg("[\\w]+\\.[\\w]+","");
				if(r.match(str)) {
					var assetValue = this._getStretch(1,target,str);
					return assetValue;
				}
			}
			var ptStr = "";
			if(str.indexOf("pt") == str.length - 2) {
				ptStr = HxOverrides.substr(str,0,str.length - 2);
			}
			if(ptStr != "" && flixel_addons_ui_U.isStrNum(ptStr)) {
				var tempNum = parseFloat(ptStr);
				switch(target) {
				case "h":case "height":
					return this._pointY * tempNum;
				case "w":case "width":
					return this._pointX * tempNum;
				}
			}
		}
		return default_;
	}
	,_getOperation: function(str) {
		var list = ["+","-","*","/","^"];
		var op = "";
		var besti = Infinity;
		var _g = 0;
		while(_g < list.length) {
			var item = list[_g];
			++_g;
			var i = str.indexOf(item);
			if(i != -1) {
				if(i < besti) {
					besti = i;
					op = item;
				}
			}
		}
		var hasPoint = false;
		if(op != "") {
			if(str.indexOf(op) != -1) {
				var opindex = str.indexOf(op);
				if(opindex != str.length - 1) {
					var firstBit = HxOverrides.substr(str,0,opindex);
					var secondBit = HxOverrides.substr(str,opindex + 1,str.length - (opindex + 1));
					var f = 0;
					var ptIndex = secondBit.indexOf("pt");
					if(ptIndex != -1 && ptIndex == secondBit.length - 2) {
						var sansPt = StringTools.replace(secondBit,"pt","");
						f = parseFloat(sansPt);
						hasPoint = true;
					} else {
						f = parseFloat(secondBit);
					}
					if(isNaN(f)) {
						f = this.getAssetProperty(1,"",secondBit);
					}
					if(f == 0 && secondBit != "0") {
						return null;
					} else {
						return [firstBit,op,f,hasPoint];
					}
				}
			}
		}
		return null;
	}
	,_doOperation: function(value,op,operand) {
		switch(op) {
		case "*":
			return value * operand;
		case "+":
			return value + operand;
		case "-":
			return value - operand;
		case "/":
			return value / operand;
		case "^":
			return Math.pow(value,operand);
		}
		return value;
	}
	,_getStretch: function(index,target,str) {
		var arr = null;
		var op = "";
		var operand = 0;
		var hasPoint = false;
		arr = this._getOperation(str);
		if(arr != null) {
			str = arr[0];
			op = arr[1];
			operand = arr[2];
			hasPoint = arr[3];
			if(hasPoint) {
				switch(target) {
				case "h":case "height":
					operand *= this._pointY;
					break;
				case "w":case "width":
					operand *= this._pointX;
					break;
				default:
					operand *= this._pointY;
				}
			}
		}
		var return_val = this.getAssetProperty(index,target,str);
		if(return_val != -1 && op != "") {
			return_val = this._doOperation(return_val,op,operand);
		}
		return return_val;
	}
	,getAssetProperty: function(index,target,str) {
		var prop = "";
		if(str.indexOf(".") != -1) {
			var arr = null;
			arr = str.split(".");
			str = arr[0];
			prop = arr[1];
		}
		var other = this.getAsset(str);
		var return_val = 0;
		if(other == null) {
			switch(str) {
			case "bottom":case "down":
				return_val = this.screenHeight();
				break;
			case "left":
				return_val = 0;
				break;
			case "right":
				return_val = this.screenWidth();
				break;
			case "top":case "up":
				return_val = 0;
				break;
			default:
				if(flixel_addons_ui_U.isStrNum(str)) {
					return_val = parseFloat(str);
				} else {
					return_val = -1;
				}
			}
		} else {
			switch(target) {
			case "h":case "height":
				if(prop == "") {
					if(index == 0) {
						return_val = other.y + other.get_height();
					}
					if(index == 1) {
						return_val = other.y;
					}
				} else {
					switch(prop) {
					case "bottom":case "down":
						return_val = other.y + other.get_height();
						break;
					case "center":
						return_val = other.y + other.get_height() / 2;
						break;
					case "halfheight":
						return_val = other.get_height() / 2;
						break;
					case "halfwidth":
						return_val = other.get_width() / 2;
						break;
					case "height":
						return_val = other.get_height();
						break;
					case "right":
						return_val = other.x + other.get_width();
						break;
					case "top":case "up":case "y":
						return_val = other.y;
						break;
					case "width":
						return_val = other.get_width();
						break;
					case "left":case "x":
						return_val = other.x;
						break;
					}
				}
				break;
			case "w":case "width":
				if(prop == "") {
					if(index == 0) {
						return_val = other.x + other.get_width();
					}
					if(index == 1) {
						return_val = other.x;
					}
				} else {
					switch(prop) {
					case "bottom":case "down":
						return_val = other.y + other.get_height();
						break;
					case "center":
						return_val = other.x + other.get_width() / 2;
						break;
					case "halfheight":
						return_val = other.get_height() / 2;
						break;
					case "halfwidth":
						return_val = other.get_width() / 2;
						break;
					case "height":
						return_val = other.get_height();
						break;
					case "right":
						return_val = other.x + other.get_width();
						break;
					case "top":case "up":case "y":
						return_val = other.y;
						break;
					case "width":
						return_val = other.get_width();
						break;
					case "left":case "x":
						return_val = other.x;
						break;
					}
				}
				break;
			default:
				switch(prop) {
				case "bottom":case "down":
					return_val = other.y + other.get_height();
					break;
				case "centerx":
					return_val = other.x + other.get_width() / 2;
					break;
				case "centery":
					return_val = other.y + other.get_height() / 2;
					break;
				case "halfheight":
					return_val = other.get_height() / 2;
					break;
				case "halfwidth":
					return_val = other.get_width() / 2;
					break;
				case "height":
					return_val = other.get_height();
					break;
				case "right":
					return_val = other.x + other.get_width();
					break;
				case "top":case "up":case "y":
					return_val = other.y;
					break;
				case "width":
					return_val = other.get_width();
					break;
				case "left":case "x":
					return_val = other.x;
					break;
				}
			}
		}
		return return_val;
	}
	,_loadCursor: function(data) {
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"list")) {
			if(this.cursorLists == null) {
				this.cursorLists = [];
			}
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"list");
			while(_g < _g1.length) {
				var lNode = _g1[_g];
				++_g;
				var ids = flixel_addons_ui_U.xml_str(lNode,"ids");
				var arr = ids.split(",");
				if(arr != null && arr.length > 0) {
					var list = [];
					var _g2 = 0;
					while(_g2 < arr.length) {
						var str = arr[_g2];
						++_g2;
						var widget = this.getAsset(str);
						if(widget != null) {
							list.push(widget);
						}
					}
					this.cursorLists.push(list);
				}
			}
		}
	}
	,_loadPosition: function(data,thing) {
		var X = this._loadWidth(data,0,"x");
		var Y = this._loadHeight(data,0,"y");
		var ctrX = flixel_addons_ui_U.xml_bool(data,"center_x");
		var ctrY = flixel_addons_ui_U.xml_bool(data,"center_y");
		var center_on = flixel_addons_ui_U.xml_str(data,"center_on");
		var center_on_x = flixel_addons_ui_U.xml_str(data,"center_on_x");
		var center_on_y = flixel_addons_ui_U.xml_str(data,"center_on_y");
		var anchor_x_str = "";
		var anchor_y_str = "";
		var anchor_x = 0;
		var anchor_y = 0;
		var anchor_x_flush = "";
		var anchor_y_flush = "";
		if(haxe_xml__$Access_HasNodeAccess.resolve(data,"anchor")) {
			anchor_x_str = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"x");
			anchor_y_str = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"y");
			var rounding = this.getRound(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"));
			anchor_x = this._getAnchorPos(thing,"x",anchor_x_str);
			anchor_y = this._getAnchorPos(thing,"y",anchor_y_str);
			anchor_x = this.doRound(anchor_x,rounding);
			anchor_y = this.doRound(anchor_y,rounding);
			anchor_x_flush = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"x-flush",true);
			anchor_y_flush = flixel_addons_ui_U.xml_str(haxe_xml__$Access_NodeAccess.resolve(data,"anchor"),"y-flush",true);
		}
		if(anchor_x_str != "" || anchor_y_str != "") {
			switch(anchor_x_flush) {
			case "center":
				anchor_x -= thing.get_width() / 2;
				break;
			case "left":
				break;
			case "right":
				anchor_x -= thing.get_width();
				break;
			}
			switch(anchor_y_flush) {
			case "bottom":case "down":
				anchor_y -= thing.get_height();
				break;
			case "center":
				anchor_y -= thing.get_height() / 2;
				break;
			case "top":case "up":
				break;
			}
			if(anchor_x_str != "") {
				thing.set_x(anchor_x);
			}
			if(anchor_y_str != "") {
				thing.set_y(anchor_y);
			}
		}
		if(ctrX || ctrY) {
			var X1 = ctrX;
			var Y1 = ctrY;
			if(Y1 == null) {
				Y1 = true;
			}
			if(X1 == null) {
				X1 = true;
			}
			if(X1) {
				thing.set_x((flixel_FlxG.width - thing.get_width()) / 2);
			}
			if(Y1) {
				thing.set_y((flixel_FlxG.height - thing.get_height()) / 2);
			}
		}
		if(center_on != "") {
			var other = this.getAsset(center_on);
			if(other != null) {
				var fb1 = js_Boot.__cast(other , flixel_FlxObject);
				var fb2 = js_Boot.__cast(thing , flixel_FlxObject);
				fb2.set_x(fb1.x + (fb1.get_width() - fb2.get_width()) / 2);
				fb2.set_y(fb1.y + (fb1.get_height() - fb2.get_height()) / 2);
			}
		} else {
			if(center_on_x != "") {
				var other = this.getAsset(center_on_x);
				if(other != null) {
					var fb1 = js_Boot.__cast(other , flixel_FlxObject);
					var fb2 = js_Boot.__cast(thing , flixel_FlxObject);
					var centerX = true;
					var centerY = false;
					if(centerY == null) {
						centerY = true;
					}
					if(centerX == null) {
						centerX = true;
					}
					if(centerX) {
						fb2.set_x(fb1.x + (fb1.get_width() - fb2.get_width()) / 2);
					}
					if(centerY) {
						fb2.set_y(fb1.y + (fb1.get_height() - fb2.get_height()) / 2);
					}
				}
			}
			if(center_on_y != "") {
				var other = this.getAsset(center_on_y);
				if(other != null) {
					var fb1 = js_Boot.__cast(other , flixel_FlxObject);
					var fb2 = js_Boot.__cast(thing , flixel_FlxObject);
					var centerX = false;
					var centerY = true;
					if(centerY == null) {
						centerY = true;
					}
					if(centerX == null) {
						centerX = true;
					}
					if(centerX) {
						fb2.set_x(fb1.x + (fb1.get_width() - fb2.get_width()) / 2);
					}
					if(centerY) {
						fb2.set_y(fb1.y + (fb1.get_height() - fb2.get_height()) / 2);
					}
				}
			}
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		thing.set_x(thing.x + X1);
		thing.set_y(thing.y + Y1);
	}
	,_loadBorder: function(data) {
		var borderDef = flixel_addons_ui_BorderDef.fromXML(data);
		var round = this.getRound(data,"floor");
		var dataSize = this._getDataSize("h",flixel_addons_ui_U.xml_str(data,"border_size"),1);
		var border_size = this.doRound(dataSize,round) | 0;
		borderDef.size = border_size;
		return borderDef;
	}
	,_loadColor: function(data,colorName,_default) {
		if(_default == null) {
			_default = -1;
		}
		if(colorName == null) {
			colorName = "color";
		}
		var colorStr = flixel_addons_ui_U.xml_str(data,colorName);
		var tmp;
		if(colorStr == "") {
			var _this = data;
			if(_this.nodeType != Xml.Element) {
				throw haxe_Exception.thrown("Bad node type, expected Element but found " + (_this.nodeType == null ? "null" : XmlType.toString(_this.nodeType)));
			}
			tmp = _this.nodeName == colorName;
		} else {
			tmp = false;
		}
		if(tmp) {
			colorStr = flixel_addons_ui_U.xml_str(data,"value");
		}
		var color = _default;
		if(colorStr != "") {
			var return_val = flixel_util_FlxColor.fromString(colorStr);
			if(return_val == null) {
				throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + colorStr);
			}
			color = return_val;
		}
		return color;
	}
	,_loadFontDef: function(data) {
		var fd = flixel_addons_ui_FontDef.fromXML(data);
		var fontSize = this._loadHeight(data,8,"size") | 0;
		fd.format.size = flixel_addons_ui_FlxUI.fontSize(fd.file,fontSize);
		fd.set_size(fontSize);
		return fd;
	}
	,_loadFontFace: function(data) {
		var fontFace = flixel_addons_ui_U.xml_str(data,"font");
		var fontStyle = flixel_addons_ui_U.xml_str(data,"style");
		var the_font = null;
		if(fontFace != "") {
			the_font = flixel_addons_ui_FlxUI.font(fontFace,fontStyle);
		}
		return the_font;
	}
	,_onFinishLoad: function() {
		if(this._ptr != null) {
			this._ptr.getEvent("finish_load",this,null);
		}
	}
	,getText: function(flag,context,safe,code) {
		if(code == null) {
			code = "";
		}
		if(safe == null) {
			safe = true;
		}
		if(context == null) {
			context = "data";
		}
		var str = "";
		if(this._ptr_tongue != null) {
			str = this._ptr_tongue.get(flag,context,safe);
			return this.formatFromCode(str,code);
		} else if(this.getTextFallback != null) {
			str = this.getTextFallback(flag,context,safe);
			return this.formatFromCode(str,code);
		}
		return flag;
	}
	,formatFromCode: function(str,code) {
		switch(code) {
		case "fu":
			return flixel_addons_ui_U.FU(str);
		case "fu_":
			return flixel_addons_ui_U.FU_(str);
		case "l":
			return str.toLowerCase();
		case "u":
			return str.toUpperCase();
		}
		return str;
	}
	,formatButtonText: function(data,button) {
		if(data != null && haxe_xml__$Access_HasNodeAccess.resolve(data,"text")) {
			var textNode = haxe_xml__$Access_NodeAccess.resolve(data,"text");
			var use_def = flixel_addons_ui_U.xml_str(textNode,"use_def",true);
			var text_def = null;
			if(use_def != "") {
				text_def = this.getDefinition(use_def);
			}
			var info = flixel_addons_ui_FlxUI.consolidateData(textNode,text_def);
			var the_font = this._loadFontFace(info);
			var size = this._loadHeight(info,8,"size","floor") | 0;
			var color = this._loadColor(info);
			var labelWidth = flixel_addons_ui_U.xml_f(info,"width");
			var border = this._loadBorder(info);
			var align = flixel_addons_ui_U.xml_str(info,"align",true);
			if(align == "") {
				align = null;
			}
			var the_label = null;
			var fb = null;
			var fsb = null;
			var ifb = null;
			if(((button) instanceof flixel_addons_ui_FlxUICheckBox) == false) {
				ifb = button;
				if(align == "" || align == null) {
					align = "center";
				}
			} else {
				var cb = button;
				ifb = cb.button;
				align = "left";
			}
			if(ifb != null) {
				if(((ifb) instanceof flixel_addons_ui_FlxUIButton)) {
					fb = ifb;
					the_label = fb.label;
				} else if(((ifb) instanceof flixel_addons_ui_FlxUISpriteButton)) {
					fsb = ifb;
					if(((fsb.label) instanceof flixel_text_FlxText)) {
						the_label = fsb.label;
					} else if(((fsb.label) instanceof flixel_group_FlxTypedSpriteGroup)) {
						var fsg = fsb.label;
						var _g = 0;
						var _g1 = fsg.group.members;
						while(_g < _g1.length) {
							var fs = _g1[_g];
							++_g;
							if(((fs) instanceof flixel_text_FlxText)) {
								the_label = fs;
								break;
							}
						}
					}
				}
				ifb.up_color = color;
				ifb.down_color = 0;
				ifb.over_color = 0;
			}
			if(the_label != null) {
				if(labelWidth != 0) {
					the_label.set_width(labelWidth);
					the_label.resetHelpers();
				}
				if(fb != null) {
					fb.setLabelFormat(the_font,size,color,align);
				} else {
					the_label.setFormat(the_font,size,color,align);
				}
				the_label.set_borderStyle(border.style);
				the_label.set_borderColor(border.color);
				the_label.set_borderSize(border.size);
				the_label.set_borderQuality(border.quality);
				if(((the_label) instanceof flixel_addons_ui_FlxUIText)) {
					var ftu = the_label;
					ftu.drawFrame();
				}
				if(fb != null) {
					fb.autoCenterLabel();
				}
				if(fsb != null) {
					fsb.autoCenterLabel();
				}
			}
			var _g = 0;
			var _g1 = haxe_xml__$Access_NodeListAccess.resolve(info,"color");
			while(_g < _g1.length) {
				var textColorNode = _g1[_g];
				++_g;
				var color = this._loadColor(textColorNode);
				var vis = flixel_addons_ui_U.xml_bool(textColorNode,"visible",true);
				var state_name = flixel_addons_ui_U.xml_name(textColorNode);
				var toggle = flixel_addons_ui_U.xml_bool(textColorNode,"toggle");
				switch(state_name) {
				case "active":case "hilight":case "hover":case "over":
					if(!toggle) {
						ifb.over_color = color;
						ifb.over_visible = vis;
					} else {
						ifb.over_toggle_color = color;
						ifb.over_toggle_visible = vis;
					}
					break;
				case "down":case "pressed":case "pushed":
					if(!toggle) {
						ifb.down_color = color;
						ifb.down_visible = vis;
					} else {
						ifb.down_toggle_color = color;
						ifb.down_toggle_visible = vis;
					}
					break;
				case "":case "inactive":case "normal":case "up":
					if(!toggle) {
						ifb.up_color = color;
						ifb.up_visible = vis;
					} else {
						ifb.up_toggle_color = color;
						ifb.up_toggle_visible = vis;
					}
					break;
				}
			}
			if(ifb.over_color == 0) {
				ifb.over_color = ifb.up_color;
			}
			if(ifb.down_color == 0) {
				ifb.down_color = ifb.over_color;
			}
			if(ifb.up_toggle_color == 0) {
				ifb.up_toggle_color = ifb.up_color;
			}
			if(ifb.over_toggle_color == 0) {
				ifb.over_toggle_color = ifb.over_color;
			}
			if(ifb.down_toggle_color == 0) {
				ifb.down_toggle_color = ifb.down_color;
			}
			if(the_label != null) {
				the_label.set_visible(ifb.up_visible);
				the_label.set_color(ifb.up_color);
			}
			return the_label;
		}
		return null;
	}
	,__class__: flixel_addons_ui_FlxUI
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_currMode:"set_currMode",get_currMode:"get_currMode",set_focus:"set_focus",set_tongue:"set_tongue",get_tongue:"get_tongue",get_isRoot:"get_isRoot"})
});
var flixel_addons_ui_Rounding = $hxEnums["flixel.addons.ui.Rounding"] = { __ename__:"flixel.addons.ui.Rounding",__constructs__:null
	,Floor: {_hx_name:"Floor",_hx_index:0,__enum__:"flixel.addons.ui.Rounding",toString:$estr}
	,Ceil: {_hx_name:"Ceil",_hx_index:1,__enum__:"flixel.addons.ui.Rounding",toString:$estr}
	,Round: {_hx_name:"Round",_hx_index:2,__enum__:"flixel.addons.ui.Rounding",toString:$estr}
	,None: {_hx_name:"None",_hx_index:3,__enum__:"flixel.addons.ui.Rounding",toString:$estr}
};
flixel_addons_ui_Rounding.__constructs__ = [flixel_addons_ui_Rounding.Floor,flixel_addons_ui_Rounding.Ceil,flixel_addons_ui_Rounding.Round,flixel_addons_ui_Rounding.None];
var flixel_addons_ui_interfaces_IResizable = function() { };
$hxClasses["flixel.addons.ui.interfaces.IResizable"] = flixel_addons_ui_interfaces_IResizable;
flixel_addons_ui_interfaces_IResizable.__name__ = "flixel.addons.ui.interfaces.IResizable";
flixel_addons_ui_interfaces_IResizable.__isInterface__ = true;
flixel_addons_ui_interfaces_IResizable.prototype = {
	get_width: null
	,set_width: null
	,get_height: null
	,set_height: null
	,resize: null
	,__class__: flixel_addons_ui_interfaces_IResizable
	,__properties__: {set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width"}
};
var flixel_addons_ui_FlxUISprite = function(X,Y,SimpleGraphic) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._originalKey = "";
	this.resize_ratio_axis = 1;
	this.recycled = false;
	this.ptr_owner = null;
	this.broadcastToFlxUI = true;
	flixel_FlxSprite.call(this,X,Y,SimpleGraphic);
};
$hxClasses["flixel.addons.ui.FlxUISprite"] = flixel_addons_ui_FlxUISprite;
flixel_addons_ui_FlxUISprite.__name__ = "flixel.addons.ui.FlxUISprite";
flixel_addons_ui_FlxUISprite.__interfaces__ = [flixel_addons_ui_interfaces_IResizable,flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_FlxUISprite.__super__ = flixel_FlxSprite;
flixel_addons_ui_FlxUISprite.prototype = $extend(flixel_FlxSprite.prototype,{
	broadcastToFlxUI: null
	,name: null
	,ptr_owner: null
	,recycled: null
	,resize_ratio: null
	,resize_ratio_axis: null
	,set_resize_ratio: function(r) {
		this.resize_ratio = r;
		return r;
	}
	,resize_point: null
	,set_resize_point: function(r) {
		if(r != null) {
			var point = flixel_math_FlxPoint._pool.get().set(0,0);
			point._inPool = false;
			this.resize_point = point;
			this.resize_point.set_x(r.x);
			this.resize_point.set_y(r.y);
		}
		return this.resize_point;
	}
	,recycle: function(data) {
		this.recycled = true;
	}
	,resize: function(w,h) {
		var old_width = this.get_width();
		var old_height = this.get_height();
		if(this.resize_ratio > 0) {
			var effective_ratio = w / h;
			if(Math.abs(effective_ratio - this.resize_ratio) > 0.0001) {
				if(this.resize_ratio_axis == 1) {
					h = w * (1 / this.resize_ratio);
				} else {
					w = h * (1 / this.resize_ratio);
				}
			}
		}
		if(this._originalKey != "" && this._originalKey != null) {
			var newKey = flixel_addons_ui_U.loadScaledImage(this._originalKey,w,h);
			if(newKey != "" && newKey != null) {
				this.loadFromScaledGraphic(newKey);
			}
		}
		var diff_w = this.get_width() - old_width;
		var diff_h = this.get_height() - old_height;
		if(this.resize_point != null) {
			var delta_x = diff_w * this.resize_point.x;
			var delta_y = diff_h * this.resize_point.y;
			this.set_x(this.x - delta_x);
			this.set_y(this.y - delta_y);
		}
	}
	,loadGraphicAtScale: function(GraphicKey,W,H) {
		this.loadGraphic(GraphicKey,false);
		this.resize(W,H);
	}
	,loadGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		var sprite = flixel_FlxSprite.prototype.loadGraphic.call(this,Graphic,Animated,Width,Height,Unique,Key);
		this._originalKey = this.graphic.assetsKey;
		if(this._originalKey == null) {
			this._originalKey = this.graphic.key;
		}
		return sprite;
	}
	,destroy: function() {
		this.ptr_owner = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,loadFromScaledGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		flixel_FlxSprite.prototype.loadGraphic.call(this,Graphic,Animated,Width,Height,Unique,Key);
	}
	,_originalKey: null
	,__class__: flixel_addons_ui_FlxUISprite
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_resize_point:"set_resize_point",set_resize_ratio:"set_resize_ratio"})
});
var openfl_geom_Point = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
$hxClasses["openfl.geom.Point"] = openfl_geom_Point;
openfl_geom_Point.__name__ = "openfl.geom.Point";
openfl_geom_Point.__limeVector2 = null;
openfl_geom_Point.distance = function(pt1,pt2) {
	var dx = pt1.x - pt2.x;
	var dy = pt1.y - pt2.y;
	return Math.sqrt(dx * dx + dy * dy);
};
openfl_geom_Point.interpolate = function(pt1,pt2,f) {
	return new openfl_geom_Point(pt2.x + f * (pt1.x - pt2.x),pt2.y + f * (pt1.y - pt2.y));
};
openfl_geom_Point.polar = function(len,angle) {
	return new openfl_geom_Point(len * Math.cos(angle),len * Math.sin(angle));
};
openfl_geom_Point.prototype = {
	x: null
	,y: null
	,add: function(v) {
		return new openfl_geom_Point(v.x + this.x,v.y + this.y);
	}
	,clone: function() {
		return new openfl_geom_Point(this.x,this.y);
	}
	,copyFrom: function(sourcePoint) {
		this.x = sourcePoint.x;
		this.y = sourcePoint.y;
	}
	,equals: function(toCompare) {
		if(toCompare != null && toCompare.x == this.x) {
			return toCompare.y == this.y;
		} else {
			return false;
		}
	}
	,normalize: function(thickness) {
		if(this.x == 0 && this.y == 0) {
			return;
		} else {
			var norm = thickness / Math.sqrt(this.x * this.x + this.y * this.y);
			this.x *= norm;
			this.y *= norm;
		}
	}
	,offset: function(dx,dy) {
		this.x += dx;
		this.y += dy;
	}
	,setTo: function(xa,ya) {
		this.x = xa;
		this.y = ya;
	}
	,subtract: function(v) {
		return new openfl_geom_Point(this.x - v.x,this.y - v.y);
	}
	,toString: function() {
		return "(x=" + this.x + ", y=" + this.y + ")";
	}
	,__toLimeVector2: function() {
		if(openfl_geom_Point.__limeVector2 == null) {
			openfl_geom_Point.__limeVector2 = new lime_math_Vector2();
		}
		var _this = openfl_geom_Point.__limeVector2;
		_this.x = this.x;
		_this.y = this.y;
		return openfl_geom_Point.__limeVector2;
	}
	,get_length: function() {
		return Math.sqrt(this.x * this.x + this.y * this.y);
	}
	,__class__: openfl_geom_Point
	,__properties__: {get_length:"get_length"}
};
var openfl_geom_Rectangle = function(x,y,width,height) {
	if(height == null) {
		height = 0;
	}
	if(width == null) {
		width = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
	this.width = width;
	this.height = height;
};
$hxClasses["openfl.geom.Rectangle"] = openfl_geom_Rectangle;
openfl_geom_Rectangle.__name__ = "openfl.geom.Rectangle";
openfl_geom_Rectangle.__limeRectangle = null;
openfl_geom_Rectangle.prototype = {
	height: null
	,width: null
	,x: null
	,y: null
	,clone: function() {
		return new openfl_geom_Rectangle(this.x,this.y,this.width,this.height);
	}
	,contains: function(x,y) {
		if(x >= this.x && y >= this.y && x < this.get_right()) {
			return y < this.get_bottom();
		} else {
			return false;
		}
	}
	,containsPoint: function(point) {
		return this.contains(point.x,point.y);
	}
	,containsRect: function(rect) {
		if(rect.width <= 0 || rect.height <= 0) {
			if(rect.x > this.x && rect.y > this.y && rect.get_right() < this.get_right()) {
				return rect.get_bottom() < this.get_bottom();
			} else {
				return false;
			}
		} else if(rect.x >= this.x && rect.y >= this.y && rect.get_right() <= this.get_right()) {
			return rect.get_bottom() <= this.get_bottom();
		} else {
			return false;
		}
	}
	,copyFrom: function(sourceRect) {
		this.x = sourceRect.x;
		this.y = sourceRect.y;
		this.width = sourceRect.width;
		this.height = sourceRect.height;
	}
	,equals: function(toCompare) {
		if(toCompare == this) {
			return true;
		} else if(toCompare != null && this.x == toCompare.x && this.y == toCompare.y && this.width == toCompare.width) {
			return this.height == toCompare.height;
		} else {
			return false;
		}
	}
	,inflate: function(dx,dy) {
		this.x -= dx;
		this.width += dx * 2;
		this.y -= dy;
		this.height += dy * 2;
	}
	,inflatePoint: function(point) {
		this.inflate(point.x,point.y);
	}
	,intersection: function(toIntersect) {
		var x0 = this.x < toIntersect.x ? toIntersect.x : this.x;
		var x1 = this.get_right() > toIntersect.get_right() ? toIntersect.get_right() : this.get_right();
		if(x1 <= x0) {
			return new openfl_geom_Rectangle();
		}
		var y0 = this.y < toIntersect.y ? toIntersect.y : this.y;
		var y1 = this.get_bottom() > toIntersect.get_bottom() ? toIntersect.get_bottom() : this.get_bottom();
		if(y1 <= y0) {
			return new openfl_geom_Rectangle();
		}
		return new openfl_geom_Rectangle(x0,y0,x1 - x0,y1 - y0);
	}
	,intersects: function(toIntersect) {
		var x0 = this.x < toIntersect.x ? toIntersect.x : this.x;
		var x1 = this.get_right() > toIntersect.get_right() ? toIntersect.get_right() : this.get_right();
		if(x1 <= x0) {
			return false;
		}
		var y0 = this.y < toIntersect.y ? toIntersect.y : this.y;
		var y1 = this.get_bottom() > toIntersect.get_bottom() ? toIntersect.get_bottom() : this.get_bottom();
		return y1 > y0;
	}
	,isEmpty: function() {
		if(!(this.width <= 0)) {
			return this.height <= 0;
		} else {
			return true;
		}
	}
	,offset: function(dx,dy) {
		this.x += dx;
		this.y += dy;
	}
	,offsetPoint: function(point) {
		this.x += point.x;
		this.y += point.y;
	}
	,setEmpty: function() {
		this.x = this.y = this.width = this.height = 0;
	}
	,setTo: function(xa,ya,widtha,heighta) {
		this.x = xa;
		this.y = ya;
		this.width = widtha;
		this.height = heighta;
	}
	,toString: function() {
		return "(x=" + this.x + ", y=" + this.y + ", width=" + this.width + ", height=" + this.height + ")";
	}
	,union: function(toUnion) {
		if(this.width == 0 || this.height == 0) {
			return toUnion.clone();
		} else if(toUnion.width == 0 || toUnion.height == 0) {
			return this.clone();
		}
		var x0 = this.x > toUnion.x ? toUnion.x : this.x;
		var x1 = this.get_right() < toUnion.get_right() ? toUnion.get_right() : this.get_right();
		var y0 = this.y > toUnion.y ? toUnion.y : this.y;
		var y1 = this.get_bottom() < toUnion.get_bottom() ? toUnion.get_bottom() : this.get_bottom();
		return new openfl_geom_Rectangle(x0,y0,x1 - x0,y1 - y0);
	}
	,__contract: function(x,y,width,height) {
		if(this.width == 0 && this.height == 0) {
			return;
		}
		var offsetX = 0.0;
		var offsetY = 0.0;
		var offsetRight = 0.0;
		var offsetBottom = 0.0;
		if(this.x < x) {
			offsetX = x - this.x;
		}
		if(this.y < y) {
			offsetY = y - this.y;
		}
		if(this.get_right() > x + width) {
			offsetRight = x + width - this.get_right();
		}
		if(this.get_bottom() > y + height) {
			offsetBottom = y + height - this.get_bottom();
		}
		this.x += offsetX;
		this.y += offsetY;
		this.width += offsetRight - offsetX;
		this.height += offsetBottom - offsetY;
	}
	,__expand: function(x,y,width,height) {
		if(this.width == 0 && this.height == 0) {
			this.x = x;
			this.y = y;
			this.width = width;
			this.height = height;
			return;
		}
		var cacheRight = this.get_right();
		var cacheBottom = this.get_bottom();
		if(this.x > x) {
			this.x = x;
			this.width = cacheRight - x;
		}
		if(this.y > y) {
			this.y = y;
			this.height = cacheBottom - y;
		}
		if(cacheRight < x + width) {
			this.width = x + width - this.x;
		}
		if(cacheBottom < y + height) {
			this.height = y + height - this.y;
		}
	}
	,__toLimeRectangle: function() {
		if(openfl_geom_Rectangle.__limeRectangle == null) {
			openfl_geom_Rectangle.__limeRectangle = new lime_math_Rectangle();
		}
		openfl_geom_Rectangle.__limeRectangle.setTo(this.x,this.y,this.width,this.height);
		return openfl_geom_Rectangle.__limeRectangle;
	}
	,__transform: function(rect,m) {
		var tx0 = m.a * this.x + m.c * this.y;
		var tx1 = tx0;
		var ty0 = m.b * this.x + m.d * this.y;
		var ty1 = ty0;
		var tx = m.a * (this.x + this.width) + m.c * this.y;
		var ty = m.b * (this.x + this.width) + m.d * this.y;
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		tx = m.a * (this.x + this.width) + m.c * (this.y + this.height);
		ty = m.b * (this.x + this.width) + m.d * (this.y + this.height);
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		tx = m.a * this.x + m.c * (this.y + this.height);
		ty = m.b * this.x + m.d * (this.y + this.height);
		if(tx < tx0) {
			tx0 = tx;
		}
		if(ty < ty0) {
			ty0 = ty;
		}
		if(tx > tx1) {
			tx1 = tx;
		}
		if(ty > ty1) {
			ty1 = ty;
		}
		rect.setTo(tx0 + m.tx,ty0 + m.ty,tx1 - tx0,ty1 - ty0);
	}
	,get_bottom: function() {
		return this.y + this.height;
	}
	,set_bottom: function(b) {
		this.height = b - this.y;
		return b;
	}
	,get_bottomRight: function() {
		return new openfl_geom_Point(this.x + this.width,this.y + this.height);
	}
	,set_bottomRight: function(p) {
		this.width = p.x - this.x;
		this.height = p.y - this.y;
		return p.clone();
	}
	,get_left: function() {
		return this.x;
	}
	,set_left: function(l) {
		this.width -= l - this.x;
		this.x = l;
		return l;
	}
	,get_right: function() {
		return this.x + this.width;
	}
	,set_right: function(r) {
		this.width = r - this.x;
		return r;
	}
	,get_size: function() {
		return new openfl_geom_Point(this.width,this.height);
	}
	,set_size: function(p) {
		this.width = p.x;
		this.height = p.y;
		return p.clone();
	}
	,get_top: function() {
		return this.y;
	}
	,set_top: function(t) {
		this.height -= t - this.y;
		this.y = t;
		return t;
	}
	,get_topLeft: function() {
		return new openfl_geom_Point(this.x,this.y);
	}
	,set_topLeft: function(p) {
		this.x = p.x;
		this.y = p.y;
		return p.clone();
	}
	,__class__: openfl_geom_Rectangle
	,__properties__: {set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}
};
var flixel_addons_ui_FlxUI9SliceSprite = function(X,Y,Graphic,Rect,Slice9,Tile,Smooth,Id,Ratio,Resize_point,Resize_axis,DeferResize,Color) {
	if(Color == null) {
		Color = -1;
	}
	if(DeferResize == null) {
		DeferResize = false;
	}
	if(Resize_axis == null) {
		Resize_axis = 1;
	}
	if(Ratio == null) {
		Ratio = -1;
	}
	if(Id == null) {
		Id = "";
	}
	if(Smooth == null) {
		Smooth = false;
	}
	if(Tile == null) {
		Tile = 0;
	}
	this._asset_id = "";
	this._smooth = false;
	this._tile = 0;
	this._slice9 = null;
	this.paintScale9_id = "";
	flixel_addons_ui_FlxUISprite.call(this,X,Y,null);
	this.set_color(Color);
	this._slice9 = Slice9;
	this._tile = Tile;
	this._smooth = Smooth;
	this._asset_id = "";
	if(Graphic == null) {
		Graphic = "flixel/flixel-ui/img/chrome.png";
	}
	if(typeof(Graphic) == "string") {
		this._asset_id = Graphic;
		this._raw_pixels = null;
	} else if(((Graphic) instanceof openfl_display_BitmapData)) {
		this._asset_id = Id;
		this._raw_pixels = Graphic;
	} else if(((Graphic) instanceof flixel_graphics_FlxGraphic)) {
		var fg = Graphic;
		this._asset_id = fg.key;
		this._raw_pixels = fg.bitmap;
	}
	this.set_resize_ratio(Ratio);
	this.resize_ratio_axis = Resize_axis;
	if(Resize_point != null) {
		this.set_resize_point(Resize_point);
	}
	if(DeferResize) {
		var pt = flixel_addons_ui_U.applyResize(this.resize_ratio,this.resize_ratio_axis,Rect.width,Rect.height);
		this.set_width(pt.x);
		this.set_height(pt.y);
	} else {
		this.resize(Rect.width,Rect.height);
	}
};
$hxClasses["flixel.addons.ui.FlxUI9SliceSprite"] = flixel_addons_ui_FlxUI9SliceSprite;
flixel_addons_ui_FlxUI9SliceSprite.__name__ = "flixel.addons.ui.FlxUI9SliceSprite";
flixel_addons_ui_FlxUI9SliceSprite.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUI9SliceSprite.sectionCache = null;
flixel_addons_ui_FlxUI9SliceSprite.cacheCounter = null;
flixel_addons_ui_FlxUI9SliceSprite._staticRects = null;
flixel_addons_ui_FlxUI9SliceSprite.getRectFromString = function(str) {
	var coords = str.split(",");
	var rect = null;
	if(coords != null && coords.length == 4) {
		var x_ = Std.parseInt(coords[0]);
		var y_ = Std.parseInt(coords[1]);
		var w_ = Std.parseInt(coords[2]);
		var h_ = Std.parseInt(coords[3]);
		rect = new openfl_geom_Rectangle(x_,y_,w_,h_);
	}
	return rect;
};
flixel_addons_ui_FlxUI9SliceSprite.getRectIntsFromString = function(str) {
	var coords = str.split(",");
	if(coords != null && coords.length == 4) {
		var x1 = Std.parseInt(coords[0]);
		var y1 = Std.parseInt(coords[1]);
		var x2 = Std.parseInt(coords[2]);
		var y2 = Std.parseInt(coords[3]);
		return [x1,y1,x2,y2];
	}
	return null;
};
flixel_addons_ui_FlxUI9SliceSprite.paintScale9 = function(g,assetID,scale9,rc,tile,smooth,raw) {
	if(smooth == null) {
		smooth = false;
	}
	if(tile == null) {
		tile = 0;
	}
	if(scale9 != null) {
		var w;
		var h;
		if(raw == null) {
			var assetBmp = flixel_addons_ui_U.getBmp(assetID);
			if(assetBmp != null) {
				w = assetBmp.width;
				h = assetBmp.height;
			} else {
				var assetFlx = flixel_FlxG.bitmap._cache.h[assetID];
				w = assetFlx.width;
				h = assetFlx.height;
			}
		} else {
			w = raw.width;
			h = raw.height;
		}
		var x1 = scale9[0];
		var y1 = scale9[1];
		var x2 = scale9[2];
		var y2 = scale9[3];
		if(flixel_addons_ui_FlxUI9SliceSprite._staticRects == null) {
			flixel_addons_ui_FlxUI9SliceSprite._staticRects = new haxe_ds_StringMap();
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["top.left"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["top"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["top.right"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["left"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["middle"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["right"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["bottom.left"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["bottom"] = rect;
			var this1 = flixel_addons_ui_FlxUI9SliceSprite._staticRects;
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			this1.h["bottom.right"] = rect;
		}
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top.left"];
		var X = 0;
		var Y = 0;
		var Width = x1;
		var Height = y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top"];
		var X = x1;
		var Y = 0;
		var Width = x2 - x1;
		var Height = y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top.right"];
		var X = x2;
		var Y = 0;
		var Width = w - x2;
		var Height = y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["left"];
		var X = 0;
		var Y = y1;
		var Width = x1;
		var Height = y2 - y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["middle"];
		var X = x1;
		var Y = y1;
		var Width = x2 - x1;
		var Height = y2 - y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["right"];
		var X = x2;
		var Y = y1;
		var Width = w - x2;
		var Height = y2 - y1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom.left"];
		var X = 0;
		var Y = y2;
		var Width = x1;
		var Height = h - y2;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom"];
		var X = x1;
		var Y = y2;
		var Width = x2 - x1;
		var Height = h - y2;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom.right"];
		var X = x2;
		var Y = y2;
		var Width = w - x2;
		var Height = h - y2;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		if(flixel_addons_ui_FlxUI9SliceSprite.cacheCounter == null) {
			flixel_addons_ui_FlxUI9SliceSprite.cacheCounter = new haxe_ds_StringMap();
		}
		var uniqueID = flixel_addons_ui_FlxUI9SliceSprite.makePaintScale9Id(assetID,scale9,rc);
		var sectionCounter = flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h[uniqueID];
		if(sectionCounter == null) {
			sectionCounter = { useCount : 0, subKeys : []};
			var _g = 0;
			while(_g < 9) {
				var i = _g++;
				var rect;
				switch(i) {
				case 0:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top.left"];
					break;
				case 1:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top"];
					break;
				case 2:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top.right"];
					break;
				case 3:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["left"];
					break;
				case 4:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["middle"];
					break;
				case 5:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["right"];
					break;
				case 6:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom.left"];
					break;
				case 7:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom"];
					break;
				case 8:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["bottom.right"];
					break;
				default:
					rect = flixel_addons_ui_FlxUI9SliceSprite._staticRects.h["top.left"];
				}
				var cacheId = assetID + "_" + rect.x + "_" + rect.y + "_" + rect.width + "_" + rect.height + "_";
				sectionCounter.subKeys.push(cacheId);
			}
			flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h[uniqueID] = sectionCounter;
		}
		flixel_addons_ui_FlxUI9SliceSprite.paintCompoundBitmap(g,assetID,flixel_addons_ui_FlxUI9SliceSprite._staticRects,rc,tile,smooth,raw);
		return uniqueID;
	}
	return "";
};
flixel_addons_ui_FlxUI9SliceSprite.makePaintScale9Id = function(assetId,slice9,rect) {
	var tmp = assetId + "_" + slice9.join(",") + "_";
	var value = rect.x;
	var _this = flixel_util_LabelValuePair._pool.get();
	_this.label = "x";
	_this.value = value;
	var value = rect.y;
	var _this1 = flixel_util_LabelValuePair._pool.get();
	_this1.label = "y";
	_this1.value = value;
	var value = rect.width;
	var _this2 = flixel_util_LabelValuePair._pool.get();
	_this2.label = "w";
	_this2.value = value;
	var value = rect.height;
	var _this3 = flixel_util_LabelValuePair._pool.get();
	_this3.label = "h";
	_this3.value = value;
	return tmp + flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
};
flixel_addons_ui_FlxUI9SliceSprite.paintCompoundBitmap = function(g,assetID,sourceRects,targetRect,tile,smooth,raw) {
	if(smooth == null) {
		smooth = false;
	}
	if(tile == null) {
		tile = 0;
	}
	targetRect.x = targetRect.x | 0;
	targetRect.y = targetRect.y | 0;
	targetRect.width = targetRect.width | 0;
	targetRect.height = targetRect.height | 0;
	var tl = sourceRects.h["top.left"];
	if(tl != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = 0;
		var Y = 0;
		var Width = tl.width;
		var Height = tl.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,tl,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,0,smooth,raw);
	}
	var tr = sourceRects.h["top.right"];
	if(tr != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = targetRect.width - tr.width;
		var Y = 0;
		var Width = tr.width;
		var Height = tr.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,tr,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,0,smooth,raw);
	}
	var t = sourceRects.h["top"];
	if(t != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = tl.width;
		var Y = 0;
		var Width = targetRect.width - tl.width - tr.width;
		var Height = t.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,t,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,tile & 16,smooth,raw);
	}
	var bl = sourceRects.h["bottom.left"];
	if(bl != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = 0;
		var Y = targetRect.height - bl.height;
		var Width = bl.width;
		var Height = bl.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,bl,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,0,smooth,raw);
	}
	var br = sourceRects.h["bottom.right"];
	if(br != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = targetRect.width - br.width;
		var Y = targetRect.height - br.height;
		var Width = br.width;
		var Height = br.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,br,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,0,smooth,raw);
	}
	var b = sourceRects.h["bottom"];
	if(b != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = bl.width;
		var Y = targetRect.height - b.height;
		var Width = targetRect.width - bl.width - br.width;
		var Height = b.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,b,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,tile & 16,smooth,raw);
	}
	var l = sourceRects.h["left"];
	if(l != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = 0;
		var Y = tl.height;
		var Width = l.width;
		var Height = targetRect.height - tl.height - bl.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,l,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,tile & 1,smooth,raw);
	}
	var r = sourceRects.h["right"];
	if(r != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = targetRect.width - r.width;
		var Y = tr.height;
		var Width = r.width;
		var Height = targetRect.height - tl.height - bl.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,r,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,tile & 1,smooth,raw);
	}
	var m = sourceRects.h["middle"];
	if(m != null) {
		var _this = flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2;
		var X = l.width;
		var Y = t.height;
		var Width = targetRect.width - l.width - r.width;
		var Height = targetRect.height - t.height - b.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection(g,assetID,m,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect2,null,tile,smooth,raw);
	}
};
flixel_addons_ui_FlxUI9SliceSprite.paintBitmapSection = function(g,assetId,src,dst,srcData,tile,smooth,raw) {
	if(smooth == null) {
		smooth = false;
	}
	if(tile == null) {
		tile = 0;
	}
	if(srcData == null) {
		if(raw != null) {
			srcData = raw;
		} else {
			srcData = flixel_addons_ui_U.getBmp(assetId);
		}
	}
	src.x = src.x | 0;
	src.y = src.y | 0;
	src.width = src.width | 0;
	src.height = src.height | 0;
	dst.x = dst.x | 0;
	dst.y = dst.y | 0;
	dst.width = dst.width | 0;
	dst.height = dst.height | 0;
	var section = null;
	var cacheId = null;
	if(flixel_addons_ui_FlxUI9SliceSprite.useSectionCache == true && assetId != null) {
		if(flixel_addons_ui_FlxUI9SliceSprite.sectionCache == null) {
			flixel_addons_ui_FlxUI9SliceSprite.sectionCache = new haxe_ds_StringMap();
		}
		cacheId = assetId + "_" + src.x + "_" + src.y + "_" + src.width + "_" + src.height + "_";
		section = flixel_addons_ui_FlxUI9SliceSprite.sectionCache.h[cacheId];
	}
	if(section == null) {
		var fillcolor = 16777215;
		section = new openfl_display_BitmapData(src.width | 0,src.height | 0,true,fillcolor);
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.x = src.x;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.y = src.y;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.width = src.width;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.height = src.height;
		section.copyPixels(srcData,flixel_addons_ui_FlxUI9SliceSprite._staticRect2,flixel_addons_ui_FlxUI9SliceSprite._staticPointZero);
		if(flixel_addons_ui_FlxUI9SliceSprite.useSectionCache == true && cacheId != null) {
			flixel_addons_ui_FlxUI9SliceSprite.sectionCache.h[cacheId] = section;
		}
		flixel_addons_ui_FlxUI9SliceSprite.bitmapsCreated++;
	}
	if(dst.width > 0 && dst.height > 0) {
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.x = dst.x;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.y = dst.y;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.width = dst.width;
		flixel_addons_ui_FlxUI9SliceSprite._staticRect2.height = dst.height;
		flixel_addons_ui_FlxUI9SliceSprite.bitmapFillRect(g,flixel_addons_ui_FlxUI9SliceSprite._staticRect2,section,tile,smooth);
	}
};
flixel_addons_ui_FlxUI9SliceSprite.bitmapFillRect = function(g,dst,section,tile,smooth_) {
	if(smooth_ == null) {
		smooth_ = false;
	}
	if(tile == null) {
		tile = 0;
	}
	var final_pixels = new openfl_display_BitmapData(dst.width | 0,dst.height | 0,true,0);
	flixel_addons_ui_FlxUI9SliceSprite._staticMatrix.identity();
	flixel_addons_ui_FlxUI9SliceSprite._staticRect.x = 0;
	flixel_addons_ui_FlxUI9SliceSprite._staticRect.y = 0;
	flixel_addons_ui_FlxUI9SliceSprite._staticRect.width = section.width;
	flixel_addons_ui_FlxUI9SliceSprite._staticRect.height = section.height;
	if((tile & 16) == 0) {
		flixel_addons_ui_FlxUI9SliceSprite._staticMatrix.scale(dst.width / section.width,1.0);
		flixel_addons_ui_FlxUI9SliceSprite._staticRect.width = dst.width;
	}
	if((tile & 1) == 0) {
		flixel_addons_ui_FlxUI9SliceSprite._staticMatrix.scale(1.0,dst.height / section.height);
		flixel_addons_ui_FlxUI9SliceSprite._staticRect.height = dst.height;
	}
	if(section.width == dst.width && section.height == dst.height) {
		flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x = 0;
		flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y = 0;
		final_pixels.copyPixels(section,section.rect,flixel_addons_ui_FlxUI9SliceSprite._staticPoint);
	} else if(smooth_) {
		final_pixels.draw(section,flixel_addons_ui_FlxUI9SliceSprite._staticMatrix,null,null,null,true);
	} else {
		final_pixels.draw(section,flixel_addons_ui_FlxUI9SliceSprite._staticMatrix,null,null,null,false);
	}
	if(tile != 0) {
		if((tile & 16) == 16) {
			flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x = 0;
			flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y = 0;
			while(flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x < dst.width) {
				flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x += flixel_addons_ui_FlxUI9SliceSprite._staticRect.width;
				final_pixels.copyPixels(final_pixels,flixel_addons_ui_FlxUI9SliceSprite._staticRect,flixel_addons_ui_FlxUI9SliceSprite._staticPoint);
			}
		}
		if((tile & 1) == 1) {
			flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x = 0;
			flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y = 0;
			flixel_addons_ui_FlxUI9SliceSprite._staticRect.width = final_pixels.width;
			while(flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y < dst.height) {
				flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y += flixel_addons_ui_FlxUI9SliceSprite._staticRect.height;
				final_pixels.copyPixels(final_pixels,flixel_addons_ui_FlxUI9SliceSprite._staticRect,flixel_addons_ui_FlxUI9SliceSprite._staticPoint);
			}
		}
	}
	flixel_addons_ui_FlxUI9SliceSprite._staticPoint.x = dst.x;
	flixel_addons_ui_FlxUI9SliceSprite._staticPoint.y = dst.y;
	g.copyPixels(final_pixels,final_pixels.rect,flixel_addons_ui_FlxUI9SliceSprite._staticPoint);
	final_pixels = flixel_util_FlxDestroyUtil.dispose(final_pixels);
};
flixel_addons_ui_FlxUI9SliceSprite.__super__ = flixel_addons_ui_FlxUISprite;
flixel_addons_ui_FlxUI9SliceSprite.prototype = $extend(flixel_addons_ui_FlxUISprite.prototype,{
	_bmpCanvas: null
	,paintScale9_id: null
	,_slice9: null
	,_tile: null
	,_smooth: null
	,_asset_id: null
	,_raw_pixels: null
	,destroy: function() {
		this.noLongerUsingCachedID(this.paintScale9_id);
		flixel_addons_ui_FlxUISprite.prototype.destroy.call(this);
	}
	,resize: function(w,h) {
		if((w | 0) < 1) {
			w = 1;
		}
		if((h | 0) < 1) {
			h = 1;
		}
		var old_width = this.get_width();
		var old_height = this.get_height();
		var pt = flixel_addons_ui_U.applyResize(this.resize_ratio,this.resize_ratio_axis,w,h);
		w = pt.x;
		h = pt.y;
		var iw = pt.x | 0;
		var ih = pt.y | 0;
		if(this._slice9 == null || this._slice9 == []) {
			this._slice9 = [4,4,7,7];
		}
		var key = this._asset_id + "_" + this._slice9.join(",") + "_" + iw + "x" + ih + "_" + this._tile + "_" + Std.string(this._smooth);
		if(flixel_FlxG.bitmap._cache.h[key] != null) {
			this.loadGraphic(key,false,iw,ih);
		} else {
			var bmpCanvas = new openfl_display_BitmapData(w | 0,h | 0);
			flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect.x = 0;
			flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect.y = 0;
			flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect.width = w;
			flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect.height = h;
			var oldID = this.paintScale9_id;
			var newID = flixel_addons_ui_FlxUI9SliceSprite.makePaintScale9Id(this._asset_id,this._slice9,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect);
			if(newID != oldID) {
				this.paintScale9_id = flixel_addons_ui_FlxUI9SliceSprite.paintScale9(bmpCanvas,this._asset_id,this._slice9,flixel_addons_ui_FlxUI9SliceSprite._staticFlxRect,this._tile,this._smooth,this._raw_pixels);
				var sectionCounter = flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h[this.paintScale9_id];
				sectionCounter.useCount++;
				this.noLongerUsingCachedID(oldID);
			}
			this.loadGraphic(bmpCanvas,false,bmpCanvas.width,bmpCanvas.height,false,key);
		}
		var diff_w = this.get_width() - old_width;
		var diff_h = this.get_height() - old_height;
		if(this.resize_point != null) {
			var delta_x = diff_w * this.resize_point.x;
			var delta_y = diff_h * this.resize_point.y;
			this.set_x(this.x - delta_x);
			this.set_y(this.y - delta_y);
		}
	}
	,noLongerUsingCachedID: function(id) {
		if(Object.prototype.hasOwnProperty.call(flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h,id)) {
			var oldCounter = flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h[id];
			oldCounter.useCount--;
			if(oldCounter.useCount <= 0) {
				this.purgeSections(id);
			}
		}
	}
	,purgeSections: function(id) {
		var counter = flixel_addons_ui_FlxUI9SliceSprite.cacheCounter.h[id];
		if(counter != null) {
			var _g = 0;
			var _g1 = counter.subKeys;
			while(_g < _g1.length) {
				var key = _g1[_g];
				++_g;
				var _this = flixel_addons_ui_FlxUI9SliceSprite.sectionCache;
				if(Object.prototype.hasOwnProperty.call(_this.h,key)) {
					delete(_this.h[key]);
				}
			}
			counter.subKeys = null;
			var _this = flixel_addons_ui_FlxUI9SliceSprite.cacheCounter;
			if(Object.prototype.hasOwnProperty.call(_this.h,id)) {
				delete(_this.h[id]);
			}
		}
	}
	,__class__: flixel_addons_ui_FlxUI9SliceSprite
});
var flixel_addons_ui_FlxUIAssets = function() { };
$hxClasses["flixel.addons.ui.FlxUIAssets"] = flixel_addons_ui_FlxUIAssets;
flixel_addons_ui_FlxUIAssets.__name__ = "flixel.addons.ui.FlxUIAssets";
var flixel_ui_FlxBar = function(x,y,direction,width,height,parentRef,variable,min,max,showBorder) {
	if(showBorder == null) {
		showBorder = false;
	}
	if(max == null) {
		max = 100;
	}
	if(min == null) {
		min = 0;
	}
	if(variable == null) {
		variable = "";
	}
	if(height == null) {
		height = 10;
	}
	if(width == null) {
		width = 100;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this._maxPercent = 100;
	this.numDivisions = 100;
	this.killOnEmpty = false;
	this.fixedPosition = true;
	flixel_FlxSprite.call(this,x,y);
	if(direction == null) {
		direction = flixel_ui_FlxBarFillDirection.LEFT_TO_RIGHT;
	}
	this.barWidth = width;
	this.barHeight = height;
	this._filledBarPoint = new openfl_geom_Point();
	this._filledBarRect = new openfl_geom_Rectangle();
	if(flixel_FlxG.renderBlit) {
		this._zeroOffset = new openfl_geom_Point();
		this._emptyBarRect = new openfl_geom_Rectangle();
		this.makeGraphic(width,height,0,true);
	} else {
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		this._filledFlxRect = rect;
	}
	if(parentRef != null) {
		this.parent = parentRef;
		this.parentVariable = variable;
	}
	this.set_fillDirection(direction);
	this.createFilledBar(-16756480,-16714752,showBorder);
	this.setRange(min,max);
};
$hxClasses["flixel.ui.FlxBar"] = flixel_ui_FlxBar;
flixel_ui_FlxBar.__name__ = "flixel.ui.FlxBar";
flixel_ui_FlxBar.__super__ = flixel_FlxSprite;
flixel_ui_FlxBar.prototype = $extend(flixel_FlxSprite.prototype,{
	fixedPosition: null
	,pxPerPercent: null
	,positionOffset: null
	,killOnEmpty: null
	,value: null
	,min: null
	,max: null
	,range: null
	,pct: null
	,numDivisions: null
	,emptyCallback: null
	,filledCallback: null
	,parent: null
	,parentVariable: null
	,barWidth: null
	,barHeight: null
	,frontFrames: null
	,fillDirection: null
	,_fillHorizontal: null
	,_frontFrame: null
	,_filledFlxRect: null
	,_emptyBar: null
	,_emptyBarRect: null
	,_filledBar: null
	,_zeroOffset: null
	,_filledBarRect: null
	,_filledBarPoint: null
	,_maxPercent: null
	,destroy: function() {
		this.positionOffset = flixel_util_FlxDestroyUtil.put(this.positionOffset);
		if(flixel_FlxG.renderBlit) {
			this._frontFrame = null;
			this._filledFlxRect = flixel_util_FlxDestroyUtil.put(this._filledFlxRect);
		} else {
			this._emptyBarRect = null;
			this._zeroOffset = null;
			this._emptyBar = flixel_util_FlxDestroyUtil.dispose(this._emptyBar);
			this._filledBar = flixel_util_FlxDestroyUtil.dispose(this._filledBar);
		}
		this._filledBarRect = null;
		this._filledBarPoint = null;
		this.parent = null;
		this.positionOffset = null;
		this.emptyCallback = null;
		this.filledCallback = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,trackParent: function(offsetX,offsetY) {
		this.fixedPosition = false;
		var X = offsetX;
		var Y = offsetY;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.positionOffset = point;
		if(Object.prototype.hasOwnProperty.call(this.parent,"scrollFactor")) {
			this.scrollFactor.set_x(this.parent.scrollFactor.x);
			this.scrollFactor.set_y(this.parent.scrollFactor.y);
		}
	}
	,setParent: function(parentRef,variable,track,offsetX,offsetY) {
		if(offsetY == null) {
			offsetY = 0;
		}
		if(offsetX == null) {
			offsetX = 0;
		}
		if(track == null) {
			track = false;
		}
		this.parent = parentRef;
		this.parentVariable = variable;
		if(track) {
			this.trackParent(offsetX,offsetY);
		}
		this.updateValueFromParent();
	}
	,stopTrackingParent: function(posX,posY) {
		this.fixedPosition = true;
		this.set_x(posX);
		this.set_y(posY);
	}
	,setCallbacks: function(onEmpty,onFilled,killOnEmpty) {
		if(killOnEmpty == null) {
			killOnEmpty = false;
		}
		this.emptyCallback = onEmpty != null ? onEmpty : this.emptyCallback;
		this.filledCallback = onFilled != null ? onFilled : this.filledCallback;
		this.killOnEmpty = killOnEmpty;
	}
	,setRange: function(min,max) {
		if(max <= min) {
			throw haxe_Exception.thrown("FlxBar: max cannot be less than or equal to min");
		}
		this.min = min;
		this.max = max;
		this.range = max - min;
		this.pct = this.range / this._maxPercent;
		this.pxPerPercent = this._fillHorizontal ? this.barWidth / this._maxPercent : this.barHeight / this._maxPercent;
		var f = this.get_value();
		if(!isNaN(f)) {
			this.set_value(Math.max(min,Math.min(this.get_value(),max)));
		} else {
			this.set_value(min);
		}
	}
	,createFilledBar: function(empty,fill,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		this.createColoredEmptyBar(empty,showBorder,border);
		this.createColoredFilledBar(fill,showBorder,border);
		return this;
	}
	,createColoredEmptyBar: function(empty,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		if(flixel_FlxG.renderTile) {
			var emptyKey = "empty: " + this.barWidth + "x" + this.barHeight + ":" + ("0x" + StringTools.hex(empty >> 24 & 255,2) + StringTools.hex(empty >> 16 & 255,2) + StringTools.hex(empty >> 8 & 255,2) + StringTools.hex(empty & 255,2));
			if(showBorder) {
				emptyKey += ",border: " + ("0x" + StringTools.hex(border >> 24 & 255,2) + StringTools.hex(border >> 16 & 255,2) + StringTools.hex(border >> 8 & 255,2) + StringTools.hex(border & 255,2));
			}
			if(flixel_FlxG.bitmap._cache.h[emptyKey] == null) {
				var emptyBar = null;
				if(showBorder) {
					emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
					emptyBar.fillRect(new openfl_geom_Rectangle(1,1,this.barWidth - 2,this.barHeight - 2),empty);
				} else {
					emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,empty);
				}
				flixel_FlxG.bitmap.add(emptyBar,false,emptyKey);
			}
			this.set_frames(flixel_FlxG.bitmap._cache.h[emptyKey].get_imageFrame());
		} else {
			if(showBorder) {
				this._emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
				this._emptyBar.fillRect(new openfl_geom_Rectangle(1,1,this.barWidth - 2,this.barHeight - 2),empty);
			} else {
				this._emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,empty);
			}
			this._emptyBarRect.setTo(0,0,this.barWidth,this.barHeight);
			this.updateEmptyBar();
		}
		return this;
	}
	,createColoredFilledBar: function(fill,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		if(flixel_FlxG.renderTile) {
			var filledKey = "filled: " + this.barWidth + "x" + this.barHeight + ":" + ("0x" + StringTools.hex(fill >> 24 & 255,2) + StringTools.hex(fill >> 16 & 255,2) + StringTools.hex(fill >> 8 & 255,2) + StringTools.hex(fill & 255,2));
			if(showBorder) {
				filledKey += ",border: " + ("0x" + StringTools.hex(border >> 24 & 255,2) + StringTools.hex(border >> 16 & 255,2) + StringTools.hex(border >> 8 & 255,2) + StringTools.hex(border & 255,2));
			}
			if(flixel_FlxG.bitmap._cache.h[filledKey] == null) {
				var filledBar = null;
				if(showBorder) {
					filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
					filledBar.fillRect(new openfl_geom_Rectangle(1,1,this.barWidth - 2,this.barHeight - 2),fill);
				} else {
					filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,fill);
				}
				flixel_FlxG.bitmap.add(filledBar,false,filledKey);
			}
			this.set_frontFrames(flixel_FlxG.bitmap._cache.h[filledKey].get_imageFrame());
		} else {
			if(showBorder) {
				this._filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
				this._filledBar.fillRect(new openfl_geom_Rectangle(1,1,this.barWidth - 2,this.barHeight - 2),fill);
			} else {
				this._filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,fill);
			}
			this._filledBarRect.setTo(0,0,this.barWidth,this.barHeight);
			this.updateFilledBar();
		}
		return this;
	}
	,createGradientBar: function(empty,fill,chunkSize,rotation,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		if(rotation == null) {
			rotation = 180;
		}
		if(chunkSize == null) {
			chunkSize = 1;
		}
		this.createGradientEmptyBar(empty,chunkSize,rotation,showBorder,border);
		this.createGradientFilledBar(fill,chunkSize,rotation,showBorder,border);
		return this;
	}
	,createGradientEmptyBar: function(empty,chunkSize,rotation,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		if(rotation == null) {
			rotation = 180;
		}
		if(chunkSize == null) {
			chunkSize = 1;
		}
		if(flixel_FlxG.renderTile) {
			var emptyKey = "Gradient:" + this.barWidth + "x" + this.barHeight + ",colors:[";
			var _g = 0;
			while(_g < empty.length) {
				var col = empty[_g];
				++_g;
				emptyKey += "0x" + StringTools.hex(col >> 24 & 255,2) + StringTools.hex(col >> 16 & 255,2) + StringTools.hex(col >> 8 & 255,2) + StringTools.hex(col & 255,2) + ",";
			}
			emptyKey += "],chunkSize: " + chunkSize + ",rotation: " + rotation;
			if(showBorder) {
				emptyKey += ",border: " + ("0x" + StringTools.hex(border >> 24 & 255,2) + StringTools.hex(border >> 16 & 255,2) + StringTools.hex(border >> 8 & 255,2) + StringTools.hex(border & 255,2));
			}
			if(flixel_FlxG.bitmap._cache.h[emptyKey] == null) {
				var emptyBar = null;
				if(showBorder) {
					emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
					flixel_util_FlxGradient.overlayGradientOnBitmapData(emptyBar,this.barWidth - 2,this.barHeight - 2,empty,1,1,chunkSize,rotation);
				} else {
					emptyBar = flixel_util_FlxGradient.createGradientBitmapData(this.barWidth,this.barHeight,empty,chunkSize,rotation);
				}
				flixel_FlxG.bitmap.add(emptyBar,false,emptyKey);
			}
			this.set_frames(flixel_FlxG.bitmap._cache.h[emptyKey].get_imageFrame());
		} else {
			if(showBorder) {
				this._emptyBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
				flixel_util_FlxGradient.overlayGradientOnBitmapData(this._emptyBar,this.barWidth - 2,this.barHeight - 2,empty,1,1,chunkSize,rotation);
			} else {
				this._emptyBar = flixel_util_FlxGradient.createGradientBitmapData(this.barWidth,this.barHeight,empty,chunkSize,rotation);
			}
			this._emptyBarRect.setTo(0,0,this.barWidth,this.barHeight);
			this.updateEmptyBar();
		}
		return this;
	}
	,createGradientFilledBar: function(fill,chunkSize,rotation,showBorder,border) {
		if(border == null) {
			border = -1;
		}
		if(showBorder == null) {
			showBorder = false;
		}
		if(rotation == null) {
			rotation = 180;
		}
		if(chunkSize == null) {
			chunkSize = 1;
		}
		if(flixel_FlxG.renderTile) {
			var filledKey = "Gradient:" + this.barWidth + "x" + this.barHeight + ",colors:[";
			var _g = 0;
			while(_g < fill.length) {
				var col = fill[_g];
				++_g;
				filledKey += "0x" + StringTools.hex(col >> 24 & 255,2) + StringTools.hex(col >> 16 & 255,2) + StringTools.hex(col >> 8 & 255,2) + StringTools.hex(col & 255,2) + ",";
			}
			filledKey += "],chunkSize: " + chunkSize + ",rotation: " + rotation;
			if(showBorder) {
				filledKey += ",border: " + ("0x" + StringTools.hex(border >> 24 & 255,2) + StringTools.hex(border >> 16 & 255,2) + StringTools.hex(border >> 8 & 255,2) + StringTools.hex(border & 255,2));
			}
			if(flixel_FlxG.bitmap._cache.h[filledKey] == null) {
				var filledBar = null;
				if(showBorder) {
					filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
					flixel_util_FlxGradient.overlayGradientOnBitmapData(filledBar,this.barWidth - 2,this.barHeight - 2,fill,1,1,chunkSize,rotation);
				} else {
					filledBar = flixel_util_FlxGradient.createGradientBitmapData(this.barWidth,this.barHeight,fill,chunkSize,rotation);
				}
				flixel_FlxG.bitmap.add(filledBar,false,filledKey);
			}
			this.set_frontFrames(flixel_FlxG.bitmap._cache.h[filledKey].get_imageFrame());
		} else {
			if(showBorder) {
				this._filledBar = new openfl_display_BitmapData(this.barWidth,this.barHeight,true,border);
				flixel_util_FlxGradient.overlayGradientOnBitmapData(this._filledBar,this.barWidth - 2,this.barHeight - 2,fill,1,1,chunkSize,rotation);
			} else {
				this._filledBar = flixel_util_FlxGradient.createGradientBitmapData(this.barWidth,this.barHeight,fill,chunkSize,rotation);
			}
			this._filledBarRect.setTo(0,0,this.barWidth,this.barHeight);
			this.updateFilledBar();
		}
		return this;
	}
	,createImageBar: function(empty,fill,emptyBackground,fillBackground) {
		if(fillBackground == null) {
			fillBackground = -16711936;
		}
		if(emptyBackground == null) {
			emptyBackground = -16777216;
		}
		this.createImageEmptyBar(empty,emptyBackground);
		this.createImageFilledBar(fill,fillBackground);
		return this;
	}
	,createImageEmptyBar: function(empty,emptyBackground) {
		if(emptyBackground == null) {
			emptyBackground = -16777216;
		}
		if(empty != null) {
			var emptyGraphic = flixel_FlxG.bitmap.add(empty);
			if(flixel_FlxG.renderTile) {
				this.set_frames(emptyGraphic.get_imageFrame());
			} else {
				this._emptyBar = emptyGraphic.bitmap.clone();
				this.barWidth = this._emptyBar.width;
				this.barHeight = this._emptyBar.height;
				this._emptyBarRect.setTo(0,0,this.barWidth,this.barHeight);
				if(this.graphic == null || (this.frame.sourceSize.x != this.barWidth || this.frame.sourceSize.y != this.barHeight)) {
					this.makeGraphic(this.barWidth,this.barHeight,0,true);
				}
				this.updateEmptyBar();
			}
		} else {
			this.createColoredEmptyBar(emptyBackground);
		}
		return this;
	}
	,createImageFilledBar: function(fill,fillBackground) {
		if(fillBackground == null) {
			fillBackground = -16711936;
		}
		if(fill != null) {
			var filledGraphic = flixel_FlxG.bitmap.add(fill);
			if(flixel_FlxG.renderTile) {
				this.set_frontFrames(filledGraphic.get_imageFrame());
			} else {
				this._filledBar = filledGraphic.bitmap.clone();
				this._filledBarRect.setTo(0,0,this.barWidth,this.barHeight);
				if(this.graphic == null || (this.frame.sourceSize.x != this.barWidth || this.frame.sourceSize.y != this.barHeight)) {
					this.makeGraphic(this.barWidth,this.barHeight,0,true);
				}
				this.pxPerPercent = this._fillHorizontal ? this.barWidth / this._maxPercent : this.barHeight / this._maxPercent;
				this.updateFilledBar();
			}
		} else {
			this.createColoredFilledBar(fillBackground);
		}
		return this;
	}
	,set_fillDirection: function(direction) {
		this.fillDirection = direction;
		switch(direction._hx_index) {
		case 2:case 3:case 6:case 7:
			this._fillHorizontal = false;
			break;
		case 0:case 1:case 4:case 5:
			this._fillHorizontal = true;
			break;
		}
		return this.fillDirection;
	}
	,updateValueFromParent: function() {
		this.set_value(Reflect.getProperty(this.parent,this.parentVariable));
	}
	,updateBar: function() {
		this.updateEmptyBar();
		this.updateFilledBar();
	}
	,updateEmptyBar: function() {
		if(flixel_FlxG.renderBlit) {
			this.get_pixels().copyPixels(this._emptyBar,this._emptyBarRect,this._zeroOffset);
			this.dirty = true;
		}
	}
	,updateFilledBar: function() {
		this._filledBarRect.width = this.barWidth;
		this._filledBarRect.height = this.barHeight;
		var fraction = (this.get_value() - this.min) / this.range;
		var percent = fraction * this._maxPercent;
		var maxScale = this._fillHorizontal ? this.barWidth : this.barHeight;
		var scaleInterval = maxScale / this.numDivisions;
		var interval = Math.round((fraction * maxScale / scaleInterval | 0) * scaleInterval);
		if(this._fillHorizontal) {
			this._filledBarRect.width = interval | 0;
		} else {
			this._filledBarRect.height = interval | 0;
		}
		if(percent > 0) {
			switch(this.fillDirection._hx_index) {
			case 1:
				this._filledBarRect.x = this.barWidth - this._filledBarRect.width;
				this._filledBarPoint.x = this.barWidth - this._filledBarRect.width;
				break;
			case 0:case 2:
				break;
			case 3:
				this._filledBarRect.y = this.barHeight - this._filledBarRect.height;
				this._filledBarPoint.y = this.barHeight - this._filledBarRect.height;
				break;
			case 4:
				this._filledBarRect.x = this.barWidth / 2 - this._filledBarRect.width / 2 | 0;
				this._filledBarPoint.x = this.barWidth / 2 - this._filledBarRect.width / 2 | 0;
				break;
			case 5:
				this._filledBarRect.width = maxScale - interval | 0;
				this._filledBarPoint.x = (this.barWidth - this._filledBarRect.width) / 2 | 0;
				break;
			case 6:
				this._filledBarRect.y = this.barHeight / 2 - this._filledBarRect.height / 2 | 0;
				this._filledBarPoint.y = this.barHeight / 2 - this._filledBarRect.height / 2 | 0;
				break;
			case 7:
				this._filledBarRect.height = maxScale - interval | 0;
				this._filledBarPoint.y = (this.barHeight - this._filledBarRect.height) / 2 | 0;
				break;
			}
			if(flixel_FlxG.renderBlit) {
				this.get_pixels().copyPixels(this._filledBar,this._filledBarRect,this._filledBarPoint,null,null,true);
			} else if(this.get_frontFrames() != null) {
				var _this = this._filledFlxRect;
				var FlashRect = this._filledBarRect;
				_this.x = FlashRect.x;
				_this.y = FlashRect.y;
				_this.width = FlashRect.width;
				_this.height = FlashRect.height;
				var _this1 = _this;
				_this1.x = Math.round(_this1.x);
				_this1.y = Math.round(_this1.y);
				_this1.width = Math.round(_this1.width);
				_this1.height = Math.round(_this1.height);
				if((percent | 0) > 0) {
					this._frontFrame = this.get_frontFrames().get_frame().clipTo(this._filledFlxRect,this._frontFrame);
				}
			}
		}
		if(flixel_FlxG.renderBlit) {
			this.dirty = true;
		}
	}
	,update: function(elapsed) {
		if(this.parent != null) {
			if(Reflect.getProperty(this.parent,this.parentVariable) != this.get_value()) {
				this.updateValueFromParent();
			}
			if(!this.fixedPosition) {
				this.set_x(this.parent.x + this.positionOffset.x);
				this.set_y(this.parent.y + this.positionOffset.y);
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,draw: function() {
		flixel_FlxSprite.prototype.draw.call(this);
		if(!flixel_FlxG.renderTile) {
			return;
		}
		if(this.alpha == 0) {
			return;
		}
		if(this.get_percent() > 0 && this._frontFrame.type != 2) {
			var _g = 0;
			var _g1 = this.get_cameras();
			while(_g < _g1.length) {
				var camera = _g1[_g];
				++_g;
				if(!camera.visible || !camera.exists || !this.isOnScreen(camera)) {
					continue;
				}
				this.getScreenPosition(this._point,camera).subtractPoint(this.offset);
				this._frontFrame.prepareMatrix(this._matrix,0,this.flipX,this.flipY);
				this._matrix.translate(-this.origin.x,-this.origin.y);
				this._matrix.scale(this.scale.x,this.scale.y);
				if(this.angle != 0) {
					var _this = this._matrix;
					var cos = this._cosAngle;
					var sin = this._sinAngle;
					var a1 = _this.a * cos - _this.b * sin;
					_this.b = _this.a * sin + _this.b * cos;
					_this.a = a1;
					var c1 = _this.c * cos - _this.d * sin;
					_this.d = _this.c * sin + _this.d * cos;
					_this.c = c1;
					var tx1 = _this.tx * cos - _this.ty * sin;
					_this.ty = _this.tx * sin + _this.ty * cos;
					_this.tx = tx1;
				}
				var _this1 = this._point;
				var X = this.origin.x;
				var Y = this.origin.y;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				_this1.set_x(_this1.x + X);
				_this1.set_y(_this1.y + Y);
				if(this.isPixelPerfectRender(camera)) {
					var _this2 = this._point;
					_this2.set_x(Math.floor(_this2.x));
					_this2.set_y(Math.floor(_this2.y));
				}
				this._matrix.translate(this._point.x,this._point.y);
				camera.drawPixels(this._frontFrame,null,this._matrix,this.colorTransform,this.blend,this.antialiasing,this.shader);
			}
		}
	}
	,set_pixels: function(Pixels) {
		if(flixel_FlxG.renderTile) {
			return Pixels;
		} else {
			return flixel_FlxSprite.prototype.set_pixels.call(this,Pixels);
		}
	}
	,toString: function() {
		var value = this.min;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "min";
		_this.value = value;
		var value = this.max;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "max";
		_this1.value = value;
		var value = this.range;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "range";
		_this2.value = value;
		var value = this.pct;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "%";
		_this3.value = value;
		var value = this.pxPerPercent;
		var _this4 = flixel_util_LabelValuePair._pool.get();
		_this4.label = "px/%";
		_this4.value = value;
		var value = this.get_value();
		var _this5 = flixel_util_LabelValuePair._pool.get();
		_this5.label = "value";
		_this5.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3,_this4,_this5]);
	}
	,get_percent: function() {
		if(this.get_value() > this.max) {
			return this._maxPercent;
		}
		return Math.floor((this.get_value() - this.min) / this.range * this._maxPercent);
	}
	,set_percent: function(newPct) {
		if(newPct >= 0 && newPct <= this._maxPercent) {
			this.set_value(this.pct * newPct);
		}
		return newPct;
	}
	,set_value: function(newValue) {
		this.value = Math.max(this.min,Math.min(newValue,this.max));
		if(this.get_value() == this.min && this.emptyCallback != null) {
			this.emptyCallback();
		}
		if(this.get_value() == this.max && this.filledCallback != null) {
			this.filledCallback();
		}
		if(this.get_value() == this.min && this.killOnEmpty) {
			this.kill();
		}
		this.updateBar();
		return newValue;
	}
	,get_value: function() {
		return this.value;
	}
	,set_numDivisions: function(newValue) {
		this.numDivisions = newValue > 0 ? newValue : 100;
		this.updateFilledBar();
		return newValue;
	}
	,get_frontFrames: function() {
		if(flixel_FlxG.renderTile) {
			return this.frontFrames;
		}
		return null;
	}
	,set_frontFrames: function(value) {
		if(flixel_FlxG.renderTile) {
			this.frontFrames = value;
			this._frontFrame = value != null ? value.get_frame().copyTo(this._frontFrame) : null;
		} else {
			this.createImageFilledBar(value.get_frame().paint());
		}
		return value;
	}
	,get_backFrames: function() {
		if(flixel_FlxG.renderTile) {
			return this.frames;
		}
		return null;
	}
	,set_backFrames: function(value) {
		if(flixel_FlxG.renderTile) {
			this.set_frames(value);
		} else {
			this.createImageEmptyBar(value.get_frame().paint());
		}
		return value;
	}
	,__class__: flixel_ui_FlxBar
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_fillDirection:"set_fillDirection",set_backFrames:"set_backFrames",get_backFrames:"get_backFrames",set_frontFrames:"set_frontFrames",get_frontFrames:"get_frontFrames",set_numDivisions:"set_numDivisions",set_value:"set_value",get_value:"get_value",set_percent:"set_percent",get_percent:"get_percent"})
});
var flixel_addons_ui_FlxUIBar = function(x,y,direction,width,height,parentRef,variable,min,max,showBorder) {
	if(showBorder == null) {
		showBorder = false;
	}
	if(max == null) {
		max = 100;
	}
	if(min == null) {
		min = 0;
	}
	if(variable == null) {
		variable = "";
	}
	if(height == null) {
		height = 10;
	}
	if(width == null) {
		width = 100;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	flixel_ui_FlxBar.call(this,x,y,direction,width,height,parentRef,variable,min,max,showBorder);
};
$hxClasses["flixel.addons.ui.FlxUIBar"] = flixel_addons_ui_FlxUIBar;
flixel_addons_ui_FlxUIBar.__name__ = "flixel.addons.ui.FlxUIBar";
flixel_addons_ui_FlxUIBar.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUIBar.__super__ = flixel_ui_FlxBar;
flixel_addons_ui_FlxUIBar.prototype = $extend(flixel_ui_FlxBar.prototype,{
	name: null
	,style: null
	,params: null
	,broadcastToFlxUI: null
	,clone: function() {
		var w = this.get_width() | 0;
		var h = this.get_height() | 0;
		var showBorder = this.style != null && this.style.borderColor != null;
		if(showBorder) {
			w -= 2;
			h -= 2;
		}
		var b = new flixel_addons_ui_FlxUIBar(this.x,this.y,this.fillDirection,w,h,this.parent,this.parentVariable,this.min,this.max,showBorder);
		b.set_style(this.style);
		b.set_value(this.get_value());
		return b;
	}
	,set_style: function(Style) {
		this.style = Style;
		this.resize(this.barWidth,this.barHeight);
		return this.style;
	}
	,resize: function(w,h) {
		this.set_width(w);
		this.set_height(h);
		this.barWidth = this.get_width() | 0;
		this.barHeight = this.get_height() | 0;
		if(flixel_FlxG.renderBlit) {
			this.makeGraphic(this.barWidth,this.barHeight,0,true);
		}
		var showBorder = this.style.borderColor != null;
		var ec = this.style.emptyColor == null ? -16777216 : this.style.emptyColor;
		var fc = this.style.filledColor == null ? -65536 : this.style.filledColor;
		var bc = this.style.borderColor == null ? -16777216 : this.style.borderColor;
		if(this.style.filledColor != null) {
			this.createFilledBar(ec,fc,showBorder,bc);
		}
		if(this.style.filledColors != null) {
			var ecs = this.style.emptyColors == null ? [-16777216] : this.style.emptyColors;
			var fcs = this.style.filledColors == null ? [-65536] : this.style.filledColors;
			var chunk = this.style.chunkSize == null ? 1 : this.style.chunkSize;
			var gradRot = this.style.emptyImgSrc == null ? 180 : this.style.gradRotation;
			this.createGradientBar(ecs,fcs,chunk,gradRot,showBorder,bc);
		}
		if(this.style.filledImgSrc != "") {
			this.createImageBar(this.style.emptyImgSrc,this.style.filledImgSrc,ec,fc);
		}
		this.setRange(this.min,this.max);
		this.set_value(this.get_value());
	}
	,set_params: function(p) {
		this.params = p;
		return this.params;
	}
	,__class__: flixel_addons_ui_FlxUIBar
	,__properties__: $extend(flixel_ui_FlxBar.prototype.__properties__,{set_params:"set_params",set_style:"set_style"})
});
var flixel_input_IFlxInput = function() { };
$hxClasses["flixel.input.IFlxInput"] = flixel_input_IFlxInput;
flixel_input_IFlxInput.__name__ = "flixel.input.IFlxInput";
flixel_input_IFlxInput.__isInterface__ = true;
flixel_input_IFlxInput.prototype = {
	get_justReleased: null
	,get_released: null
	,get_pressed: null
	,get_justPressed: null
	,__class__: flixel_input_IFlxInput
	,__properties__: {get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased"}
};
var flixel_ui_FlxTypedButton = function(X,Y,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.lastStatus = -1;
	this.maxInputMovement = Infinity;
	this.mouseButtons = [-1];
	this.allowSwiping = true;
	this.statusAnimations = ["normal","highlight","pressed"];
	this.labelAlphas = [0.8,1.0,0.5];
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
	point1._inPool = false;
	var X1 = 0;
	var Y1 = 1;
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var point2 = flixel_math_FlxPoint._pool.get().set(X1,Y1);
	point2._inPool = false;
	this.labelOffsets = [point,point1,point2];
	flixel_FlxSprite.call(this,X,Y);
	this.loadDefaultGraphic();
	this.onUp = new flixel_ui__$FlxButton_FlxButtonEvent(OnClick);
	this.onDown = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOver = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOut = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.set_status(0);
	this.scrollFactor.set();
	openfl_Lib.get_current().stage.addEventListener("mouseUp",$bind(this,this.onUpEventListener));
	this.input = new flixel_input_FlxInput(0);
};
$hxClasses["flixel.ui.FlxTypedButton"] = flixel_ui_FlxTypedButton;
flixel_ui_FlxTypedButton.__name__ = "flixel.ui.FlxTypedButton";
flixel_ui_FlxTypedButton.__interfaces__ = [flixel_input_IFlxInput];
flixel_ui_FlxTypedButton.__super__ = flixel_FlxSprite;
flixel_ui_FlxTypedButton.prototype = $extend(flixel_FlxSprite.prototype,{
	label: null
	,labelOffsets: null
	,labelAlphas: null
	,statusAnimations: null
	,allowSwiping: null
	,mouseButtons: null
	,maxInputMovement: null
	,status: null
	,onUp: null
	,onDown: null
	,onOver: null
	,onOut: null
	,_spriteLabel: null
	,input: null
	,currentInput: null
	,lastStatus: null
	,graphicLoaded: function() {
		flixel_FlxSprite.prototype.graphicLoaded.call(this);
		this.setupAnimation("normal",0);
		this.setupAnimation("highlight",1);
		this.setupAnimation("pressed",2);
	}
	,loadDefaultGraphic: function() {
		this.loadGraphic("flixel/images/ui/button.png",true,80,20);
	}
	,setupAnimation: function(animationName,frameIndex) {
		frameIndex = Math.min(frameIndex,this.animation._sprite.numFrames - 1) | 0;
		this.animation.add(animationName,[frameIndex]);
	}
	,destroy: function() {
		this.set_label(flixel_util_FlxDestroyUtil.destroy(this.label));
		this._spriteLabel = null;
		this.onUp = flixel_util_FlxDestroyUtil.destroy(this.onUp);
		this.onDown = flixel_util_FlxDestroyUtil.destroy(this.onDown);
		this.onOver = flixel_util_FlxDestroyUtil.destroy(this.onOver);
		this.onOut = flixel_util_FlxDestroyUtil.destroy(this.onOut);
		this.labelOffsets = flixel_util_FlxDestroyUtil.putArray(this.labelOffsets);
		this.labelAlphas = null;
		this.currentInput = null;
		this.input = null;
		openfl_Lib.get_current().stage.removeEventListener("mouseUp",$bind(this,this.onUpEventListener));
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.visible) {
			this.updateButton();
			if(this.lastStatus != this.status) {
				this.updateStatusAnimation();
				this.lastStatus = this.status;
			}
		}
		this.input.update();
	}
	,updateStatusAnimation: function() {
		this.animation.play(this.statusAnimations[this.status]);
	}
	,draw: function() {
		flixel_FlxSprite.prototype.draw.call(this);
		if(this._spriteLabel != null && this._spriteLabel.visible) {
			this._spriteLabel.set_cameras(this.get_cameras());
			this._spriteLabel.draw();
		}
	}
	,stampOnAtlas: function(atlas) {
		var buttonNode = atlas.addNode(this.graphic.bitmap,this.graphic.key);
		var result = buttonNode != null;
		if(buttonNode != null) {
			var buttonFrames = this.frames;
			var X = buttonFrames.tileSize.x;
			var Y = buttonFrames.tileSize.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var tileSize = point;
			var tileFrames = buttonNode.getTileFrames(tileSize);
			this.set_frames(tileFrames);
		}
		if(result && this.label != null) {
			var labelNode = atlas.addNode(this.label.graphic.bitmap,this.label.graphic.key);
			result = result && labelNode != null;
			if(labelNode != null) {
				this.label.set_frames(labelNode.getImageFrame());
			}
		}
		return result;
	}
	,updateButton: function() {
		var overlapFound = this.checkMouseOverlap();
		if(!overlapFound) {
			overlapFound = this.checkTouchOverlap();
		}
		if(this.currentInput != null && this.currentInput.get_justReleased() && overlapFound) {
			this.onUpHandler();
		}
		if(this.status != 0 && (!overlapFound || this.currentInput != null && this.currentInput.get_justReleased())) {
			this.onOutHandler();
		}
	}
	,checkMouseOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = this.mouseButtons;
			while(_g2 < _g3.length) {
				var buttonID = _g3[_g2];
				++_g2;
				var button = flixel_input_mouse_FlxMouseButton.getByID(buttonID);
				if(button != null && this.checkInput(flixel_FlxG.mouse,button,button.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkTouchOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = flixel_FlxG.touches.list;
			while(_g2 < _g3.length) {
				var touch = _g3[_g2];
				++_g2;
				if(this.checkInput(touch,touch,touch.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkInput: function(pointer,input,justPressedPosition,camera) {
		var tmp;
		if(this.maxInputMovement != Infinity) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			tmp = justPressedPosition.distanceTo(pointer.getScreenPosition(null,point1)) > this.maxInputMovement;
		} else {
			tmp = false;
		}
		if(tmp && input == this.currentInput) {
			this.currentInput = null;
		} else if(this.overlapsPoint(pointer.getWorldPosition(camera,this._point),true,camera)) {
			this.updateStatus(input);
			return true;
		}
		return false;
	}
	,updateStatus: function(input) {
		if(input.get_justPressed()) {
			this.currentInput = input;
			this.onDownHandler();
		} else if(this.status == 0) {
			if(this.allowSwiping && input.get_pressed()) {
				this.onDownHandler();
			} else {
				this.onOverHandler();
			}
		}
	}
	,updateLabelPosition: function() {
		if(this._spriteLabel != null) {
			this._spriteLabel.set_x((this.pixelPerfectPosition ? Math.floor(this.x) : this.x) + this.labelOffsets[this.status].x);
			this._spriteLabel.set_y((this.pixelPerfectPosition ? Math.floor(this.y) : this.y) + this.labelOffsets[this.status].y);
		}
	}
	,updateLabelAlpha: function() {
		if(this._spriteLabel != null && this.labelAlphas.length > this.status) {
			this._spriteLabel.set_alpha(this.alpha * this.labelAlphas[this.status]);
		}
	}
	,onUpEventListener: function(_) {
		if(this.visible && this.exists && this.active && this.status == 2) {
			this.onUpHandler();
		}
	}
	,onUpHandler: function() {
		this.set_status(0);
		this.input.release();
		this.currentInput = null;
		var _this = this.onUp;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onDownHandler: function() {
		this.set_status(2);
		this.input.press();
		var _this = this.onDown;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOverHandler: function() {
		if(!flixel_FlxG.mouse.enabled) {
			this.set_status(0);
			return;
		}
		this.set_status(1);
		var _this = this.onOver;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOutHandler: function() {
		this.set_status(0);
		this.input.release();
		var _this = this.onOut;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,set_label: function(Value) {
		if(Value != null) {
			Value.scrollFactor.put();
			Value.scrollFactor = this.scrollFactor;
		}
		this.label = Value;
		this._spriteLabel = this.label;
		this.updateLabelPosition();
		return Value;
	}
	,set_status: function(Value) {
		this.status = Value;
		this.updateLabelAlpha();
		return this.status;
	}
	,set_alpha: function(Value) {
		flixel_FlxSprite.prototype.set_alpha.call(this,Value);
		this.updateLabelAlpha();
		return this.alpha;
	}
	,set_x: function(Value) {
		flixel_FlxSprite.prototype.set_x.call(this,Value);
		this.updateLabelPosition();
		return this.x;
	}
	,set_y: function(Value) {
		flixel_FlxSprite.prototype.set_y.call(this,Value);
		this.updateLabelPosition();
		return this.y;
	}
	,get_justReleased: function() {
		return this.input.current == -1;
	}
	,get_released: function() {
		var _this = this.input;
		if(_this.current != 0) {
			return _this.current == -1;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		var _this = this.input;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this.input.current == 2;
	}
	,__class__: flixel_ui_FlxTypedButton
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased",set_status:"set_status",set_label:"set_label"})
});
var flixel_addons_ui_interfaces_ICursorPointable = function() { };
$hxClasses["flixel.addons.ui.interfaces.ICursorPointable"] = flixel_addons_ui_interfaces_ICursorPointable;
flixel_addons_ui_interfaces_ICursorPointable.__name__ = "flixel.addons.ui.interfaces.ICursorPointable";
flixel_addons_ui_interfaces_ICursorPointable.__isInterface__ = true;
var flixel_addons_ui_interfaces_IFlxUIButton = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFlxUIButton"] = flixel_addons_ui_interfaces_IFlxUIButton;
flixel_addons_ui_interfaces_IFlxUIButton.__name__ = "flixel.addons.ui.interfaces.IFlxUIButton";
flixel_addons_ui_interfaces_IFlxUIButton.__isInterface__ = true;
flixel_addons_ui_interfaces_IFlxUIButton.__interfaces__ = [flixel_util_IFlxDestroyable,flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_interfaces_IFlxUIButton.prototype = {
	set_toggled: null
	,set_toggle_label: null
	,get_justMousedOver: null
	,get_mouseIsOver: null
	,get_mouseIsOut: null
	,get_justMousedOut: null
	,set_status: null
	,up_color: null
	,over_color: null
	,down_color: null
	,up_toggle_color: null
	,over_toggle_color: null
	,down_toggle_color: null
	,up_visible: null
	,over_visible: null
	,down_visible: null
	,up_toggle_visible: null
	,over_toggle_visible: null
	,down_toggle_visible: null
	,resize_ratio: null
	,resize_point: null
	,has_toggle: null
	,toggled: null
	,toggle_label: null
	,autoResizeLabel: null
	,autoCenterLabel: null
	,loadGraphicSlice9: null
	,loadGraphicsMultiple: null
	,loadGraphicsUpOverDown: null
	,forceStateHandler: null
	,status: null
	,__class__: flixel_addons_ui_interfaces_IFlxUIButton
	,__properties__: {set_status:"set_status",get_justMousedOut:"get_justMousedOut",get_mouseIsOut:"get_mouseIsOut",get_mouseIsOver:"get_mouseIsOver",get_justMousedOver:"get_justMousedOver",set_toggle_label:"set_toggle_label",set_toggled:"set_toggled"}
};
var flixel_addons_ui_FlxUITypedButton = function(X,Y,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._centerLabelOffset = null;
	this._src_h = 0;
	this._src_w = 0;
	this._no_graphic = false;
	this._assetsToCleanup = [];
	this._autoCleanup = true;
	this.autoResizeLabel = false;
	this.skipButtonUpdate = false;
	this.round_labels = true;
	this.down_toggle_visible = true;
	this.over_toggle_visible = true;
	this.up_toggle_visible = true;
	this.down_visible = true;
	this.over_visible = true;
	this.up_visible = true;
	this.down_toggle_color = null;
	this.over_toggle_color = null;
	this.up_toggle_color = null;
	this.down_color = null;
	this.over_color = null;
	this.up_color = null;
	this.broadcastToFlxUI = true;
	this.toggled = false;
	this.has_toggle = false;
	this.tile = 0;
	this.resize_point = null;
	this.resize_ratio_axis = 1;
	this.resize_ratio = -1;
	flixel_ui_FlxTypedButton.call(this,X,Y,OnClick);
	var X = 0;
	var Y = 0;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	this._centerLabelOffset = point;
	this.statusAnimations[3] = "normal_toggled";
	this.statusAnimations[4] = "highlight_toggled";
	this.statusAnimations[5] = "pressed_toggled";
	var _g = [];
	_g.push(1);
	_g.push(1);
	_g.push(1);
	this.labelAlphas = _g;
	this.inputOver = new flixel_input_FlxInput(0);
};
$hxClasses["flixel.addons.ui.FlxUITypedButton"] = flixel_addons_ui_FlxUITypedButton;
flixel_addons_ui_FlxUITypedButton.__name__ = "flixel.addons.ui.FlxUITypedButton";
flixel_addons_ui_FlxUITypedButton.__interfaces__ = [flixel_addons_ui_interfaces_ICursorPointable,flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable,flixel_addons_ui_interfaces_IFlxUIButton];
flixel_addons_ui_FlxUITypedButton.__super__ = flixel_ui_FlxTypedButton;
flixel_addons_ui_FlxUITypedButton.prototype = $extend(flixel_ui_FlxTypedButton.prototype,{
	name: null
	,resize_ratio: null
	,resize_ratio_axis: null
	,resize_point: null
	,tile: null
	,has_toggle: null
	,toggled: null
	,set_toggled: function(b) {
		this.toggled = b;
		this.updateStatusAnimation();
		return this.toggled;
	}
	,broadcastToFlxUI: null
	,inputOver: null
	,get_justMousedOver: function() {
		return this.inputOver.current == 2;
	}
	,get_justMousedOut: function() {
		return this.inputOver.current == -1;
	}
	,get_mouseIsOver: function() {
		var _this = this.inputOver;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_mouseIsOut: function() {
		var _this = this.inputOver;
		if(_this.current != 0) {
			return _this.current == -1;
		} else {
			return true;
		}
	}
	,up_color: null
	,over_color: null
	,down_color: null
	,up_toggle_color: null
	,over_toggle_color: null
	,down_toggle_color: null
	,up_visible: null
	,over_visible: null
	,down_visible: null
	,up_toggle_visible: null
	,over_toggle_visible: null
	,down_toggle_visible: null
	,toggle_label: null
	,set_toggle_label: function(f) {
		if(this.label != null) {
			this.toggle_label = f;
			return this.toggle_label;
		}
		return null;
	}
	,set_visible: function(Value) {
		if(this.visible && Value == false) {
			this.inputOver.release();
		}
		return flixel_ui_FlxTypedButton.prototype.set_visible.call(this,Value);
	}
	,round_labels: null
	,skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		return this.skipButtonUpdate;
	}
	,params: null
	,set_params: function(p) {
		this.params = p;
		return this.params;
	}
	,destroy: function() {
		this.resize_point = flixel_util_FlxDestroyUtil.put(this.resize_point);
		flixel_ui_FlxTypedButton.prototype.destroy.call(this);
	}
	,autoResizeLabel: null
	,graphicLoaded: function() {
		flixel_ui_FlxTypedButton.prototype.graphicLoaded.call(this);
		this.setupAnimation("normal_toggled",3);
		this.setupAnimation("highlight_toggled",4);
		this.setupAnimation("pressed_toggled",5);
		if(this._autoCleanup) {
			this.cleanup();
		}
	}
	,copyGraphic: function(other) {
		this._src_w = other._src_w;
		this._src_h = other._src_h;
		this._frame_indeces = flixel_addons_ui_U.copy_shallow_arr_i(other._frame_indeces);
		this.tile = other.tile;
		this.resize_ratio = other.resize_ratio;
		if(other._centerLabelOffset == null) {
			this._centerLabelOffset = null;
		} else {
			this._centerLabelOffset = new flixel_math_FlxPoint(other._centerLabelOffset.x,other._centerLabelOffset.y);
		}
		this._no_graphic = other._no_graphic;
		if(other._slice9_arrays != null) {
			this._slice9_arrays = other._slice9_arrays.slice();
		}
		if(other._slice9_assets != null) {
			this._slice9_assets = other._slice9_assets.slice();
		}
		if(this._slice9_arrays == null || this._slice9_assets == null) {
			this.loadGraphic(other.graphic,true,other.get_width(),other.get_height());
		} else {
			this.resize(other.get_width(),other.get_height());
		}
	}
	,copyStyle: function(other) {
		this.up_color = other.up_color;
		this.over_color = other.over_color;
		this.down_color = other.down_color;
		this.up_toggle_color = other.up_toggle_color;
		this.over_toggle_color = other.over_toggle_color;
		this.down_toggle_color = other.over_toggle_color;
		this.up_visible = other.up_visible;
		this.over_visible = other.over_visible;
		this.down_visible = other.down_visible;
		this.up_toggle_visible = other.up_toggle_visible;
		this.over_toggle_visible = other.over_toggle_visible;
		this.down_toggle_visible = other.down_toggle_visible;
		var ctPt = other.getCenterLabelOffset();
		this.setCenterLabelOffset(ctPt.x,ctPt.y);
		var i = 0;
		var _g = 0;
		var _g1 = other.labelOffsets;
		while(_g < _g1.length) {
			var flxPt = _g1[_g];
			++_g;
			this.labelOffsets[i].set_x(flxPt.x);
			this.labelOffsets[i].set_y(flxPt.y);
			++i;
		}
		i = 0;
		var _g = 0;
		var _g1 = other.labelAlphas;
		while(_g < _g1.length) {
			var alpha = _g1[_g];
			++_g;
			this.labelAlphas[i] = alpha;
			++i;
		}
	}
	,setAllLabelOffsets: function(X,Y) {
		var _g = 0;
		var _g1 = this.labelOffsets;
		while(_g < _g1.length) {
			var labelOffset = _g1[_g];
			++_g;
			labelOffset.set(X,Y);
		}
	}
	,update: function(elapsed) {
		flixel_ui_FlxTypedButton.prototype.update.call(this,elapsed);
		var tmp;
		if(this.status == 0) {
			var _this = this.inputOver;
			tmp = _this.current == 1 || _this.current == 2;
		} else {
			tmp = false;
		}
		if(tmp && this.input.current == -1 == false) {
			this.inputOver.release();
		}
		this.inputOver.update();
		if(this.label != null) {
			var theLabel = this.fetchAndShowCorrectLabel();
			theLabel.set_x(this.x + this._centerLabelOffset.x + this.labelOffsets[this.status].x);
			theLabel.set_y(this.y + this._centerLabelOffset.y + this.labelOffsets[this.status].y);
			if(this.round_labels) {
				theLabel.set_x(theLabel.x + 0.5 | 0);
				theLabel.set_y(theLabel.y + 0.5 | 0);
			}
			theLabel.scrollFactor = this.scrollFactor;
		}
	}
	,updateStatusAnimation: function() {
		if(this.has_toggle && this.toggled) {
			this.animation.play(this.statusAnimations[this.status + 3]);
		} else {
			flixel_ui_FlxTypedButton.prototype.updateStatusAnimation.call(this);
		}
	}
	,draw: function() {
		flixel_ui_FlxTypedButton.prototype.draw.call(this);
		if(this.has_toggle && this.toggled && this.toggle_label != null && this.toggle_label.visible == true) {
			this.toggle_label.set_cameras(this.get_cameras());
			this.toggle_label.draw();
		}
	}
	,resize: function(W,H) {
		this.doResize(W,H);
	}
	,doResize: function(W,H,Redraw) {
		if(Redraw == null) {
			Redraw = true;
		}
		var old_width = this.get_width();
		var old_height = this.get_height();
		var label_diffx = 0;
		var label_diffy = 0;
		if(this.label != null) {
			label_diffx = this.get_width() - this._spriteLabel.get_width();
			label_diffy = this.get_height() - this._spriteLabel.get_height();
		}
		if(W <= 0) {
			W = 80;
		}
		if(H <= 0) {
			H = 20;
		}
		if(Redraw) {
			if(this._slice9_assets != null) {
				this.loadGraphicSlice9(this._slice9_assets,W | 0,H | 0,this._slice9_arrays,this.tile,this.resize_ratio,this.has_toggle,this._src_w,this._src_h,this._frame_indeces);
			} else if(this._no_graphic) {
				var upB;
				if(!this.has_toggle) {
					upB = new openfl_display_BitmapData(W | 0,H * 3 | 0,true,0);
				} else {
					upB = new openfl_display_BitmapData(W | 0,H * 6 | 0,true,0);
				}
				this.loadGraphicsUpOverDown(upB);
			} else {
				this.loadGraphicSlice9(null,W | 0,H | 0,null,this.tile);
			}
		}
		if(this.label != null && this.autoResizeLabel) {
			if(js_Boot.__implements(this.label,flixel_addons_ui_interfaces_IResizable)) {
				var targetW = W - label_diffx;
				var targetH = H - label_diffy;
				var ir = this.label;
				ir.resize(targetW,targetH);
			}
		}
		this.autoCenterLabel();
		var diff_w = this.get_width() - old_width;
		var diff_h = this.get_height() - old_height;
		if(this.resize_point != null) {
			var delta_x = diff_w * this.resize_point.x;
			var delta_y = diff_h * this.resize_point.y;
			this.set_x(this.x - delta_x);
			this.set_y(this.y - delta_y);
		}
	}
	,getBmp: function(asset) {
		return flixel_addons_ui_U.getBmp(asset);
	}
	,loadGraphicsMultiple: function(assets,Key) {
		if(Key == null) {
			Key = "";
		}
		this._slice9_assets = null;
		this._slice9_arrays = null;
		this.resize_ratio = -1;
		var key = "";
		if(assets.length <= 3) {
			while(assets.length < 3) assets.push(null);
			if(assets[1] == null) {
				assets[1] = assets[0];
			}
			if(assets[2] == null) {
				assets[2] = assets[1];
			}
			key = assets.join(",");
			if(Key != "") {
				key = Key;
			}
			if(flixel_FlxG.bitmap._cache.h[key] != null) {
				this.loadGraphicsUpOverDown(key,false,key);
			} else {
				var pixels = this.assembleButtonFrames(this.getBmp(assets[0]),this.getBmp(assets[1]),this.getBmp(assets[2]));
				this.loadGraphicsUpOverDown(pixels,false,key);
			}
		} else if(assets.length <= 6) {
			while(assets.length < 6) assets.push(null);
			if(assets[4] == null) {
				assets[4] = assets[3];
			}
			if(assets[5] == null) {
				assets[5] = assets[4];
			}
			key = assets.join(",");
			if(Key != "") {
				key = Key;
			}
			if(flixel_FlxG.bitmap._cache.h[key] != null) {
				this.loadGraphicsUpOverDown(key,true,key);
			} else {
				var pixels_normal = this.assembleButtonFrames(this.getBmp(assets[0]),this.getBmp(assets[1]),this.getBmp(assets[2]));
				var pixels_toggle = this.assembleButtonFrames(this.getBmp(assets[3]),this.getBmp(assets[4]),this.getBmp(assets[5]));
				var pixels = this.combineToggleBitmaps(pixels_normal,pixels_toggle);
				this.loadGraphicsUpOverDown(pixels,true,key);
				pixels_normal.dispose();
				pixels_toggle.dispose();
			}
		}
	}
	,loadGraphicsUpOverDown: function(asset,for_toggle,key) {
		if(for_toggle == null) {
			for_toggle = false;
		}
		this._slice9_assets = null;
		this._slice9_arrays = null;
		this.resize_ratio = -1;
		if(for_toggle) {
			this.has_toggle = true;
		}
		var upB = null;
		var overB = null;
		var downB = null;
		var bd = null;
		if(((asset) instanceof openfl_display_BitmapData)) {
			bd = asset;
		} else if(typeof(asset) == "string") {
			bd = this.getBmp(asset);
		}
		upB = this.grabButtonFrame(bd,0,this.has_toggle,0,0,key);
		overB = this.grabButtonFrame(bd,1,this.has_toggle,0,0,key);
		downB = this.grabButtonFrame(bd,2,this.has_toggle,0,0,key);
		var normalGraphic = key;
		if(key == null || key == "" || flixel_FlxG.bitmap._cache.h[key] != null == false) {
			normalGraphic = this.assembleButtonFrames(upB,overB,downB);
		}
		if(this.has_toggle) {
			var normalPixels = this.assembleButtonFrames(upB,overB,downB);
			upB = this.grabButtonFrame(bd,3,true,0,0,key);
			overB = this.grabButtonFrame(bd,4,true,0,0,key);
			downB = this.grabButtonFrame(bd,5,true,0,0,key);
			var togglePixels = this.assembleButtonFrames(upB,overB,downB);
			var combinedPixels = this.combineToggleBitmaps(normalPixels,togglePixels);
			normalPixels = flixel_util_FlxDestroyUtil.dispose(normalPixels);
			togglePixels = flixel_util_FlxDestroyUtil.dispose(togglePixels);
			this.loadGraphic(combinedPixels,true,upB.width,upB.height,false,key);
		} else {
			this.loadGraphic(normalGraphic,true,upB.width,upB.height,false,key);
		}
	}
	,loadGraphicSlice9: function(assets,W,H,slice9,Tile,Resize_Ratio,isToggle,src_w,src_h,frame_indeces) {
		if(src_h == null) {
			src_h = 0;
		}
		if(src_w == null) {
			src_w = 0;
		}
		if(isToggle == null) {
			isToggle = false;
		}
		if(Resize_Ratio == null) {
			Resize_Ratio = -1;
		}
		if(Tile == null) {
			Tile = 0;
		}
		if(H == null) {
			H = 20;
		}
		if(W == null) {
			W = 80;
		}
		if(src_w != 0) {
			this._src_w = src_w;
		}
		if(src_h != 0) {
			this._src_h = src_h;
		}
		this.tile = Tile;
		this.has_toggle = isToggle;
		this.resize_ratio = Resize_Ratio;
		this._slice9_assets = assets;
		this._slice9_arrays = slice9;
		var key = "";
		var arr_bmpData = [];
		var arr_flx9 = [];
		if(frame_indeces == null) {
			if(this.has_toggle) {
				frame_indeces = [0,1,2,3,4,5];
			} else {
				frame_indeces = [0,1,2];
			}
		} else {
			var max_index = 2;
			if(this.has_toggle) {
				max_index = 5;
			}
			while(frame_indeces.length < max_index + 1) frame_indeces.push(frame_indeces.length - 1);
			var _g = 0;
			var _g1 = frame_indeces.length;
			while(_g < _g1) {
				var i = _g++;
				if(frame_indeces[i] > 5) {
					frame_indeces[i] = 5;
				} else if(frame_indeces[i] < 0) {
					frame_indeces[i] = 0;
				}
			}
		}
		this._frame_indeces = frame_indeces;
		if(W == 0) {
			W = 80;
		}
		if(H == 0) {
			H = 20;
		}
		var pt = flixel_addons_ui_U.applyResize(this.resize_ratio,this.resize_ratio_axis,W,H);
		W = pt.x | 0;
		H = pt.y | 0;
		if(assets == null) {
			var temp;
			if(!isToggle) {
				assets = ["flixel/flixel-ui/img/button.png"];
				slice9 = [flixel_util_FlxStringUtil.toIntArray("6,6,11,11")];
				temp = this.getBmp(assets[0]);
				this._src_w = temp.width | 0;
				this._src_h = temp.height / 3 | 0;
			} else {
				assets = ["flixel/flixel-ui/img/button_toggle.png"];
				slice9 = [flixel_util_FlxStringUtil.toIntArray("6,6,11,11")];
				temp = this.getBmp(assets[0]);
				this._src_w = temp.width | 0;
				this._src_h = temp.height / 6 | 0;
			}
			temp = null;
		}
		if(!this.has_toggle && assets.length <= 3) {
			arr_bmpData = [null,null,null];
			arr_flx9 = [null,null,null];
		} else {
			this.has_toggle = true;
			arr_bmpData = [null,null,null,null,null,null];
			arr_flx9 = [null,null,null,null,null,null];
		}
		this._flashRect2.width = W;
		this._flashRect2.height = H;
		var midKey = key += Std.string(assets) + "_slice9=" + Std.string(slice9) + "_src=" + this._src_w + "x" + this._src_h;
		key += "_final=" + W + "x" + H + "_fi=" + Std.string(this._frame_indeces);
		if(assets.length == 1) {
			var all = this.getBmp(assets[0]);
			var keySuffix = "_all";
			if(this._src_w == 0 || this._src_h == 0) {
				throw new openfl_errors_Error("Ambiguous situation! If you only provide one asset, you MUST provide src_w and src_h. Otherwise I can't tell if it's a stacked set of frames or a single frame.");
			}
			var multiFrame = all.height > this._src_h;
			keySuffix += multiFrame ? "_multiframe" : "";
			key += keySuffix;
			midKey += keySuffix;
			if(flixel_FlxG.bitmap._cache.h[key] != null) {
				this.loadGraphic(key,true,W,H);
				return;
			}
			if(multiFrame) {
				var _g = 0;
				var _g1 = arr_bmpData.length;
				while(_g < _g1) {
					var i = _g++;
					arr_bmpData[i] = this.grabButtonFrame(all,i,this.has_toggle,this._src_w,this._src_h,midKey);
				}
				if(slice9 != null && slice9[0] != []) {
					var _g = 0;
					var _g1 = arr_bmpData.length;
					while(_g < _g1) {
						var i = _g++;
						arr_flx9[i] = new flixel_addons_ui_FlxUI9SliceSprite(0,0,arr_bmpData[i],this._flashRect2,slice9[0],this.tile,false,assets[0] + ":" + i,this.resize_ratio);
						arr_flx9[i].set_resize_point(this.resize_point);
					}
					var _g = 0;
					var _g1 = arr_bmpData.length;
					while(_g < _g1) {
						var i = _g++;
						arr_bmpData[i] = arr_flx9[i].get_pixels();
					}
					W = arr_bmpData[0].width;
					H = arr_bmpData[0].height;
				}
			} else {
				arr_bmpData[0] = all;
			}
		} else {
			if(flixel_FlxG.bitmap._cache.h[key] != null) {
				this.loadGraphic(key,true,W,H);
				return;
			}
			if(!this.has_toggle) {
				while(assets.length < 3) assets.push("");
			} else {
				while(assets.length < 6) assets.push("");
			}
			if(assets[0] != "") {
				if(slice9 != null && slice9.length > 0 && slice9[0] != null && slice9[0].length > 0) {
					while(slice9.length < assets.length) slice9.push(null);
					if(slice9[0] != null) {
						arr_flx9[0] = new flixel_addons_ui_FlxUI9SliceSprite(0,0,assets[0],this._flashRect2,slice9[0],this.tile,false,"",this.resize_ratio);
					} else {
						arr_flx9[0] = new flixel_addons_ui_FlxUISprite(0,0,assets[0]);
					}
					arr_bmpData[0] = arr_flx9[0].get_pixels();
					var _g = 1;
					var _g1 = assets.length;
					while(_g < _g1) {
						var i = _g++;
						if(assets[i] != "") {
							if(slice9[i] != null) {
								arr_flx9[i] = new flixel_addons_ui_FlxUI9SliceSprite(0,0,assets[i],this._flashRect2,slice9[i],this.tile,false,"",this.resize_ratio);
							} else {
								arr_flx9[i] = new flixel_addons_ui_FlxUISprite(0,0,assets[i]);
							}
							arr_bmpData[i] = arr_flx9[i].get_pixels();
						}
					}
					W = arr_bmpData[0].width;
					H = arr_bmpData[0].height;
				} else {
					var _g = 0;
					var _g1 = assets.length;
					while(_g < _g1) {
						var i = _g++;
						arr_bmpData[i] = this.getBmp(assets[i]);
					}
					W = arr_bmpData[0].width;
					H = arr_bmpData[0].height;
				}
			} else {
				if(W == 0) {
					W = 80;
				}
				if(H == 0) {
					H = 20;
				}
				arr_bmpData[0] = new openfl_display_BitmapData(W,H * 3,true,0);
				this._no_graphic = true;
			}
		}
		var normalPixels = null;
		if(!this.has_toggle) {
			normalPixels = this.assembleButtonFrames(arr_bmpData[frame_indeces[0]],arr_bmpData[frame_indeces[1]],arr_bmpData[frame_indeces[2]]);
			flixel_FlxG.bitmap.add(normalPixels,true,key);
			this.loadGraphic(key,true,W,H);
		} else {
			var normalPixels = this.assembleButtonFrames(arr_bmpData[frame_indeces[0]],arr_bmpData[frame_indeces[1]],arr_bmpData[frame_indeces[2]]);
			var togglePixels = this.assembleButtonFrames(arr_bmpData[frame_indeces[3]],arr_bmpData[frame_indeces[4]],arr_bmpData[frame_indeces[5]]);
			var combinedPixels = this.combineToggleBitmaps(normalPixels,togglePixels);
			normalPixels = flixel_util_FlxDestroyUtil.dispose(normalPixels);
			togglePixels = flixel_util_FlxDestroyUtil.dispose(togglePixels);
			flixel_FlxG.bitmap.add(combinedPixels,true,key);
			this.loadGraphic(key,true,W,H);
		}
		var _g = 0;
		var _g1 = arr_flx9.length;
		while(_g < _g1) {
			var i = _g++;
			if(arr_flx9[i] != null) {
				arr_flx9[i].destroy();
				arr_flx9[i] = null;
			}
		}
		while(arr_flx9.length > 0) arr_flx9.pop();
		arr_flx9 = null;
		while(arr_bmpData.length > 0) arr_bmpData.pop();
		arr_bmpData = null;
	}
	,autoCenterLabel: function() {
		if(this.label != null) {
			var offX = 0;
			var offY = 0;
			offX = this.get_width() - this._spriteLabel.get_width();
			if(((this.label) instanceof flixel_addons_ui_FlxUIText)) {
				var tlabel = this.label;
				offX = (this.get_width() - tlabel.get_fieldWidth()) / 2;
				offY = (this.get_height() - tlabel.get_height()) / 2;
			} else {
				offX = (this.get_width() - this._spriteLabel.get_width()) / 2;
				offY = (this.get_height() - this._spriteLabel.get_height()) / 2;
			}
			this._centerLabelOffset.set_x(offX);
			this._centerLabelOffset.set_y(offY);
		}
	}
	,setCenterLabelOffset: function(X,Y) {
		this._centerLabelOffset.set_x(X);
		this._centerLabelOffset.set_y(Y);
	}
	,getCenterLabelOffset: function() {
		var X = this._centerLabelOffset.x;
		var Y = this._centerLabelOffset.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		return point;
	}
	,forceStateHandler: function(event) {
		switch(event) {
		case "click_button":
			this.onUpHandler();
			break;
		case "down_button":
			this.onDownHandler();
			break;
		case "out_button":
			this.onOutHandler();
			break;
		case "over_button":
			this.onOverHandler();
			break;
		}
	}
	,grabButtonFrame: function(all_frames,button_state,for_toggle,src_w,src_h,key) {
		if(src_h == null) {
			src_h = 0;
		}
		if(src_w == null) {
			src_w = 0;
		}
		if(for_toggle == null) {
			for_toggle = false;
		}
		var h = src_h;
		if(h == 0) {
			if(!for_toggle) {
				h = all_frames.height / 3 | 0;
			} else {
				h = all_frames.height / 6 | 0;
			}
		}
		var w = src_w;
		if(w == 0) {
			w = all_frames.width;
		}
		this._flashRect.x = 0;
		this._flashRect.y = button_state * h;
		this._flashRect.width = w;
		this._flashRect.height = h;
		if(this._flashRect.y >= all_frames.height) {
			var framesHigh = all_frames.height / h | 0;
			if(framesHigh == 4) {
				if(button_state == 4) {
					this._flashRect.y = 3 * h;
				} else if(button_state == 5) {
					this._flashRect.y = 2 * h;
				}
			}
		}
		var frameKey = key + "{x:" + this._flashRect.x + "y:" + this._flashRect.y + "w:" + this._flashRect.width + "h:" + this._flashRect.height + "}";
		if(frameKey != null) {
			if(flixel_FlxG.bitmap._cache.h[frameKey] != null) {
				return flixel_FlxG.bitmap._cache.h[frameKey].bitmap;
			}
		}
		var pixels = new openfl_display_BitmapData(w,h);
		pixels.copyPixels(all_frames,this._flashRect,this._flashPointZero);
		if(key != null) {
			flixel_FlxG.bitmap.add(pixels,true,frameKey);
			this.addToCleanup(frameKey);
		}
		return pixels;
	}
	,combineToggleBitmaps: function(normal,toggle) {
		var combined = new openfl_display_BitmapData(normal.width,normal.height + toggle.height);
		combined.copyPixels(normal,normal.rect,this._flashPointZero);
		this._flashPoint.x = 0;
		this._flashPoint.y = normal.height;
		combined.copyPixels(toggle,toggle.rect,this._flashPoint);
		return combined;
	}
	,assembleButtonFrames: function(upB,overB,downB) {
		var pixels;
		if(overB != null) {
			if(downB != null) {
				pixels = new openfl_display_BitmapData(upB.width,upB.height * 3);
			} else {
				pixels = new openfl_display_BitmapData(upB.width,upB.height * 2);
			}
		} else {
			pixels = new openfl_display_BitmapData(upB.width,upB.height);
		}
		pixels.copyPixels(upB,upB.rect,this._flashPointZero);
		if(overB != null) {
			this._flashPoint.x = 0;
			this._flashPoint.y = upB.height;
			pixels.copyPixels(overB,overB.rect,this._flashPoint);
			if(downB != null) {
				this._flashPoint.y = upB.height * 2;
				pixels.copyPixels(downB,downB.rect,this._flashPoint);
			}
		}
		return pixels;
	}
	,updateButton: function() {
		if(!this.skipButtonUpdate) {
			flixel_ui_FlxTypedButton.prototype.updateButton.call(this);
		}
	}
	,addToCleanup: function(str) {
		if(this._assetsToCleanup == null) {
			this._assetsToCleanup = [];
		}
		if(this._assetsToCleanup.indexOf(str) == -1) {
			this._assetsToCleanup.push(str);
		}
	}
	,cleanup: function() {
		if(this._assetsToCleanup == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._assetsToCleanup;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			flixel_FlxG.bitmap.removeByKey(key);
		}
		this._assetsToCleanup = null;
	}
	,fetchAndShowCorrectLabel: function() {
		if(this.has_toggle) {
			if(this.toggled && this.toggle_label != null) {
				this._spriteLabel.set_visible(false);
				this.toggle_label.set_visible(true);
				return this.toggle_label;
			} else {
				if(this.toggle_label != null) {
					this.toggle_label.set_visible(false);
				}
				this._spriteLabel.set_visible(true);
				return this.label;
			}
		}
		return this.label;
	}
	,onUpHandler: function() {
		if(this.has_toggle) {
			this.set_toggled(!this.toggled);
		}
		flixel_ui_FlxTypedButton.prototype.onUpHandler.call(this);
		if(this.label != null) {
			var theLabel = this.fetchAndShowCorrectLabel();
			theLabel.set_visible(this.toggled ? this.up_toggle_visible : this.up_visible);
			var thecol = this.toggled ? this.up_toggle_color : this.up_color;
			if(thecol != null) {
				theLabel.set_color(thecol);
			}
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("click_button",this,null,this.params);
		}
	}
	,onDownHandler: function() {
		flixel_ui_FlxTypedButton.prototype.onDownHandler.call(this);
		if(this.label != null) {
			var theLabel = this.fetchAndShowCorrectLabel();
			theLabel.set_visible(this.toggled ? this.down_toggle_visible : this.down_visible);
			var thecol = this.toggled ? this.down_toggle_color : this.down_color;
			if(thecol != null) {
				theLabel.set_color(thecol);
			}
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("down_button",this,null,this.params);
		}
	}
	,onOverHandler: function() {
		flixel_ui_FlxTypedButton.prototype.onOverHandler.call(this);
		this.inputOver.press();
		if(this.label != null) {
			var theLabel = this.fetchAndShowCorrectLabel();
			theLabel.set_visible(this.toggled ? this.over_toggle_visible : this.over_visible);
			var thecol = this.toggled ? this.over_toggle_color : this.over_color;
			if(thecol != null) {
				theLabel.set_color(thecol);
			}
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("over_button",this,null,this.params);
		}
	}
	,onOutHandler: function() {
		flixel_ui_FlxTypedButton.prototype.onOutHandler.call(this);
		this.inputOver.release();
		if(this.label != null) {
			var theLabel = this.fetchAndShowCorrectLabel();
			theLabel.set_visible(this.toggled ? this.up_toggle_visible : this.up_visible);
			var thecol = this.toggled ? this.up_toggle_color : this.up_color;
			if(thecol != null) {
				theLabel.set_color(thecol);
			}
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("out_button",this,null,this.params);
		}
	}
	,set_x: function(NewX) {
		flixel_ui_FlxTypedButton.prototype.set_x.call(this,NewX);
		if(this._spriteLabel != null) {
			this._spriteLabel.set_x(this.x + this._centerLabelOffset.x + this.labelOffsets[this.status].x);
			if(this.round_labels) {
				this._spriteLabel.set_x(this._spriteLabel.x + 0.5 | 0);
			}
			if(this.has_toggle && this.toggle_label != null) {
				this.toggle_label.set_x(this._spriteLabel.x);
			}
		}
		return NewX;
	}
	,set_y: function(NewY) {
		flixel_ui_FlxTypedButton.prototype.set_y.call(this,NewY);
		if(this.label != null) {
			this._spriteLabel.set_y(this.y + this._centerLabelOffset.y + this.labelOffsets[this.status].y);
			if(this.round_labels) {
				this._spriteLabel.set_y(this._spriteLabel.y + 0.5 | 0);
			}
			if(this.has_toggle && this.toggle_label != null) {
				this.toggle_label.set_y(this._spriteLabel.y);
			}
		}
		return NewY;
	}
	,_autoCleanup: null
	,_assetsToCleanup: null
	,_no_graphic: null
	,_src_w: null
	,_src_h: null
	,_frame_indeces: null
	,_slice9_arrays: null
	,_slice9_assets: null
	,_centerLabelOffset: null
	,__class__: flixel_addons_ui_FlxUITypedButton
	,__properties__: $extend(flixel_ui_FlxTypedButton.prototype.__properties__,{set_params:"set_params",set_skipButtonUpdate:"set_skipButtonUpdate",set_toggle_label:"set_toggle_label",get_justMousedOut:"get_justMousedOut",get_mouseIsOut:"get_mouseIsOut",get_mouseIsOver:"get_mouseIsOver",get_justMousedOver:"get_justMousedOver",set_toggled:"set_toggled"})
});
var flixel_addons_ui_interfaces_ILabeled = function() { };
$hxClasses["flixel.addons.ui.interfaces.ILabeled"] = flixel_addons_ui_interfaces_ILabeled;
flixel_addons_ui_interfaces_ILabeled.__name__ = "flixel.addons.ui.interfaces.ILabeled";
flixel_addons_ui_interfaces_ILabeled.__isInterface__ = true;
flixel_addons_ui_interfaces_ILabeled.prototype = {
	getLabel: null
	,setLabel: null
	,__class__: flixel_addons_ui_interfaces_ILabeled
};
var flixel_addons_ui_FlxUIButton = function(X,Y,Label,OnClick,LoadDefaultGraphics,LoadBlank,Color) {
	if(Color == null) {
		Color = -1;
	}
	if(LoadBlank == null) {
		LoadBlank = false;
	}
	if(LoadDefaultGraphics == null) {
		LoadDefaultGraphics = true;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.down_toggle_style = null;
	this.over_toggle_style = null;
	this.up_toggle_style = null;
	this.down_style = null;
	this.over_style = null;
	this.up_style = null;
	flixel_addons_ui_FlxUITypedButton.call(this,X,Y,OnClick);
	this.set_color(Color);
	if(Label != null) {
		this.set_label(new flixel_addons_ui_FlxUIText(0,0,80,Label,8));
		this.label.setFormat(null,8,3355443,"center");
	}
	if(LoadBlank) {
		this._no_graphic = true;
	}
	if(LoadDefaultGraphics) {
		this.resize(this.get_width(),this.get_height());
	} else if(this._no_graphic == false) {
		this.doResize(this.get_width(),this.get_height(),false);
	} else {
		this.doResize(this.get_width(),this.get_height(),true);
	}
};
$hxClasses["flixel.addons.ui.FlxUIButton"] = flixel_addons_ui_FlxUIButton;
flixel_addons_ui_FlxUIButton.__name__ = "flixel.addons.ui.FlxUIButton";
flixel_addons_ui_FlxUIButton.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIButton,flixel_addons_ui_interfaces_ILabeled];
flixel_addons_ui_FlxUIButton.__super__ = flixel_addons_ui_FlxUITypedButton;
flixel_addons_ui_FlxUIButton.prototype = $extend(flixel_addons_ui_FlxUITypedButton.prototype,{
	_noIconGraphicsBkup: null
	,up_style: null
	,over_style: null
	,down_style: null
	,up_toggle_style: null
	,over_toggle_style: null
	,down_toggle_style: null
	,setLabelFormat: function(Font,Size,Color,Alignment,BorderStyle,BorderColor,Embedded) {
		if(Embedded == null) {
			Embedded = true;
		}
		if(BorderColor == null) {
			BorderColor = 0;
		}
		if(Color == null) {
			Color = -1;
		}
		if(Size == null) {
			Size = 8;
		}
		if(this.label != null) {
			this.label.setFormat(Font,Size,Color,Alignment,BorderStyle,BorderColor,Embedded);
			return this.label;
		}
		return null;
	}
	,autoCenterLabel: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.autoCenterLabel.call(this);
	}
	,clone: function() {
		var newButton = new flixel_addons_ui_FlxUIButton(0,0,this.label == null ? null : this.label.text,this.onUp.callback,false);
		newButton.copyGraphic(this);
		newButton.copyStyle(this);
		return newButton;
	}
	,copyStyle: function(other) {
		flixel_addons_ui_FlxUITypedButton.prototype.copyStyle.call(this,other);
		if(((other) instanceof flixel_addons_ui_FlxUIButton)) {
			var fuib = other;
			this.up_style = fuib.up_style;
			this.over_style = fuib.over_style;
			this.down_style = fuib.down_style;
			this.up_toggle_style = fuib.up_toggle_style;
			this.over_toggle_style = fuib.over_toggle_style;
			this.down_toggle_style = fuib.down_toggle_style;
			var t = fuib.label;
			var tf = t.textField.get_defaultTextFormat();
			if(t._font.indexOf(flixel_system_FlxAssets.FONT_DEFAULT) == -1) {
				var fd = flixel_addons_ui_FontDef.copyFromFlxText(t);
				fd.apply(null,this.label);
			} else {
				var flxAlign = flixel_text_FlxTextAlign.fromOpenFL(tf.align);
				this.label.setFormat(null,tf.size | 0,tf.color,flxAlign,t.borderStyle,t.borderColor,t.textField.set_embedFonts(true));
			}
		}
	}
	,setLabel: function(t) {
		this.set_label(t);
		return this.label;
	}
	,getLabel: function() {
		return this.label;
	}
	,resize: function(W,H) {
		flixel_addons_ui_FlxUITypedButton.prototype.resize.call(this,W,H);
	}
	,addIcon: function(icon,X,Y,center) {
		if(center == null) {
			center = true;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this._noIconGraphicsBkup = this.graphic.bitmap.clone();
		var newBmp = this._noIconGraphicsBkup.clone();
		var key = this.graphic.key + ",icon:" + icon.graphic.key;
		var newGraphic = flixel_FlxG.bitmap.add(newBmp,false,key);
		this.loadGraphic(newGraphic,true,this.get_width() | 0,this.get_height() | 0);
		var sx = X;
		var sy = Y;
		if(center) {
			sx = (this.get_width() - icon.get_width()) / 2 | 0;
			sy = (this.get_height() - icon.get_height()) / 2 | 0;
		}
		var _g = 0;
		var _g1 = this.numFrames;
		while(_g < _g1) {
			var i = _g++;
			this.stamp(icon,sx + (this.labelOffsets[i > 2 ? 2 : i].x | 0),sy + (i * this.get_height() | 0) + (this.labelOffsets[i > 2 ? 2 : i].y | 0));
		}
	}
	,removeIcon: function() {
		if(this._noIconGraphicsBkup != null) {
			this.graphic.bitmap.fillRect(this.graphic.bitmap.rect,0);
			this.graphic.bitmap.copyPixels(this._noIconGraphicsBkup,new openfl_geom_Rectangle(0,0,this._noIconGraphicsBkup.width,this._noIconGraphicsBkup.height),new openfl_geom_Point());
			this.dirty = true;
		}
	}
	,changeIcon: function(newIcon) {
		this.removeIcon();
		this.addIcon(newIcon);
	}
	,destroy: function() {
		this._noIconGraphicsBkup = flixel_util_FlxDestroyUtil.dispose(this._noIconGraphicsBkup);
		flixel_addons_ui_FlxUITypedButton.prototype.destroy.call(this);
	}
	,loadDefaultGraphic: function() {
	}
	,resetHelpers: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.resetHelpers.call(this);
		if(this.label != null) {
			var tmp = this.label;
			var tmp1 = this.get_width() | 0;
			tmp.set_width(this.label.frameWidth = tmp1);
			this.label.set_fieldWidth(this.label.get_width());
			this.label.set_size(this.label._defaultFormat.size | 0);
		}
	}
	,onDownHandler: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.onDownHandler.call(this);
		if(this.label != null) {
			if(this.toggled && this.down_toggle_style != null) {
				this.label.set_color(this.down_toggle_style.color);
				if(this.down_toggle_style.border != null) {
					this.label.set_borderStyle(this.down_toggle_style.border.style);
					this.label.set_borderColor(this.down_toggle_style.border.color);
					this.label.set_borderSize(this.down_toggle_style.border.size);
					this.label.set_borderQuality(this.down_toggle_style.border.quality);
				}
			} else if(!this.toggled && this.down_style != null) {
				this.label.set_color(this.down_style.color);
				if(this.down_style.border != null) {
					this.label.set_borderStyle(this.down_style.border.style);
					this.label.set_borderColor(this.down_style.border.color);
					this.label.set_borderSize(this.down_style.border.size);
					this.label.set_borderQuality(this.down_style.border.quality);
				}
			}
		}
	}
	,onOverHandler: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.onOverHandler.call(this);
		if(this.label != null) {
			if(this.toggled && this.over_toggle_style != null) {
				this.label.set_color(this.over_toggle_style.color);
				if(this.over_toggle_style.border != null) {
					this.label.set_borderStyle(this.over_toggle_style.border.style);
					this.label.set_borderColor(this.over_toggle_style.border.color);
					this.label.set_borderSize(this.over_toggle_style.border.size);
					this.label.set_borderQuality(this.over_toggle_style.border.quality);
				}
			} else if(!this.toggled && this.over_style != null) {
				this.label.set_color(this.over_style.color);
				if(this.over_style.border != null) {
					this.label.set_borderStyle(this.over_style.border.style);
					this.label.set_borderColor(this.over_style.border.color);
					this.label.set_borderSize(this.over_style.border.size);
					this.label.set_borderQuality(this.over_style.border.quality);
				}
			}
		}
	}
	,onOutHandler: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.onOutHandler.call(this);
		if(this.label != null) {
			if(this.toggled && this.up_toggle_style != null) {
				this.label.set_color(this.up_toggle_style.color);
				if(this.up_toggle_style.border != null) {
					this.label.set_borderStyle(this.up_toggle_style.border.style);
					this.label.set_borderColor(this.up_toggle_style.border.color);
					this.label.set_borderSize(this.up_toggle_style.border.size);
					this.label.set_borderQuality(this.up_toggle_style.border.quality);
				}
			} else if(!this.toggled && this.up_style != null) {
				this.label.set_color(this.up_style.color);
				if(this.up_style.border != null) {
					this.label.set_borderStyle(this.up_style.border.style);
					this.label.set_borderColor(this.up_style.border.color);
					this.label.set_borderSize(this.up_style.border.size);
					this.label.set_borderQuality(this.up_style.border.quality);
				}
			}
		}
	}
	,onUpHandler: function() {
		flixel_addons_ui_FlxUITypedButton.prototype.onUpHandler.call(this);
		if(this.label != null) {
			if(this.toggled && this.up_toggle_style != null) {
				this.label.set_color(this.up_toggle_style.color);
				if(this.up_toggle_style.border != null) {
					this.label.set_borderStyle(this.up_toggle_style.border.style);
					this.label.set_borderColor(this.up_toggle_style.border.color);
					this.label.set_borderSize(this.up_toggle_style.border.size);
					this.label.set_borderQuality(this.up_toggle_style.border.quality);
				}
			} else if(!this.toggled && this.up_style != null) {
				this.label.set_color(this.up_style.color);
				if(this.up_style.border != null) {
					this.label.set_borderStyle(this.up_style.border.style);
					this.label.set_borderColor(this.up_style.border.color);
					this.label.set_borderSize(this.up_style.border.size);
					this.label.set_borderQuality(this.up_style.border.quality);
				}
			}
		}
	}
	,__class__: flixel_addons_ui_FlxUIButton
});
var flixel_addons_ui_FlxUICheckBox = function(X,Y,Box,Check,Label,LabelW,Params,Callback) {
	if(LabelW == null) {
		LabelW = 100;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.skipButtonUpdate = false;
	this.box_space = 2;
	this.textY = 0;
	this.textX = 0;
	this.checkbox_dirty = false;
	this.textIsClickable = true;
	this.checked = false;
	this.max_width = -1;
	flixel_addons_ui_FlxUIGroup.call(this);
	this.callback = Callback;
	this.set_params(Params);
	if(Box == null) {
		Box = "flixel/flixel-ui/img/check_box.png";
	}
	if(((Box) instanceof flixel_FlxSprite)) {
		this.box = Box;
	} else {
		this.box = new flixel_FlxSprite();
		this.box.loadGraphic(Box,true);
	}
	this.button = new flixel_addons_ui_FlxUIButton(0,0,Label,$bind(this,this._clickCheck));
	this.button.label.setFormat(null,8,16777215,"left",flixel_text_FlxTextBorderStyle.OUTLINE);
	this.button.label.set_fieldWidth(LabelW);
	this.button.up_color = 16777215;
	this.button.down_color = 16777215;
	this.button.over_color = 16777215;
	this.button.up_toggle_color = 16777215;
	this.button.down_toggle_color = 16777215;
	this.button.over_toggle_color = 16777215;
	this.button.loadGraphicSlice9(["","",""],this.box.get_width() + this.box_space + LabelW | 0,this.box.get_height() | 0);
	this.max_width = this.box.get_width() + this.box_space + LabelW | 0;
	this.button.onUp.callback = $bind(this,this._clickCheck);
	if(Check == null) {
		Check = "flixel/flixel-ui/img/check_mark.png";
	}
	if(((Check) instanceof flixel_FlxSprite)) {
		this.mark = Check;
	} else {
		this.mark = new flixel_FlxSprite();
		this.mark.loadGraphic(Check);
	}
	this.add(this.box);
	this.add(this.mark);
	this.add(this.button);
	this.anchorLabelX();
	this.anchorLabelY();
	this.set_checked(false);
	this.button.setAllLabelOffsets(0,0);
	this.set_x(X);
	this.set_y(Y);
	this.set_textX(0);
	this.set_textY(0);
};
$hxClasses["flixel.addons.ui.FlxUICheckBox"] = flixel_addons_ui_FlxUICheckBox;
flixel_addons_ui_FlxUICheckBox.__name__ = "flixel.addons.ui.FlxUICheckBox";
flixel_addons_ui_FlxUICheckBox.__interfaces__ = [flixel_addons_ui_interfaces_ICursorPointable,flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_ILabeled];
flixel_addons_ui_FlxUICheckBox.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUICheckBox.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	box: null
	,mark: null
	,button: null
	,max_width: null
	,checked: null
	,params: null
	,textIsClickable: null
	,checkbox_dirty: null
	,textX: null
	,textY: null
	,box_space: null
	,skipButtonUpdate: null
	,callback: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		this.button.set_skipButtonUpdate(this.skipButtonUpdate);
		return this.skipButtonUpdate;
	}
	,set_params: function(p) {
		this.params = p;
		if(this.params == null) {
			this.params = [];
		}
		var nb = { name : "checked", value : false};
		this.params.push(nb);
		return this.params;
	}
	,set_color: function(Value) {
		if(this.button != null) {
			this.button.label.set_color(Value);
		}
		return flixel_addons_ui_FlxUIGroup.prototype.set_color.call(this,Value);
	}
	,setLabel: function(t) {
		if(this.button == null) {
			return null;
		}
		this.button.set_label(t);
		return this.button.label;
	}
	,getLabel: function() {
		if(this.button == null) {
			return null;
		}
		return this.button.label;
	}
	,set_visible: function(Value) {
		this.visible = Value;
		return this.visible;
	}
	,anchorTime: function(f) {
		this.anchorLabelY();
	}
	,set_textX: function(n) {
		this.textX = n;
		this.anchorLabelX();
		return this.textX;
	}
	,set_textY: function(n) {
		this.textY = n;
		this.anchorLabelY();
		return this.textY;
	}
	,anchorLabelX: function() {
		if(this.button != null) {
			this.button.label.offset.set_x(-(this.box.get_width() + this.box_space + this.textX));
		}
	}
	,anchorLabelY: function() {
		if(this.button != null) {
			this.button.set_y(this.box.y + (this.box.get_height() - this.button.get_height()) / 2 + this.textY);
		}
	}
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		if(this.mark != null) {
			this.mark.destroy();
			this.mark = null;
		}
		if(this.box != null) {
			this.box.destroy();
			this.box = null;
		}
		if(this.button != null) {
			this.button.destroy();
			this.button = null;
		}
	}
	,get_text: function() {
		return this.button.label.text;
	}
	,set_text: function(value) {
		this.button.label.set_text(value);
		this.checkbox_dirty = true;
		return value;
	}
	,update: function(elapsed) {
		flixel_addons_ui_FlxUIGroup.prototype.update.call(this,elapsed);
		if(this.checkbox_dirty) {
			if(this.button.label != null) {
				if(((this.button.label) instanceof flixel_addons_ui_FlxUIText)) {
					var ftu = this.button.label;
					ftu.drawFrame();
				}
				this.anchorLabelX();
				this.anchorLabelY();
				this.button.set_width(this.box.frameWidth + this.box_space + this.button.label.textField.get_textWidth());
				this.checkbox_dirty = false;
			}
		}
	}
	,set_checked: function(b) {
		this.mark.set_visible(b);
		return this.checked = b;
	}
	,_clickCheck: function() {
		if(!this.visible) {
			return;
		}
		this.set_checked(!this.checked);
		if(this.callback != null) {
			this.callback();
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("click_check_box",this,this.checked,this.params);
		}
	}
	,__class__: flixel_addons_ui_FlxUICheckBox
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_skipButtonUpdate:"set_skipButtonUpdate",set_textY:"set_textY",set_textX:"set_textX",set_params:"set_params",set_checked:"set_checked"})
});
var flixel_addons_ui_FlxUICursor = function(Callback,InputMethod,DefaultKeys,Asset) {
	if(DefaultKeys == null) {
		DefaultKeys = 1;
	}
	if(InputMethod == null) {
		InputMethod = 1;
	}
	this._clickTime = 0;
	this._clickPressed = false;
	this.lastMouseY = 0;
	this.lastMouseX = 0;
	this.inputMethod = 0;
	this.dispatchEvents = true;
	this.gamepadAutoConnect = flixel_addons_ui_GamepadAutoConnectPreference.FirstActive;
	this.listIndex = 0;
	this.location = -1;
	this.wrap = true;
	if(Asset == null) {
		if(flixel_FlxG.height < 400) {
			Asset = "flixel/flixel-ui/img/finger_small.png";
		} else {
			Asset = "flixel/flixel-ui/img/finger_big.png";
		}
	}
	flixel_addons_ui_FlxUISprite.call(this,0,0,Asset);
	this.inputMethod = InputMethod;
	this._lists = [{ x : 0, y : 0, width : 0, height : 0, widgets : []}];
	this._widgets = this._lists[0].widgets;
	this.anchor = new flixel_addons_ui_Anchor(-2,0,"left","center","right","center");
	this.setDefaultKeys(DefaultKeys);
	this.callback = Callback;
	this.scrollFactor.set(0,0);
	if(flixel_FlxG.mouse != null && ((flixel_FlxG.mouse) instanceof flixel_addons_ui_FlxUIMouse) == false) {
		this._newMouse = new flixel_addons_ui_FlxUIMouse(flixel_FlxG.mouse.cursorContainer);
		flixel_FlxG.set_mouse(this._newMouse);
	} else {
		this._newMouse = flixel_FlxG.mouse;
	}
};
$hxClasses["flixel.addons.ui.FlxUICursor"] = flixel_addons_ui_FlxUICursor;
flixel_addons_ui_FlxUICursor.__name__ = "flixel.addons.ui.FlxUICursor";
flixel_addons_ui_FlxUICursor.__super__ = flixel_addons_ui_FlxUISprite;
flixel_addons_ui_FlxUICursor.prototype = $extend(flixel_addons_ui_FlxUISprite.prototype,{
	callback: null
	,wrap: null
	,location: null
	,listIndex: null
	,ignoreNextInput: null
	,findVisibleLocation: function(loc,forwardIfInvisible,wrap) {
		if(wrap == null) {
			wrap = true;
		}
		if(forwardIfInvisible == null) {
			forwardIfInvisible = true;
		}
		this.set_location(loc);
		if(this.location == -1) {
			return;
		}
		var wrapped = false;
		while(this._widgets[this.location] == null || this._widgets[this.location].visible == false) if(forwardIfInvisible) {
			if(this.location == this._widgets.length - 1) {
				if(wrap) {
					if(!wrapped) {
						wrapped = true;
						this.set_location(0);
					} else {
						this.set_location(-1);
						return;
					}
				} else {
					this.set_location(-1);
					return;
				}
			} else {
				this.set_location(this.location + 1);
			}
		} else if(this.location == 0) {
			if(wrap) {
				if(!wrapped) {
					wrapped = true;
					this.set_location(this._widgets.length - 1);
				} else {
					this.set_location(-1);
					return;
				}
			} else {
				this.set_location(-1);
				return;
			}
		} else {
			this.set_location(this.location - 1);
		}
	}
	,getCurrentWidget: function() {
		if(this._widgets != null && this.location >= 0 && this.location < this._widgets.length) {
			return this._widgets[this.location];
		}
		return null;
	}
	,set_listIndex: function(i) {
		if(i >= this._lists.length) {
			i = this._lists.length - 1;
		} else if(i < 0) {
			i = 0;
		}
		this.listIndex = i;
		this.set_location(0);
		this._updateCursor();
		return this.listIndex;
	}
	,set_visible: function(b) {
		b = flixel_addons_ui_FlxUISprite.prototype.set_visible.call(this,b);
		return b;
	}
	,set_location: function(i) {
		if(i >= this._widgets.length) {
			i = this._widgets.length - 1;
		}
		this.location = i;
		this._updateCursor();
		return this.location;
	}
	,gamepadAutoConnect: null
	,set_gamepad: function(g) {
		this._gamepad = g;
		this.setDefaultKeys(this._defaultCode);
		var arr = [this.keysUp,this.keysDown,this.keysLeft,this.keysRight,this.keysClick];
		var _g = 0;
		while(_g < arr.length) {
			var list = arr[_g];
			++_g;
			if(list != null) {
				var _g1 = 0;
				while(_g1 < list.length) {
					var keys = list[_g1];
					++_g1;
					if(((keys) instanceof flixel_addons_ui_FlxMultiGamepad)) {
						var fmg = keys;
						fmg.gamepad = this._gamepad;
					}
				}
			}
		}
		return g;
	}
	,get_gamepad: function() {
		return this._gamepad;
	}
	,_gamepad: null
	,keysUp: null
	,keysDown: null
	,keysLeft: null
	,keysRight: null
	,keysClick: null
	,anchor: null
	,dispatchEvents: null
	,inputMethod: null
	,destroy: function() {
		flixel_addons_ui_FlxUISprite.prototype.destroy.call(this);
		if(flixel_FlxG.mouse == this._newMouse) {
			this._newMouse = null;
		}
		this.keysUp = flixel_util_FlxDestroyUtil.destroyArray(this.keysUp);
		this.keysDown = flixel_util_FlxDestroyUtil.destroyArray(this.keysDown);
		this.keysLeft = flixel_util_FlxDestroyUtil.destroyArray(this.keysLeft);
		this.keysRight = flixel_util_FlxDestroyUtil.destroyArray(this.keysRight);
		this.keysClick = flixel_util_FlxDestroyUtil.destroyArray(this.keysClick);
		this.anchor = flixel_util_FlxDestroyUtil.destroy(this.anchor);
		var _g = 0;
		var _g1 = this._lists;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			flixel_addons_ui_U.clearArraySoft(l.widgets);
		}
		flixel_addons_ui_U.clearArraySoft(this._lists);
		this._widgets = null;
	}
	,update: function(elapsed) {
		if(this.get_gamepad() == null) {
			var g = this.getGamepad(false);
			if(g != null) {
				this.set_gamepad(g);
			}
		}
		if(this.lastMouseX != flixel_FlxG.mouse.x || this.lastMouseY != flixel_FlxG.mouse.y) {
			var oldVis = this.visible;
			this.jumpToXY(flixel_FlxG.mouse.x,flixel_FlxG.mouse.y);
			this.set_visible(oldVis);
			this.lastMouseX = flixel_FlxG.mouse.x;
			this.lastMouseY = flixel_FlxG.mouse.y;
		}
		this._checkKeys();
		this._clickTime += elapsed;
		flixel_addons_ui_FlxUISprite.prototype.update.call(this,elapsed);
	}
	,addWidgetsFromUI: function(ui) {
		if(ui.cursorLists != null) {
			var _g = 0;
			var _g1 = ui.cursorLists;
			while(_g < _g1.length) {
				var list = _g1[_g];
				++_g;
				this.addWidgetList(list);
			}
			this._widgets = this._lists[0].widgets;
			this.set_location(0);
			this.set_listIndex(0);
		} else {
			var _g = 0;
			var _g1 = ui.group.members;
			while(_g < _g1.length) {
				var widget = _g1[_g];
				++_g;
				if(js_Boot.__implements(widget,flixel_addons_ui_interfaces_ICursorPointable) || ((widget) instanceof flixel_addons_ui_FlxUIGroup)) {
					this.addWidget(widget);
				}
			}
		}
	}
	,jumpTo: function(widget) {
		var listi = 0;
		var i = 0;
		if(this._lists != null) {
			var _g = 0;
			var _g1 = this._lists;
			while(_g < _g1.length) {
				var list = _g1[_g];
				++_g;
				i = list.widgets.indexOf(widget);
				if(i != -1) {
					this.set_listIndex(listi);
					this.set_location(i);
					return true;
				}
				++listi;
			}
		} else {
			i = this._widgets.indexOf(widget);
			this.set_location(i);
			return true;
		}
		return false;
	}
	,jumpToXY: function(X,Y) {
		var listi = 0;
		var bestd2 = Infinity;
		var bestli = -1;
		var besti = -1;
		if(this._lists != null) {
			var _g = 0;
			var _g1 = this._lists;
			while(_g < _g1.length) {
				var list = _g1[_g];
				++_g;
				var _g2 = 0;
				var _g3 = list.widgets.length;
				while(_g2 < _g3) {
					var i = _g2++;
					var w = list.widgets[i];
					if(w.visible == true && X >= w.x && Y >= w.y && X <= w.x + w.get_width() && Y <= w.y + w.get_height()) {
						var dx = w.x + w.get_width() / 2 - X;
						var dy = w.y + w.get_height() / 2 - Y;
						var d2 = dx * dx + dy * dy;
						if(d2 < bestd2) {
							bestd2 = d2;
							bestli = listi;
							besti = i;
						}
					}
				}
				++listi;
			}
			if(bestli != -1 && besti != -1) {
				this.set_listIndex(bestli);
				this.set_location(besti);
				return true;
			}
		} else {
			var _g = 0;
			var _g1 = this._widgets.length;
			while(_g < _g1) {
				var i = _g++;
				var w = this._widgets[i];
				if(w.visible == true && X >= w.x && Y >= w.y && X <= w.x + w.get_width() && Y <= w.y + w.get_height()) {
					var dx = w.x + w.get_width() / 2 - X;
					var dy = w.y + w.get_height() / 2 - Y;
					var d2 = dx * dx + dy * dy;
					if(d2 < bestd2) {
						bestd2 = d2;
						besti = i;
					}
				}
			}
			if(besti != -1) {
				this.set_location(besti);
				return true;
			}
		}
		return false;
	}
	,addWidgetList: function(list) {
		var _g = 0;
		var _g1 = this._lists;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			if(flixel_util_FlxArrayUtil.equals(l.widgets,list)) {
				return;
			}
		}
		var x1 = Infinity;
		var y1 = Infinity;
		var x2 = -Infinity;
		var y2 = -Infinity;
		var _g = 0;
		while(_g < list.length) {
			var w = list[_g];
			++_g;
			if(w.x < x1) {
				x1 = w.x;
			}
			if(w.y < y1) {
				y1 = w.y;
			}
			if(w.x + w.get_width() > x2) {
				x2 = w.x;
			}
			if(w.y + w.get_height() > y2) {
				y2 = w.y;
			}
		}
		var theList = null;
		if(this._lists.length == 1 && this._lists[0].widgets != null && this._lists[0].widgets.length == 0) {
			this._lists[0].widgets = [];
			this._lists[0].x = x1 | 0;
			this._lists[0].y = y1 | 0;
			this._lists[0].width = x2 - x1 | 0;
			this._lists[0].height = y2 - y1 | 0;
			theList = this._lists[0];
		} else {
			this._lists.push({ x : x1 | 0, y : y1 | 0, width : x2 - x1 | 0, height : y2 - y1 | 0, widgets : []});
			theList = this._lists[this._lists.length - 1];
		}
		var oldWidgets = this._widgets;
		this._widgets = theList.widgets;
		var _g = 0;
		while(_g < list.length) {
			var ifw = list[_g];
			++_g;
			this.addWidget(ifw);
		}
		this._widgets = oldWidgets;
		this._lists.sort($bind(this,this._sortXYWidgetList));
		var _g = 0;
		var _g1 = this._lists;
		while(_g < _g1.length) {
			var widgetList = _g1[_g];
			++_g;
			widgetList.widgets.sort($bind(this,this._sortXYVisible));
		}
	}
	,addWidget: function(widget) {
		if(js_Boot.__implements(widget,flixel_addons_ui_interfaces_ICursorPointable)) {
			this._widgets.push(widget);
		} else if(((widget) instanceof flixel_addons_ui_FlxUIGroup)) {
			var g = widget;
			var _g = 0;
			var _g1 = g.group.members;
			while(_g < _g1.length) {
				var member = _g1[_g];
				++_g;
				if(js_Boot.__implements(member,flixel_addons_ui_interfaces_IFlxUIWidget)) {
					this.addWidget(member);
				}
			}
		}
		this._widgets.sort($bind(this,this._sortXYVisible));
	}
	,sortWidgets: function(method,list) {
		if(list == null) {
			list = this._widgets;
		}
		switch(method._hx_index) {
		case 0:
			list.sort($bind(this,this._sortXYVisible));
			break;
		case 1:
			list.sort($bind(this,this._sortIDVisible));
			break;
		}
	}
	,clearWidgets: function() {
		flixel_util_FlxArrayUtil.clearArray(this._widgets);
	}
	,removeWidget: function(widget,list) {
		if(list == null) {
			list = this._widgets;
		}
		var value = false;
		if(list != null) {
			if(list.indexOf(widget) != -1) {
				value = HxOverrides.remove(list,widget);
				list.sort($bind(this,this._sortXYVisible));
			}
		}
		return value;
	}
	,setDefaultKeys: function(code) {
		this._defaultCode = code;
		this._clearKeys();
		this._newKeys();
		if((code & 1) == 1) {
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiKey(9,null,[16]));
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiKey(9,[16]));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiKey(13));
		}
		if((code & 256) == 256) {
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiKey(39));
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiKey(37));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiKey(40));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiKey(38));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiKey(13));
		}
		if((code & 16) == 16) {
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiKey(68));
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiKey(65));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiKey(83));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiKey(87));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiKey(13));
		}
		if((code & 4096) == 4096) {
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiKey(102));
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiKey(100));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiKey(98));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiKey(104));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiKey(13));
		}
		if(this.get_gamepad() == null) {
			this._gamepad = this.getGamepad();
		}
		if((code & 65536) == 65536) {
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),13));
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),14));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),12));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),11));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),0));
		}
		if((code & 268435456) == 268435456) {
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),4));
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),5));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),0));
		}
		if((code & 1048576) == 1048576) {
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 19, axis : flixel_addons_ui_XY.X, positive : false}));
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 19, axis : flixel_addons_ui_XY.X, positive : true}));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 19, axis : flixel_addons_ui_XY.Y, positive : false}));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 19, axis : flixel_addons_ui_XY.Y, positive : true}));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),0));
		}
		if((code & 16777216) == 16777216) {
			this._addToKeys(this.keysLeft,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 20, axis : flixel_addons_ui_XY.X, positive : false}));
			this._addToKeys(this.keysRight,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 20, axis : flixel_addons_ui_XY.X, positive : true}));
			this._addToKeys(this.keysUp,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 20, axis : flixel_addons_ui_XY.Y, positive : false}));
			this._addToKeys(this.keysDown,new flixel_addons_ui_FlxMultiGamepadAnalogStick(this.get_gamepad(),{ id : 20, axis : flixel_addons_ui_XY.Y, positive : true}));
			this._addToKeys(this.keysClick,new flixel_addons_ui_FlxMultiGamepad(this.get_gamepad(),0));
		}
	}
	,_lists: null
	,_widgets: null
	,_newMouse: null
	,lastMouseX: null
	,lastMouseY: null
	,_clickPressed: null
	,_defaultCode: null
	,_rightAnchor: null
	,_topAnchor: null
	,_leftAnchor: null
	,_bottomAnchor: null
	,_clickTime: null
	,getGamepad: function(exhaustive) {
		if(exhaustive == null) {
			exhaustive = true;
		}
		var gamepad;
		var _g = this.gamepadAutoConnect;
		switch(_g._hx_index) {
		case 0:
			gamepad = null;
			break;
		case 1:
			gamepad = flixel_FlxG.gamepads.getFirstActiveGamepad();
			break;
		case 2:
			gamepad = flixel_FlxG.gamepads.lastActive;
			break;
		case 3:
			var i = _g.i;
			gamepad = flixel_FlxG.gamepads._activeGamepads[i];
			break;
		}
		if(gamepad == null && exhaustive) {
			var _g = 0;
			var _g1 = flixel_FlxG.gamepads.get_numActiveGamepads();
			while(_g < _g1) {
				var i = _g++;
				gamepad = flixel_FlxG.gamepads._activeGamepads[i];
				if(gamepad != null) {
					return gamepad;
				}
			}
		}
		return gamepad;
	}
	,_sortIDVisible: function(a,b) {
		if(a.visible && !b.visible) {
			return -1;
		}
		if(b.visible && !a.visible) {
			return 1;
		}
		if(a.ID < b.ID) {
			return -1;
		}
		if(a.ID > b.ID) {
			return 1;
		}
		return 0;
	}
	,_sortXYWidgetList: function(a,b) {
		if(a.y < b.y) {
			return -1;
		}
		if(a.y > b.y) {
			return 1;
		}
		if(a.x < b.x) {
			return -1;
		}
		if(a.x > b.x) {
			return 1;
		}
		return 0;
	}
	,_sortXYVisible: function(a,b) {
		if(a.visible && !b.visible) {
			return -1;
		}
		if(b.visible && !a.visible) {
			return 1;
		}
		if(a.y < b.y) {
			return -1;
		}
		if(a.y > b.y) {
			return 1;
		}
		if(a.x < b.x) {
			return -1;
		}
		if(a.x > b.x) {
			return 1;
		}
		return 0;
	}
	,_addToKeys: function(keys,m) {
		var exists = false;
		var _g = 0;
		while(_g < keys.length) {
			var mk = keys[_g];
			++_g;
			if(m.equals(mk)) {
				exists = true;
				break;
			}
		}
		if(!exists) {
			keys.push(m);
		}
	}
	,_clearKeys: function() {
		flixel_addons_ui_U.clearArray(this.keysUp);
		this.keysUp = null;
		flixel_addons_ui_U.clearArray(this.keysDown);
		this.keysDown = null;
		flixel_addons_ui_U.clearArray(this.keysLeft);
		this.keysLeft = null;
		flixel_addons_ui_U.clearArray(this.keysRight);
		this.keysRight = null;
		flixel_addons_ui_U.clearArray(this.keysClick);
		this.keysClick = null;
	}
	,_newKeys: function() {
		this.keysUp = [];
		this.keysDown = [];
		this.keysLeft = [];
		this.keysRight = [];
		this.keysClick = [];
	}
	,_checkKeys: function() {
		var wasInvisible = this.visible == false;
		var lastLocation = this.location;
		var _g = 0;
		var _g1 = this.keysUp;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.justPressed()) {
				this._doInput(0,-1);
				break;
			}
		}
		var _g = 0;
		var _g1 = this.keysDown;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.justPressed()) {
				this._doInput(0,1);
				break;
			}
		}
		var _g = 0;
		var _g1 = this.keysLeft;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.justPressed()) {
				this._doInput(-1,0);
				break;
			}
		}
		var _g = 0;
		var _g1 = this.keysRight;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.justPressed()) {
				this._doInput(1,0);
				break;
			}
		}
		if(wasInvisible && this.visible && lastLocation != -1) {
			this.set_location(lastLocation);
		}
		if(this._clickKeysJustPressed()) {
			if(!this.ignoreNextInput) {
				this._clickPressed = true;
				this._clickTime = 0;
				this._doPress();
			} else {
				this.ignoreNextInput = false;
			}
		}
		if(this._clickKeysPressed()) {
			this._clickPressed = true;
			this._doMouseMove();
		} else if(this._clickTime > 0) {
			if(this._clickPressed) {
				this._doRelease();
				this._clickPressed = false;
			}
		}
	}
	,_clickKeysJustPressed: function() {
		var _g = 0;
		var _g1 = this.keysClick;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.justPressed()) {
				return true;
			}
		}
		return false;
	}
	,_clickKeysPressed: function() {
		var _g = 0;
		var _g1 = this.keysClick;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key.pressed()) {
				return true;
			}
		}
		return false;
	}
	,_getWidgetPoint: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var currWidget = this._widgets[this.location];
		if(currWidget == null) {
			return null;
		}
		var fo;
		var widgetPoint = null;
		if(((currWidget) instanceof flixel_FlxObject)) {
			fo = currWidget;
			widgetPoint = fo.getScreenPosition();
		}
		widgetPoint.set_x(widgetPoint.x * Camera.totalScaleX);
		widgetPoint.set_y(widgetPoint.y * Camera.totalScaleY);
		if(widgetPoint == null) {
			var X = currWidget.x;
			var Y = currWidget.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			widgetPoint = point;
		}
		widgetPoint.set_x(widgetPoint.x + currWidget.get_width() / 2);
		widgetPoint.set_y(widgetPoint.y + currWidget.get_height() / 2);
		return widgetPoint;
	}
	,_doMouseMove: function(pt) {
		var dispose = false;
		if(pt == null) {
			pt = this._getWidgetPoint();
			if(pt == null) {
				return;
			}
			dispose = true;
		}
		if(this.dispatchEvents) {
			var _this = flixel_FlxG.mouse;
			_this._globalScreenX = pt.x / flixel_FlxG.scaleMode.scale.x | 0;
			_this._globalScreenY = pt.y / flixel_FlxG.scaleMode.scale.y | 0;
			_this.updatePositions();
			if(this._newMouse != null) {
				this._newMouse.updateGlobalScreenPosition = false;
			}
			var tmp = openfl_Lib.get_current().stage;
			var pt1 = pt.x;
			var pt2 = pt.y;
			var tmp1 = openfl_Lib.get_current().stage;
			var _this = flixel_FlxG.keys.pressed;
			var tmp2 = _this.keyManager.checkStatusUnsafe(17,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var tmp3 = _this.keyManager.checkStatusUnsafe(18,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			tmp.dispatchEvent(new openfl_events_MouseEvent("mouseMove",true,false,pt1,pt2,tmp1,tmp2,tmp3,_this.keyManager.checkStatusUnsafe(16,_this.status)));
		}
		if(dispose) {
			pt.put();
		}
	}
	,_doPress: function(pt) {
		var currWidget = this._widgets[this.location];
		if(currWidget == null) {
			return;
		}
		var dispose = false;
		if(pt == null) {
			pt = this._getWidgetPoint();
			if(pt == null) {
				return;
			}
			dispose = true;
		}
		if(this.dispatchEvents) {
			var rawMouseX = pt.x * flixel_FlxG.camera.zoom;
			var rawMouseY = pt.y * flixel_FlxG.camera.zoom;
			var tmp = openfl_Lib.get_current().stage;
			var tmp1 = openfl_Lib.get_current().stage;
			var _this = flixel_FlxG.keys.pressed;
			var tmp2 = _this.keyManager.checkStatusUnsafe(17,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var tmp3 = _this.keyManager.checkStatusUnsafe(18,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			tmp.dispatchEvent(new openfl_events_MouseEvent("mouseDown",true,false,rawMouseX,rawMouseY,tmp1,tmp2,tmp3,_this.keyManager.checkStatusUnsafe(16,_this.status)));
		}
		if(this.callback != null) {
			this.callback("cursor_down",currWidget);
		}
		if(dispose) {
			pt.put();
		}
	}
	,_doRelease: function(pt) {
		var currWidget = this._widgets[this.location];
		if(currWidget == null) {
			return;
		}
		var dispose = false;
		if(pt == null) {
			pt = this._getWidgetPoint();
			if(pt == null) {
				return;
			}
			dispose = true;
		}
		var rawMouseX = pt.x * flixel_FlxG.camera.zoom;
		var rawMouseY = pt.y * flixel_FlxG.camera.zoom;
		if(this.dispatchEvents) {
			var tmp = openfl_Lib.get_current().stage;
			var tmp1 = openfl_Lib.get_current().stage;
			var _this = flixel_FlxG.keys.pressed;
			var tmp2 = _this.keyManager.checkStatusUnsafe(17,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			var tmp3 = _this.keyManager.checkStatusUnsafe(18,_this.status);
			var _this = flixel_FlxG.keys.pressed;
			tmp.dispatchEvent(new openfl_events_MouseEvent("mouseUp",true,false,rawMouseX,rawMouseY,tmp1,tmp2,tmp3,_this.keyManager.checkStatusUnsafe(16,_this.status)));
			if(this._clickPressed) {
				var tmp = openfl_Lib.get_current().stage;
				var tmp1 = openfl_Lib.get_current().stage;
				var _this = flixel_FlxG.keys.pressed;
				var tmp2 = _this.keyManager.checkStatusUnsafe(17,_this.status);
				var _this = flixel_FlxG.keys.pressed;
				var tmp3 = _this.keyManager.checkStatusUnsafe(18,_this.status);
				var _this = flixel_FlxG.keys.pressed;
				tmp.dispatchEvent(new openfl_events_MouseEvent("click",true,false,rawMouseX,rawMouseY,tmp1,tmp2,tmp3,_this.keyManager.checkStatusUnsafe(16,_this.status)));
			}
		}
		if(this.callback != null) {
			this.callback("cursor_click",currWidget);
		}
		if(dispose) {
			pt.put();
		}
		if(this._newMouse != null) {
			this._newMouse.updateGlobalScreenPosition = true;
			var _this = this._newMouse;
			var newX = flixel_FlxG.game.get_mouseX() | 0;
			var newY = flixel_FlxG.game.get_mouseY() | 0;
			_this._globalScreenX = newX / flixel_FlxG.scaleMode.scale.x | 0;
			_this._globalScreenY = newY / flixel_FlxG.scaleMode.scale.y | 0;
			_this.updatePositions();
		}
	}
	,_findNextY: function(Y,indexValue,listWidget,listLists) {
		var currX = 0;
		var currY = 0;
		var length = 0;
		if(listWidget != null) {
			currX = listWidget[indexValue].x | 0;
			currY = listWidget[indexValue].y | 0;
			length = listWidget.length;
		} else if(listLists != null) {
			currX = listLists[indexValue].x;
			currY = listLists[indexValue].y;
			length = listLists.length;
		}
		var nextX = 0;
		var nextY = 0;
		var dx = Infinity;
		var dy = Infinity;
		var bestdx = dx;
		var bestdy = dy;
		var besti = -1;
		var _g = 0;
		var _g1 = length;
		while(_g < _g1) {
			var i = _g++;
			if(i != indexValue) {
				if(listWidget != null) {
					nextX = listWidget[i].x | 0;
					nextY = listWidget[i].y | 0;
				} else if(listLists != null) {
					nextX = listLists[i].x;
					nextY = listLists[i].y;
				}
				dy = nextY - currY;
				if((dy < 0 ? -1 : 1) == (Y < 0 ? -1 : 1) && dy != 0) {
					dy = Math.abs(dy);
					if(dy < bestdy) {
						bestdy = dy;
						bestdx = Math.abs(currX - nextX);
						besti = i;
					} else if(dy == bestdy) {
						dx = Math.abs(currX - nextX);
						if(dx < bestdx) {
							bestdx = dx;
							besti = i;
						}
					}
				}
			}
		}
		return besti;
	}
	,_wrapX: function(X,indexValue,listLength) {
		if(indexValue + X < 0) {
			indexValue = indexValue + X + listLength;
		} else if(indexValue + X >= listLength) {
			indexValue = indexValue + X - listLength;
		}
		return indexValue;
	}
	,_wrapY: function(Y,indexValue,listWidget,listLists) {
		var dx = Infinity;
		var dy = Infinity;
		var bestdx = dx;
		var bestdy = dy;
		var besti = -1;
		bestdx = Infinity;
		bestdy = 0;
		var length = 0;
		var currX = 0;
		var currY = 0;
		if(listWidget != null) {
			length = listWidget.length;
			currX = listWidget[indexValue].x | 0;
			currY = listWidget[indexValue].y | 0;
		}
		if(listLists != null) {
			length = listLists.length;
			currX = listLists[indexValue].x;
			currY = listLists[indexValue].y;
		}
		var _g = 0;
		var _g1 = length;
		while(_g < _g1) {
			var i = _g++;
			if(i != this.location) {
				var xx = 0;
				var yy = 0;
				if(listWidget != null) {
					xx = listWidget[i].x | 0;
					yy = listWidget[i].y | 0;
				} else if(listLists != null) {
					xx = listLists[i].x | 0;
					yy = listLists[i].y | 0;
				}
				dy = yy - currY;
				if((dy < 0 ? -1 : 1) == (Y < 0 ? -1 : 1) == false && dy != 0) {
					dy = Math.abs(dy);
					if(dy > bestdy) {
						bestdy = dy;
						bestdx = Math.abs(currX - xx);
						besti = i;
					} else if(dy == bestdy) {
						dx = Math.abs(currX - xx);
						if(dx < bestdx) {
							bestdx = dx;
							besti = i;
						}
					}
				}
			}
		}
		if(besti != -1) {
			indexValue = besti;
		}
		return indexValue;
	}
	,_doInput: function(X,Y,recursion) {
		if(recursion == null) {
			recursion = 0;
		}
		if(this.ignoreNextInput) {
			this.ignoreNextInput = false;
			return;
		}
		var currWidget = null;
		if(Y == 0) {
			if(this.location + X >= 0 && this.location + X < this._widgets.length) {
				this.set_location(this.location + X);
			} else if(this.wrap) {
				if(this._lists.length == 1) {
					this.set_location(this._wrapX(X,this.location,this._widgets.length));
				} else {
					if(this.listIndex + X >= 0 && this.listIndex + X < this._lists.length) {
						this.set_listIndex(this.listIndex + X);
					} else {
						this.set_listIndex(this._wrapX(X,this.listIndex,this._lists.length));
					}
					if(X == -1) {
						this.set_location(this._widgets.length - 1);
					}
				}
			}
			currWidget = this._widgets[this.location];
		} else {
			var nextY = this._findNextY(Y,this.location,this._widgets,null);
			if(nextY != -1) {
				this.set_location(nextY);
				currWidget = this._widgets[this.location];
			} else if(this.wrap) {
				if(this._lists.length == 1) {
					this.set_location(this._wrapY(Y,this.location,this._widgets,null));
					currWidget = this._widgets[this.location];
				} else {
					var nextListY = this._findNextY(Y,this.listIndex,null,this._lists);
					if(nextListY != -1) {
						this.set_listIndex(nextListY);
						currWidget = this._widgets[this.location];
					} else {
						this.set_listIndex(this._wrapY(Y,this.listIndex,null,this._lists));
					}
					if(Y == -1) {
						this.set_location(this._widgets.length - 1);
					}
				}
				currWidget = this._widgets[this.location];
			}
		}
		if(currWidget != null && this._widgets != null) {
			if(currWidget.visible == false && recursion < this._widgets.length) {
				this._doInput(X,Y,recursion + 1);
				return;
			}
		}
		if(this.callback != null) {
			this.callback("cursor_jump",currWidget);
		}
	}
	,_updateCursor: function() {
		this._widgets = this._lists[this.listIndex].widgets;
		if(this.location < 0 || this._lists == null || this._widgets == null) {
			this.set_visible(false);
			return;
		}
		this.set_visible(this.set_active(true));
		var currWidget = this._widgets[this.location];
		var flippedX = false;
		var flippedY = false;
		if(currWidget != null) {
			var target = currWidget;
			if(((target) instanceof flixel_FlxSprite)) {
				var fs = target;
				if(fs != null && fs.scrollFactor != null) {
					this.scrollFactor.set(fs.scrollFactor.x,fs.scrollFactor.y);
				}
			}
			if(((currWidget) instanceof flixel_addons_ui_FlxUICheckBox)) {
				var check = target;
				target = check.box;
			}
			this.anchor.anchorThing(this,target);
			if(this.x < 0) {
				this._flipAnchor("left",target);
				flippedX = true;
			} else if(this.x > flixel_FlxG.width + this.get_width()) {
				this._flipAnchor("right",target);
				flippedX = true;
			}
			if(this.y < 0) {
				this._flipAnchor("top",target);
				flippedY = true;
			} else if(this.y > flixel_FlxG.height + this.get_height()) {
				this._flipAnchor("bottom",target);
				flippedY = true;
			}
			this.set_flipX(flippedX);
			this.set_flipY(flippedY);
		}
	}
	,_flipAnchor: function(AnchorDir,destination) {
		var theAnchor = null;
		switch(AnchorDir) {
		case "bottom":
			if(this.anchor.y.side == "bottom") {
				this._bottomAnchor = this.anchor.getFlipped(true,false,this._bottomAnchor);
				theAnchor = this._bottomAnchor;
			}
			break;
		case "left":
			if(this.anchor.x.side == "left") {
				this._leftAnchor = this.anchor.getFlipped(true,false,this._leftAnchor);
				theAnchor = this._leftAnchor;
			}
			break;
		case "right":
			if(this.anchor.x.side == "right") {
				this._topAnchor = this.anchor.getFlipped(true,false,this._rightAnchor);
				theAnchor = this._rightAnchor;
			}
			break;
		case "top":
			if(this.anchor.y.side == "top") {
				this._topAnchor = this.anchor.getFlipped(true,false,this._topAnchor);
				theAnchor = this._topAnchor;
			}
			break;
		}
		if(theAnchor != null) {
			theAnchor.anchorThing(this,destination);
		}
	}
	,__class__: flixel_addons_ui_FlxUICursor
	,__properties__: $extend(flixel_addons_ui_FlxUISprite.prototype.__properties__,{set_gamepad:"set_gamepad",get_gamepad:"get_gamepad",set_listIndex:"set_listIndex",set_location:"set_location"})
});
var flixel_addons_ui_GamepadAutoConnectPreference = $hxEnums["flixel.addons.ui.GamepadAutoConnectPreference"] = { __ename__:"flixel.addons.ui.GamepadAutoConnectPreference",__constructs__:null
	,Never: {_hx_name:"Never",_hx_index:0,__enum__:"flixel.addons.ui.GamepadAutoConnectPreference",toString:$estr}
	,FirstActive: {_hx_name:"FirstActive",_hx_index:1,__enum__:"flixel.addons.ui.GamepadAutoConnectPreference",toString:$estr}
	,LastActive: {_hx_name:"LastActive",_hx_index:2,__enum__:"flixel.addons.ui.GamepadAutoConnectPreference",toString:$estr}
	,GamepadID: ($_=function(i) { return {_hx_index:3,i:i,__enum__:"flixel.addons.ui.GamepadAutoConnectPreference",toString:$estr}; },$_._hx_name="GamepadID",$_.__params__ = ["i"],$_)
};
flixel_addons_ui_GamepadAutoConnectPreference.__constructs__ = [flixel_addons_ui_GamepadAutoConnectPreference.Never,flixel_addons_ui_GamepadAutoConnectPreference.FirstActive,flixel_addons_ui_GamepadAutoConnectPreference.LastActive,flixel_addons_ui_GamepadAutoConnectPreference.GamepadID];
var flixel_addons_ui_SortMethod = $hxEnums["flixel.addons.ui.SortMethod"] = { __ename__:"flixel.addons.ui.SortMethod",__constructs__:null
	,XY: {_hx_name:"XY",_hx_index:0,__enum__:"flixel.addons.ui.SortMethod",toString:$estr}
	,ID: {_hx_name:"ID",_hx_index:1,__enum__:"flixel.addons.ui.SortMethod",toString:$estr}
};
flixel_addons_ui_SortMethod.__constructs__ = [flixel_addons_ui_SortMethod.XY,flixel_addons_ui_SortMethod.ID];
var flixel_addons_ui_FlxUIDropDownMenu = function(X,Y,DataList,Callback,Header,DropPanel,ButtonList,UIControlCallback) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.dropDirection = flixel_addons_ui_FlxUIDropDownMenuDropDirection.Automatic;
	this.list = [];
	flixel_addons_ui_FlxUIGroup.call(this,X,Y);
	this.callback = Callback;
	this.header = Header;
	this.dropPanel = DropPanel;
	if(this.header == null) {
		this.header = new flixel_addons_ui_FlxUIDropDownHeader();
	}
	if(this.dropPanel == null) {
		var rect = new openfl_geom_Rectangle(0,0,this.header.background.get_width(),this.header.background.get_height());
		this.dropPanel = new flixel_addons_ui_FlxUI9SliceSprite(0,0,"flixel/flixel-ui/img/box.png",rect,[1,1,14,14]);
	}
	if(DataList != null) {
		var _g = 0;
		var _g1 = DataList.length;
		while(_g < _g1) {
			var i = _g++;
			var data = DataList[i];
			this.list.push(this.makeListButton(i,data.label,data.name));
		}
		this.selectSomething(DataList[0].name,DataList[0].label);
	} else if(ButtonList != null) {
		var _g = 0;
		while(_g < ButtonList.length) {
			var btn = ButtonList[_g];
			++_g;
			this.list.push(btn);
			btn.resize(this.header.background.get_width(),this.header.background.get_height());
			btn.set_x(1);
		}
	}
	this.updateButtonPositions();
	this.dropPanel.resize(this.header.background.get_width(),this.getPanelHeight());
	this.dropPanel.set_visible(false);
	this.add(this.dropPanel);
	var _g = 0;
	var _g1 = this.list;
	while(_g < _g1.length) {
		var btn = _g1[_g];
		++_g;
		this.add(btn);
		btn.set_visible(false);
	}
	this.header.button.onUp.callback = $bind(this,this.onDropdown);
	this.add(this.header);
};
$hxClasses["flixel.addons.ui.FlxUIDropDownMenu"] = flixel_addons_ui_FlxUIDropDownMenu;
flixel_addons_ui_FlxUIDropDownMenu.__name__ = "flixel.addons.ui.FlxUIDropDownMenu";
flixel_addons_ui_FlxUIDropDownMenu.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray = function(StringArray,UseIndexID) {
	if(UseIndexID == null) {
		UseIndexID = false;
	}
	var strIdArray = [];
	var _g = 0;
	var _g1 = StringArray.length;
	while(_g < _g1) {
		var i = _g++;
		var ID = StringArray[i];
		if(UseIndexID) {
			ID = i == null ? "null" : "" + i;
		}
		strIdArray[i] = new flixel_addons_ui_StrNameLabel(ID,StringArray[i]);
	}
	return strIdArray;
};
flixel_addons_ui_FlxUIDropDownMenu.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUIDropDownMenu.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		this.header.button.set_skipButtonUpdate(b);
		return b;
	}
	,_selectedId: null
	,_selectedLabel: null
	,get_selectedId: function() {
		return this._selectedId;
	}
	,set_selectedId: function(str) {
		if(this._selectedId == str) {
			return str;
		}
		var i = 0;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn != null && btn.name == str) {
				var item = this.list[i];
				this._selectedId = str;
				if(item.label != null) {
					this._selectedLabel = item.label.text;
					this.header.text.set_text(item.label.text);
				} else {
					this._selectedLabel = "";
					this.header.text.set_text("");
				}
				return str;
			}
			++i;
		}
		return str;
	}
	,get_selectedLabel: function() {
		return this._selectedLabel;
	}
	,set_selectedLabel: function(str) {
		if(this._selectedLabel == str) {
			return str;
		}
		var i = 0;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn.label.text == str) {
				var item = this.list[i];
				this._selectedId = item.name;
				this._selectedLabel = str;
				this.header.text.set_text(str);
				return str;
			}
			++i;
		}
		return str;
	}
	,header: null
	,list: null
	,dropPanel: null
	,params: null
	,set_params: function(p) {
		return this.params = p;
	}
	,dropDirection: null
	,set_dropDirection: function(dropDirection) {
		this.dropDirection = dropDirection;
		this.updateButtonPositions();
		return dropDirection;
	}
	,callback: null
	,updateButtonPositions: function() {
		var buttonHeight = this.header.background.get_height();
		this.dropPanel.set_y(this.header.background.y);
		if(this.dropsUp()) {
			var fh = this.dropPanel;
			fh.set_y(fh.y - this.getPanelHeight());
		} else {
			var fh = this.dropPanel;
			fh.set_y(fh.y + buttonHeight);
		}
		var offset = this.dropPanel.y;
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			button.set_y(offset);
			offset += buttonHeight;
		}
	}
	,set_visible: function(Value) {
		var vDropPanel = this.dropPanel.visible;
		var vButtons = [];
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null) {
				vButtons.push(this.list[i].visible);
			} else {
				vButtons.push(false);
			}
		}
		flixel_addons_ui_FlxUIGroup.prototype.set_visible.call(this,Value);
		this.dropPanel.set_visible(vDropPanel);
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null) {
				this.list[i].set_visible(vButtons[i]);
			}
		}
		return Value;
	}
	,dropsUp: function() {
		if(this.dropDirection != flixel_addons_ui_FlxUIDropDownMenuDropDirection.Up) {
			if(this.dropDirection == flixel_addons_ui_FlxUIDropDownMenuDropDirection.Automatic) {
				return this.exceedsHeight();
			} else {
				return false;
			}
		} else {
			return true;
		}
	}
	,exceedsHeight: function() {
		return this.y + this.getPanelHeight() + this.header.background.get_height() > flixel_FlxG.height;
	}
	,getPanelHeight: function() {
		return this.list.length * this.header.background.get_height();
	}
	,setData: function(DataList) {
		var i = 0;
		if(DataList != null) {
			var _g = 0;
			while(_g < DataList.length) {
				var data = DataList[_g];
				++_g;
				var recycled = false;
				if(this.list != null) {
					if(i <= this.list.length - 1) {
						var btn = this.list[i];
						if(btn != null) {
							btn.label.set_text(data.label);
							this.list[i].name = data.name;
							recycled = true;
						}
					}
				} else {
					this.list = [];
				}
				if(!recycled) {
					var t = this.makeListButton(i,data.label,data.name);
					this.list.push(t);
					this.add(t);
					t.set_visible(false);
				}
				++i;
			}
			if(this.list.length > DataList.length) {
				var _g = DataList.length;
				var _g1 = this.list.length;
				while(_g < _g1) {
					var j = _g++;
					var b = this.list.pop();
					b.set_visible(false);
					b.set_active(false);
					this.remove(b,true);
					b.destroy();
					b = null;
				}
			}
			this.selectSomething(DataList[0].name,DataList[0].label);
		}
		this.dropPanel.resize(this.header.background.get_width(),this.getPanelHeight());
		this.updateButtonPositions();
	}
	,selectSomething: function(name,label) {
		this.header.text.set_text(label);
		this.set_selectedId(name);
		this.set_selectedLabel(label);
	}
	,makeListButton: function(i,Label,Name) {
		var t = new flixel_addons_ui_FlxUIButton(0,0,Label);
		t.broadcastToFlxUI = false;
		var _g = $bind(this,this.onClickItem);
		var i1 = i;
		var tmp = function() {
			_g(i1);
		};
		t.onUp.callback = tmp;
		t.name = Name;
		t.loadGraphicSlice9(["flixel/flixel-ui/img/invis.png","flixel/flixel-ui/img/hilight.png","flixel/flixel-ui/img/hilight.png"],this.header.background.get_width() | 0,this.header.background.get_height() | 0,[[1,1,3,3],[1,1,3,3],[1,1,3,3]],0);
		var fh = t.labelOffsets[2];
		fh.set_y(fh.y - 1);
		t.up_color = -16777216;
		t.over_color = -1;
		t.down_color = -1;
		t.resize(this.header.background.get_width() - 2,this.header.background.get_height() - 1);
		t.label.set_alignment("left");
		t.autoCenterLabel();
		t.set_x(1);
		var _g1 = 0;
		var _g2 = t.labelOffsets;
		while(_g1 < _g2.length) {
			var offset = _g2[_g1];
			++_g1;
			offset.set_x(offset.x + 2);
		}
		return t;
	}
	,changeLabelByIndex: function(i,NewLabel) {
		var btn = this.getBtnByIndex(i);
		if(btn != null && btn.label != null) {
			btn.label.set_text(NewLabel);
		}
	}
	,changeLabelById: function(name,NewLabel) {
		var btn = this.getBtnById(name);
		if(btn != null && btn.label != null) {
			btn.label.set_text(NewLabel);
		}
	}
	,getBtnByIndex: function(i) {
		if(i >= 0 && i < this.list.length) {
			return this.list[i];
		}
		return null;
	}
	,getBtnById: function(name) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var btn = _g1[_g];
			++_g;
			if(btn.name == name) {
				return btn;
			}
		}
		return null;
	}
	,update: function(elapsed) {
		flixel_addons_ui_FlxUIGroup.prototype.update.call(this,elapsed);
		if(this.dropPanel.visible && flixel_FlxG.mouse._leftButton.current == 2) {
			if(!flixel_FlxG.mouse.overlaps(this)) {
				this.showList(false);
			}
		}
	}
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		this.dropPanel = flixel_util_FlxDestroyUtil.destroy(this.dropPanel);
		this.list = flixel_util_FlxDestroyUtil.destroyArray(this.list);
		this.callback = null;
	}
	,showList: function(b) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			button.set_visible(b);
			button.set_active(b);
		}
		this.dropPanel.set_visible(b);
		flixel_addons_ui_FlxUI.forceFocus(b,this);
	}
	,onDropdown: function() {
		if(this.dropPanel.visible) {
			this.showList(false);
		} else {
			this.showList(true);
		}
	}
	,onClickItem: function(i) {
		var item = this.list[i];
		this.selectSomething(item.name,item.label.text);
		this.showList(false);
		if(this.callback != null) {
			this.callback(item.name);
		}
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("click_dropdown",this,item.name,this.params);
		}
	}
	,__class__: flixel_addons_ui_FlxUIDropDownMenu
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_dropDirection:"set_dropDirection",set_params:"set_params",set_selectedLabel:"set_selectedLabel",get_selectedLabel:"get_selectedLabel",set_selectedId:"set_selectedId",get_selectedId:"get_selectedId",set_skipButtonUpdate:"set_skipButtonUpdate"})
});
var flixel_addons_ui_FlxUIDropDownHeader = function(Width,Background,Text1,Button) {
	if(Width == null) {
		Width = 120;
	}
	flixel_addons_ui_FlxUIGroup.call(this);
	this.background = Background;
	this.text = Text1;
	this.button = Button;
	if(this.background == null) {
		this.background = new flixel_addons_ui_FlxUI9SliceSprite(0,0,"flixel/flixel-ui/img/box.png",new openfl_geom_Rectangle(0,0,Width,20),[1,1,14,14]);
	}
	if(this.button == null) {
		this.button = new flixel_addons_ui_FlxUISpriteButton(0,0,new flixel_FlxSprite(0,0,"flixel/flixel-ui/img/dropdown_mark.png"));
		this.button.loadGraphicSlice9(["flixel/flixel-ui/img/button_thin.png"],80,20,[flixel_util_FlxStringUtil.toIntArray("6,6,11,11")],0,-1,false,18,18);
	}
	this.button.resize(this.background.get_height(),this.background.get_height());
	this.button.set_x(this.background.x + this.background.get_width() - this.button.get_width());
	this.button.set_width(Width);
	var fh = this.button.offset;
	fh.set_x(fh.x - (Width - this.button.frameWidth));
	this.button.set_x(this.offset.x);
	var fh = this.button.label.offset;
	fh.set_x(fh.x + this.button.offset.x);
	if(this.text == null) {
		this.text = new flixel_addons_ui_FlxUIText(0,0,this.background.get_width() | 0);
	}
	this.text.setPosition(2,4);
	this.text.set_color(-16777216);
	this.add(this.background);
	this.add(this.button);
	this.add(this.text);
};
$hxClasses["flixel.addons.ui.FlxUIDropDownHeader"] = flixel_addons_ui_FlxUIDropDownHeader;
flixel_addons_ui_FlxUIDropDownHeader.__name__ = "flixel.addons.ui.FlxUIDropDownHeader";
flixel_addons_ui_FlxUIDropDownHeader.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUIDropDownHeader.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	background: null
	,text: null
	,button: null
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		this.background = flixel_util_FlxDestroyUtil.destroy(this.background);
		this.text = flixel_util_FlxDestroyUtil.destroy(this.text);
		this.button = flixel_util_FlxDestroyUtil.destroy(this.button);
	}
	,__class__: flixel_addons_ui_FlxUIDropDownHeader
});
var flixel_addons_ui_FlxUIDropDownMenuDropDirection = $hxEnums["flixel.addons.ui.FlxUIDropDownMenuDropDirection"] = { __ename__:"flixel.addons.ui.FlxUIDropDownMenuDropDirection",__constructs__:null
	,Automatic: {_hx_name:"Automatic",_hx_index:0,__enum__:"flixel.addons.ui.FlxUIDropDownMenuDropDirection",toString:$estr}
	,Down: {_hx_name:"Down",_hx_index:1,__enum__:"flixel.addons.ui.FlxUIDropDownMenuDropDirection",toString:$estr}
	,Up: {_hx_name:"Up",_hx_index:2,__enum__:"flixel.addons.ui.FlxUIDropDownMenuDropDirection",toString:$estr}
};
flixel_addons_ui_FlxUIDropDownMenuDropDirection.__constructs__ = [flixel_addons_ui_FlxUIDropDownMenuDropDirection.Automatic,flixel_addons_ui_FlxUIDropDownMenuDropDirection.Down,flixel_addons_ui_FlxUIDropDownMenuDropDirection.Up];
var flixel_addons_ui_FlxUIInputText = function(X,Y,Width,Text1,size,TextColor,BackgroundColor,EmbeddedFont) {
	this.broadcastToFlxUI = true;
	flixel_addons_ui_FlxInputText.call(this,X,Y,Width,Text1,size,TextColor,BackgroundColor,EmbeddedFont);
};
$hxClasses["flixel.addons.ui.FlxUIInputText"] = flixel_addons_ui_FlxUIInputText;
flixel_addons_ui_FlxUIInputText.__name__ = "flixel.addons.ui.FlxUIInputText";
flixel_addons_ui_FlxUIInputText.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUIInputText.__super__ = flixel_addons_ui_FlxInputText;
flixel_addons_ui_FlxUIInputText.prototype = $extend(flixel_addons_ui_FlxInputText.prototype,{
	name: null
	,broadcastToFlxUI: null
	,resize: function(w,h) {
		this.set_width(w);
		this.set_height(h);
		this.calcFrame();
	}
	,onChange: function(action) {
		flixel_addons_ui_FlxInputText.prototype.onChange.call(this,action);
		if(this.broadcastToFlxUI) {
			switch(action) {
			case "backspace":case "delete":
				flixel_addons_ui_FlxUI.event("delete_input_text",this,this.text,this.params);
				flixel_addons_ui_FlxUI.event("change_input_text",this,this.text,this.params);
				break;
			case "enter":
				flixel_addons_ui_FlxUI.event("enter_input_text",this,this.text,this.params);
				break;
			case "input":
				flixel_addons_ui_FlxUI.event("input_input_text",this,this.text,this.params);
				flixel_addons_ui_FlxUI.event("change_input_text",this,this.text,this.params);
				break;
			}
		}
	}
	,__class__: flixel_addons_ui_FlxUIInputText
});
var flixel_addons_ui_FlxUILine = function(X,Y,Axis,Length,Thickness,Color) {
	this.thickness = 1;
	this.length = 10;
	this.axis = flixel_addons_ui_LineAxis.HORIZONTAL;
	flixel_addons_ui_FlxUISprite.call(this,X,Y);
	this.makeGraphic(2,2,-1);
	this.set_color(Color);
	this.set_axis(Axis);
	this.set_length(Length);
	this.set_thickness(Thickness);
};
$hxClasses["flixel.addons.ui.FlxUILine"] = flixel_addons_ui_FlxUILine;
flixel_addons_ui_FlxUILine.__name__ = "flixel.addons.ui.FlxUILine";
flixel_addons_ui_FlxUILine.__interfaces__ = [flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUILine.__super__ = flixel_addons_ui_FlxUISprite;
flixel_addons_ui_FlxUILine.prototype = $extend(flixel_addons_ui_FlxUISprite.prototype,{
	axis: null
	,length: null
	,thickness: null
	,set_axis: function(a) {
		this.axis = a;
		this.refresh();
		return a;
	}
	,set_length: function(l) {
		this.length = l;
		this.refresh();
		return l;
	}
	,set_thickness: function(t) {
		this.thickness = t;
		this.refresh();
		return t;
	}
	,refresh: function() {
		if(this.axis == flixel_addons_ui_LineAxis.HORIZONTAL) {
			this.scale.set(0.5 * this.length,0.5 * this.thickness);
		} else {
			this.scale.set(0.5 * this.thickness,0.5 * this.length);
		}
		this.updateHitbox();
	}
	,resize: function(width,height) {
		if(this.axis == flixel_addons_ui_LineAxis.HORIZONTAL) {
			this.set_length(width);
			this.set_thickness(height);
		} else {
			this.set_length(height);
			this.set_thickness(width);
		}
	}
	,__class__: flixel_addons_ui_FlxUILine
	,__properties__: $extend(flixel_addons_ui_FlxUISprite.prototype.__properties__,{set_thickness:"set_thickness",set_length:"set_length",set_axis:"set_axis"})
});
var flixel_addons_ui_LineAxis = $hxEnums["flixel.addons.ui.LineAxis"] = { __ename__:"flixel.addons.ui.LineAxis",__constructs__:null
	,HORIZONTAL: {_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"flixel.addons.ui.LineAxis",toString:$estr}
	,VERTICAL: {_hx_name:"VERTICAL",_hx_index:1,__enum__:"flixel.addons.ui.LineAxis",toString:$estr}
};
flixel_addons_ui_LineAxis.__constructs__ = [flixel_addons_ui_LineAxis.HORIZONTAL,flixel_addons_ui_LineAxis.VERTICAL];
var flixel_addons_ui_FlxUIList = function(X,Y,Widgets,W,H,MoreString,Stacking,Spacing,PrevButtonOffset,NextButtonOffset,PrevButton,NextButton) {
	if(Spacing == null) {
		Spacing = 0;
	}
	if(Stacking == null) {
		Stacking = 1;
	}
	if(MoreString == null) {
		MoreString = "<X> more...";
	}
	if(H == null) {
		H = 0;
	}
	if(W == null) {
		W = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._skipRefresh = false;
	this.scrollIndex = 0;
	this._skipRefresh = true;
	flixel_addons_ui_FlxUIGroup.call(this,X,Y);
	this.set_stacking(Stacking);
	this.set_spacing(Spacing);
	if(Widgets != null) {
		var _g = 0;
		while(_g < Widgets.length) {
			var widget = Widgets[_g];
			++_g;
			this.add(widget);
		}
	}
	this.prevButton = PrevButton;
	this.nextButton = NextButton;
	this.prevButtonOffset = PrevButtonOffset;
	this.nextButtonOffset = NextButtonOffset;
	this.set_moreString(MoreString);
	if(this.prevButton == null) {
		var _g = $bind(this,this.onClick);
		var i = -1;
		var pButton = new flixel_addons_ui_FlxUIButton(0,0," ",function() {
			_g(i);
		});
		if(this.stacking == 0) {
			pButton.loadGraphicsUpOverDown("flixel/flixel-ui/img/button_arrow_left.png");
			pButton.label.set_width(pButton.label.set_fieldWidth(100));
			pButton.label.set_text(this.getMoreString(0));
			pButton.setAllLabelOffsets(pButton.get_width() - pButton.label.get_width(),pButton.get_height() + 2);
			pButton.label.set_alignment("right");
		} else {
			pButton.loadGraphicsUpOverDown("flixel/flixel-ui/img/button_arrow_up.png");
			pButton.label.set_width(pButton.label.set_fieldWidth(100));
			pButton.label.set_text(this.getMoreString(0));
			pButton.setAllLabelOffsets(0,0);
			pButton.setCenterLabelOffset(pButton.get_width() + 2,pButton.get_height() - pButton.label.get_height());
			pButton.label.set_alignment("left");
		}
		this.prevButton = pButton;
	} else {
		if(((this.prevButton) instanceof flixel_addons_ui_FlxUIButton)) {
			var fuib = this.prevButton;
			var _g1 = $bind(this,this.onClick);
			var i1 = -1;
			var tmp = function() {
				_g1(i1);
			};
			fuib.onUp.callback = tmp;
		}
		if(((this.prevButton) instanceof flixel_addons_ui_FlxUISpriteButton)) {
			var fusb = this.prevButton;
			var _g2 = $bind(this,this.onClick);
			var i2 = -1;
			var tmp = function() {
				_g2(i2);
			};
			fusb.onUp.callback = tmp;
		}
	}
	if(this.nextButton == null) {
		var _g3 = $bind(this,this.onClick);
		var i3 = 1;
		var nButton = new flixel_addons_ui_FlxUIButton(0,0," ",function() {
			_g3(i3);
		});
		if(this.stacking == 0) {
			nButton.loadGraphicsUpOverDown("flixel/flixel-ui/img/button_arrow_right.png");
			nButton.label.set_width(nButton.label.set_fieldWidth(100));
			nButton.label.set_text(this.getMoreString(0));
			nButton.setAllLabelOffsets(0,nButton.get_height() + 2);
			nButton.label.set_alignment("left");
		} else {
			nButton.loadGraphicsUpOverDown("flixel/flixel-ui/img/button_arrow_down.png");
			nButton.label.set_width(nButton.label.set_fieldWidth(100));
			nButton.label.set_text(this.getMoreString(0));
			nButton.setAllLabelOffsets(0,0);
			nButton.setCenterLabelOffset(nButton.get_width() + 2,0);
			nButton.label.set_alignment("left");
		}
		this.nextButton = nButton;
	} else {
		if(((this.nextButton) instanceof flixel_addons_ui_FlxUIButton)) {
			var fuib = this.nextButton;
			var _g4 = $bind(this,this.onClick);
			var i4 = 1;
			var tmp = function() {
				_g4(i4);
			};
			fuib.onUp.callback = tmp;
		}
		if(((this.nextButton) instanceof flixel_addons_ui_FlxUISpriteButton)) {
			var fusb = this.nextButton;
			var _g5 = $bind(this,this.onClick);
			var i5 = 1;
			var tmp = function() {
				_g5(i5);
			};
			fusb.onUp.callback = tmp;
		}
	}
	if(this.prevButtonOffset == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.prevButtonOffset = point;
	}
	if(this.nextButtonOffset == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.nextButtonOffset = point;
	}
	this._skipRefresh = false;
	this.setSize(W,H);
};
$hxClasses["flixel.addons.ui.FlxUIList"] = flixel_addons_ui_FlxUIList;
flixel_addons_ui_FlxUIList.__name__ = "flixel.addons.ui.FlxUIList";
flixel_addons_ui_FlxUIList.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUIList.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	scrollIndex: null
	,set_scrollIndex: function(i) {
		this.scrollIndex = i;
		this.refreshList();
		return i;
	}
	,stacking: null
	,set_stacking: function(Stacking) {
		this.stacking = Stacking;
		this.refreshList();
		return Stacking;
	}
	,spacing: null
	,set_spacing: function(Spacing) {
		this.spacing = Spacing;
		this.refreshList();
		return Spacing;
	}
	,prevButtonOffset: null
	,nextButtonOffset: null
	,prevButton: null
	,nextButton: null
	,moreString: null
	,set_moreString: function(str) {
		this.moreString = str;
		this.refreshList();
		return this.moreString;
	}
	,amountPrevious: null
	,amountNext: null
	,destroy: function() {
		this.prevButton = null;
		this.nextButton = null;
		this.prevButtonOffset.put();
		this.nextButtonOffset.put();
		this.prevButtonOffset = null;
		this.nextButtonOffset = null;
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
	}
	,setSize: function(W,H) {
		var flip = false;
		if(this._skipRefresh == false) {
			this._skipRefresh = true;
			flip = true;
		}
		this.set_width(W);
		this.set_height(H);
		if(flip) {
			this._skipRefresh = false;
		}
		this.refreshList();
	}
	,add: function(Object1) {
		flixel_addons_ui_FlxUIGroup.prototype.add.call(this,Object1);
		this.refreshList();
		return Object1;
	}
	,safeAdd: function(Object1) {
		return flixel_addons_ui_FlxUIGroup.prototype.add.call(this,Object1);
	}
	,_skipRefresh: null
	,getMoreString: function(i) {
		var newString = this.moreString;
		while(newString.indexOf("<X>") != -1) newString = StringTools.replace(newString,"<X>",i == null ? "null" : "" + i);
		return newString;
	}
	,set_visible: function(Value) {
		flixel_addons_ui_FlxUIGroup.prototype.set_visible.call(this,Value);
		this.refreshList();
		return Value;
	}
	,onClick: function(i) {
		this.set_scrollIndex(this.scrollIndex + i);
		this.refreshList();
	}
	,refreshList: function() {
		if(this._skipRefresh) {
			return;
		}
		this.autoBounds = false;
		if(this.group.members.indexOf(this.prevButton) != -1) {
			this.remove(this.prevButton,true);
		}
		if(this.group.members.indexOf(this.nextButton) != -1) {
			this.remove(this.nextButton,true);
		}
		var XX = 0;
		var YY = 0;
		var i = 0;
		var inBounds = true;
		if(this.stacking == 0) {
			this.prevButton.set_x(this.prevButtonOffset.x - this.prevButton.get_width() - 2);
			this.prevButton.set_y(this.prevButtonOffset.y);
			this.nextButton.set_x(this.nextButtonOffset.x + this.get_width() + 2);
			this.nextButton.set_y(this.nextButtonOffset.y);
		} else {
			this.prevButton.set_x(this.prevButtonOffset.x);
			this.prevButton.set_y(this.prevButtonOffset.y - this.prevButton.get_height() - 2);
			this.nextButton.set_x(this.nextButtonOffset.x);
			this.nextButton.set_y(this.nextButtonOffset.y + this.get_height() + 2);
		}
		this.prevButton.set_x(this.prevButton.x | 0);
		this.prevButton.set_y(this.prevButton.y | 0);
		this.nextButton.set_x(this.nextButton.x | 0);
		this.nextButton.set_y(this.nextButton.y | 0);
		var highestIndex = 0;
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var widget = _g1[_g];
			++_g;
			inBounds = false;
			if(i >= this.scrollIndex) {
				if(this.stacking == 1) {
					inBounds = YY + widget.get_height() <= this.get_height() || this.get_height() <= 0;
				} else {
					inBounds = XX + widget.get_width() <= this.get_width() || this.get_width() <= 0;
				}
			}
			if(inBounds) {
				highestIndex = i;
				widget.set_visible(widget.set_active(true));
				widget.set_x(this.x + XX);
				widget.set_y(this.y + YY);
				if(this.stacking == 1) {
					YY += widget.get_height() + this.spacing;
				} else {
					XX += widget.get_width() + this.spacing;
				}
			} else {
				widget.set_x(widget.set_y(0));
				widget.set_visible(widget.set_active(false));
			}
			++i;
		}
		this.amountPrevious = this.scrollIndex;
		this.amountNext = this.group.members.length - (highestIndex + 1);
		var fuibutton;
		if(this.amountPrevious > 0) {
			this.safeAdd(this.prevButton);
			if(((this.prevButton) instanceof flixel_addons_ui_FlxUIButton)) {
				fuibutton = this.prevButton;
				fuibutton.label.set_text(this.getMoreString(this.amountPrevious));
			}
		}
		if(this.amountNext > 0) {
			this.safeAdd(this.nextButton);
			if(((this.nextButton) instanceof flixel_addons_ui_FlxUIButton)) {
				fuibutton = this.nextButton;
				fuibutton.label.set_text(this.getMoreString(this.amountNext));
			}
		}
	}
	,get_width: function() {
		return this.width;
	}
	,get_height: function() {
		return this.height;
	}
	,set_width: function(W) {
		this.width = W;
		this.refreshList();
		return W;
	}
	,set_height: function(H) {
		this.height = H;
		this.refreshList();
		return H;
	}
	,__class__: flixel_addons_ui_FlxUIList
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_moreString:"set_moreString",set_spacing:"set_spacing",set_stacking:"set_stacking",set_scrollIndex:"set_scrollIndex"})
});
var flixel_input_FlxPointer = function() {
	this._globalScreenY = 0;
	this._globalScreenX = 0;
	this.screenY = 0;
	this.screenX = 0;
	this.y = 0;
	this.x = 0;
};
$hxClasses["flixel.input.FlxPointer"] = flixel_input_FlxPointer;
flixel_input_FlxPointer.__name__ = "flixel.input.FlxPointer";
flixel_input_FlxPointer.prototype = {
	x: null
	,y: null
	,screenX: null
	,screenY: null
	,_globalScreenX: null
	,_globalScreenY: null
	,getWorldPosition: function(Camera,point) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		this.getScreenPosition(Camera,flixel_input_FlxPointer._cachedPoint);
		point.set_x(flixel_input_FlxPointer._cachedPoint.x + Camera.scroll.x);
		point.set_y(flixel_input_FlxPointer._cachedPoint.y + Camera.scroll.y);
		return point;
	}
	,getScreenPosition: function(Camera,point) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		point.set_x((this._globalScreenX - Camera.x + 0.5 * Camera.width * (Camera.zoom - Camera.initialZoom)) / Camera.zoom);
		point.set_y((this._globalScreenY - Camera.y + 0.5 * Camera.height * (Camera.zoom - Camera.initialZoom)) / Camera.zoom);
		return point;
	}
	,getPositionInCameraView: function(Camera,point) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		point.set_x((this._globalScreenX - Camera.x) / Camera.zoom + Camera.viewOffsetX);
		point.set_y((this._globalScreenY - Camera.y) / Camera.zoom + Camera.viewOffsetY);
		return point;
	}
	,getPosition: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x,this.y);
	}
	,overlaps: function(ObjectOrGroup,Camera) {
		var _gthis = this;
		var result = false;
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			group.forEachExists(function(basic) {
				if(_gthis.overlaps(basic,Camera)) {
					result = true;
					return;
				}
			});
		} else {
			this.getPosition(flixel_input_FlxPointer._cachedPoint);
			var object = ObjectOrGroup;
			result = object.overlapsPoint(flixel_input_FlxPointer._cachedPoint,true,Camera);
		}
		return result;
	}
	,setGlobalScreenPositionUnsafe: function(newX,newY) {
		this._globalScreenX = newX / flixel_FlxG.scaleMode.scale.x | 0;
		this._globalScreenY = newY / flixel_FlxG.scaleMode.scale.y | 0;
		this.updatePositions();
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1]);
	}
	,updatePositions: function() {
		this.getScreenPosition(flixel_FlxG.camera,flixel_input_FlxPointer._cachedPoint);
		this.screenX = flixel_input_FlxPointer._cachedPoint.x | 0;
		this.screenY = flixel_input_FlxPointer._cachedPoint.y | 0;
		this.getWorldPosition(flixel_FlxG.camera,flixel_input_FlxPointer._cachedPoint);
		this.x = flixel_input_FlxPointer._cachedPoint.x | 0;
		this.y = flixel_input_FlxPointer._cachedPoint.y | 0;
	}
	,__class__: flixel_input_FlxPointer
};
var flixel_input_IFlxInputManager = function() { };
$hxClasses["flixel.input.IFlxInputManager"] = flixel_input_IFlxInputManager;
flixel_input_IFlxInputManager.__name__ = "flixel.input.IFlxInputManager";
flixel_input_IFlxInputManager.__isInterface__ = true;
flixel_input_IFlxInputManager.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_IFlxInputManager.prototype = {
	reset: null
	,update: null
	,onFocus: null
	,onFocusLost: null
	,__class__: flixel_input_IFlxInputManager
};
var flixel_input_mouse_FlxMouse = function(cursorContainer) {
	this._prevY = 0;
	this._prevX = 0;
	this._lastWheel = 0;
	this._lastY = 0;
	this._lastX = 0;
	this._visibleWhenFocusLost = true;
	this._wheelUsed = false;
	this._cursor = null;
	this.useSystemCursor = false;
	this.visible = true;
	this.wheel = 0;
	this.enabled = true;
	flixel_input_FlxPointer.call(this);
	this.cursorContainer = cursorContainer;
	this.cursorContainer.mouseChildren = false;
	this.cursorContainer.mouseEnabled = false;
	this._leftButton = new flixel_input_mouse_FlxMouseButton(-1);
	this._stage = openfl_Lib.get_current().stage;
	this._stage.addEventListener("mouseDown",($_=this._leftButton,$bind($_,$_.onDown)));
	this._stage.addEventListener("mouseUp",($_=this._leftButton,$bind($_,$_.onUp)));
	this._middleButton = new flixel_input_mouse_FlxMouseButton(-2);
	this._rightButton = new flixel_input_mouse_FlxMouseButton(-3);
	this._stage.addEventListener("middleMouseDown",($_=this._middleButton,$bind($_,$_.onDown)));
	this._stage.addEventListener("middleMouseUp",($_=this._middleButton,$bind($_,$_.onUp)));
	this._stage.addEventListener("rightMouseDown",($_=this._rightButton,$bind($_,$_.onDown)));
	this._stage.addEventListener("rightMouseUp",($_=this._rightButton,$bind($_,$_.onUp)));
	this._stage.addEventListener("mouseLeave",$bind(this,this.onMouseLeave));
	this._stage.addEventListener("mouseWheel",$bind(this,this.onMouseWheel));
	flixel_FlxG.signals.postGameStart.add($bind(this,this.onGameStart));
	openfl_ui_Mouse.hide();
};
$hxClasses["flixel.input.mouse.FlxMouse"] = flixel_input_mouse_FlxMouse;
flixel_input_mouse_FlxMouse.__name__ = "flixel.input.mouse.FlxMouse";
flixel_input_mouse_FlxMouse.__interfaces__ = [flixel_input_IFlxInputManager];
flixel_input_mouse_FlxMouse.__super__ = flixel_input_FlxPointer;
flixel_input_mouse_FlxMouse.prototype = $extend(flixel_input_FlxPointer.prototype,{
	enabled: null
	,wheel: null
	,cursorContainer: null
	,visible: null
	,useSystemCursor: null
	,_leftButton: null
	,_middleButton: null
	,_rightButton: null
	,_cursor: null
	,_cursorBitmapData: null
	,_wheelUsed: null
	,_visibleWhenFocusLost: null
	,_lastX: null
	,_lastY: null
	,_lastWheel: null
	,_lastLeftButtonState: null
	,_prevX: null
	,_prevY: null
	,_stage: null
	,load: function(Graphic,Scale,XOffset,YOffset) {
		if(YOffset == null) {
			YOffset = 0;
		}
		if(XOffset == null) {
			XOffset = 0;
		}
		if(Scale == null) {
			Scale = 1;
		}
		if(this._cursor != null) {
			flixel_util_FlxDestroyUtil.removeChild(this.cursorContainer,this._cursor);
		}
		if(Graphic == null) {
			Graphic = new flixel_input_mouse__$FlxMouse_GraphicCursor(0,0);
		}
		if(js_Boot.__instanceof(Graphic,Class)) {
			this._cursor = Type.createInstance(Graphic,[]);
		} else if(((Graphic) instanceof openfl_display_BitmapData)) {
			this._cursor = new openfl_display_Bitmap(Graphic);
		} else if(typeof(Graphic) == "string") {
			var id = Graphic;
			this._cursor = new openfl_display_Bitmap(openfl_utils_Assets.exists(id) ? openfl_utils_Assets.getBitmapData(id,false) : null);
		} else {
			this._cursor = new openfl_display_Bitmap(new flixel_input_mouse__$FlxMouse_GraphicCursor(0,0));
		}
		this._cursor.set_x(XOffset);
		this._cursor.set_y(YOffset);
		this._cursor.set_scaleX(Scale);
		this._cursor.set_scaleY(Scale);
		this.cursorContainer.addChild(this._cursor);
	}
	,unload: function() {
		if(this._cursor != null) {
			if(this.cursorContainer.get_visible()) {
				this.load();
			} else {
				this._cursor = flixel_util_FlxDestroyUtil.removeChild(this.cursorContainer,this._cursor);
			}
		}
	}
	,destroy: function() {
		if(this._stage != null) {
			this._stage.removeEventListener("mouseDown",($_=this._leftButton,$bind($_,$_.onDown)));
			this._stage.removeEventListener("mouseUp",($_=this._leftButton,$bind($_,$_.onUp)));
			this._stage.removeEventListener("middleMouseDown",($_=this._middleButton,$bind($_,$_.onDown)));
			this._stage.removeEventListener("middleMouseUp",($_=this._middleButton,$bind($_,$_.onUp)));
			this._stage.removeEventListener("rightMouseDown",($_=this._rightButton,$bind($_,$_.onDown)));
			this._stage.removeEventListener("rightMouseUp",($_=this._rightButton,$bind($_,$_.onUp)));
			this._stage.removeEventListener("mouseLeave",$bind(this,this.onMouseLeave));
			this._stage.removeEventListener("mouseWheel",$bind(this,this.onMouseWheel));
		}
		this.cursorContainer = null;
		this._cursor = null;
		this._leftButton = flixel_util_FlxDestroyUtil.destroy(this._leftButton);
		this._middleButton = flixel_util_FlxDestroyUtil.destroy(this._middleButton);
		this._rightButton = flixel_util_FlxDestroyUtil.destroy(this._rightButton);
		this._cursorBitmapData = flixel_util_FlxDestroyUtil.dispose(this._cursorBitmapData);
		flixel_FlxG.signals.postGameStart.remove($bind(this,this.onGameStart));
	}
	,reset: function() {
		this._leftButton.reset();
		this._middleButton.reset();
		this._rightButton.reset();
	}
	,update: function() {
		this._prevX = this.x;
		this._prevY = this.y;
		var newX = flixel_FlxG.game.get_mouseX();
		var newY = flixel_FlxG.game.get_mouseY();
		this._globalScreenX = newX / flixel_FlxG.scaleMode.scale.x | 0;
		this._globalScreenY = newY / flixel_FlxG.scaleMode.scale.y | 0;
		this.updatePositions();
		if(this.visible) {
			this.cursorContainer.set_x(flixel_FlxG.game.get_mouseX());
			this.cursorContainer.set_y(flixel_FlxG.game.get_mouseY());
		}
		this._leftButton.update();
		this._middleButton.update();
		this._rightButton.update();
		if(!this._wheelUsed) {
			this.wheel = 0;
		}
		this._wheelUsed = false;
	}
	,onFocus: function() {
		this.reset();
		this.set_useSystemCursor(this.useSystemCursor);
		this.set_visible(this._visibleWhenFocusLost);
	}
	,onFocusLost: function() {
		this._visibleWhenFocusLost = this.visible;
		if(this.visible) {
			this.set_visible(false);
		}
		openfl_ui_Mouse.show();
	}
	,onGameStart: function() {
		this.set_visible(this.visible);
	}
	,onMouseWheel: function(flashEvent) {
		if(this.enabled) {
			this._wheelUsed = true;
			this.wheel = flashEvent.delta;
		}
	}
	,onMouseLeave: function(_) {
		this._rightButton.onUp();
		this._middleButton.onUp();
	}
	,get_justMoved: function() {
		if(this._prevX == this.x) {
			return this._prevY != this.y;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		var _this = this._leftButton;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this._leftButton.current == 2;
	}
	,get_justReleased: function() {
		return this._leftButton.current == -1;
	}
	,get_justPressedTimeInTicks: function() {
		return this._leftButton.justPressedTimeInTicks;
	}
	,get_pressedRight: function() {
		var _this = this._rightButton;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressedRight: function() {
		return this._rightButton.current == 2;
	}
	,get_justReleasedRight: function() {
		return this._rightButton.current == -1;
	}
	,get_justPressedTimeInTicksRight: function() {
		return this._rightButton.justPressedTimeInTicks;
	}
	,get_pressedMiddle: function() {
		var _this = this._middleButton;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressedMiddle: function() {
		return this._middleButton.current == 2;
	}
	,get_justReleasedMiddle: function() {
		return this._middleButton.current == -1;
	}
	,get_justPressedTimeInTicksMiddle: function() {
		return this._middleButton.justPressedTimeInTicks;
	}
	,showSystemCursor: function() {
		this.cursorContainer.set_visible(false);
		openfl_ui_Mouse.show();
	}
	,hideSystemCursor: function() {
		openfl_ui_Mouse.hide();
		if(this.visible) {
			this.cursorContainer.set_visible(true);
		}
	}
	,set_useSystemCursor: function(value) {
		if(value) {
			this.showSystemCursor();
		} else {
			this.hideSystemCursor();
		}
		return this.useSystemCursor = value;
	}
	,showCursor: function() {
		if(this.useSystemCursor) {
			openfl_ui_Mouse.show();
		} else {
			if(this._cursor == null) {
				this.load();
			}
			this.cursorContainer.set_visible(true);
			openfl_ui_Mouse.hide();
		}
	}
	,hideCursor: function() {
		this.cursorContainer.set_visible(false);
		openfl_ui_Mouse.hide();
	}
	,set_visible: function(value) {
		if(value) {
			this.showCursor();
		} else {
			this.hideCursor();
		}
		return this.visible = value;
	}
	,record: function() {
		if(this._lastX == this._globalScreenX && this._lastY == this._globalScreenY && this._lastLeftButtonState == this._leftButton.current && this._lastWheel == this.wheel) {
			return null;
		}
		this._lastX = this._globalScreenX;
		this._lastY = this._globalScreenY;
		this._lastLeftButtonState = this._leftButton.current;
		this._lastWheel = this.wheel;
		return new flixel_system_replay_MouseRecord(this._lastX,this._lastY,this._leftButton.current,this._lastWheel);
	}
	,playback: function(record) {
		if((this._lastLeftButtonState == 1 || this._lastLeftButtonState == 2) && (record.button == 0 || record.button == -1)) {
			this._stage.dispatchEvent(new openfl_events_MouseEvent("mouseUp",true,false,record.x,record.y));
		}
		this._lastLeftButtonState = this._leftButton.current = record.button;
		this.wheel = record.wheel;
		this._globalScreenX = record.x;
		this._globalScreenY = record.y;
		this.updatePositions();
	}
	,__class__: flixel_input_mouse_FlxMouse
	,__properties__: {get_justPressedTimeInTicksMiddle:"get_justPressedTimeInTicksMiddle",get_justReleasedMiddle:"get_justReleasedMiddle",get_justPressedMiddle:"get_justPressedMiddle",get_pressedMiddle:"get_pressedMiddle",get_justPressedTimeInTicksRight:"get_justPressedTimeInTicksRight",get_justReleasedRight:"get_justReleasedRight",get_justPressedRight:"get_justPressedRight",get_pressedRight:"get_pressedRight",get_justPressedTimeInTicks:"get_justPressedTimeInTicks",get_justReleased:"get_justReleased",get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_justMoved:"get_justMoved",set_useSystemCursor:"set_useSystemCursor",set_visible:"set_visible"}
});
var flixel_addons_ui_FlxUIMouse = function(CursorContainer) {
	this.updateGlobalScreenPosition = true;
	flixel_input_mouse_FlxMouse.call(this,CursorContainer);
};
$hxClasses["flixel.addons.ui.FlxUIMouse"] = flixel_addons_ui_FlxUIMouse;
flixel_addons_ui_FlxUIMouse.__name__ = "flixel.addons.ui.FlxUIMouse";
flixel_addons_ui_FlxUIMouse.__super__ = flixel_input_mouse_FlxMouse;
flixel_addons_ui_FlxUIMouse.prototype = $extend(flixel_input_mouse_FlxMouse.prototype,{
	updateGlobalScreenPosition: null
	,update: function() {
		var oldScreenX = this._globalScreenX;
		var oldScreenY = this._globalScreenY;
		flixel_input_mouse_FlxMouse.prototype.update.call(this);
		if(!this.updateGlobalScreenPosition) {
			this._globalScreenX = oldScreenX;
			this._globalScreenY = oldScreenY;
		}
	}
	,__class__: flixel_addons_ui_FlxUIMouse
});
var flixel_addons_ui_FlxUINumericStepper = function(X,Y,StepSize,DefaultValue,Min,Max,Decimals,Stack,TextField,ButtonPlus,ButtonMinus,IsPercent) {
	if(IsPercent == null) {
		IsPercent = false;
	}
	if(Stack == null) {
		Stack = 1;
	}
	if(Decimals == null) {
		Decimals = 0;
	}
	if(Max == null) {
		Max = 999;
	}
	if(Min == null) {
		Min = -999;
	}
	if(DefaultValue == null) {
		DefaultValue = 0;
	}
	if(StepSize == null) {
		StepSize = 1;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.isPercent = false;
	this.stack = 1;
	this.value = 0;
	this.max = 10;
	this.min = 0;
	this.decimals = 0;
	this.stepSize = 0;
	flixel_addons_ui_FlxUIGroup.call(this,X,Y);
	if(TextField == null) {
		TextField = new flixel_addons_ui_FlxUIInputText(0,0,25);
	}
	TextField.set_x(0);
	TextField.set_y(0);
	this.text_field = TextField;
	this.text_field.set_text(DefaultValue == null ? "null" : "" + DefaultValue);
	if(((this.text_field) instanceof flixel_addons_ui_FlxUIInputText)) {
		var fuit = this.text_field;
		fuit.set_lines(1);
		fuit.callback = $bind(this,this._onInputTextEvent);
		fuit.broadcastToFlxUI = false;
	}
	this.stepSize = StepSize;
	this.set_decimals(Decimals);
	this.set_min(Min);
	this.set_max(Max);
	this.set_value(DefaultValue);
	this.set_isPercent(IsPercent);
	var btnSize = 1 + TextField.get_height();
	if(ButtonPlus == null) {
		ButtonPlus = new flixel_addons_ui_FlxUITypedButton(0,0);
		ButtonPlus.loadGraphicSlice9(["flixel/flixel-ui/img/button_thin.png"],btnSize,btnSize,[flixel_util_FlxStringUtil.toIntArray("2,2,15,15")],0,-1,false,18,18);
		ButtonPlus.set_label(new flixel_FlxSprite(0,0,"flixel/flixel-ui/img/plus_mark.png"));
	}
	if(ButtonMinus == null) {
		ButtonMinus = new flixel_addons_ui_FlxUITypedButton(0,0);
		ButtonMinus.loadGraphicSlice9(["flixel/flixel-ui/img/button_thin.png"],btnSize,btnSize,[flixel_util_FlxStringUtil.toIntArray("2,2,15,15")],0,-1,false,18,18);
		ButtonMinus.set_label(new flixel_FlxSprite(0,0,"flixel/flixel-ui/img/minus_mark.png"));
	}
	this.button_plus = ButtonPlus;
	this.button_minus = ButtonMinus;
	this.add(this.text_field);
	this.add(this.button_plus);
	this.add(this.button_minus);
	this.button_plus.onUp.callback = $bind(this,this._onPlus);
	this.button_plus.broadcastToFlxUI = false;
	this.button_minus.onUp.callback = $bind(this,this._onMinus);
	this.button_minus.broadcastToFlxUI = false;
	this.set_stack(Stack);
};
$hxClasses["flixel.addons.ui.FlxUINumericStepper"] = flixel_addons_ui_FlxUINumericStepper;
flixel_addons_ui_FlxUINumericStepper.__name__ = "flixel.addons.ui.FlxUINumericStepper";
flixel_addons_ui_FlxUINumericStepper.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_FlxUINumericStepper.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUINumericStepper.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	button_plus: null
	,button_minus: null
	,text_field: null
	,stepSize: null
	,decimals: null
	,min: null
	,max: null
	,value: null
	,stack: null
	,isPercent: null
	,params: null
	,set_params: function(p) {
		this.params = p;
		return this.params;
	}
	,skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		this.button_plus.set_skipButtonUpdate(b);
		this.button_minus.set_skipButtonUpdate(b);
		return b;
	}
	,set_color: function(Value) {
		this.color = Value;
		this.button_plus.set_color(Value);
		this.button_minus.set_color(Value);
		if(((this.text_field) instanceof flixel_addons_ui_FlxInputText)) {
			var fit = this.text_field;
			fit.set_backgroundColor(Value);
		} else {
			this.text_field.set_color(Value);
		}
		return Value;
	}
	,set_min: function(f) {
		this.min = f;
		if(this.value < this.min) {
			this.set_value(this.min);
		}
		return this.min;
	}
	,set_max: function(f) {
		this.max = f;
		if(this.value > this.max) {
			this.set_value(this.max);
		}
		return this.max;
	}
	,set_value: function(f) {
		this.value = f;
		if(this.value < this.min) {
			this.value = this.min;
		}
		if(this.value > this.max) {
			this.value = this.max;
		}
		if(this.text_field != null) {
			var displayValue = this.value;
			if(this.isPercent) {
				displayValue *= 100;
				var tens = Math.pow(10,this.decimals);
				this.text_field.set_text(Std.string(Std.string(Math.round(displayValue * tens) / tens)) + "%");
			} else {
				var tens = Math.pow(10,this.decimals);
				this.text_field.set_text(Std.string(Math.round(displayValue * tens) / tens));
			}
		}
		return this.value;
	}
	,set_decimals: function(i) {
		this.decimals = i;
		if(i < 0) {
			this.decimals = 0;
		}
		this.set_value(this.value);
		return this.decimals;
	}
	,set_isPercent: function(b) {
		this.isPercent = b;
		this.set_value(this.value);
		return this.isPercent;
	}
	,set_stack: function(s) {
		this.stack = s;
		var btnSize = 10;
		var offsetX = 0;
		var offsetY = 0;
		if(((this.text_field) instanceof flixel_addons_ui_FlxUIInputText)) {
			offsetX = 1;
			offsetY = 1;
		}
		switch(this.stack) {
		case 0:
			btnSize = 1 + this.text_field.get_height() / 2;
			if(this.button_plus.get_height() != btnSize) {
				this.button_plus.resize(btnSize,btnSize);
			}
			if(this.button_minus.get_height() != btnSize) {
				this.button_minus.resize(btnSize,btnSize);
			}
			this.button_plus.set_x(offsetX + this.text_field.x + this.text_field.get_width());
			this.button_plus.set_y(-offsetY + this.text_field.y);
			this.button_minus.set_x(offsetX + this.text_field.x + this.text_field.get_width());
			this.button_minus.set_y(offsetY + this.text_field.y + (this.text_field.get_height() - this.button_minus.get_height()));
			break;
		case 1:
			btnSize = 2 + this.text_field.get_height();
			if(this.button_plus.get_height() != btnSize) {
				this.button_plus.resize(btnSize,btnSize);
			}
			if(this.button_minus.get_height() != btnSize) {
				this.button_minus.resize(btnSize,btnSize);
			}
			this.button_plus.set_x(offsetX + this.text_field.x + this.text_field.get_width());
			this.button_plus.set_y(-offsetY + this.text_field.y);
			this.button_minus.set_x(this.button_plus.x + this.button_plus.get_width());
			this.button_minus.set_y(this.button_plus.y);
			break;
		}
		return this.stack;
	}
	,decimalize: function(f,digits) {
		var tens = Math.pow(10,digits);
		return Std.string(Math.round(f * tens) / tens);
	}
	,_onInputTextEvent: function(text,action) {
		if(text == "") {
			text = Std.string(this.min);
		}
		var numDecimals = 0;
		var _g = 0;
		var _g1 = text.length;
		while(_g < _g1) {
			var i = _g++;
			var char = text.charAt(i);
			if(char == ".") {
				++numDecimals;
			}
		}
		var justAddedDecimal = numDecimals == 1 && text.indexOf(".") == text.length - 1;
		if(!justAddedDecimal) {
			this.set_value(parseFloat(text));
			this._doCallback("edit_numeric_stepper");
			this._doCallback("change_numeric_stepper");
		}
	}
	,_onPlus: function() {
		this.set_value(this.value + this.stepSize);
		this._doCallback("click_numeric_stepper");
		this._doCallback("change_numeric_stepper");
	}
	,_onMinus: function() {
		this.set_value(this.value - this.stepSize);
		this._doCallback("click_numeric_stepper");
		this._doCallback("change_numeric_stepper");
	}
	,_doCallback: function(event_name) {
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event(event_name,this,this.value,this.params);
		}
	}
	,__class__: flixel_addons_ui_FlxUINumericStepper
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_skipButtonUpdate:"set_skipButtonUpdate",set_params:"set_params",set_isPercent:"set_isPercent",set_stack:"set_stack",set_value:"set_value",set_max:"set_max",set_min:"set_min",set_decimals:"set_decimals"})
});
var flixel_addons_ui_FlxUIRadioGroup = function(X,Y,ids_,labels_,callback_,y_space_,width_,height_,label_width_,MoreString,PrevButtonOffset,NextButtonOffset,PrevButton,NextButton) {
	if(MoreString == null) {
		MoreString = "<X> more...";
	}
	if(label_width_ == null) {
		label_width_ = 100;
	}
	if(height_ == null) {
		height_ = 20;
	}
	if(width_ == null) {
		width_ = 100;
	}
	if(y_space_ == null) {
		y_space_ = 25;
	}
	this._clickable = true;
	this._selected = 0;
	this._y_space = 25;
	this._height = 20;
	this._width = 100;
	this._label_width = 100;
	this.fixedSize = false;
	flixel_addons_ui_FlxUIGroup.call(this);
	this._y_space = y_space_;
	this._width = width_;
	this._height = height_;
	this._label_width = label_width_;
	if(ids_ == null) {
		ids_ = [];
	}
	if(labels_ == null) {
		labels_ = [];
	}
	this.callback = callback_;
	this._list_radios = [];
	this._list_active = [];
	this._list = new flixel_addons_ui_FlxUIList(0,0,null,0,0,MoreString,1,0,PrevButtonOffset,NextButtonOffset,PrevButton,NextButton);
	this.add(this._list);
	this.updateRadios(ids_,labels_);
	this.loadGraphics(null,null);
	this.set_x(X);
	this.set_y(Y);
};
$hxClasses["flixel.addons.ui.FlxUIRadioGroup"] = flixel_addons_ui_FlxUIRadioGroup;
flixel_addons_ui_FlxUIRadioGroup.__name__ = "flixel.addons.ui.FlxUIRadioGroup";
flixel_addons_ui_FlxUIRadioGroup.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIClickable];
flixel_addons_ui_FlxUIRadioGroup.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUIRadioGroup.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	activeStyle: null
	,set_activeStyle: function(b) {
		this.activeStyle = b;
		this.updateActives();
		return this.activeStyle;
	}
	,inactiveStyle: null
	,set_inactiveStyle: function(b) {
		this.inactiveStyle = b;
		this.updateActives();
		return this.inactiveStyle;
	}
	,get_numRadios: function() {
		return this._list_radios.length;
	}
	,skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var fcb = _g1[_g];
			++_g;
			fcb.set_skipButtonUpdate(b);
		}
		return this.skipButtonUpdate;
	}
	,callback: null
	,params: null
	,set_params: function(p) {
		this.params = p;
		return this.params;
	}
	,fixedSize: null
	,set_width: function(Value) {
		flixel_addons_ui_FlxUIGroup.prototype.set_width.call(this,Value);
		if(this.fixedSize) {
			if(this._list != null) {
				this._list.set_width(Value);
			}
		}
		return Value;
	}
	,set_height: function(Value) {
		flixel_addons_ui_FlxUIGroup.prototype.set_height.call(this,Value);
		if(this.fixedSize) {
			if(this._list != null) {
				this._list.set_height(Value);
			}
		}
		return Value;
	}
	,loadGraphics: function(Box,Dot) {
		if(Box != null) {
			this._box_asset = Box;
		} else {
			this._box_asset = "flixel/flixel-ui/img/radio.png";
		}
		if(Dot != null) {
			this._dot_asset = Dot;
		} else {
			this._dot_asset = "flixel/flixel-ui/img/radio_dot.png";
		}
		if(((this._box_asset) instanceof flixel_FlxSprite)) {
			var fs = this._box_asset;
			this._box_asset = fs.graphic.key;
		}
		if(((this._dot_asset) instanceof flixel_FlxSprite)) {
			var fs = this._dot_asset;
			this._dot_asset = fs.graphic.key;
		}
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.box.loadGraphic(this._box_asset,true);
			c.mark.loadGraphic(this._dot_asset);
		}
		this._refreshRadios();
	}
	,destroy: function() {
		if(this._list_radios != null) {
			flixel_addons_ui_U.clearArray(this._list_radios);
		}
		if(this._list_active != null) {
			flixel_addons_ui_U.clearArray(this._list_active);
		}
		this._list_active = null;
		this._list_radios = null;
		this._list = null;
		this._ids = null;
		this._labels = null;
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
	}
	,updateLabel: function(i,label_) {
		if(i >= this._list_radios.length) {
			return false;
		}
		this._labels[i] = label_;
		var c = this._list_radios[i];
		if(c != null) {
			c.button.set_width(this._label_width);
			c.set_text(label_);
		}
		return true;
	}
	,updateId: function(i,id_) {
		if(i >= this._list_radios.length) {
			return false;
		}
		this._ids[i] = id_;
		return true;
	}
	,show: function(b) {
		var _g = 0;
		var _g1 = this._list.group.members;
		while(_g < _g1.length) {
			var fo = _g1[_g];
			++_g;
			fo.set_visible(b);
		}
	}
	,updateRadios: function(ids_,labels_) {
		this._ids = ids_;
		this._labels = labels_;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_visible(false);
		}
		this._refreshRadios();
	}
	,getRadios: function() {
		return this._list_radios;
	}
	,getLabel: function(i) {
		if(i >= 0 && i < this._labels.length) {
			return this._labels[i];
		}
		return null;
	}
	,getId: function(i) {
		if(i >= 0 && i < this._ids.length) {
			return this._ids[i];
		}
		return null;
	}
	,getIsVisible: function(i) {
		if(i >= 0 && i < this._list_radios.length) {
			return this._list_radios[i].visible;
		}
		return false;
	}
	,get_clickable: function() {
		return this._clickable;
	}
	,set_clickable: function(b) {
		this._clickable = b;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_active(b);
		}
		return this._clickable;
	}
	,get_selectedIndex: function() {
		return this._selected;
	}
	,set_selectedIndex: function(i) {
		this._selected = i;
		var j = 0;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_checked(false);
			if(j == i) {
				c.set_checked(true);
			}
			++j;
		}
		if(this._selected < 0 || this._selected >= this._list_radios.length) {
			this._selected = -1;
		}
		return this._selected;
	}
	,get_selectedLabel: function() {
		return this._labels[this._selected];
	}
	,set_selectedLabel: function(str) {
		var i = 0;
		this._selected = -1;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_checked(false);
			if(this._labels[i] == str) {
				this._selected = i;
				c.set_checked(true);
			}
			++i;
		}
		if(this._selected >= 0 && this._selected < this._labels.length) {
			return this._labels[this._selected];
		}
		return null;
	}
	,get_selectedId: function() {
		return this._ids[this._selected];
	}
	,set_selectedId: function(str) {
		var i = 0;
		this._selected = -1;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_checked(false);
			if(this._ids[i] == str) {
				this._selected = i;
				c.set_checked(true);
			}
			++i;
		}
		if(this._selected >= 0 && this._selected < this._ids.length) {
			return this._ids[this._selected];
		}
		return null;
	}
	,setLineScroll: function(scroll,max_items) {
		this._list.set_scrollIndex(scroll);
		if(max_items != null) {
			if(this._list.stacking == 1) {
				this.set_height(this._y_space * max_items + 1);
			}
		}
		var X = this._list.amountPrevious;
		var Y = this._list.amountNext;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		return point;
	}
	,setRadioActive: function(i,b) {
		if(i >= 0 && i < this._list_active.length) {
			this._list_active[i] = b;
		}
		this.updateActives();
	}
	,_list_active: null
	,_list: null
	,_box_asset: null
	,_dot_asset: null
	,_labels: null
	,_ids: null
	,_label_width: null
	,_width: null
	,_height: null
	,_y_space: null
	,_selected: null
	,_clickable: null
	,_list_radios: null
	,_refreshRadios: function() {
		var xx = this.x;
		var yy = this.y;
		var i = 0;
		var maxX = 0;
		var maxY = 0;
		this._list._skipRefresh = true;
		var _g = 0;
		var _g1 = this._ids;
		while(_g < _g1.length) {
			var id = _g1[_g];
			++_g;
			var label = "";
			if(this._labels != null && this._labels.length > i) {
				label = this._labels[i];
			} else {
				label = "<" + id + ">";
			}
			var c;
			if(this._list_radios.length > i) {
				c = this._list_radios[i];
				c.set_visible(true);
				c.set_text(label);
				if(i == 0) {
					xx = c.x;
					yy = c.y;
				} else {
					c.set_x(xx | 0);
					c.set_y(yy | 0);
				}
			} else {
				c = new flixel_addons_ui_FlxUICheckBox(0,0,this._box_asset,this._dot_asset,label,this._label_width,[id,false]);
				c.broadcastToFlxUI = false;
				c.callback = (function(_g,checkBox) {
					return function() {
						_g[0](checkBox[0]);
					};
				})([$bind(this,this._onCheckBoxEvent)],[c]);
				this._list.add(c);
				c.set_x(xx | 0);
				c.set_y(yy | 0);
				c.set_text(label);
				if(this._list_radios.length > 0) {
					c.button.copyStyle(this._list_radios[0].button);
					if(this.activeStyle == null) {
						this.set_activeStyle(this.makeActiveStyle());
					}
					c.button.set_width(this._list_radios[0].button.get_width());
					c.button.set_height(this._list_radios[0].button.get_height());
					c.set_textX(this._list_radios[0].textX);
					c.set_textY(this._list_radios[0].textY);
				}
				this._list_radios.push(c);
				this._list_active.push(true);
			}
			if(xx + c.get_width() > maxX) {
				maxX = xx + c.get_width();
			}
			if(yy + c.get_height() > maxY) {
				maxY = yy + c.get_height();
			}
			yy += this._y_space;
			++i;
		}
		if(this.fixedSize == false) {
			maxX += 5;
			maxY += 5;
			if(maxX > this._list.get_width()) {
				this._list.set_width(maxX);
			}
			if(maxY > this._list.get_height()) {
				this._list.set_height(maxY);
			}
			this.set_width(maxX);
			this.set_height(maxY);
		}
		this._list._skipRefresh = false;
		if(this.fixedSize == true) {
			this._list.refreshList();
		}
		this.updateActives();
	}
	,updateActives: function() {
		var i = 0;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var r = _g1[_g];
			++_g;
			r.set_active(this._list_active[i]);
			if(this._list_active[i] == false && this.inactiveStyle != null) {
				this.inactiveStyle.applyToCheck(r);
			} else if(this._list_active[i] == true && this.activeStyle != null) {
				this.activeStyle.applyToCheck(r);
			}
			++i;
		}
	}
	,makeActiveStyle: function() {
		if(this._list_radios.length > 0) {
			var btn = this._list_radios[0].button;
			var t = btn.label;
			var fd = flixel_addons_ui_FontDef.copyFromFlxText(t);
			var bd = new flixel_addons_ui_BorderDef(t.borderStyle,t.borderColor,t.borderSize,t.borderQuality);
			var cs = new flixel_addons_ui_CheckStyle(16777215,fd,flixel_text_FlxTextAlign.fromOpenFL(t._defaultFormat.align),t.color,bd);
			return cs;
		}
		return null;
	}
	,_onCheckBoxEvent: function(checkBox) {
		this._onClick(checkBox,true);
	}
	,_onClick: function(checkBox,doCallback) {
		if(!this._clickable) {
			return false;
		}
		var i = 0;
		var _g = 0;
		var _g1 = this._list_radios;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			c.set_checked(false);
			if(checkBox == c) {
				this._selected = i;
				c.set_checked(true);
			}
			++i;
		}
		if(doCallback) {
			if(this.callback != null) {
				this.callback(this.get_selectedId());
			}
			if(this.broadcastToFlxUI) {
				flixel_addons_ui_FlxUI.event("click_radio_group",this,this._ids[this._selected],this.params);
			}
		}
		return true;
	}
	,__class__: flixel_addons_ui_FlxUIRadioGroup
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_params:"set_params",set_skipButtonUpdate:"set_skipButtonUpdate",get_numRadios:"get_numRadios",set_inactiveStyle:"set_inactiveStyle",set_activeStyle:"set_activeStyle",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_selectedLabel:"set_selectedLabel",get_selectedLabel:"get_selectedLabel",set_selectedId:"set_selectedId",get_selectedId:"get_selectedId",set_clickable:"set_clickable",get_clickable:"get_clickable"})
});
var flixel_addons_ui_CheckStyle = function(CheckColor,Font,Align,Color,Border) {
	this.checkColor = null;
	this.checkColor = CheckColor;
	flixel_addons_ui_ButtonLabelStyle.call(this,Font,Align,Color,Border);
};
$hxClasses["flixel.addons.ui.CheckStyle"] = flixel_addons_ui_CheckStyle;
flixel_addons_ui_CheckStyle.__name__ = "flixel.addons.ui.CheckStyle";
flixel_addons_ui_CheckStyle.__super__ = flixel_addons_ui_ButtonLabelStyle;
flixel_addons_ui_CheckStyle.prototype = $extend(flixel_addons_ui_ButtonLabelStyle.prototype,{
	checkColor: null
	,applyToCheck: function(c) {
		if(this.checkColor != null) {
			c.set_color(this.checkColor);
		}
		this.apply(c.button.label);
	}
	,__class__: flixel_addons_ui_CheckStyle
});
var flixel_addons_ui_FlxUIRegion = function(X,Y,W,H) {
	if(H == null) {
		H = 16;
	}
	if(W == null) {
		W = 16;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.broadcastToFlxUI = true;
	flixel_FlxSprite.call(this,X,Y);
	this.makeGraphic(1,1,0);
	if(H < 1) {
		H = 1;
	}
	if(W < 1) {
		W = 1;
	}
	this.resize(W,H);
};
$hxClasses["flixel.addons.ui.FlxUIRegion"] = flixel_addons_ui_FlxUIRegion;
flixel_addons_ui_FlxUIRegion.__name__ = "flixel.addons.ui.FlxUIRegion";
flixel_addons_ui_FlxUIRegion.__interfaces__ = [flixel_addons_ui_interfaces_IResizable,flixel_addons_ui_interfaces_IFlxUIWidget];
flixel_addons_ui_FlxUIRegion.__super__ = flixel_FlxSprite;
flixel_addons_ui_FlxUIRegion.prototype = $extend(flixel_FlxSprite.prototype,{
	broadcastToFlxUI: null
	,name: null
	,resize: function(w,h) {
		this.set_width(w);
		this.set_height(h);
	}
	,__class__: flixel_addons_ui_FlxUIRegion
});
var flixel_addons_ui_FlxUISpriteButton = function(X,Y,Asset,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	flixel_addons_ui_FlxUITypedButton.call(this,X,Y,OnClick);
	this.up_color = this.over_color = this.down_color = this.up_toggle_color = this.over_toggle_color = this.down_toggle_color = -1;
	if(Asset != null) {
		this.set_label(Asset);
	}
};
$hxClasses["flixel.addons.ui.FlxUISpriteButton"] = flixel_addons_ui_FlxUISpriteButton;
flixel_addons_ui_FlxUISpriteButton.__name__ = "flixel.addons.ui.FlxUISpriteButton";
flixel_addons_ui_FlxUISpriteButton.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIButton];
flixel_addons_ui_FlxUISpriteButton.__super__ = flixel_addons_ui_FlxUITypedButton;
flixel_addons_ui_FlxUISpriteButton.prototype = $extend(flixel_addons_ui_FlxUITypedButton.prototype,{
	resize: function(W,H) {
		flixel_addons_ui_FlxUITypedButton.prototype.resize.call(this,W,H);
		this.autoCenterLabel();
	}
	,autoCenterLabel: function() {
		if(this.label != null) {
			if(((this.label) instanceof flixel_group_FlxTypedSpriteGroup)) {
				var g = this.label;
				var _g = 0;
				var _g1 = g.group.members;
				while(_g < _g1.length) {
					var sprite = _g1[_g];
					++_g;
					sprite.set_x(-sprite.get_width() / 2);
					sprite.set_y(-sprite.get_height() / 2);
				}
				var W = g.get_width();
				var H = g.get_height();
				var _g = 0;
				var _g1 = g.group.members;
				while(_g < _g1.length) {
					var sprite = _g1[_g];
					++_g;
					sprite.set_x((W - sprite.get_width()) / 2);
					sprite.set_y((H - sprite.get_height()) / 2);
				}
			}
			flixel_addons_ui_FlxUITypedButton.prototype.autoCenterLabel.call(this);
		}
	}
	,__class__: flixel_addons_ui_FlxUISpriteButton
});
var flixel_addons_ui_FlxUISubState = function(BGColor) {
	if(BGColor == null) {
		BGColor = 0;
	}
	this.getTextFallback = null;
	this._reload_countdown = 0;
	this._reload = false;
	this.reload_ui_on_resize = false;
	this._xml_id = "";
	this.cursor = null;
	flixel_FlxSubState.call(this,BGColor);
};
$hxClasses["flixel.addons.ui.FlxUISubState"] = flixel_addons_ui_FlxUISubState;
flixel_addons_ui_FlxUISubState.__name__ = "flixel.addons.ui.FlxUISubState";
flixel_addons_ui_FlxUISubState.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIState];
flixel_addons_ui_FlxUISubState.__super__ = flixel_FlxSubState;
flixel_addons_ui_FlxUISubState.prototype = $extend(flixel_FlxSubState.prototype,{
	destroyed: null
	,cursor: null
	,_makeCursor: null
	,tooltips: null
	,_xml_id: null
	,_ui: null
	,_tongue: null
	,reload_ui_on_resize: null
	,_reload: null
	,_reload_countdown: null
	,getTextFallback: null
	,forceScrollFactor: function(X,Y) {
		if(this._ui != null) {
			var _g = 0;
			var _g1 = this._ui.group.members;
			while(_g < _g1.length) {
				var w = _g1[_g];
				++_g;
				w.scrollFactor.set(X,Y);
			}
			if(this._ui.scrollFactor != null) {
				this._ui.scrollFactor.set(X,Y);
			}
		}
	}
	,forceFocus: function(b,thing) {
		if(this._ui != null) {
			if(b) {
				this._ui.set_focus(thing);
			} else {
				this._ui.set_focus(null);
			}
		}
	}
	,create: function() {
		if(flixel_addons_ui_FlxUIState.static_tongue != null) {
			this._tongue = flixel_addons_ui_FlxUIState.static_tongue;
		}
		if(this._makeCursor == true) {
			this.cursor = this.createCursor();
		}
		this.tooltips = new flixel_addons_ui_FlxUITooltipManager(null,this);
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		this._ui.getTextFallback = this.getTextFallback;
		if(this._xml_id != "" && this._xml_id != null) {
			var data = flixel_addons_ui_U.xml(this._xml_id);
			if(data == null) {
				data = flixel_addons_ui_U.xml(this._xml_id,"xml",true,"");
			}
			if(data != null) {
				this._ui.load(data);
			}
		} else {
			this._ui.load(null);
		}
		if(this.cursor != null && this._ui != null) {
			this.add(this.cursor);
			this.cursor.addWidgetsFromUI(this._ui);
			this.cursor.findVisibleLocation(0);
		}
		flixel_FlxG.mouse.set_visible(true);
		this.tooltips.init();
		flixel_FlxSubState.prototype.create.call(this);
		this.cleanup();
		if(((this._parentState) instanceof flixel_addons_ui_FlxUIState)) {
			this.reload_ui_on_resize = (js_Boot.__cast(this._parentState , flixel_addons_ui_FlxUIState)).reload_ui_on_resize;
		}
	}
	,onCursorEvent: function(code,target) {
		this.getEvent(code,target,null);
	}
	,onShowTooltip: function(t) {
	}
	,onResize: function(Width,Height) {
		if(this.reload_ui_on_resize) {
			flixel_FlxG.scaleMode.onMeasure(Width,Height);
			this._reload_countdown = 5;
			this._reload = true;
		}
	}
	,update: function(elapsed) {
		flixel_FlxSubState.prototype.update.call(this,elapsed);
		this.tooltips.update(elapsed);
		if(this._reload) {
			if(this._reload_countdown > 0) {
				this._reload_countdown--;
				if(this._reload_countdown == 0) {
					this.reloadUI();
				}
			}
		}
	}
	,destroy: function() {
		this.destroyed = true;
		if(this.tooltips != null) {
			this.tooltips.destroy();
			this.tooltips = null;
		}
		if(this._ui != null) {
			this._ui.destroy();
			this.remove(this._ui,true);
			this._ui = null;
		}
		flixel_FlxSubState.prototype.destroy.call(this);
	}
	,getEvent: function(id,sender,data,params) {
	}
	,getRequest: function(id,sender,data,params) {
		return null;
	}
	,getText: function(Flag,Context,Safe) {
		if(Safe == null) {
			Safe = true;
		}
		if(Context == null) {
			Context = "ui";
		}
		if(this._tongue != null) {
			return this._tongue.get(Flag,Context,Safe);
		}
		if(this.getTextFallback != null) {
			return this.getTextFallback(Flag,Context,Safe);
		}
		return Flag;
	}
	,cleanup: function() {
		this._ui.cleanup();
	}
	,createCursor: function() {
		return new flixel_addons_ui_FlxUICursor($bind(this,this.onCursorEvent));
	}
	,createUI: function(data,ptr,superIndex_,tongue_,liveFilePath_) {
		if(liveFilePath_ == null) {
			liveFilePath_ = "";
		}
		return new flixel_addons_ui_FlxUI(data,ptr,superIndex_,tongue_,liveFilePath_);
	}
	,reloadUI: function() {
		if(this._ui != null) {
			this.remove(this._ui,true);
			this._ui.destroy();
			this._ui = null;
		}
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		var data = flixel_addons_ui_U.xml(this._xml_id);
		this._ui.load(data);
		this._reload = false;
		this._reload_countdown = 0;
	}
	,__class__: flixel_addons_ui_FlxUISubState
});
var flixel_addons_ui_FlxUITabMenu = function(back_,tabs_,tab_names_and_labels_,tab_offset,stretch_tabs,tab_spacing,tab_stacking) {
	if(stretch_tabs == null) {
		stretch_tabs = false;
	}
	this._selected_tab = -1;
	this._selected_tab_id = "";
	this._tab_offset = null;
	this._tab_stacking = null;
	this._tab_spacing = null;
	this._stretch_tabs = false;
	flixel_addons_ui_FlxUIGroup.call(this);
	if(back_ == null) {
		back_ = new flixel_addons_ui_FlxUI9SliceSprite(0,0,"flixel/flixel-ui/img/chrome_flat.png",new openfl_geom_Rectangle(0,0,200,200));
	}
	this._back = back_;
	this.add(this._back);
	if(tabs_ == null) {
		if(tab_names_and_labels_ != null) {
			tabs_ = [];
			var _g = 0;
			while(_g < tab_names_and_labels_.length) {
				var tdata = tab_names_and_labels_[_g];
				++_g;
				var fb = new flixel_addons_ui_FlxUIButton(0,0,tdata.label);
				fb.up_color = 16777215;
				fb.down_color = 16777215;
				fb.over_color = 16777215;
				fb.up_toggle_color = 16777215;
				fb.down_toggle_color = 16777215;
				fb.over_toggle_color = 16777215;
				fb.label.set_color(16777215);
				var _this = fb.label;
				_this.set_borderStyle(flixel_text_FlxTextBorderStyle.OUTLINE);
				_this.set_borderColor(0);
				_this.set_borderSize(1);
				_this.set_borderQuality(1);
				fb.name = tdata.name;
				var graphic_names = ["flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab_back.png","flixel/flixel-ui/img/tab.png","flixel/flixel-ui/img/tab.png","flixel/flixel-ui/img/tab.png"];
				var slice9tab = flixel_util_FlxStringUtil.toIntArray("6,6,11,11");
				var slice9_names = [slice9tab,slice9tab,slice9tab,slice9tab,slice9tab,slice9tab];
				fb.loadGraphicSlice9(graphic_names,0,0,slice9_names,0,-1,true);
				tabs_.push(fb);
			}
		}
	}
	this._tabs = tabs_;
	this._stretch_tabs = stretch_tabs;
	this._tab_spacing = tab_spacing;
	this._tab_stacking = tab_stacking;
	if(this._tab_stacking == null) {
		this._tab_stacking = ["front","back"];
	}
	this._tab_offset = tab_offset;
	var i = 0;
	var tab = null;
	var _g = 0;
	var _g1 = this._tabs;
	while(_g < _g1.length) {
		var t = _g1[_g];
		++_g;
		tab = t;
		this.add(tab);
		var tmp = (function(_g,name) {
			return function() {
				_g[0](name[0]);
			};
		})([$bind(this,this._onTabEvent)],[tab.name]);
		tab.onUp.callback = tmp;
		++i;
	}
	this.distributeTabs();
	this._tab_groups = [];
};
$hxClasses["flixel.addons.ui.FlxUITabMenu"] = flixel_addons_ui_FlxUITabMenu;
flixel_addons_ui_FlxUITabMenu.__name__ = "flixel.addons.ui.FlxUITabMenu";
flixel_addons_ui_FlxUITabMenu.__interfaces__ = [flixel_addons_ui_interfaces_IEventGetter,flixel_addons_ui_interfaces_IFlxUIClickable,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUITabMenu.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUITabMenu.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	get_numTabs: function() {
		if(this._tabs != null) {
			return this._tabs.length;
		}
		return 0;
	}
	,getEvent: function(name,sender,data,params) {
	}
	,getRequest: function(name,sender,data,params) {
		return null;
	}
	,skipButtonUpdate: null
	,set_skipButtonUpdate: function(b) {
		this.skipButtonUpdate = b;
		var _g = 0;
		var _g1 = this._tabs;
		while(_g < _g1.length) {
			var tab = _g1[_g];
			++_g;
			var tabtyped = tab;
			tabtyped.set_skipButtonUpdate(b);
		}
		var _g = 0;
		var _g1 = this._tab_groups;
		while(_g < _g1.length) {
			var group = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = group.group.members;
			while(_g2 < _g3.length) {
				var sprite = _g3[_g2];
				++_g2;
				if(js_Boot.__implements(sprite,flixel_addons_ui_interfaces_IFlxUIClickable)) {
					var widget = sprite;
					widget.set_skipButtonUpdate(b);
				}
			}
		}
		return b;
	}
	,get_width: function() {
		return this._back.get_width();
	}
	,get_height: function() {
		var fbt = this.getFirstTab();
		if(fbt != null) {
			return this._back.y + this._back.get_height() - fbt.y;
		}
		return this._back.get_height();
	}
	,resize: function(W,H) {
		var ir;
		if(js_Boot.__implements(this._back,flixel_addons_ui_interfaces_IResizable)) {
			this.distributeTabs(W);
			ir = this._back;
			var fbt = this.getFirstTab();
			if(fbt != null) {
				ir.resize(W,H - fbt.get_height());
			} else {
				ir.resize(W,H);
			}
		} else {
			this.distributeTabs();
		}
	}
	,get_selected_tab: function() {
		return this._selected_tab;
	}
	,set_selected_tab: function(i) {
		this.showTabInt(i);
		return this._selected_tab;
	}
	,get_selected_tab_id: function() {
		return this._selected_tab_id;
	}
	,set_selected_tab_id: function(str) {
		this.showTabId(str);
		return this._selected_tab_id;
	}
	,destroy: function() {
		flixel_addons_ui_FlxUIGroup.prototype.destroy.call(this);
		flixel_addons_ui_U.clearArray(this._tab_groups);
		flixel_addons_ui_U.clearArray(this._tabs);
		this._back = null;
		this._tabs = null;
		this._tab_groups = null;
	}
	,getTab: function(name,index) {
		if(name != null) {
			var _g = 0;
			var _g1 = this._tabs;
			while(_g < _g1.length) {
				var tab = _g1[_g];
				++_g;
				if(tab.name == name) {
					return tab;
				}
			}
		}
		if(index != null) {
			if(index < this._tabs.length) {
				return this._tabs[index];
			}
		}
		return null;
	}
	,getTabGroup: function(name,index) {
		if(name != null) {
			var _g = 0;
			var _g1 = this._tab_groups;
			while(_g < _g1.length) {
				var tabGroup = _g1[_g];
				++_g;
				if(tabGroup.name == name) {
					return tabGroup;
				}
			}
		}
		if(index != null) {
			if(index < this._tab_groups.length) {
				return this._tab_groups[index];
			}
		}
		return null;
	}
	,getBack: function() {
		return this._back;
	}
	,replaceBack: function(newBack) {
		var i = this.group.members.indexOf(this._back);
		if(i != -1) {
			var oldBack = this._back;
			if(js_Boot.__implements(newBack,flixel_addons_ui_interfaces_IResizable)) {
				var ir = newBack;
				ir.resize(oldBack.get_width(),oldBack.get_height());
			}
			this.group.members[i] = newBack;
			newBack.set_x(oldBack.x);
			newBack.set_y(oldBack.y);
			oldBack.destroy();
		}
	}
	,addGroup: function(g) {
		if(g == this) {
			return;
		}
		if(!this.hasThis(g)) {
			g.set_y(this._back.y - this.y);
			this.add(g);
			this._tab_groups.push(g);
		}
		this._showOnlyGroup("");
		if(this._tab_groups.length == 1) {
			this.set_selected_tab(0);
		}
		if(this._selected_tab != -1) {
			this.set_selected_tab(this._selected_tab);
		}
	}
	,_onTabEvent: function(name) {
		this.showTabId(name);
		var tab = this.getTab(name);
		var params = tab != null ? tab.params : null;
		if(this.broadcastToFlxUI) {
			flixel_addons_ui_FlxUI.event("tab_menu_click",this,name,params);
		}
	}
	,stackTabs: function() {
		var _backx = this._back.x;
		var _backy = this._back.y;
		this.group.remove(this._back,true);
		var tab = null;
		var _g = 0;
		var _g1 = this._tabs;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			tab = t;
			if(tab.toggled) {
				this.group.remove(tab,true);
			}
		}
		this.group.add(this._back);
		var _g = 0;
		var _g1 = this._tabs;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			tab = t;
			if(tab.toggled) {
				this.group.add(tab);
			}
		}
		var _g = 0;
		var _g1 = this._tab_groups;
		while(_g < _g1.length) {
			var group = _g1[_g];
			++_g;
			var tempX = group.x;
			var tempY = group.y;
			this.remove(group,true);
			this.add(group);
			group.set_x(tempX);
			group.set_y(tempY);
		}
		this._back.set_x(_backx);
		this._back.set_y(_backy);
	}
	,showTabId: function(name) {
		this._selected_tab = -1;
		this._selected_tab_id = "";
		var i = 0;
		var _g = 0;
		var _g1 = this._tabs;
		while(_g < _g1.length) {
			var tab = _g1[_g];
			++_g;
			tab.set_toggled(false);
			tab.forceStateHandler("out_button");
			if(tab.name == name) {
				tab.set_toggled(true);
				this._selected_tab_id = name;
				this._selected_tab = i;
			}
			++i;
		}
		this._showOnlyGroup(name);
		this.stackTabs();
	}
	,_back: null
	,_tabs: null
	,_tab_groups: null
	,_stretch_tabs: null
	,_tab_spacing: null
	,_tab_stacking: null
	,_tab_offset: null
	,_selected_tab_id: null
	,_selected_tab: null
	,sortTabs: function(a,b) {
		if(a.name < b.name) {
			return -1;
		} else if(a.name > b.name) {
			return 1;
		}
		return -1;
	}
	,showTabInt: function(i) {
		if(i >= 0 && this._tabs != null && this._tabs.length > i) {
			var _tab = this._tabs[i];
			var name = _tab.name;
			this.showTabId(name);
		} else {
			this.showTabId("");
		}
	}
	,_showOnlyGroup: function(name) {
		var _g = 0;
		var _g1 = this._tab_groups;
		while(_g < _g1.length) {
			var group = _g1[_g];
			++_g;
			if(group.name == name) {
				group.set_visible(group.set_active(true));
			} else {
				group.set_visible(group.set_active(false));
			}
		}
	}
	,getFirstTab: function() {
		var _the_tab = null;
		if(this._tabs != null && this._tabs.length > 0) {
			_the_tab = this._tabs[0];
		}
		return _the_tab;
	}
	,distributeTabs: function(W) {
		if(W == null) {
			W = -1;
		}
		var xx = 0;
		var tab_width = 0;
		if(W == -1) {
			W = this._back.get_width();
		}
		var diff_size = 0;
		if(this._stretch_tabs) {
			tab_width = W / this._tabs.length;
			var tot_size = (tab_width | 0) * this._tabs.length;
			if(tot_size < W) {
				diff_size = W - tot_size;
			}
		}
		this._tabs.sort($bind(this,this.sortTabs));
		var i = 0;
		var firstHeight = 0;
		var tab;
		var _g = 0;
		var _g1 = this._tabs;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			tab = t;
			tab.set_x(this.x + xx);
			tab.set_y(this.y);
			if(this._tab_offset != null) {
				tab.set_x(tab.x + this._tab_offset.x);
				tab.set_y(tab.y + this._tab_offset.y);
			}
			if(this._stretch_tabs) {
				var theHeight = tab.get_height();
				if(i != 0) {
					theHeight = firstHeight;
					tab.resize_ratio = -1;
				}
				if(diff_size > 0) {
					tab.resize(tab_width + 1,theHeight);
					xx += (tab_width | 0) + 1;
					--diff_size;
				} else {
					tab.resize(tab_width,theHeight);
					xx += tab_width | 0;
				}
			} else if(this._tab_spacing != null) {
				xx += tab.get_width() + this._tab_spacing;
			} else {
				xx += tab.get_width();
			}
			if(i == 0) {
				firstHeight = tab.get_height();
			}
			++i;
		}
		if(this._tabs != null && this._tabs.length > 0 && this._tabs[0] != null) {
			this._back.set_y(this._tabs[0].y + this._tabs[0].get_height() - 2);
			if(this._tab_offset != null) {
				var fh = this._back;
				fh.set_y(fh.y - this._tab_offset.y);
			}
		}
		this.calcBounds();
	}
	,__class__: flixel_addons_ui_FlxUITabMenu
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_selected_tab_id:"set_selected_tab_id",get_selected_tab_id:"get_selected_tab_id",set_selected_tab:"set_selected_tab",get_selected_tab:"get_selected_tab",set_skipButtonUpdate:"set_skipButtonUpdate",get_numTabs:"get_numTabs"})
});
var flixel_addons_ui_FlxUIText = function(X,Y,FieldWidth,Text1,Size,EmbeddedFont) {
	if(EmbeddedFont == null) {
		EmbeddedFont = true;
	}
	if(Size == null) {
		Size = 8;
	}
	if(FieldWidth == null) {
		FieldWidth = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.minimumHeight = 1;
	this.broadcastToFlxUI = true;
	flixel_text_FlxText.call(this,X,Y,FieldWidth,Text1,Size,EmbeddedFont);
};
$hxClasses["flixel.addons.ui.FlxUIText"] = flixel_addons_ui_FlxUIText;
flixel_addons_ui_FlxUIText.__name__ = "flixel.addons.ui.FlxUIText";
flixel_addons_ui_FlxUIText.__interfaces__ = [flixel_addons_ui_interfaces_IHasParams,flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUIText.__super__ = flixel_text_FlxText;
flixel_addons_ui_FlxUIText.prototype = $extend(flixel_text_FlxText.prototype,{
	broadcastToFlxUI: null
	,name: null
	,params: null
	,minimumHeight: null
	,resize: function(w,h) {
		var sign = 1;
		if(h < this.minimumHeight) {
			h = this.minimumHeight;
		}
		if(h < this.get_height()) {
			sign = -1;
		}
		this.set_width(w);
		this.set_height(h);
		this.textField.set_width(this.get_width());
		var old_size = this._defaultFormat.size | 0;
		var diff = this.get_height() - this.graphic.bitmap.height;
		var failsafe = 0;
		var numLines = this.textField.get_numLines();
		while(diff * sign > 0 && failsafe < 999) {
			++failsafe;
			this.set_size((this._defaultFormat.size | 0) + sign);
			if(sign > 0 && this.textField.get_numLines() > numLines) {
				this.set_size((this._defaultFormat.size | 0) - sign);
				break;
			}
			this._regen = true;
			this.calcFrame(true);
			diff = h - this.graphic.bitmap.height;
			diff = h - this.graphic.bitmap.height;
		}
		if(failsafe >= 999) {
			this.set_size(old_size);
		}
		this.set_width(w);
		this.set_height(h);
		this._regen = true;
		this.calcFrame(true);
	}
	,set_minimumHeight: function(H) {
		if(H < 1) {
			H = 1;
		}
		this.minimumHeight = H;
		return this.minimumHeight;
	}
	,set_params: function(p) {
		this.params = p;
		return this.params;
	}
	,clone: function() {
		var newText = new flixel_addons_ui_FlxUIText();
		newText.set_width(this.get_width());
		newText.set_height(this.get_height());
		var theFont = this._font;
		theFont = flixel_addons_ui_FontFixer.fix(this._font);
		newText.setFormat(theFont,this._defaultFormat.size | 0,this.color);
		if(this._defaultFormat != null && this._defaultFormat.align != null) {
			newText.set_alignment(flixel_text_FlxTextAlign.fromOpenFL(this._defaultFormat.align));
		}
		var Color = this.borderColor;
		var Size = this.borderSize;
		var Quality = this.borderQuality;
		if(Quality == null) {
			Quality = 1;
		}
		if(Size == null) {
			Size = 1;
		}
		if(Color == null) {
			Color = 0;
		}
		newText.set_borderStyle(this.borderStyle);
		newText.set_borderColor(Color);
		newText.set_borderSize(Size);
		newText.set_borderQuality(Quality);
		newText.set_text(this.text);
		return newText;
	}
	,__class__: flixel_addons_ui_FlxUIText
	,__properties__: $extend(flixel_text_FlxText.prototype.__properties__,{set_minimumHeight:"set_minimumHeight",set_params:"set_params"})
});
var flixel_addons_ui_FlxUITileTest = function(X,Y,TileWidth,TileHeight,tilesWide,tilesTall,color1,color2,FloorToEven) {
	if(FloorToEven == null) {
		FloorToEven = false;
	}
	if(color2 == null) {
		color2 = 12895428;
	}
	if(color1 == null) {
		color1 = 8421504;
	}
	this.baseTileSize = -1;
	this.floorToEven = false;
	this._color2 = 0;
	this._color1 = 0;
	this._tilesTall = 2;
	this._tilesWide = 2;
	flixel_addons_ui_FlxUISprite.call(this,X,Y);
	this.tileWidth = TileWidth;
	this.tileHeight = TileHeight;
	this._tilesWide = tilesWide;
	this._tilesTall = tilesTall;
	this._color1 = color1;
	this._color2 = color2;
	this.floorToEven = FloorToEven;
	this.makeTiles(this.tileWidth,this.tileHeight,this._tilesWide,this._tilesTall,this._color1,this._color2);
};
$hxClasses["flixel.addons.ui.FlxUITileTest"] = flixel_addons_ui_FlxUITileTest;
flixel_addons_ui_FlxUITileTest.__name__ = "flixel.addons.ui.FlxUITileTest";
flixel_addons_ui_FlxUITileTest.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIWidget,flixel_addons_ui_interfaces_IResizable];
flixel_addons_ui_FlxUITileTest.__super__ = flixel_addons_ui_FlxUISprite;
flixel_addons_ui_FlxUITileTest.prototype = $extend(flixel_addons_ui_FlxUISprite.prototype,{
	tileWidth: null
	,tileHeight: null
	,get_widthInTiles: function() {
		return this._tilesWide;
	}
	,get_heightInTiles: function() {
		return this._tilesTall;
	}
	,_tilesWide: null
	,_tilesTall: null
	,_color1: null
	,_color2: null
	,floorToEven: null
	,baseTileSize: null
	,makeTiles: function(tileWidth,tileHeight,tilesWide,tilesTall,color1,color2) {
		if(color2 == null) {
			color2 = -3881788;
		}
		if(color1 == null) {
			color1 = -8355712;
		}
		var size = this.constrain(tileWidth * this._tilesWide,tileHeight * this._tilesTall);
		tileWidth = size.x | 0;
		tileHeight = size.y | 0;
		this.makeGraphic(tilesWide,tilesTall,color1);
		var canvas = this.get_pixels();
		var j = 0;
		var _g = 0;
		var _g1 = tilesWide;
		while(_g < _g1) {
			var ix = _g++;
			var _g2 = 0;
			var _g3 = tilesTall;
			while(_g2 < _g3) {
				var iy = _g2++;
				if(j % 2 == 0) {
					canvas.setPixel(ix,iy,color2);
				}
				++j;
			}
			if(tilesWide % 2 != 0) {
				++j;
			}
		}
		this.set_pixels(canvas);
		this.scale.set(tileWidth,tileHeight);
		this.updateHitbox();
	}
	,constrain: function(w,h) {
		var tileWidth = w / this._tilesWide | 0;
		var tileHeight = h / this._tilesTall | 0;
		if(tileWidth < tileHeight) {
			tileHeight = tileWidth;
		} else if(tileHeight < tileWidth) {
			tileWidth = tileHeight;
		}
		if(this.floorToEven) {
			if(tileWidth % 2 == 1) {
				--tileWidth;
				tileHeight = tileWidth;
			}
		}
		if(this.baseTileSize > 0) {
			tileWidth = (tileWidth / this.baseTileSize | 0) * this.baseTileSize;
			tileHeight = tileWidth;
		}
		return new flixel_math_FlxPoint(tileWidth,tileHeight);
	}
	,resize: function(w,h) {
		this.makeTiles(this.tileWidth,this.tileHeight,this._tilesWide,this._tilesTall,this._color1,this._color2);
	}
	,__class__: flixel_addons_ui_FlxUITileTest
	,__properties__: $extend(flixel_addons_ui_FlxUISprite.prototype.__properties__,{get_heightInTiles:"get_heightInTiles",get_widthInTiles:"get_widthInTiles"})
});
var flixel_addons_ui_FlxUITooltip = function(Width,Height,Anchor_,Style) {
	flixel_addons_ui_FlxUIGroup.call(this,0,0);
	if(Anchor_ == null) {
		Anchor_ = new flixel_addons_ui_Anchor(0,0,"left","top","right","top");
	}
	Style = flixel_addons_ui_FlxUITooltip.styleFix(Style);
	this.refresh(Width,Height,"","",Anchor_,Style);
	this.setScrollFactor(0,0);
};
$hxClasses["flixel.addons.ui.FlxUITooltip"] = flixel_addons_ui_FlxUITooltip;
flixel_addons_ui_FlxUITooltip.__name__ = "flixel.addons.ui.FlxUITooltip";
flixel_addons_ui_FlxUITooltip.styleFix = function(Style,DefaultStyle) {
	if(Style == null) {
		Style = { titleFormat : null, bodyFormat : null, titleBorder : null, bodyBorder : null, titleOffset : null, bodyOffset : null, background : null, borderSize : -1, borderColor : null, arrow : null, titleWidth : -1, bodyWidth : -1, autoSizeHorizontal : null, autoSizeVertical : null, leftPadding : -1, rightPadding : -1, topPadding : -1, bottomPadding : -1};
	}
	if(DefaultStyle != null) {
		if(Style.titleFormat == null) {
			Style.titleFormat = DefaultStyle.titleFormat;
		}
		if(Style.bodyFormat == null) {
			Style.bodyFormat = DefaultStyle.bodyFormat;
		}
		if(Style.titleBorder == null) {
			Style.titleBorder = DefaultStyle.titleBorder;
		}
		if(Style.bodyBorder == null) {
			Style.bodyBorder = DefaultStyle.bodyBorder;
		}
		if(Style.titleOffset == null) {
			Style.titleOffset = DefaultStyle.titleOffset;
		}
		if(Style.bodyOffset == null) {
			Style.bodyOffset = DefaultStyle.bodyOffset;
		}
		if(Style.background == null) {
			Style.background = DefaultStyle.background;
		}
		if(Style.borderColor == null) {
			Style.borderColor = DefaultStyle.borderColor;
		}
		if(Style.arrow == null) {
			Style.arrow = DefaultStyle.arrow;
		}
		if(Style.borderSize == null || Style.borderSize < 0) {
			Style.borderSize = DefaultStyle.borderSize;
		}
		if(Style.titleWidth == null || Style.titleWidth < 0) {
			Style.titleWidth = DefaultStyle.titleWidth;
		}
		if(Style.bodyWidth == null || Style.bodyWidth < 0) {
			Style.bodyWidth = DefaultStyle.bodyWidth;
		}
		if(Style.autoSizeHorizontal == null) {
			Style.autoSizeHorizontal = DefaultStyle.autoSizeHorizontal;
		}
		if(Style.autoSizeVertical == null) {
			Style.autoSizeVertical = DefaultStyle.autoSizeVertical;
		}
		if(Style.leftPadding == null || Style.leftPadding < 0) {
			Style.leftPadding = DefaultStyle.leftPadding;
		}
		if(Style.rightPadding == null || Style.rightPadding < 0) {
			Style.rightPadding = DefaultStyle.rightPadding;
		}
		if(Style.topPadding == null || Style.topPadding < 0) {
			Style.topPadding = DefaultStyle.topPadding;
		}
		if(Style.leftPadding == null || Style.bottomPadding < 0) {
			Style.bottomPadding = DefaultStyle.bottomPadding;
		}
	}
	if(DefaultStyle != null) {
		if(Style.titleFormat != null) {
			flixel_addons_ui_FlxUITooltip.fillFontDefNulls(Style.titleFormat,DefaultStyle.titleFormat);
			if(Style.titleFormat.format != null && DefaultStyle.titleFormat.format != null) {
				flixel_addons_ui_FlxUITooltip.fillFormatNulls(Style.titleFormat.format,DefaultStyle.titleFormat.format);
			}
		}
		if(Style.bodyFormat != null) {
			flixel_addons_ui_FlxUITooltip.fillFontDefNulls(Style.bodyFormat,DefaultStyle.bodyFormat);
			if(Style.bodyFormat.format != null && DefaultStyle.bodyFormat.format != null) {
				flixel_addons_ui_FlxUITooltip.fillFormatNulls(Style.bodyFormat.format,DefaultStyle.bodyFormat.format);
			}
		}
	}
	if(Style.titleFormat == null) {
		Style.titleFormat = new flixel_addons_ui_FontDef(null,null,null,new openfl_text_TextFormat(null,8,-16777216),null);
	}
	if(Style.bodyFormat == null) {
		Style.bodyFormat = new flixel_addons_ui_FontDef(null,null,null,new openfl_text_TextFormat(null,8,-16777216),null);
	}
	if(Style.titleBorder == null) {
		Style.titleBorder = new flixel_addons_ui_BorderDef(flixel_text_FlxTextBorderStyle.NONE,0,0,1);
	}
	if(Style.bodyBorder == null) {
		Style.bodyBorder = new flixel_addons_ui_BorderDef(flixel_text_FlxTextBorderStyle.NONE,0,0,1);
	}
	if(Style.titleOffset == null) {
		Style.titleOffset = new flixel_math_FlxPoint(0,0);
	}
	if(Style.bodyOffset == null) {
		Style.bodyOffset = new flixel_math_FlxPoint(0,0);
	}
	if(Style.background == null) {
		Style.background = 16777162;
	}
	if(Style.borderColor == null) {
		Style.borderColor = -16777216;
	}
	if(Style.arrow == null) {
		Style.arrow = "flixel/flixel-ui/img/tooltip_arrow.png";
	}
	if(Style.borderSize == null || Style.borderSize < 0) {
		Style.borderSize = 1;
	}
	if(Style.titleWidth == null || Style.titleWidth < 0) {
		Style.titleWidth = 100;
	}
	if(Style.bodyWidth == null || Style.bodyWidth < 0) {
		Style.bodyWidth = 100;
	}
	if(Style.autoSizeHorizontal == null) {
		Style.autoSizeHorizontal = true;
	}
	if(Style.autoSizeVertical == null) {
		Style.autoSizeVertical = true;
	}
	if(Style.leftPadding == null || Style.leftPadding < 0) {
		Style.leftPadding = 0;
	}
	if(Style.rightPadding == null || Style.rightPadding < 0) {
		Style.rightPadding = 0;
	}
	if(Style.topPadding == null || Style.topPadding < 0) {
		Style.topPadding = 0;
	}
	if(Style.leftPadding == null || Style.bottomPadding < 0) {
		Style.bottomPadding = 0;
	}
	return Style;
};
flixel_addons_ui_FlxUITooltip.cloneStyle = function(s) {
	var tf = s.titleFormat != null ? s.titleFormat.clone() : null;
	var bf = s.bodyFormat != null ? s.bodyFormat.clone() : null;
	var obj = { titleFormat : tf, bodyFormat : bf, borderSize : s.borderSize, titleWidth : s.titleWidth, bodyWidth : s.bodyWidth, background : s.background, borderColor : s.borderColor, arrow : s.arrow, titleOffset : s.titleOffset.copyTo(), bodyOffset : s.bodyOffset.copyTo(), titleBorder : s.titleBorder.clone(), bodyBorder : s.bodyBorder.clone(), autoSizeVertical : s.autoSizeVertical, autoSizeHorizontal : s.autoSizeHorizontal, leftPadding : s.leftPadding, rightPadding : s.rightPadding, topPadding : s.topPadding, bottomPadding : s.bottomPadding};
	return obj;
};
flixel_addons_ui_FlxUITooltip.fillFontDefNulls = function(a,b) {
	if(a.get_size() == 0) {
		a.set_size(b.get_size());
	}
	if(a.name == null || a.name == "") {
		a.name = b.name;
	}
	if(a.file == null || a.file == "") {
		a.file = b.file;
	}
	if(a.extension == null || a.extension == "") {
		a.extension = b.extension;
	}
	if(a.border == null) {
		a.border = b.border != null ? b.border.clone() : null;
	}
};
flixel_addons_ui_FlxUITooltip.fillFormatNulls = function(a,b) {
	if(a.align == null) {
		a.align = b.align;
	}
	if(a.blockIndent == null) {
		a.blockIndent = b.blockIndent;
	}
	if(a.bold == null) {
		a.bold = b.bold;
	}
	if(a.bullet == null) {
		a.bullet = b.bullet;
	}
	if(a.color == null) {
		a.color = b.color;
	}
	if(a.font == null) {
		a.font = b.font;
	}
	if(a.indent == null) {
		a.indent = b.indent;
	}
	if(a.italic == null) {
		a.italic = b.italic;
	}
	if(a.kerning == null) {
		a.kerning = b.kerning;
	}
	if(a.leading == null) {
		a.leading = b.leading;
	}
	if(a.leftMargin == null) {
		a.leftMargin = b.leftMargin;
	}
	if(a.letterSpacing == null) {
		a.letterSpacing = b.letterSpacing;
	}
	if(a.rightMargin == null) {
		a.rightMargin = b.rightMargin;
	}
	if(a.size == null) {
		a.size = b.size;
	}
	if(a.tabStops == null) {
		a.tabStops = b.tabStops;
	}
	if(a.target == null) {
		a.target = b.target;
	}
	if(a.underline == null) {
		a.underline = b.underline;
	}
	if(a.url == null) {
		a.url = b.url;
	}
};
flixel_addons_ui_FlxUITooltip.__super__ = flixel_addons_ui_FlxUIGroup;
flixel_addons_ui_FlxUITooltip.prototype = $extend(flixel_addons_ui_FlxUIGroup.prototype,{
	style: null
	,anchor: null
	,title: null
	,body: null
	,show: function(obj,Title,Body,AutoSizeVertical,AutoSizeHorizontal,ShowArrow) {
		if(ShowArrow == null) {
			ShowArrow = true;
		}
		if(AutoSizeHorizontal == null) {
			AutoSizeHorizontal = true;
		}
		if(AutoSizeVertical == null) {
			AutoSizeVertical = true;
		}
		if(Body == null) {
			Body = "";
		}
		if(Title == null) {
			Title = "";
		}
		this.set_visible(true);
		this.set_active(true);
		this.set_x(0);
		this.set_y(0);
		this._bkg.set_x(0);
		this._bkg.set_y(0);
		this._arrow.set_x(0);
		this._arrow.set_y(0);
		this._arrowBkg.set_x(0);
		this._arrowBkg.set_y(0);
		this._arrowBkg = this.makeArrowBkg(this._arrowBkg);
		this._arrow.set_color(this.style.background);
		this._arrow.set_visible(this._arrowBkg.set_visible(ShowArrow));
		if(this.style.titleWidth > 0) {
			this._titleText.set_width(this._titleText.textField.set_width(this.style.titleWidth) | 0);
		}
		if(this.style.bodyWidth > 0) {
			this._bodyText.set_width(this._bodyText.textField.set_width(this.style.bodyWidth) | 0);
		}
		if(this.style.titleFormat != null) {
			this.style.titleFormat.apply(null,this._titleText);
		}
		if(this.style.bodyFormat != null) {
			this.style.bodyFormat.apply(null,this._bodyText);
		}
		if(this.style.titleBorder != null) {
			this.style.titleBorder.apply(this._titleText);
		}
		if(this.style.bodyBorder != null) {
			this.style.bodyBorder.apply(this._bodyText);
		}
		this._titleText.set_text(Title);
		this._bodyText.set_text(Body);
		this._titleText.update(0);
		this._bodyText.update(0);
		var titleHeight = this._titleText.textField.get_textHeight() + 4 | 0;
		if(this.style.titleOffset != null) {
			this._titleText.set_x(this.style.titleOffset.x | 0);
			this._titleText.set_y(this.style.titleOffset.y | 0);
		}
		if(this.style.bodyOffset != null) {
			this._bodyText.set_x(this.style.bodyOffset.x | 0);
			this._bodyText.set_y(this._titleText.y + titleHeight + this.style.bodyOffset.y | 0);
		}
		var W = this._bkg.get_width() | 0;
		var H = this._bkg.get_height() | 0;
		if(AutoSizeHorizontal) {
			var tw = this._titleText.text != "" ? this._titleText.x + this._titleText.get_width() : 0;
			var bw = this._bodyText.text != "" ? this._bodyText.x + this._bodyText.get_width() : 0;
			W = Math.max(tw,bw) | 0;
		}
		if(AutoSizeVertical) {
			var th = this._titleText.text != "" ? this._titleText.y + this._titleText.get_height() : 0;
			var bh = this._bodyText.text != "" ? this._bodyText.y + this._bodyText.get_height() : 0;
			H = Math.max(th,bh) | 0;
			H = Math.max(H,this._arrowBkg.get_height()) | 0;
		}
		if(this.style.leftPadding == null) {
			this.style.leftPadding = 0;
		}
		if(this.style.rightPadding == null) {
			this.style.rightPadding = 0;
		}
		if(this.style.topPadding == null) {
			this.style.topPadding = 0;
		}
		if(this.style.bottomPadding == null) {
			this.style.bottomPadding = 0;
		}
		W += this.style.leftPadding + this.style.rightPadding;
		H += this.style.topPadding + this.style.bottomPadding;
		W |= 0;
		H |= 0;
		this.refreshBkg(W,H,this.style);
		var oldOffX = this._anchorArrow.x.offset | 0;
		var oldOffY = this._anchorArrow.y.offset | 0;
		this._anchorArrow.x.offset -= this.anchor.x.offset;
		this._anchorArrow.y.offset += this.anchor.y.offset;
		this._anchorArrow.x.offset = this._anchorArrow.x.offset | 0;
		this._anchorArrow.y.offset = this._anchorArrow.y.offset | 0;
		this._anchorArrow.anchorThing(this._arrow,this._bkg);
		this._anchorArrow.x.offset = oldOffX;
		this._anchorArrow.y.offset = oldOffY;
		if(this._arrow.x < 0) {
			var xx = Math.abs(this._arrow.x) | 0;
			var fh = this._bkg;
			fh.set_x(fh.x + xx);
			var fh = this._titleText;
			fh.set_x(fh.x + xx);
			var fh = this._bodyText;
			fh.set_x(fh.x + xx);
			this._arrow.set_x(0);
		}
		if(this._arrow.y < 0) {
			var yy = Math.abs(this._arrow.y) | 0;
			var fh = this._bkg;
			fh.set_y(fh.y + yy);
			var fh = this._titleText;
			fh.set_y(fh.y + yy);
			var fh = this._bodyText;
			fh.set_y(fh.y + yy);
			this._arrow.set_y(0);
		}
		if(this._titleText.text != "" && this._bodyText.text == "") {
			var tempH = H - (this.style.topPadding + this.style.bottomPadding);
			var titleOnlyOffset = (tempH - titleHeight) / 2 | 0;
			var fh = this._titleText;
			fh.set_y(fh.y + titleOnlyOffset);
		}
		var fh = this._titleText;
		fh.set_x(fh.x + this.style.leftPadding);
		var fh = this._bodyText;
		fh.set_x(fh.x + this.style.leftPadding);
		var fh = this._titleText;
		fh.set_y(fh.y + this.style.topPadding);
		var fh = this._bodyText;
		fh.set_y(fh.y + this.style.topPadding);
		if(this._titleText.text == "") {
			this._titleText.set_x(this._bkg.x);
			this._titleText.set_y(this._bkg.y);
			this._titleText.set_width(this._bkg.get_width());
		}
		if(this._bodyText.text == "") {
			this._bodyText.set_x(this._bkg.x);
			this._bodyText.set_y(this._bkg.y);
			this._bodyText.set_width(this._bkg.get_width());
		}
		this.anchor.anchorThing(this,obj);
		this.set_x(this.x | 0);
		this.set_y(this.y | 0);
		this._arrowBkg.set_x(this._arrow.x - this.style.borderSize | 0);
		this._arrowBkg.set_y(this._arrow.y - this.style.borderSize | 0);
		this._titleText.set_x(this._titleText.x | 0);
		this._bodyText.set_x(this._bodyText.x | 0);
		this._bkg.set_x(this._bkg.x | 0);
		this._bkg.set_y(this._bkg.y | 0);
		this._arrowBkg.set_x(this._arrowBkg.x | 0);
		this._arrowBkg.set_y(this._arrowBkg.y | 0);
		this._arrow.set_x(this._arrow.x | 0);
		this._arrow.set_y(this._arrow.y | 0);
	}
	,get_height: function() {
		if(this.group.length == 0) {
			return 0;
		}
		var minY = Infinity;
		var maxY = -Infinity;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			if(((member) instanceof flixel_text_FlxText)) {
				continue;
			}
			var minMemberY = member.y;
			var maxMemberY = minMemberY + member.get_height();
			if(maxMemberY > maxY) {
				maxY = maxMemberY;
			}
			if(minMemberY < minY) {
				minY = minMemberY;
			}
		}
		return maxY - minY;
	}
	,hide: function() {
		this.set_visible(false);
		this.set_active(false);
	}
	,set_anchor: function(a) {
		this.anchor = a;
		this._anchorArrow = this.getArrowAnchor(a,this._anchorArrow);
		if(this._arrowBkg != null) {
			this.makeArrowBkg(this._arrowBkg);
		}
		return a;
	}
	,set_style: function(s) {
		this.style = s;
		return s;
	}
	,set_title: function(t) {
		this.title = t;
		return t;
	}
	,set_body: function(b) {
		this.body = b;
		return b;
	}
	,_bkg: null
	,_titleText: null
	,_bodyText: null
	,_arrow: null
	,_arrowBkg: null
	,_anchorArrow: null
	,refresh: function(Width,Height,Title,Body,Anchor_,Style) {
		var newBkg = this._bkg == null;
		var newArrow = this._arrow == null;
		var newTitle = this._titleText == null;
		var newBody = this._bodyText == null;
		if(newBkg) {
			this._bkg = new flixel_FlxSprite();
		}
		if(newArrow) {
			this._arrow = new flixel_FlxSprite();
		}
		if(newTitle) {
			this._titleText = new flixel_addons_ui_FlxUIText(0,0,Width);
			if(Style.titleFormat != null) {
				Style.titleFormat.apply(null,this._titleText);
			}
			if(Style.titleBorder != null) {
				Style.titleBorder.apply(this._titleText);
			}
		}
		if(newBody) {
			this._bodyText = new flixel_addons_ui_FlxUIText(0,0,Width);
			if(Style.bodyFormat != null) {
				Style.bodyFormat.apply(null,this._bodyText);
			}
			if(Style.bodyBorder != null) {
				Style.bodyBorder.apply(this._bodyText);
			}
		}
		this._titleText.set_text(Title);
		this._bodyText.set_text(Body);
		this._arrow.set_color(Style.background);
		var test = flixel_FlxG.bitmap.add(Style.arrow);
		if(Style.arrow == null) {
			Style.arrow = "flixel/flixel-ui/img/tooltip_arrow.png";
			flixel_FlxG.bitmap.add(Style.arrow);
		}
		this._arrow.loadGraphic(Style.arrow,true,test.height,test.height);
		if(newArrow) {
			this._arrow.animation.add("right",[0],0,false);
			this._arrow.animation.add("down",[1],0,false);
			this._arrow.animation.add("left",[2],0,false);
			this._arrow.animation.add("up",[3],0,false);
		}
		this.refreshBkg(Width,Height,Style);
		this.set_style(Style);
		if(newArrow && Style.borderSize > 0) {
			this._arrowBkg = new flixel_FlxSprite();
			this.add(this._arrowBkg);
		}
		this.set_anchor(Anchor_);
		if(newBkg) {
			this.add(this._bkg);
		}
		if(newArrow) {
			this.add(this._arrow);
		}
		if(newTitle) {
			this.add(this._titleText);
		}
		if(newBody) {
			this.add(this._bodyText);
		}
	}
	,refreshBkg: function(Width,Height,Style) {
		var key = this.getStyleKey(Width,Height,Style);
		if(flixel_FlxG.bitmap._cache.h[key] == null) {
			var pix = null;
			if(Style.borderSize > 0) {
				pix = new openfl_display_BitmapData(Width,Height,false,Style.borderColor);
				pix.fillRect(new openfl_geom_Rectangle(Style.borderSize,Style.borderSize,Width - Style.borderSize * 2,Height - Style.borderSize * 2),Style.background);
			} else {
				pix = new openfl_display_BitmapData(Width,Height,false,Style.background);
			}
			flixel_FlxG.bitmap.add(pix,true,key);
		}
		this._bkg.loadGraphic(key);
	}
	,getStyleKey: function(W,H,Style) {
		var this1 = Style.background;
		var tmp = W + "," + H + "," + ("0x" + StringTools.hex(this1 >> 24 & 255,2) + StringTools.hex(this1 >> 16 & 255,2) + StringTools.hex(this1 >> 8 & 255,2) + StringTools.hex(this1 & 255,2)) + "," + Style.borderSize + ",";
		var this1 = Style.borderColor;
		return tmp + ("0x" + StringTools.hex(this1 >> 24 & 255,2) + StringTools.hex(this1 >> 16 & 255,2) + StringTools.hex(this1 >> 8 & 255,2) + StringTools.hex(this1 & 255,2));
	}
	,makeArrowBkg: function(b) {
		if(b == null) {
			b = new flixel_FlxSprite();
		}
		var animName = this._arrow == null ? "null" : this._arrow.animation._curAnim == null ? "null" : this._arrow.animation._curAnim.name;
		var key = "arrowBkg:" + this.style.background + "," + this.style.borderSize + "," + this.style.borderColor + "," + animName;
		if(flixel_FlxG.bitmap._cache.h[key] == null) {
			var bs = this.style.borderSize;
			if(bs < 0 || bs == null) {
				bs = 0;
			}
			var W = this._arrow.get_width() + bs | 0;
			var H = this._arrow.get_height() + bs | 0;
			var bd = new openfl_display_BitmapData(W,H,true,0);
			flixel_FlxG.bitmap.add(bd,false,key);
			b.loadGraphic(key);
			var oldColor = this._arrow.color;
			this._arrow.set_color(this.style.borderColor);
			var m = new openfl_geom_Matrix();
			m.identity();
			b.stamp(this._arrow,0 * this.style.borderSize,0 * this.style.borderSize);
			b.stamp(this._arrow,this.style.borderSize,0 * this.style.borderSize);
			b.stamp(this._arrow,2 * this.style.borderSize,0 * this.style.borderSize);
			b.stamp(this._arrow,0 * this.style.borderSize,this.style.borderSize);
			b.stamp(this._arrow,2 * this.style.borderSize,this.style.borderSize);
			b.stamp(this._arrow,0 * this.style.borderSize,2 * this.style.borderSize);
			b.stamp(this._arrow,this.style.borderSize,2 * this.style.borderSize);
			b.stamp(this._arrow,2 * this.style.borderSize,2 * this.style.borderSize);
			this._arrow.set_color(oldColor);
		}
		b.loadGraphic(key);
		return b;
	}
	,getArrowAnchor: function(a,result) {
		var touchHorz = a.x.side == "left" && a.x.flush == "right" || a.x.side == "right" && a.x.flush == "left";
		var touchVert = a.y.side == "top" && a.y.flush == "bottom" || a.y.side == "bottom" && a.y.flush == "top";
		var matchHorz = a.x.side == "left" && a.x.flush == "left" || a.x.side == "right" && a.x.flush == "right";
		var matchVert = a.y.side == "top" && a.y.flush == "top" || a.y.side == "bottom" && a.y.flush == "bottom";
		var touchBoth = touchHorz && touchVert;
		var matchBoth = matchHorz && matchVert;
		var off = this.style.borderSize;
		if(!touchBoth) {
			if(touchHorz) {
				result = a.getFlipped(true,false,result);
				if(result.x.flush == "left") {
					result.x.offset -= off;
					this._arrow.animation.play("right");
				}
				if(result.x.flush == "right") {
					result.x.offset += off;
					this._arrow.animation.play("left");
				}
			}
			if(touchVert) {
				result = a.getFlipped(false,true,result);
				if(result.y.flush == "top") {
					result.y.offset -= off;
					this._arrow.animation.play("down");
				}
				if(result.y.flush == "bottom") {
					result.y.offset += off;
					this._arrow.animation.play("up");
				}
			}
		}
		if(!matchBoth) {
			if(matchHorz) {
				if(result.x.flush == "left") {
					result.x.offset += off;
				}
				if(result.x.flush == "right") {
					result.x.offset -= off;
				}
			}
			if(matchVert) {
				if(result.y.flush == "top") {
					result.y.offset += off;
				}
				if(result.y.flush == "bottom") {
					result.y.offset -= off;
				}
			}
		}
		if(result != null) {
			return result;
		}
		return a;
	}
	,__class__: flixel_addons_ui_FlxUITooltip
	,__properties__: $extend(flixel_addons_ui_FlxUIGroup.prototype.__properties__,{set_body:"set_body",set_title:"set_title",set_anchor:"set_anchor",set_style:"set_style"})
});
var flixel_addons_ui_FlxUITooltipManager = function(State,SubState) {
	this.current = -1;
	this._init = false;
	this.delay = 0.1;
	this.showOnClick = false;
	this.defaultStyle = null;
	this.fixedPosition = null;
	this.defaultAnchor = null;
	this.autoFlipAnchor = true;
	if(State != null) {
		this.state = State;
	} else if(SubState != null) {
		this.subState = SubState;
	}
	this.list = [];
	this.tooltip = new flixel_addons_ui_FlxUITooltip(100,50);
	this.lastPosition = new flixel_math_FlxPoint(0,0);
	this.defaultAnchor = this.tooltip.anchor.clone();
	this.defaultStyle = flixel_addons_ui_FlxUITooltip.cloneStyle(this.tooltip.style);
};
$hxClasses["flixel.addons.ui.FlxUITooltipManager"] = flixel_addons_ui_FlxUITooltipManager;
flixel_addons_ui_FlxUITooltipManager.__name__ = "flixel.addons.ui.FlxUITooltipManager";
flixel_addons_ui_FlxUITooltipManager.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_ui_FlxUITooltipManager.prototype = {
	autoFlipAnchor: null
	,defaultAnchor: null
	,fixedPosition: null
	,defaultStyle: null
	,showOnClick: null
	,delay: null
	,showTooltipArrow: null
	,cameras: null
	,init: function() {
		var ui = this.state != null ? this.state._ui : this.subState != null ? this.subState._ui : null;
		if(ui == null) {
			return;
		}
		if(ui != null && ui.getDefinition("default:tooltip") != null) {
			var tt = ui._loadTooltipData(null);
			this.defaultStyle = flixel_addons_ui_FlxUITooltip.cloneStyle(tt.style);
			this.tooltip.set_style(this.defaultStyle);
		}
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.destroyArray(this.list);
		this.list = null;
		this.tooltip = null;
		this.lastPosition = null;
		this.state = null;
		this.subState = null;
		this.defaultAnchor = null;
		this.defaultStyle = null;
	}
	,clear: function() {
		while(this.list.length > 0) {
			var entry = this.list.pop();
			if(entry != null) {
				entry.destroy();
			}
		}
	}
	,hideCurrent: function() {
		if(this.current > 0) {
			this.hide(this.current);
		}
	}
	,isVisible: function() {
		return this.current > 0;
	}
	,doesCurrentTooltipBelongTo: function(thing,checkChildren) {
		if(checkChildren == null) {
			checkChildren = true;
		}
		if(((thing) instanceof flixel_addons_ui_FlxUIGroup)) {
			var i = this.findObj(thing);
			if(i != -1) {
				return i == this.current;
			}
			if(checkChildren) {
				var fuig = thing;
				var _g = 0;
				var _g1 = fuig.group.members;
				while(_g < _g1.length) {
					var member = _g1[_g];
					++_g;
					if(this.doesCurrentTooltipBelongTo(member)) {
						return true;
					}
				}
			}
		} else if(((thing) instanceof flixel_addons_ui_FlxUIButton)) {
			var i = this.findBtn(thing);
			if(i == -1) {
				return false;
			}
			return i == this.current;
		} else if(((thing) instanceof flixel_FlxObject)) {
			var i = this.findObj(thing);
			if(i == -1) {
				return false;
			}
			return i == this.current;
		}
		return false;
	}
	,stickyTooltipFor: function(thing,sticky) {
		if(sticky == null) {
			sticky = true;
		}
		var i = this.findThing(thing);
		if(i != -1) {
			this.list[i].sticky = sticky;
		}
	}
	,showTooltipFor: function(thing,value) {
		if(value == null) {
			value = true;
		}
		var i = this.findThing(thing);
		if(i != -1) {
			this.current = -1;
			if(value) {
				this.show(i);
			} else {
				this.hide(i);
			}
		}
	}
	,enableTooltipFor: function(thing,enabled) {
		var i = this.findThing(thing);
		if(i >= 0 && i < this.list.length) {
			var entry = this.list[i];
			entry.enabled = enabled;
			return true;
		}
		return false;
	}
	,add: function(thing,data) {
		if(this._init) {
			data.style = flixel_addons_ui_FlxUITooltip.styleFix(data.style,this.defaultStyle);
		}
		var btn = null;
		var i = -1;
		if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_IFlxUIButton)) {
			btn = thing;
			i = this.findBtn(btn);
			if(i == -1) {
				this.list.push(new flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry(btn,data));
			} else {
				this.list[i].data = data;
				this.list[i].count = 0;
			}
		} else {
			i = this.findObj(thing);
			if(i == -1) {
				var b = new flixel_addons_ui_FlxUIButton(0,0,"",null,false,true);
				b.resize(thing.get_width(),thing.get_height());
				btn = b;
				btn.set_x(thing.x);
				btn.set_y(thing.y);
				btn.set_width(thing.get_width());
				btn.set_height(thing.get_height());
				btn.scrollFactor.set(thing.scrollFactor.x,thing.scrollFactor.y);
				if(this.state != null) {
					this.state.add(btn);
				} else if(this.subState != null) {
					this.subState.add(btn);
				}
				this.list.push(new flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry(btn,data,thing));
			} else {
				this.list[i].data = data;
				this.list[i].count = 0;
				this.list[i].btn.set_x(thing.x);
				this.list[i].btn.set_y(thing.y);
				this.list[i].btn.set_width(thing.get_width());
				this.list[i].btn.set_height(thing.get_height());
				this.list[i].btn.scrollFactor.set(thing.scrollFactor.x,thing.scrollFactor.y);
			}
		}
	}
	,remove: function(thing) {
		var btn = null;
		var i = -1;
		if(js_Boot.__implements(thing,flixel_addons_ui_interfaces_IFlxUIButton)) {
			btn = thing;
			i = this.findBtn(btn);
		} else {
			i = this.findObj(thing);
		}
		if(i != -1) {
			if(this.current == i) {
				this.hide(this.current);
			}
			var entry = this.list[i];
			this.list.splice(i,1);
			entry.destroy();
		}
	}
	,update: function(elapsed) {
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			var btn = this.list[i].btn;
			var obj = this.list[i].obj;
			if(this.list[i].enabled == false) {
				if(this.current == i) {
					this.hide(i);
				}
				this.list[i].count = 0;
				continue;
			}
			if(obj != null) {
				btn.set_x(obj.x);
				btn.set_y(obj.y);
				btn.set_width(obj.get_width());
				btn.set_height(obj.get_height());
				btn.set_visible(obj.visible);
			}
			if(this.list[i].sticky == false && (false == btn.visible || btn.get_justMousedOut() || btn.get_mouseIsOut())) {
				this.list[i].count = 0;
				this.hide(i);
			} else if(btn.get_justMousedOver() || btn.get_mouseIsOver()) {
				if(btn.get_mouseIsOver()) {
					this.list[i].count += elapsed;
				}
			}
			if(this.list[i].count > this.delay || this.list[i].data.delay >= 0 && this.list[i].count > this.list[i].data.delay) {
				if(this.current != i) {
					this.show(i);
				} else if(this.list[i].data.moving) {
					this.show(i);
				}
			}
		}
	}
	,_init: null
	,list: null
	,tooltip: null
	,current: null
	,lastPosition: null
	,state: null
	,subState: null
	,hide: function(i) {
		if(this.current == i) {
			this.tooltip.hide();
			if(this.state != null) {
				this.state.remove(this.tooltip,true);
			}
			if(this.subState != null) {
				this.subState.remove(this.tooltip,true);
			}
			this.current = -1;
		}
	}
	,findThing: function(thing) {
		if(thing == null) {
			return -1;
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var entry = _g1[_g];
			++_g;
			if(entry.obj == thing || js_Boot.__implements(thing,flixel_addons_ui_interfaces_IFlxUIButton) && js_Boot.__cast(thing , flixel_addons_ui_interfaces_IFlxUIButton) == entry.btn) {
				return this.list.indexOf(entry);
			}
		}
		return -1;
	}
	,findBtn: function(btn) {
		if(btn == null) {
			return -1;
		}
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null && this.list[i].btn == btn) {
				return i;
			}
		}
		return -1;
	}
	,findObj: function(obj) {
		if(obj == null) {
			return -1;
		}
		var _g = 0;
		var _g1 = this.list.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.list[i] != null && this.list[i].obj == obj) {
				return i;
			}
		}
		return -1;
	}
	,set_fixedPosition: function(value) {
		this.fixedPosition = value;
		if(this.tooltip != null && this.tooltip.visible) {
			this.show(this.current);
		}
		return this.fixedPosition;
	}
	,set_showTooltipArrow: function(b) {
		this.showTooltipArrow = b;
		if(this.tooltip != null && this.tooltip.visible) {
			this.tooltip._arrow.set_visible(this.tooltip._arrowBkg.set_visible(b));
		}
		return this.showTooltipArrow;
	}
	,show: function(i) {
		if(i < 0 || i >= this.list.length) {
			return;
		}
		var btn = this.list[i].btn;
		if(btn.visible == false || this.list[i].obj != null && this.list[i].obj.visible == false) {
			return;
		}
		if(this.current == i) {
			var deltaX = btn.x - this.lastPosition.x;
			var deltaY = btn.y - this.lastPosition.y;
			this.lastPosition.set_x(btn.x);
			this.lastPosition.set_y(btn.y);
			var fh = this.tooltip;
			fh.set_x(fh.x + deltaX);
			var fh = this.tooltip;
			fh.set_y(fh.y + deltaY);
			return;
		}
		this.current = i;
		var data = this.list[i].data;
		if(data.init != true) {
			data.style = flixel_addons_ui_FlxUITooltip.styleFix(data.style,this.defaultStyle);
			data.init = true;
		}
		var autoSizeVertical = true;
		var autoSizeHorizontal = true;
		if(data.style != null) {
			this.tooltip.set_style(data.style);
			autoSizeVertical = data.style.autoSizeVertical;
			autoSizeHorizontal = data.style.autoSizeHorizontal;
		}
		if(data.anchor != null) {
			this.tooltip.set_anchor(data.anchor);
		} else if(this.defaultAnchor != null) {
			this.tooltip.set_anchor(this.defaultAnchor);
		}
		if(this.state != null) {
			this.state.add(this.tooltip);
		}
		if(this.subState != null) {
			this.subState.add(this.tooltip);
		}
		this.tooltip.show(btn,data.title,data.body,autoSizeVertical,autoSizeHorizontal);
		if(this.fixedPosition != null) {
			this.fixedPosition.anchor.anchorThing(this.tooltip,this.fixedPosition.object);
		}
		if(this.autoFlipAnchor) {
			if(this.checkAutoFlip(this.tooltip,this.fixedPosition != null ? this.fixedPosition.anchor : null)) {
				if(this.fixedPosition != null) {
					this.fixedPosition.anchor.anchorThing(this.tooltip,this.fixedPosition.object);
				} else {
					this.tooltip.show(btn,data.title,data.body,autoSizeVertical,autoSizeHorizontal,this.showTooltipArrow);
				}
			}
		}
		this.lastPosition.set(btn.x,btn.y);
		if(this.state != null) {
			this.state.onShowTooltip(this.tooltip);
		} else if(this.subState != null) {
			this.subState.onShowTooltip(this.tooltip);
		}
	}
	,checkAutoFlip: function(tooltip,anchor) {
		var flipX = tooltip.x < 0 || tooltip.x + tooltip.get_width() > flixel_FlxG.width;
		var flipY = tooltip.y < 0 || tooltip.y + tooltip.get_height() > flixel_FlxG.height;
		if(flipX || flipY) {
			if(anchor == null) {
				anchor = tooltip.anchor;
			}
			anchor.getFlipped(flipX,flipY,anchor);
			return true;
		}
		return false;
	}
	,set_cameras: function(value) {
		this.tooltip.set_cameras(value);
		return this.cameras = value;
	}
	,__class__: flixel_addons_ui_FlxUITooltipManager
	,__properties__: {set_cameras:"set_cameras",set_showTooltipArrow:"set_showTooltipArrow",set_fixedPosition:"set_fixedPosition"}
};
var flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry = function(Btn,Data,Obj) {
	this.sticky = false;
	this.btn = Btn;
	this.data = Data;
	this.obj = Obj;
	this.count = 0;
	this.enabled = true;
	if(this.data != null) {
		if(this.data.delay == null) {
			this.data.delay = -1;
		}
		if(this.data.moving == null) {
			this.data.moving = false;
		}
	}
};
$hxClasses["flixel.addons.ui._FlxUITooltipManager.FlxUITooltipEntry"] = flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry;
flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry.__name__ = "flixel.addons.ui._FlxUITooltipManager.FlxUITooltipEntry";
flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry.prototype = {
	obj: null
	,btn: null
	,count: null
	,data: null
	,enabled: null
	,sticky: null
	,destroy: function() {
		this.count = 0;
		this.obj = null;
		this.btn = null;
		this.data.anchor = null;
		this.data.style = null;
		this.data = null;
	}
	,__class__: flixel_addons_ui__$FlxUITooltipManager_FlxUITooltipEntry
};
var flixel_addons_ui_FontDef = function(Name,Extension,File1,Format,Border) {
	if(File1 == null) {
		File1 = "";
	}
	if(Extension == null) {
		Extension = ".ttf";
	}
	this._size = 0;
	this.name = Name;
	this.extension = Extension;
	this.file = File1;
	this.format = Format;
	if(this.format == null) {
		this.format = new openfl_text_TextFormat();
	}
	this.border = Border;
	if(this.border == null) {
		this.border = new flixel_addons_ui_BorderDef(flixel_text_FlxTextBorderStyle.NONE,0);
	}
};
$hxClasses["flixel.addons.ui.FontDef"] = flixel_addons_ui_FontDef;
flixel_addons_ui_FontDef.__name__ = "flixel.addons.ui.FontDef";
flixel_addons_ui_FontDef.copyFromTextField = function(t) {
	var dtf = t.get_defaultTextFormat();
	var fd = new flixel_addons_ui_FontDef("");
	fd.fromStr(dtf.font);
	fd.format.font = dtf.font;
	fd.format.size = dtf.size;
	fd.format.color = dtf.color;
	fd.format.bold = dtf.bold;
	fd.format.italic = dtf.italic;
	fd.format.underline = dtf.underline;
	fd.format.url = dtf.url;
	fd.format.letterSpacing = dtf.letterSpacing;
	fd.format.leading = dtf.leading;
	fd.format.target = dtf.target;
	fd.format.align = dtf.align;
	return fd;
};
flixel_addons_ui_FontDef.copyFromFlxText = function(t) {
	var fd = flixel_addons_ui_FontDef.copyFromTextField(t.textField);
	fd.fromStr(t._font);
	fd.border.style = t.borderStyle;
	fd.border.color = t.borderColor;
	fd.border.quality = t.borderQuality;
	fd.border.size = t.borderSize;
	return fd;
};
flixel_addons_ui_FontDef.fromXML = function(data) {
	var fontFace = flixel_addons_ui_U.xml_str(data,"font");
	var fontStyle = flixel_addons_ui_U.xml_str(data,"style");
	var fontFile = null;
	if(fontFace != "") {
		fontFile = flixel_addons_ui_FlxUI.font(fontFace,fontStyle);
	}
	var fontStyle = flixel_addons_ui_U.xml_str(data,"style");
	var fontSize = flixel_addons_ui_FlxUI.fontSize(fontFile,flixel_addons_ui_U.xml_i(data,"size",8));
	var fontColor = flixel_addons_ui_U.xml_color(data,"color",true,-1);
	var fontAlign = flixel_addons_ui_U.xml_str(data,"align");
	var align;
	switch(fontAlign.toLowerCase()) {
	case "center":
		align = 0;
		break;
	case "justify":
		align = 2;
		break;
	case "left":
		align = 3;
		break;
	case "right":
		align = 4;
		break;
	default:
		align = 3;
	}
	var fd = new flixel_addons_ui_FontDef(flixel_addons_ui_U.xml_str(data,"font"),".ttf",fontFile);
	fd.format.color = fontColor;
	fd.format.size = fontSize;
	fd.format.align = align;
	fd.set_size(fontSize);
	fd.setFontStyle(fontStyle);
	fd.border = flixel_addons_ui_BorderDef.fromXML(data);
	return fd;
};
flixel_addons_ui_FontDef.prototype = {
	name: null
	,extension: null
	,file: null
	,format: null
	,border: null
	,get_size: function() {
		if(this.format != null) {
			this._size = this.format.size | 0;
		}
		return this._size;
	}
	,set_size: function(i) {
		if(this.format != null) {
			this.format.size = i;
		}
		this._size = i;
		return this._size;
	}
	,clone: function() {
		var newBorder = this.border == null ? null : this.border.clone();
		var newFormat = this.format == null ? null : new openfl_text_TextFormat(this.format.font,this.format.size,this.format.color,this.format.bold,this.format.italic,this.format.underline,this.format.url,this.format.target,this.format.align,this.format.leftMargin,this.format.rightMargin,this.format.indent,this.format.leading);
		if(this.format != null) {
			newFormat.letterSpacing = this.format.letterSpacing;
		}
		var newThis = new flixel_addons_ui_FontDef(this.name,this.extension,this.file,newFormat,newBorder);
		newThis.set_size(this.get_size());
		return newThis;
	}
	,applyTxt: function(textField) {
		textField.setTextFormat(this.format);
		return textField;
	}
	,applyFlx: function(flxText) {
		var flxTxtAlign = null;
		if(this.format.align != null) {
			switch(this.format.align) {
			case 0:
				flxTxtAlign = "center";
				break;
			case 2:
				flxTxtAlign = "justify";
				break;
			case 3:
				flxTxtAlign = "left";
				break;
			case 4:
				flxTxtAlign = "right";
				break;
			default:
				flxTxtAlign = "left";
			}
		}
		var font = this.file == "" || this.file == null ? null : this.file;
		flxText.setFormat(font,this.format.size | 0,this.format.color,flxTxtAlign,this.border.style,this.border.color);
		flxText.textField.get_defaultTextFormat().leading = this.format.leading;
		flxText.textField.get_defaultTextFormat().letterSpacing = this.format.letterSpacing;
		return flxText;
	}
	,apply: function(textField,flxText) {
		if(textField != null) {
			textField.setTextFormat(this.format);
		}
		if(flxText != null) {
			this.applyFlx(flxText);
		}
	}
	,fromStr: function(str,recursion) {
		if(recursion == null) {
			recursion = 0;
		}
		if(recursion > 3) {
			return;
		}
		str = flixel_addons_ui_FontFixer.fix(str);
		var style = this.getFontStyle(str);
		this.setFontStyle(style);
		var extension = "";
		var _g = 0;
		var _g1 = flixel_addons_ui_FontDef.EXTENSIONS;
		while(_g < _g1.length) {
			var ext = _g1[_g];
			++_g;
			if(str.indexOf(ext) != -1) {
				if(openfl_utils_Assets.exists(str + extension,"FONT")) {
					this.name = StringTools.replace(str,extension,"");
					this.file = str;
					extension = ext;
					break;
				}
			}
		}
		if(extension == "") {
			var _g = 0;
			var _g1 = flixel_addons_ui_FontDef.EXTENSIONS;
			while(_g < _g1.length) {
				var ext = _g1[_g];
				++_g;
				if(openfl_utils_Assets.exists(str + ext,"FONT")) {
					extension = ext;
					this.name = str;
					this.file = str + extension;
					extension = ext;
					break;
				}
			}
		} else {
			str = this.stripFontExtensions(str);
			var fontStyle = this.getFontStyle(str);
			if(fontStyle != "") {
				str = HxOverrides.substr(str,str.length - 1,1);
				this.fromStr(str,recursion + 1);
				return;
			} else {
				this.fromStr(str,recursion + 1);
				return;
			}
		}
		this.setFontStyle(style);
	}
	,_size: null
	,stripFontExtensions: function(str) {
		if(str == null) {
			return str;
		}
		var _g = 0;
		var _g1 = flixel_addons_ui_FontDef.EXTENSIONS;
		while(_g < _g1.length) {
			var ext = _g1[_g];
			++_g;
			if(str != null && str.indexOf(ext) != -1) {
				str = StringTools.replace(str,ext,"");
			}
		}
		return str;
	}
	,getFontExtension: function(str) {
		if(str == null) {
			return "";
		}
		var _g = 0;
		var _g1 = flixel_addons_ui_FontDef.EXTENSIONS;
		while(_g < _g1.length) {
			var ext = _g1[_g];
			++_g;
			if(str.indexOf(ext) != -1) {
				return ext;
			}
		}
		return str;
	}
	,fixFontName: function() {
		var fontStyle = this.getFontStyle(this.file);
		var extension = this.getFontExtension(this.file);
		var fontbase = this.stripFontExtensions(this.file);
		if(fontStyle != "") {
			fontbase = HxOverrides.substr(fontbase,0,fontbase.length - 1);
		}
		var styleStr = "";
		if(this.format.bold && this.format.italic) {
			styleStr = "z";
		} else if(this.format.bold) {
			styleStr = "b";
		} else if(this.format.italic) {
			styleStr = "i";
		}
		this.file = fontbase + styleStr + extension;
	}
	,getFontStyle: function(str) {
		if(str == null) {
			return "";
		}
		str = this.stripFontExtensions(str);
		var lastChar = HxOverrides.substr(str,str.length - 1,1);
		if(lastChar != "" && lastChar != null) {
			lastChar = lastChar.toLowerCase();
			switch(lastChar) {
			case "b":
				return "b";
			case "i":
				return "i";
			case "z":
				return "z";
			default:
				return "";
			}
		}
		return "";
	}
	,setFontStyle: function(str) {
		str = str.toLowerCase();
		switch(str) {
		case "b":case "bold":
			this.format.bold = true;
			this.format.italic = false;
			break;
		case "all":case "bi":case "bold-italic":case "bolditalic":case "both":case "ib":case "italicbold":case "z":
			this.format.bold = true;
			this.format.italic = true;
			break;
		case "i":case "italic":
			this.format.bold = false;
			this.format.italic = true;
			break;
		default:
			this.format.bold = false;
			this.format.italic = false;
		}
		this.fixFontName();
	}
	,toString: function() {
		return "{name:" + this.name + ",size:" + this.get_size() + ",file:" + this.file + ",extension:" + this.extension + ",format:" + Std.string(this.format) + ",border:" + Std.string(this.border) + "}";
	}
	,__class__: flixel_addons_ui_FontDef
	,__properties__: {set_size:"set_size",get_size:"get_size"}
};
var flixel_addons_ui_FontFixer = function() { };
$hxClasses["flixel.addons.ui.FontFixer"] = flixel_addons_ui_FontFixer;
flixel_addons_ui_FontFixer.__name__ = "flixel.addons.ui.FontFixer";
flixel_addons_ui_FontFixer.name2File = null;
flixel_addons_ui_FontFixer.init = function() {
	if(flixel_addons_ui_FontFixer.name2File == null) {
		flixel_addons_ui_FontFixer.name2File = new haxe_ds_StringMap();
	}
};
flixel_addons_ui_FontFixer.fix = function(font) {
	flixel_addons_ui_FontFixer.init();
	if(font.indexOf(".ttf") == -1) {
		if(Object.prototype.hasOwnProperty.call(flixel_addons_ui_FontFixer.name2File.h,font)) {
			font = flixel_addons_ui_FontFixer.name2File.h[font];
		}
	}
	return font;
};
flixel_addons_ui_FontFixer.add = function(file,name) {
	if(name == null) {
		name = "";
	}
	flixel_addons_ui_FontFixer.init();
	if(name != "" && Object.prototype.hasOwnProperty.call(flixel_addons_ui_FontFixer.name2File.h,name)) {
		return flixel_addons_ui_FontFixer.name2File.h[name];
	}
	if(!openfl_utils_Assets.exists(file,"FONT")) {
		return file;
	}
	var font = openfl_utils_Assets.getFont(file);
	if(font == null) {
		return file;
	}
	if(name == "") {
		name = font.name;
	}
	flixel_addons_ui_FontFixer.name2File.h[name] = file;
	return flixel_addons_ui_FontFixer.fix(file);
};
var flixel_addons_ui_StrNameLabel = function(Name,Label) {
	if(Label == null) {
		Label = "";
	}
	if(Name == null) {
		Name = "";
	}
	this.name = Name;
	this.label = Label;
};
$hxClasses["flixel.addons.ui.StrNameLabel"] = flixel_addons_ui_StrNameLabel;
flixel_addons_ui_StrNameLabel.__name__ = "flixel.addons.ui.StrNameLabel";
flixel_addons_ui_StrNameLabel.sortByLabel = function(a,b) {
	if(a.label < b.label) {
		return -1;
	}
	if(a.label > b.label) {
		return 1;
	}
	return 0;
};
flixel_addons_ui_StrNameLabel.sortByName = function(a,b) {
	if(a.name < b.name) {
		return -1;
	}
	if(a.name > b.name) {
		return 1;
	}
	return 0;
};
flixel_addons_ui_StrNameLabel.prototype = {
	name: null
	,label: null
	,copy: function() {
		return new flixel_addons_ui_StrNameLabel(this.name,this.label);
	}
	,toString: function() {
		var value = this.name;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "name";
		_this.value = value;
		var value = this.label;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "label";
		_this1.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1]);
	}
	,__class__: flixel_addons_ui_StrNameLabel
};
var flixel_addons_ui_U = function() { };
$hxClasses["flixel.addons.ui.U"] = flixel_addons_ui_U;
flixel_addons_ui_U.__name__ = "flixel.addons.ui.U";
flixel_addons_ui_U.xml_str = function(data,att,lower_case,default_str) {
	if(default_str == null) {
		default_str = "";
	}
	if(lower_case == null) {
		lower_case = false;
	}
	if(data.get(att) != null) {
		if(lower_case) {
			return data.get(att).toLowerCase();
		} else {
			return data.get(att);
		}
	}
	return default_str;
};
flixel_addons_ui_U.xml_name = function(data) {
	var name = flixel_addons_ui_U.xml_str(data,"name",true,"");
	if(name == "") {
		name = flixel_addons_ui_U.xml_str(data,"id",true,"");
	}
	return name;
};
flixel_addons_ui_U.xml_color = function(data,att,cast32Bit,defaultColor) {
	if(cast32Bit == null) {
		cast32Bit = true;
	}
	var col = null;
	var str = flixel_addons_ui_U.xml_str(data,att,true);
	if(str != "") {
		var cast32Bit1 = cast32Bit;
		var return_val = flixel_util_FlxColor.fromString(str);
		if(return_val == null) {
			throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + str);
		}
		col = return_val;
	}
	if(col == null && defaultColor != null) {
		col = defaultColor;
	}
	return col;
};
flixel_addons_ui_U.xml_iArray = function(data,att) {
	var arr = flixel_addons_ui_U.xml_strArray(data,att);
	var ints = null;
	if(arr != null && arr.length > 0) {
		ints = [];
		var _g = 0;
		var _g1 = arr.length;
		while(_g < _g1) {
			var i = _g++;
			ints[i] = Std.parseInt(arr[i]);
		}
	}
	return ints;
};
flixel_addons_ui_U.xml_fArray = function(data,att) {
	var arr = flixel_addons_ui_U.xml_strArray(data,att);
	var fs = null;
	if(arr != null && arr.length > 0) {
		fs = [];
		var _g = 0;
		var _g1 = arr.length;
		while(_g < _g1) {
			var i = _g++;
			fs[i] = parseFloat(arr[i]);
		}
	}
	return fs;
};
flixel_addons_ui_U.xml_strArray = function(data,att,lowerCase,default_) {
	if(lowerCase == null) {
		lowerCase = true;
	}
	var str = flixel_addons_ui_U.xml_str(data,att,lowerCase);
	if(str != "") {
		var arr = str.split(",");
		return arr;
	} else {
		return default_;
	}
};
flixel_addons_ui_U.xml_colorArray = function(data,att,cast32Bit) {
	if(cast32Bit == null) {
		cast32Bit = true;
	}
	var arr = flixel_addons_ui_U.xml_strArray(data,att);
	var cols = null;
	if(arr != null && arr.length > 0) {
		cols = [];
		var _g = 0;
		var _g1 = arr.length;
		while(_g < _g1) {
			var i = _g++;
			var str = arr[i];
			var cast32Bit1 = cast32Bit;
			var return_val = flixel_util_FlxColor.fromString(str);
			if(return_val == null) {
				throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + str);
			}
			cols[i] = return_val;
		}
	}
	return cols;
};
flixel_addons_ui_U.perc_to_float = function(str) {
	if(str.lastIndexOf("%") == str.length - 1) {
		str = HxOverrides.substr(str,0,str.length - 1);
		var r = new EReg("([0-9]+)?(\\.)?([0-9]*)?","");
		if(r.match(str)) {
			var match = r.matchedPos();
			if(match.pos == 0 && match.len == str.length) {
				var perc_float = parseFloat(str);
				perc_float /= 100;
				return perc_float;
			}
		}
	}
	return NaN;
};
flixel_addons_ui_U.isStrNum = function(str) {
	if(str == null || str == "") {
		return false;
	}
	var r = new EReg("-?([0-9]+)?(\\.)?([0-9]*)?","");
	if(r.match(str)) {
		var p = r.matchedPos();
		if(p.pos == 0 && p.len == str.length) {
			return true;
		}
	}
	return false;
};
flixel_addons_ui_U.isStrInt = function(str) {
	var r = new EReg("[0-9]+","");
	if(r.match(str)) {
		var p = r.matchedPos();
		if(p.pos == 0 && p.len == str.length) {
			return true;
		}
	}
	return false;
};
flixel_addons_ui_U.isStrFloat = function(str) {
	var r = new EReg("[0-9]+\\.[0-9]+","");
	if(r.match(str)) {
		var p = r.matchedPos();
		if(p.pos == 0 && p.len == str.length) {
			return true;
		}
	}
	return false;
};
flixel_addons_ui_U.xml_f = function(data,att,default_) {
	if(default_ == null) {
		default_ = 0;
	}
	if(data.get(att) != null) {
		return parseFloat(data.get(att));
	}
	return default_;
};
flixel_addons_ui_U.xml_i = function(data,att,default_) {
	if(default_ == null) {
		default_ = 0;
	}
	if(data.get(att) != null) {
		return Std.parseInt(data.get(att));
	}
	return default_;
};
flixel_addons_ui_U.xml_pt = function(data,att,default_) {
	if(data.get(att) != null) {
		return flixel_addons_ui_U.pointify(data.get(att));
	}
	return default_;
};
flixel_addons_ui_U.boolify = function(str) {
	str = str.toLowerCase();
	if(str == "true" || str == "1") {
		return true;
	}
	return false;
};
flixel_addons_ui_U.pointify = function(str) {
	var pt = null;
	if(str != null) {
		var arr = ["(",")"," ","=",":"];
		var _g = 0;
		while(_g < arr.length) {
			var thing = arr[_g];
			++_g;
			while(str.indexOf(thing) != -1) str = StringTools.replace(str,thing,"");
		}
		if(str.indexOf(",") == -1) {
			if(str.indexOf("x") != -1) {
				str = StringTools.replace(str,"x",",");
			}
		}
		arr = str.split(",");
		if(arr.length == 2) {
			pt = new flixel_math_FlxPoint(parseFloat(arr[0]),parseFloat(arr[1]));
		}
	}
	return pt;
};
flixel_addons_ui_U.compareStringVars = function(variable,otherValue,type,op) {
	if(op == null) {
		op = "==";
	}
	switch(type) {
	case "bool":
		var ba = flixel_addons_ui_U.boolify(variable);
		var bb = flixel_addons_ui_U.boolify(otherValue);
		if(op == "==" || op == "=") {
			return ba == bb;
		} else if(op == "!==" || op == "!=") {
			return ba != bb;
		}
		break;
	case "float":
		var fa = parseFloat(variable);
		var fb = parseFloat(otherValue);
		if(op == "==" || op == "=") {
			return fa == fb;
		} else if(op == "!==" || op == "!=") {
			return fa != fb;
		} else if(op == "<") {
			return fa < fb;
		} else if(op == ">") {
			return fa > fb;
		} else if(op == "<=") {
			return fa <= fb;
		} else if(op == ">=") {
			return fa >= fb;
		}
		break;
	case "int":
		var ia = Std.parseInt(variable);
		var ib = Std.parseInt(otherValue);
		if(op == "==" || op == "=") {
			return ia == ib;
		} else if(op == "!==" || op == "!=") {
			return ia != ib;
		} else if(op == "<") {
			return ia < ib;
		} else if(op == ">") {
			return ia > ib;
		} else if(op == "<=") {
			return ia <= ib;
		} else if(op == ">=") {
			return ia >= ib;
		}
		break;
	case "string":
		if(op == "==" || op == "=") {
			return variable == otherValue;
		}
		if(op == "!==" || op == "!=") {
			return variable != otherValue;
		}
		break;
	}
	return false;
};
flixel_addons_ui_U.xml_bool = function(data,att,default_) {
	if(default_ == null) {
		default_ = false;
	}
	if(data.get(att) != null) {
		var str = data.get(att);
		str = str.toLowerCase();
		if(str == "true" || str == "1") {
			return true;
		}
		return false;
	}
	return default_;
};
flixel_addons_ui_U.xml_gfx = function(data,att,test) {
	if(test == null) {
		test = true;
	}
	var str = "";
	if(data.get(att) != null) {
		str = data.get(att);
		if(str == "" || str == null) {
			str = "";
		} else {
			str = flixel_addons_ui_U.gfx(str);
			if(test) {
				try {
					if(!openfl_utils_Assets.exists(str,"IMAGE")) {
						throw haxe_Exception.thrown("couldn't load bmp \"" + att + "\"");
					}
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					if(typeof(haxe_Exception.caught(_g).unwrap()) != "string") {
						throw _g;
					}
				}
			}
		}
	}
	return str;
};
flixel_addons_ui_U.center = function(fb1,fb2,centerX,centerY) {
	if(centerY == null) {
		centerY = true;
	}
	if(centerX == null) {
		centerX = true;
	}
	if(centerX) {
		fb2.set_x(fb1.x + (fb1.get_width() - fb2.get_width()) / 2);
	}
	if(centerY) {
		fb2.set_y(fb1.y + (fb1.get_height() - fb2.get_height()) / 2);
	}
};
flixel_addons_ui_U.test_int = function(i1,test,i2) {
	switch(test) {
	case "!=":
		return i1 != i2;
	case "<":
		return i1 < i2;
	case "<=":
		return i1 <= i2;
	case "==":
		return i1 == i2;
	case ">":
		return i1 > i2;
	case ">=":
		return i1 >= i2;
	default:
		return false;
	}
};
flixel_addons_ui_U.test_float = function(f1,test,f2) {
	switch(test) {
	case "!=":
		return f1 != f2;
	case "<":
		return f1 < f2;
	case "<=":
		return f1 <= f2;
	case "==":
		return f1 == f2;
	case ">":
		return f1 > f2;
	case ">=":
		return f1 >= f2;
	default:
		return false;
	}
};
flixel_addons_ui_U.padDigits = function(i,d,padChar) {
	if(padChar == null) {
		padChar = "0";
	}
	var f = i;
	var str = "";
	var num_digits = 0;
	while(f >= 1) {
		f /= 10;
		++num_digits;
	}
	if(i == 0) {
		num_digits = 1;
	}
	if(num_digits < d) {
		var _g = 0;
		var _g1 = d - num_digits;
		while(_g < _g1) {
			var temp = _g++;
			str += padChar;
		}
	}
	return str + (i == null ? "null" : "" + i);
};
flixel_addons_ui_U.conformToBounds = function(pt,maxMin) {
	if(maxMin != null) {
		if(pt.x < maxMin.min_width) {
			pt.x = maxMin.min_width;
		}
		if(pt.y < maxMin.min_height) {
			pt.y = maxMin.min_height;
		}
		if(pt.x > maxMin.max_width) {
			pt.x = maxMin.max_width;
		}
		if(pt.x > maxMin.max_height) {
			pt.y = maxMin.max_height;
		}
	}
	return pt;
};
flixel_addons_ui_U.parseHex = function(str,cast32Bit,safe,default_color) {
	if(default_color == null) {
		default_color = 0;
	}
	if(safe == null) {
		safe = false;
	}
	if(cast32Bit == null) {
		cast32Bit = false;
	}
	var return_val = flixel_util_FlxColor.fromString(str);
	if(return_val == null) {
		if(!safe) {
			throw haxe_Exception.thrown("U.parseHex() unable to parse hex String " + str);
		} else {
			return_val = default_color;
		}
	}
	return return_val;
};
flixel_addons_ui_U.hexChar2dec = function(hex_char) {
	switch(hex_char) {
	case "0":case "1":case "10":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":
		return Std.parseInt(hex_char);
	case "A":case "a":
		return 10;
	case "C":case "c":
		return 12;
	case "E":case "e":
		return 14;
	case "B":case "b":
		return 11;
	case "D":case "d":
		return 13;
	case "F":case "f":
		return 15;
	default:
		throw haxe_Exception.thrown("U.hexChar2dec() illegal char(" + hex_char + ")");
	}
};
flixel_addons_ui_U.hex2dec = function(hex_str) {
	var length = hex_str.length;
	var place_mult = 1;
	var sum = 0;
	var i = length - 1;
	while(i >= 0) {
		var char_hex = HxOverrides.substr(hex_str,i,1);
		var char_int;
		switch(char_hex) {
		case "0":case "1":case "10":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":
			char_int = Std.parseInt(char_hex);
			break;
		case "A":case "a":
			char_int = 10;
			break;
		case "C":case "c":
			char_int = 12;
			break;
		case "E":case "e":
			char_int = 14;
			break;
		case "B":case "b":
			char_int = 11;
			break;
		case "D":case "d":
			char_int = 13;
			break;
		case "F":case "f":
			char_int = 15;
			break;
		default:
			throw haxe_Exception.thrown("U.hexChar2dec() illegal char(" + char_hex + ")");
		}
		sum += char_int * place_mult;
		place_mult *= 16;
		--i;
	}
	return sum;
};
flixel_addons_ui_U.hex2rgb = function(hex) {
	return [hex >> 16 & 255,hex >> 8 & 255,hex & 255];
};
flixel_addons_ui_U.applyResize = function(resize_ratio,resize_ratio_axis,w,h,pt) {
	if(pt == null) {
		pt = new flixel_math_FlxPoint();
	}
	if(resize_ratio > 0) {
		var effective_ratio = w / h;
		if(Math.abs(effective_ratio - resize_ratio) > 0.0001) {
			if(resize_ratio_axis == 1) {
				h = w * (1 / resize_ratio);
			} else {
				w = h * (1 / resize_ratio);
			}
		}
	}
	var iw = w | 0;
	if(iw < 1) {
		w = 1;
	}
	var ih = h | 0;
	if(ih < 1) {
		h = 1;
	}
	pt.set(w,h);
	return pt;
};
flixel_addons_ui_U.rgb2hex = function(r,g,b) {
	return r << 16 | g << 8 | b;
};
flixel_addons_ui_U.interpolate = function(hex1,hex2,amt) {
	if(amt < 0) {
		amt = 0;
	} else if(amt > 1) {
		amt = 1;
	}
	var a1 = 1 - amt;
	var c1r = hex1 >> 16 & 255;
	var c1g = hex1 >> 8 & 255;
	var c1b = hex1 & 255;
	var c2r = hex2 >> 16 & 255;
	var c2g = hex2 >> 8 & 255;
	var c2b = hex2 & 255;
	var c3r = c1r * a1 + c2r * amt | 0;
	var c3g = c1g * a1 + c2g * amt | 0;
	var c3b = c1b * a1 + c2b * amt | 0;
	return c3r << 16 | c3g << 8 | c3b;
};
flixel_addons_ui_U.getLocList = function(xmin,ymin,xmax,ymax) {
	var list = [];
	var _g = ymin;
	var _g1 = ymax + 1;
	while(_g < _g1) {
		var yy = _g++;
		var _g2 = xmin;
		var _g3 = xmax + 1;
		while(_g2 < _g3) {
			var xx = _g2++;
			var X = xx;
			var Y = yy;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			list.push(point);
		}
	}
	return list;
};
flixel_addons_ui_U.disposeXML = function(thing) {
};
flixel_addons_ui_U.copyAccess = function(fast) {
	var x = Xml.parse(haxe_xml_Printer.print(fast)).firstElement();
	if(x.nodeType != Xml.Document && x.nodeType != Xml.Element) {
		throw haxe_Exception.thrown("Invalid nodeType " + (x.nodeType == null ? "null" : XmlType.toString(x.nodeType)));
	}
	var this1 = x;
	return this1;
};
flixel_addons_ui_U.copyXml = function(data) {
	return Xml.parse(haxe_xml_Printer.print(data)).firstElement();
};
flixel_addons_ui_U.getXML = function(str,folder) {
	if(folder == null) {
		folder = "";
	}
	var id = str;
	if(folder != "") {
		id = folder + "/" + id;
	}
	return flixel_addons_ui_U.xml(id);
};
flixel_addons_ui_U.json = function(str,extension,dir) {
	if(dir == null) {
		dir = "assets/json/";
	}
	if(extension == null) {
		extension = "json";
	}
	var json_str = openfl_utils_Assets.getText(dir + str + "." + extension);
	if(json_str != "" && json_str != null) {
		var the_json = JSON.parse(json_str);
		return the_json;
	}
	return null;
};
flixel_addons_ui_U.field = function(object,field,_default) {
	if(object == null) {
		return null;
	}
	if(Object.prototype.hasOwnProperty.call(object,field)) {
		var thing = Reflect.field(object,field);
		if(thing == null) {
			return _default;
		}
		return thing;
	}
	return _default;
};
flixel_addons_ui_U.xml = function(id,extension,getAccess,dir) {
	if(dir == null) {
		dir = "assets/xml/";
	}
	if(getAccess == null) {
		getAccess = true;
	}
	if(extension == null) {
		extension = "xml";
	}
	if(id.indexOf("raw:") == 0 || id.indexOf("RAW:") == 0) {
		id = HxOverrides.substr(id,4,id.length - 4);
		dir = "";
	}
	var thePath = dir + id + "." + extension;
	var exists = openfl_utils_Assets.exists(thePath,"TEXT");
	if(!exists) {
		return null;
	}
	var str = openfl_utils_Assets.getText(dir + id + "." + extension);
	if(str == null) {
		return null;
	}
	var the_xml = Xml.parse(str);
	if(getAccess) {
		var x = the_xml.firstElement();
		if(x.nodeType != Xml.Document && x.nodeType != Xml.Element) {
			throw haxe_Exception.thrown("Invalid nodeType " + (x.nodeType == null ? "null" : XmlType.toString(x.nodeType)));
		}
		var this1 = x;
		var fast = this1;
		return fast;
	} else {
		return the_xml.firstElement();
	}
};
flixel_addons_ui_U.clearArraySoft = function(array) {
	if(array == null) {
		return;
	}
	var i = array.length - 1;
	while(i >= 0) {
		array[i] = null;
		array.splice(i,1);
		--i;
	}
	array = null;
};
flixel_addons_ui_U.clearArray = function(array) {
	if(array == null) {
		return;
	}
	var i = array.length - 1;
	while(i >= 0) {
		flixel_addons_ui_U.destroyThing(array[i]);
		array[i] = null;
		array.splice(i,1);
		--i;
	}
	array = null;
};
flixel_addons_ui_U.destroyThing = function(thing) {
	if(thing == null) {
		return;
	}
	if(((thing) instanceof Array)) {
		flixel_addons_ui_U.clearArray(thing);
	} else if(js_Boot.__implements(thing,flixel_util_IFlxDestroyable)) {
		var idstr = js_Boot.__cast(thing , flixel_util_IFlxDestroyable);
		idstr.destroy();
		idstr = null;
	} else if(((thing) instanceof flixel_FlxBasic)) {
		var fb = js_Boot.__cast(thing , flixel_FlxBasic);
		fb.destroy();
		fb = null;
	}
	thing = null;
};
flixel_addons_ui_U.fontStr = function(str,style) {
	if(style == null) {
		style = "";
	}
	var style1 = style;
	if(style1 == null) {
		style1 = "";
	}
	style1 = style1.toLowerCase();
	var suffix = "";
	switch(style1) {
	case "b":case "bold":
		suffix = "b";
		break;
	case "bi":case "bold-italic":case "boldi":case "bolditalic":case "ib":case "ibold":case "italic-bold":case "italicbold":case "z":
		suffix = "z";
		break;
	case "i":case "italic":
		suffix = "i";
		break;
	case "":case "none":case "normal":case "regular":
		suffix = "";
		break;
	}
	if(str.indexOf("assets/fonts/") != 0) {
		return "assets/fonts/" + str + suffix;
	} else {
		return str + suffix;
	}
};
flixel_addons_ui_U.font = function(str,style,extension) {
	if(extension == null) {
		extension = ".ttf";
	}
	if(style == null) {
		style = "";
	}
	var ostr = str;
	var style1 = style;
	if(style1 == null) {
		style1 = "";
	}
	style1 = style1.toLowerCase();
	var suffix = "";
	switch(style1) {
	case "b":case "bold":
		suffix = "b";
		break;
	case "bi":case "bold-italic":case "boldi":case "bolditalic":case "ib":case "ibold":case "italic-bold":case "italicbold":case "z":
		suffix = "z";
		break;
	case "i":case "italic":
		suffix = "i";
		break;
	case "":case "none":case "normal":case "regular":
		suffix = "";
		break;
	}
	if(str.indexOf("assets/fonts/") != 0) {
		str = "assets/fonts/" + str + suffix;
	} else {
		str += suffix;
	}
	if(str.indexOf(extension) == -1) {
		str += extension;
	}
	str = flixel_addons_ui_FontFixer.add(str);
	var exists = openfl_utils_Assets.exists(str,"FONT");
	if(!exists && extension == ".ttf") {
		var alt = flixel_addons_ui_U.font(ostr,style,".otf");
		if(openfl_utils_Assets.exists(alt,"FONT")) {
			return alt;
		}
	}
	return str;
};
flixel_addons_ui_U._font = function(str,style) {
	if(style == null) {
		style = "";
	}
	style = style.toLowerCase();
	var suffix = "";
	switch(style) {
	case "b":case "bold":
		suffix = "b";
		break;
	case "bi":case "bold-italic":case "boldi":case "bolditalic":case "ib":case "ibold":case "italic-bold":case "italicbold":case "z":
		suffix = "z";
		break;
	case "i":case "italic":
		suffix = "i";
		break;
	case "":case "none":case "normal":case "regular":
		suffix = "";
		break;
	}
	if(str.indexOf("assets/fonts/") != 0) {
		return "assets/fonts/" + str + suffix;
	}
	return str + suffix;
};
flixel_addons_ui_U.fsx = function(data) {
	return new flixel_addons_ui_FlxUISprite(0,0,data);
};
flixel_addons_ui_U.fs = function(data) {
	return new flixel_FlxSprite(0,0,data);
};
flixel_addons_ui_U.FU = function(str) {
	return HxOverrides.substr(str,0,1).toUpperCase() + HxOverrides.substr(str,1,str.length - 1);
};
flixel_addons_ui_U.FUL = function(str) {
	return HxOverrides.substr(str,0,1).toUpperCase() + HxOverrides.substr(str,1,str.length - 1).toLowerCase();
};
flixel_addons_ui_U.getBmp = function(asset) {
	var str = null;
	if(typeof(asset) == "string") {
		str = asset;
	} else if(((asset) instanceof flixel_graphics_FlxGraphic)) {
		var fg = asset;
		str = fg.key;
	} else if(((asset) instanceof openfl_display_BitmapData)) {
		var bmp = asset;
		return bmp;
	}
	if(flixel_FlxG.bitmap._cache.h[str] != null) {
		var cg = flixel_FlxG.bitmap._cache.h[str];
		if(cg.bitmap != null) {
			return cg.bitmap;
		}
	}
	return openfl_utils_Assets.getBitmapData(str,false);
};
flixel_addons_ui_U.checkHaxedef = function(str) {
	str = str.toLowerCase();
	switch(str) {
	case "android":
		break;
	case "console-pc":case "console_pc":
		break;
	case "cpp":
		break;
	case "demo":
		break;
	case "desktop":
		break;
	case "flash":
		break;
	case "html5":
		return true;
	case "ios":
		break;
	case "js":
		return true;
	case "legacy":case "lime_legacy":
		break;
	case "lime_next":case "next":
		var val = true;
		return val;
	case "linux":
		break;
	case "mac":
		break;
	case "mobile":
		break;
	case "neko":
		break;
	case "ps3":
		break;
	case "ps4":
		break;
	case "sys":
		break;
	case "tvos":
		break;
	case "vita":
		break;
	case "web":
		return true;
	case "wiiu":
		break;
	case "windows":
		break;
	case "xbox1":
		break;
	}
	return false;
};
flixel_addons_ui_U.copy_shallow_arr = function(src) {
	if(src == null) {
		return null;
	}
	var arr = [];
	if(src == null) {
		return arr;
	}
	var _g = 0;
	while(_g < src.length) {
		var thing = src[_g];
		++_g;
		arr.push(thing);
	}
	return arr;
};
flixel_addons_ui_U.copy_arr_arr_i = function(src) {
	if(src == null) {
		return null;
	}
	var arrarr = [];
	var _g = 0;
	while(_g < src.length) {
		var arri = src[_g];
		++_g;
		var temp = [];
		var _g1 = 0;
		while(_g1 < arri.length) {
			var i = arri[_g1];
			++_g1;
			temp.push(i);
		}
		arrarr.push(temp);
	}
	return arrarr;
};
flixel_addons_ui_U.copy_shallow_arr_i = function(src) {
	if(src == null) {
		return null;
	}
	var arr = [];
	var _g = 0;
	while(_g < src.length) {
		var thing = src[_g];
		++_g;
		arr.push(thing);
	}
	return arr;
};
flixel_addons_ui_U.copy_shallow_arr_str = function(src) {
	if(src == null) {
		return null;
	}
	var arr = [];
	var _g = 0;
	while(_g < src.length) {
		var thing = src[_g];
		++_g;
		arr.push(thing);
	}
	return arr;
};
flixel_addons_ui_U.FU_ = function(str) {
	var arr = str.split(" ");
	var str = "";
	var _g = 0;
	var _g1 = arr.length;
	while(_g < _g1) {
		var i = _g++;
		str += flixel_addons_ui_U.FU(arr[i]);
		if(i != arr.length - 1) {
			str += " ";
		}
	}
	return str;
};
flixel_addons_ui_U.xml_blend = function(x,att) {
	return flixel_addons_ui_U.blendModeFromString(flixel_addons_ui_U.xml_str(x,att,true,"normal"));
};
flixel_addons_ui_U.blendModeFromString = function(str) {
	str = str.toLowerCase();
	switch(str) {
	case "add":
		return 0;
	case "alpha":
		return 1;
	case "darken":
		return 2;
	case "difference":
		return 3;
	case "erase":
		return 4;
	case "hardlight":
		return 5;
	case "invert":
		return 6;
	case "layer":
		return 7;
	case "lighten":
		return 8;
	case "multiply":
		return 9;
	case "normal":
		return 10;
	case "overlay":
		return 11;
	case "screen":
		return 12;
	case "subtract":
		return 14;
	default:
		return 10;
	}
};
flixel_addons_ui_U.scaleTileBmp = function(orig_id,scale,origW,origH,W,H,smooth) {
	if(smooth == null) {
		smooth = true;
	}
	if(H == null) {
		H = -1;
	}
	if(W == null) {
		W = -1;
	}
	var orig = openfl_utils_Assets.getBitmapData(orig_id,false);
	if(orig == null) {
		if(flixel_FlxG.bitmap._cache.h[orig_id] != null) {
			orig = flixel_FlxG.bitmap._cache.h[orig_id].bitmap;
		} else {
			return null;
		}
	}
	var widthInTiles = orig.width / origW | 0;
	var heightInTiles = orig.height / origH | 0;
	if(W == -1) {
		W = origW * scale | 0;
	}
	if(H == -1) {
		H = origH * scale | 0;
		scale = H / origH;
	}
	if(Math.abs(scale - 1.0) > 0.001) {
		var scaled = new openfl_display_BitmapData(W * widthInTiles | 0,H * heightInTiles | 0,true,0);
		var rect = new openfl_geom_Rectangle();
		var pt = new openfl_geom_Point();
		var matrix = new openfl_geom_Matrix();
		matrix.scale(scale,scale);
		var _g = 0;
		var _g1 = heightInTiles;
		while(_g < _g1) {
			var tiley = _g++;
			var _g2 = 0;
			var _g3 = widthInTiles;
			while(_g2 < _g3) {
				var tilex = _g2++;
				var tile = new openfl_display_BitmapData(origW,origH,true,0);
				rect.setTo(tilex * origW,tiley * origH,origW,origH);
				pt.setTo(0,0);
				tile.copyPixels(orig,rect,pt);
				var scaleTile = new openfl_display_BitmapData(W,H,true,0);
				scaleTile.draw(tile,matrix,null,null,null,smooth);
				pt.setTo(tilex * W,tiley * H);
				scaled.copyPixels(scaleTile,scaleTile.rect,pt);
			}
		}
		return scaled;
	} else {
		return orig.clone();
	}
};
flixel_addons_ui_U.scaleAndStoreTileset = function(orig_id,scale,OrigW,OrigH,TileW,TileH,Smooth) {
	if(Smooth == null) {
		Smooth = true;
	}
	if(TileH == null) {
		TileH = -1;
	}
	if(TileW == null) {
		TileW = -1;
	}
	var assetKey = orig_id + "_x" + scale;
	if(flixel_FlxG.bitmap._cache.h[assetKey] != null == false) {
		var bmp = flixel_addons_ui_U.scaleTileBmp(orig_id,scale,OrigW,OrigH,TileW,TileH,Smooth);
		flixel_FlxG.bitmap.add(bmp,false,assetKey);
	}
	return assetKey;
};
flixel_addons_ui_U.loadScaledImage = function(src,W,H,smooth) {
	if(smooth == null) {
		smooth = true;
	}
	var bmpSrc = flixel_addons_ui_U.gfx(src);
	var testBmp = openfl_utils_Assets.getBitmapData(bmpSrc,false);
	if(testBmp != null) {
		if(W < 0) {
			W = testBmp.width;
		}
		if(H < 0) {
			H = testBmp.height;
		}
		var diff = Math.abs(W - testBmp.width) + Math.abs(H - testBmp.height);
		if(diff > 0.01) {
			var scaleKey = bmpSrc + "_" + (W | 0) + "x" + (H | 0);
			if(flixel_FlxG.bitmap._cache.h[scaleKey] == null) {
				var scaledBmp = new openfl_display_BitmapData(W | 0,H | 0,true,0);
				var m = flixel_addons_ui_U.getMatrix();
				m.identity();
				m.scale(W / testBmp.width,H / testBmp.height);
				scaledBmp.draw(testBmp,m,null,null,null,smooth);
				flixel_FlxG.bitmap.add(scaledBmp,true,scaleKey);
			}
			return scaleKey;
		} else {
			return bmpSrc;
		}
	}
	return null;
};
flixel_addons_ui_U.loadImageScaleToHeight = function(src,Height,Smooth,checkFlxBitmap) {
	if(checkFlxBitmap == null) {
		checkFlxBitmap = false;
	}
	if(Smooth == null) {
		Smooth = true;
	}
	var bmpSrc = flixel_addons_ui_U.gfx(src);
	var testBmp = null;
	if(!checkFlxBitmap) {
		testBmp = openfl_utils_Assets.getBitmapData(bmpSrc,false);
	} else {
		var flximg = flixel_FlxG.bitmap._cache.h[bmpSrc];
		testBmp = flximg != null ? flximg.bitmap : null;
	}
	var ratio = testBmp != null ? Height / testBmp.height : 1.0;
	return flixel_addons_ui_U.loadMonoScaledImage(bmpSrc,ratio,Smooth,checkFlxBitmap);
};
flixel_addons_ui_U.loadMonoScaledImage = function(src,Scale,smooth,checkFlxBitmap,fixAlphaChannel) {
	if(fixAlphaChannel == null) {
		fixAlphaChannel = false;
	}
	if(checkFlxBitmap == null) {
		checkFlxBitmap = false;
	}
	if(smooth == null) {
		smooth = true;
	}
	var bmpSrc = flixel_addons_ui_U.gfx(src);
	var testBmp = null;
	if(!checkFlxBitmap) {
		testBmp = openfl_utils_Assets.getBitmapData(bmpSrc,false);
		if(testBmp == null) {
			testBmp = openfl_utils_Assets.getBitmapData(bmpSrc,true);
		}
	} else {
		var flximg = flixel_FlxG.bitmap._cache.h[bmpSrc];
		testBmp = flximg != null ? flximg.bitmap : null;
	}
	if(testBmp != null) {
		if(Scale <= 0) {
			throw haxe_Exception.thrown("Error! Scale must be positive & > 0! (Scale was = " + Scale + ")");
		}
		if(Math.abs(Scale - 1.00) > 0.001) {
			var scaleKey = bmpSrc + "_ScaleX" + Scale;
			if(flixel_FlxG.bitmap._cache.h[scaleKey] == null) {
				var scaledBmp = new openfl_display_BitmapData(testBmp.width * Scale | 0,testBmp.height * Scale | 0,true,0);
				var m = flixel_addons_ui_U.getMatrix();
				m.identity();
				m.scale(Scale,Scale);
				scaledBmp.draw(testBmp,m,null,null,null,smooth);
				if(fixAlphaChannel) {
					var black = new openfl_display_BitmapData(scaledBmp.width,scaledBmp.height,true,-16777216);
					black.copyPixels(scaledBmp,scaledBmp.rect,new openfl_geom_Point(),null,null,true);
					black.copyChannel(scaledBmp,scaledBmp.rect,new openfl_geom_Point(0,0),8,8);
					var temp = scaledBmp;
					scaledBmp = black;
					temp.dispose();
				}
				flixel_FlxG.bitmap.add(scaledBmp,true,scaleKey);
			}
			return scaleKey;
		} else {
			flixel_FlxG.bitmap.add(testBmp,false,bmpSrc);
			return bmpSrc;
		}
	}
	return null;
};
flixel_addons_ui_U.gfx = function(id,dir1,dir2,dir3,dir4,suppressError) {
	if(suppressError == null) {
		suppressError = false;
	}
	if(dir4 == null) {
		dir4 = "";
	}
	if(dir3 == null) {
		dir3 = "";
	}
	if(dir2 == null) {
		dir2 = "";
	}
	if(dir1 == null) {
		dir1 = "";
	}
	if(id != null) {
		id = id.toLowerCase();
	}
	var prefix = "";
	if(dir1 != "") {
		prefix = dir1 + "/";
		if(dir2 != "") {
			prefix += dir2 + "/";
			if(dir3 != "") {
				prefix += dir3 + "/";
				if(dir4 != "") {
					prefix += dir4 + "/";
				}
			}
		}
	}
	if(prefix != "") {
		id = prefix + id;
	}
	if(id.indexOf("raw:") != 0) {
		id = StringTools.replace(id,"-","_");
	}
	return flixel_addons_ui_U.get_gfx(id);
};
flixel_addons_ui_U.bmpToArrayIntLayer = function(color_index,bd) {
	var p;
	var arr = [];
	var w = bd.width;
	var h = bd.height;
	var _g = 0;
	var _g1 = h;
	while(_g < _g1) {
		var r = _g++;
		var _g2 = 0;
		var _g3 = w;
		while(_g2 < _g3) {
			var c = _g2++;
			p = bd.getPixel(c,r);
			if(p == color_index) {
				p = 1;
			} else {
				p = 0;
			}
			arr.push(p);
		}
	}
	return arr;
};
flixel_addons_ui_U.bmpToCSVLayer = function(color_index,bd) {
	var p;
	var csv = "";
	var w = bd.width;
	var h = bd.height;
	var _g = 0;
	var _g1 = h;
	while(_g < _g1) {
		var r = _g++;
		var _g2 = 0;
		var _g3 = w;
		while(_g2 < _g3) {
			var c = _g2++;
			p = bd.getPixel(c,r);
			if(p == color_index) {
				p = 1;
			} else {
				p = 0;
			}
			if(c == 0) {
				if(r == 0) {
					csv += p;
				} else {
					csv += "\n" + p;
				}
			} else {
				csv += ", " + p;
			}
		}
	}
	return csv;
};
flixel_addons_ui_U.get_gfx = function(str) {
	var return_str = "";
	var suffix = "";
	if(str.indexOf(".jpg") != -1) {
		suffix = ".jpg";
	} else {
		suffix = ".png";
	}
	if(str != null && str.length > 4 && str.indexOf(suffix) != -1) {
		str = HxOverrides.substr(str,0,str.length - 4);
	}
	if(str.indexOf("raw:") == 0 || str.indexOf("RAW:") == 0) {
		str = HxOverrides.substr(str,4,str.length - 4);
		return_str = str + suffix;
	}
	if(str != null && str.indexOf("assets/gfx/") == 0) {
		return_str = str + suffix;
	}
	if(return_str == "") {
		return_str = "assets/gfx/" + str + suffix;
	}
	if(return_str.indexOf(".stitch.txt" + suffix) != -1) {
		return_str = StringTools.replace(return_str,".stitch.txt" + suffix,".stitch.txt");
	}
	return return_str;
};
flixel_addons_ui_U.sfx = function(str) {
	var extension = "";
	extension = ".ogg";
	if(str.indexOf("RAW:") == 0) {
		str = HxOverrides.substr(str,4,str.length - 4);
		return str + extension;
	}
	return "assets/sfx/" + str + extension;
};
flixel_addons_ui_U.intStr_to_arr = function(str) {
	var arr = str.split(",");
	var str_arr = [];
	var _g = 0;
	while(_g < arr.length) {
		var s = arr[_g];
		++_g;
		if(s.indexOf("-") == -1) {
			str_arr.push(Std.parseInt(s));
		} else {
			var range = str.split("-");
			var lo = -1;
			var hi = -1;
			if(range != null && range.length == 2) {
				lo = Std.parseInt(range[0]);
				hi = Std.parseInt(range[1]) + 1;
				if(lo >= 0 && hi > lo) {
					var _g1 = lo;
					var _g2 = hi;
					while(_g1 < _g2) {
						var i = _g1++;
						str_arr.push(i);
					}
				}
			}
		}
	}
	return str_arr;
};
flixel_addons_ui_U.intStr_to_arrStr = function(str) {
	var arr = str.split(",");
	var str_arr = [];
	var _g = 0;
	while(_g < arr.length) {
		var s = arr[_g];
		++_g;
		if(s.indexOf("-") == -1) {
			str_arr.push(Std.string(Std.parseInt(s)));
		} else {
			var range = str.split("-");
			var lo = -1;
			var hi = -1;
			if(range != null && range.length == 2) {
				lo = Std.parseInt(range[0]);
				hi = Std.parseInt(range[1]) + 1;
				if(lo >= 0 && hi > lo) {
					var _g1 = lo;
					var _g2 = hi;
					while(_g1 < _g2) {
						var i = _g1++;
						str_arr.push(i == null ? "null" : "" + i);
					}
				}
			}
		}
	}
	return str_arr;
};
flixel_addons_ui_U.dirStr = function(XX,YY) {
	var str = "";
	if(XX == 0) {
		if(YY == -1) {
			str = "N";
		} else if(YY == 1) {
			str = "S";
		} else if(YY == 0) {
			str = "NONE";
		}
	} else if(XX == 1) {
		if(YY == -1) {
			str = "NE";
		} else if(YY == 1) {
			str = "SE";
		} else if(YY == 0) {
			str = "E";
		}
	} else if(XX == -1) {
		if(YY == -1) {
			str = "NW";
		} else if(YY == 1) {
			str = "SW";
		} else if(YY == 0) {
			str = "W";
		}
	} else {
		str = "NONE";
	}
	return str;
};
flixel_addons_ui_U.obj_direction = function(a,b) {
	var dx = a.x - b.x;
	var dy = a.y - b.y;
	var X = dx / Math.abs(dx) | 0;
	var Y = dy / Math.abs(dy) | 0;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	var ipt = point;
	return ipt;
};
flixel_addons_ui_U.circle_test = function(x1,y1,r1,x2,y2,r2) {
	var dx = x1 - x2;
	var dy = y1 - y2;
	var d2 = dx * dx + dy * dy;
	var dr2 = r1 * r1 + r2 * r2;
	return d2 <= dr2;
};
flixel_addons_ui_U.point_circle_test = function(x,y,cx,cy,r) {
	var dx = x - cx;
	var dy = y - cy;
	var d2 = dx * dx + dy * dy;
	return d2 <= r * r;
};
flixel_addons_ui_U.aabb_test_mult = function(a,b,multA,multB) {
	if(multB == null) {
		multB = 1;
	}
	if(multA == null) {
		multA = 1;
	}
	var extra = a.get_width() * multA;
	var diff = (extra - a.get_width()) / 2;
	var ax1 = a.x - diff;
	var ax2 = a.x + a.get_width() + diff;
	extra = a.get_height() * multA;
	diff = (extra - a.get_height()) / 2;
	var ay1 = a.y - diff;
	var ay2 = a.y + a.get_height() + diff;
	extra = b.get_width() * multB;
	diff = (extra - b.get_width()) / 2;
	var bx1 = b.x - diff;
	var bx2 = b.x + b.get_width() + diff;
	extra = b.get_height() * multB;
	diff = (extra - b.get_height()) / 2;
	var by1 = b.y - diff;
	var by2 = b.y + b.get_height() + diff;
	if(Math.abs(bx2 + bx1 - (ax2 + ax1)) <= bx2 - bx1 + ax2 - ax1) {
		return Math.abs(by2 + by1 - (ay2 + ay1)) <= by2 - by1 + ay2 - ay1;
	} else {
		return false;
	}
};
flixel_addons_ui_U.aabb_test = function(a,b) {
	var ax1 = a.x;
	var ax2 = a.x + a.get_width();
	var ay1 = a.y;
	var ay2 = a.y + a.get_height();
	var bx1 = b.x;
	var bx2 = b.x + b.get_width();
	var by1 = b.y;
	var by2 = b.y + b.get_height();
	if(Math.abs(bx2 + bx1 - (ax2 + ax1)) <= bx2 - bx1 + ax2 - ax1) {
		return Math.abs(by2 + by1 - (ay2 + ay1)) <= by2 - by1 + ay2 - ay1;
	} else {
		return false;
	}
};
flixel_addons_ui_U.bitStringDimensions = function(str) {
	var pt = new openfl_geom_Point(0,0);
	var arr = str.split("\n");
	if(arr != null && arr.length > 1) {
		pt.y = arr.length;
		if(arr[0] != null && arr[0].length > 1) {
			pt.x = arr[0].length;
		}
	}
	return pt;
};
flixel_addons_ui_U.splitBitString = function(str) {
	var result = [];
	var arr = str.split("\n");
	var i = 0;
	while(i < arr.length) {
		var len = arr[i].length;
		var j = 0;
		while(j < len) {
			var char = arr[i].charAt(j);
			var num = Std.parseInt(char);
			result.push(num);
			++j;
		}
		++i;
	}
	return result;
};
flixel_addons_ui_U.getShortTextFromFlxKeyText = function(str) {
	str = str.toUpperCase();
	switch(str) {
	case "ACCENT":
		return "`";
	case "ALT":
		return "AT";
	case "BACKSLASH":
		return "\\";
	case "BACKSPACE":
		return "BK";
	case "CAPSLOCK":
		return "CP";
	case "COMMA":
		return ",";
	case "CONTROL":
		return "CT";
	case "DELETE":
		return "DE";
	case "DOWN":
		return "DN";
	case "EIGHT":
		return "8";
	case "END":
		return "ED";
	case "ENTER":
		return "EN";
	case "EQUALS":
		return "=";
	case "ESC":case "ESCAPE":
		return "EC";
	case "FIVE":
		return "5";
	case "FOUR":
		return "4";
	case "HOME":
		return "HM";
	case "INSERT":
		return "IN";
	case "LBRACKET":
		return "[";
	case "LEFT":
		return "LT";
	case "MINUS":
		return "-";
	case "NINE":
		return "9";
	case "NULL":
		return " ";
	case "NUM0":
		return "N0";
	case "NUM1":
		return "N1";
	case "NUM2":
		return "N2";
	case "NUM3":
		return "N3";
	case "NUM4":
		return "N4";
	case "NUM5":
		return "N5";
	case "NUM6":
		return "N6";
	case "NUM7":
		return "N7";
	case "NUM8":
		return "N8";
	case "NUM9":
		return "N9";
	case "NUMDEC":
		return "N.";
	case "NUMDIV":
		return "N/";
	case "NUMLOCK":
		return "NM";
	case "NUMMINUS":
		return "N-";
	case "NUMMULT":
		return "N*";
	case "NUMPLUS":
		return "N+";
	case "ONE":
		return "1";
	case "PAGEDOWN":
		return "PD";
	case "PAGEUP":
		return "PU";
	case "PAUSEBREAK":
		return "PB";
	case "PERIOD":
		return ".";
	case "PLUS":
		return "+";
	case "QUOTE":
		return "\"";
	case "RBRACKET":
		return "]";
	case "RIGHT":
		return "RT";
	case "SCROLLLOCK":
		return "SC";
	case "SEMICOLON":
		return ";";
	case "SEVEN":
		return "7";
	case "SHIFT":
		return "SH";
	case "SIX":
		return "6";
	case "SLASH":
		return "/";
	case "SPACE":
		return "SP";
	case "TAB":
		return "TB";
	case "TEN":
		return "10";
	case "THREE":
		return "3";
	case "TWO":
		return "2";
	case "UP":
		return "UP";
	case "ZERO":
		return "0";
	default:
		return str;
	}
};
flixel_addons_ui_U.getFlxKeyTextFromShortText = function(str) {
	str = str.toUpperCase();
	switch(str) {
	case "":
		return " ";
	case "\"":
		return "QUOTE";
	case "*":
		return "NUMMULT";
	case "+":
		return "PLUS";
	case ",":
		return "COMMA";
	case "-":
		return "MINUS";
	case ".":
		return "PERIOD";
	case "/":
		return "SLASH";
	case "0":
		return "ZERO";
	case "1":
		return "ONE";
	case "10":
		return "TEN";
	case "2":
		return "TWO";
	case "3":
		return "THREE";
	case "4":
		return "FOUR";
	case "5":
		return "FIVE";
	case "6":
		return "SIX";
	case "7":
		return "SEVEN";
	case "8":
		return "EIGHT";
	case "9":
		return "NINE";
	case ";":
		return "SEMICOLON";
	case "=":
		return "EQUALS";
	case "AT":
		return "ALT";
	case "BK":
		return "BACKSPACE";
	case "CP":
		return "CAPSLOCK";
	case "CT":
		return "CONTROL";
	case "DE":
		return "DELETE";
	case "DN":
		return "DOWN";
	case "EC":
		return "ESCAPE";
	case "ED":
		return "END";
	case "EN":
		return "ENTER";
	case "HM":
		return "HOME";
	case "IN":
		return "INSERT";
	case "LT":
		return "LEFT";
	case "N+":
		return "NUMPLUS";
	case "N-":
		return "NUMMINUS";
	case "N.":
		return "NUMDEC";
	case "N/":
		return "NUMDIV";
	case "N0":
		return "NUM0";
	case "N1":
		return "NUM1";
	case "N2":
		return "NUM2";
	case "N3":
		return "NUM3";
	case "N4":
		return "NUM4";
	case "N5":
		return "NUM5";
	case "N6":
		return "NUM6";
	case "N7":
		return "NUM7";
	case "N8":
		return "NUM8";
	case "N9":
		return "NUM9";
	case "NM":
		return "NUMLOCK";
	case "PB":
		return "PAUSEBREAK";
	case "PD":
		return "PAGEDOWN";
	case "PU":
		return "PAGEUP";
	case "RT":
		return "RIGHT";
	case "SC":
		return "SCROLLLOCK";
	case "SH":
		return "SHIFT";
	case "SP":
		return "SPACE";
	case "TB":
		return "TAB";
	case "UP":
		return "UP";
	case "[":
		return "LBRACKET";
	case "\\":
		return "BACKSLASH";
	case "]":
		return "RBRACKET";
	case "`":
		return "ACCENT";
	default:
		return str;
	}
};
flixel_addons_ui_U.formatXml = function(_xml) {
	var s = haxe_xml_Printer.print(_xml);
	var r = new EReg(">[^`<]*<","g");
	s = s.replace(r.r,">___SPLITHERE___<");
	r = new EReg("___SPLITHERE___","g");
	var split = r.split(s);
	s = "";
	var childDepht = 0;
	var whiteSpace = "\t";
	var _g = 0;
	while(_g < split.length) {
		var str = split[_g];
		++_g;
		var _g1 = 0;
		var _g2 = childDepht;
		while(_g1 < _g2) {
			var i = _g1++;
			s += whiteSpace;
		}
		if(str.charAt(0) == "<" && str.charAt(1) == "/") {
			--childDepht;
			s = HxOverrides.substr(s,0,s.length - whiteSpace.length);
		} else if(str.charAt(str.length - 1) == ">" && str.charAt(str.length - 2) != "/" && str.charAt(str.length - 2) != "-") {
			++childDepht;
		}
		s += str + "\n";
	}
	return s;
};
flixel_addons_ui_U.strCase = function(str,code) {
	switch(code) {
	case "fu":
		return flixel_addons_ui_U.FU(str);
	case "fu_":
		return flixel_addons_ui_U.FU_(str);
	case "l":
		return str.toLowerCase();
	case "u":
		return str.toUpperCase();
	default:
		return str;
	}
};
flixel_addons_ui_U.unparentXML = function(f) {
	if(f.parent != null) {
		f.parent.removeChild(f);
	}
	return f;
};
flixel_addons_ui_U.setButtonLabel = function(btn,str) {
	if(btn == null) {
		return;
	}
	if(((btn) instanceof flixel_addons_ui_FlxUIButton)) {
		(js_Boot.__cast(btn , flixel_addons_ui_FlxUIButton)).label.set_text(str);
	} else if(((btn) instanceof flixel_addons_ui_FlxUISpriteButton)) {
		var fuisb = btn;
		if(fuisb.label == null) {
			return;
		}
		if(((fuisb.label) instanceof flixel_group_FlxTypedSpriteGroup)) {
			var g = fuisb.label;
			if(g.group.members == null) {
				return;
			}
			var _g = 0;
			var _g1 = g.group.members;
			while(_g < _g1.length) {
				var sprite = _g1[_g];
				++_g;
				if(sprite == null) {
					continue;
				}
				if(((sprite) instanceof flixel_text_FlxText)) {
					(js_Boot.__cast(sprite , flixel_text_FlxText)).set_text(str);
					return;
				}
			}
		}
	}
};
flixel_addons_ui_U.getMatrix = function() {
	if(flixel_addons_ui_U._matrix == null) {
		flixel_addons_ui_U._matrix = new openfl_geom_Matrix();
	}
	return flixel_addons_ui_U._matrix;
};
var flixel_addons_ui_interfaces_IFireTongue = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFireTongue"] = flixel_addons_ui_interfaces_IFireTongue;
flixel_addons_ui_interfaces_IFireTongue.__name__ = "flixel.addons.ui.interfaces.IFireTongue";
flixel_addons_ui_interfaces_IFireTongue.__isInterface__ = true;
flixel_addons_ui_interfaces_IFireTongue.prototype = {
	get: null
	,getFont: null
	,getFontSize: null
	,locale: null
	,__class__: flixel_addons_ui_interfaces_IFireTongue
};
var flixel_animation_FlxBaseAnimation = function(Parent,Name) {
	this.curIndex = 0;
	this.parent = Parent;
	this.name = Name;
};
$hxClasses["flixel.animation.FlxBaseAnimation"] = flixel_animation_FlxBaseAnimation;
flixel_animation_FlxBaseAnimation.__name__ = "flixel.animation.FlxBaseAnimation";
flixel_animation_FlxBaseAnimation.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_animation_FlxBaseAnimation.prototype = {
	parent: null
	,name: null
	,curIndex: null
	,set_curIndex: function(Value) {
		this.curIndex = Value;
		if(this.parent != null && this.parent._curAnim == this) {
			this.parent.set_frameIndex(Value);
		}
		return Value;
	}
	,destroy: function() {
		this.parent = null;
		this.name = null;
	}
	,update: function(elapsed) {
	}
	,clone: function(Parent) {
		return null;
	}
	,__class__: flixel_animation_FlxBaseAnimation
	,__properties__: {set_curIndex:"set_curIndex"}
};
var flixel_animation_FlxAnimation = function(Parent,Name,Frames,FrameRate,Looped,FlipX,FlipY) {
	if(FlipY == null) {
		FlipY = false;
	}
	if(FlipX == null) {
		FlipX = false;
	}
	if(Looped == null) {
		Looped = true;
	}
	if(FrameRate == null) {
		FrameRate = 0;
	}
	this._frameTimer = 0;
	this.flipY = false;
	this.flipX = false;
	this.reversed = false;
	this.looped = true;
	this.paused = true;
	this.finished = true;
	this.delay = 0;
	this.curFrame = 0;
	flixel_animation_FlxBaseAnimation.call(this,Parent,Name);
	this.set_frameRate(FrameRate);
	this.frames = Frames;
	this.looped = Looped;
	this.flipX = FlipX;
	this.flipY = FlipY;
};
$hxClasses["flixel.animation.FlxAnimation"] = flixel_animation_FlxAnimation;
flixel_animation_FlxAnimation.__name__ = "flixel.animation.FlxAnimation";
flixel_animation_FlxAnimation.__super__ = flixel_animation_FlxBaseAnimation;
flixel_animation_FlxAnimation.prototype = $extend(flixel_animation_FlxBaseAnimation.prototype,{
	frameRate: null
	,curFrame: null
	,delay: null
	,finished: null
	,paused: null
	,looped: null
	,reversed: null
	,flipX: null
	,flipY: null
	,frames: null
	,_frameTimer: null
	,destroy: function() {
		this.frames = null;
		this.name = null;
		flixel_animation_FlxBaseAnimation.prototype.destroy.call(this);
	}
	,play: function(Force,Reversed,Frame) {
		if(Frame == null) {
			Frame = 0;
		}
		if(Reversed == null) {
			Reversed = false;
		}
		if(Force == null) {
			Force = false;
		}
		if(!Force && !this.finished && this.reversed == Reversed) {
			this.paused = false;
			this.finished = false;
			return;
		}
		this.reversed = Reversed;
		this.paused = false;
		this._frameTimer = 0;
		this.finished = this.delay == 0;
		var maxFrameIndex = this.frames.length - 1;
		if(Frame < 0) {
			this.set_curFrame(flixel_FlxG.random.int(0,maxFrameIndex));
		} else {
			if(Frame > maxFrameIndex) {
				Frame = maxFrameIndex;
			}
			if(this.reversed) {
				Frame = maxFrameIndex - Frame;
			}
			this.set_curFrame(Frame);
		}
		if(this.finished) {
			var _this = this.parent;
			if(_this.finishCallback != null) {
				_this.finishCallback(this.name);
			}
		}
	}
	,restart: function() {
		this.play(true,this.reversed);
	}
	,stop: function() {
		this.finished = true;
		this.paused = true;
	}
	,reset: function() {
		this.stop();
		this.set_curFrame(this.reversed ? this.frames.length - 1 : 0);
	}
	,finish: function() {
		this.stop();
		this.set_curFrame(this.reversed ? 0 : this.frames.length - 1);
	}
	,pause: function() {
		this.paused = true;
	}
	,resume: function() {
		this.paused = false;
	}
	,reverse: function() {
		this.reversed = !this.reversed;
		if(this.finished) {
			this.play(false,this.reversed);
		}
	}
	,update: function(elapsed) {
		if(this.delay == 0 || this.finished || this.paused) {
			return;
		}
		this._frameTimer += elapsed;
		while(this._frameTimer > this.delay && !this.finished) {
			this._frameTimer -= this.delay;
			if(this.reversed) {
				if(this.looped && this.curFrame == 0) {
					this.set_curFrame(this.frames.length - 1);
				} else {
					this.set_curFrame(this.curFrame - 1);
				}
			} else if(this.looped && this.curFrame == this.frames.length - 1) {
				this.set_curFrame(0);
			} else {
				this.set_curFrame(this.curFrame + 1);
			}
		}
	}
	,clone: function(Parent) {
		return new flixel_animation_FlxAnimation(Parent,this.name,this.frames,this.frameRate,this.looped,this.flipX,this.flipY);
	}
	,set_frameRate: function(value) {
		this.delay = 0;
		this.frameRate = value;
		if(value > 0) {
			this.delay = 1.0 / value;
		}
		return value;
	}
	,set_curFrame: function(Frame) {
		var maxFrameIndex = this.frames.length - 1;
		var tempFrame = this.reversed ? maxFrameIndex - Frame : Frame;
		if(tempFrame >= 0) {
			if(!this.looped && Frame > maxFrameIndex) {
				this.finished = true;
				this.curFrame = this.reversed ? 0 : maxFrameIndex;
			} else {
				this.curFrame = Frame;
			}
		} else {
			this.curFrame = flixel_FlxG.random.int(0,maxFrameIndex);
		}
		this.set_curIndex(this.frames[this.curFrame]);
		if(this.finished && this.parent != null) {
			var _this = this.parent;
			if(_this.finishCallback != null) {
				_this.finishCallback(this.name);
			}
		}
		return Frame;
	}
	,get_numFrames: function() {
		return this.frames.length;
	}
	,__class__: flixel_animation_FlxAnimation
	,__properties__: $extend(flixel_animation_FlxBaseAnimation.prototype.__properties__,{get_numFrames:"get_numFrames",set_curFrame:"set_curFrame",set_frameRate:"set_frameRate"})
});
var flixel_animation_FlxAnimationController = function(Sprite) {
	this.frameIndex = -1;
	this._sprite = Sprite;
	this._animations = new haxe_ds_StringMap();
};
$hxClasses["flixel.animation.FlxAnimationController"] = flixel_animation_FlxAnimationController;
flixel_animation_FlxAnimationController.__name__ = "flixel.animation.FlxAnimationController";
flixel_animation_FlxAnimationController.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_animation_FlxAnimationController.prototype = {
	frameIndex: null
	,callback: null
	,finishCallback: null
	,_sprite: null
	,_curAnim: null
	,_animations: null
	,_prerotated: null
	,update: function(elapsed) {
		if(this._curAnim != null) {
			this._curAnim.update(elapsed);
		} else if(this._prerotated != null) {
			this._prerotated.set_angle(this._sprite.angle);
		}
	}
	,copyFrom: function(controller) {
		this.destroyAnimations();
		var h = controller._animations.h;
		var anim_h = h;
		var anim_keys = Object.keys(h);
		var anim_length = anim_keys.length;
		var anim_current = 0;
		while(anim_current < anim_length) {
			var anim = anim_h[anim_keys[anim_current++]];
			this.add(anim.name,anim.frames,anim.frameRate,anim.looped,anim.flipX,anim.flipY);
		}
		if(controller._prerotated != null) {
			this.createPrerotated();
		}
		if(controller.get_name() != null) {
			this.set_name(controller.get_name());
		}
		this.set_frameIndex(controller.frameIndex);
		return this;
	}
	,createPrerotated: function(Controller) {
		this.destroyAnimations();
		if(Controller == null) {
			Controller = this;
		}
		this._prerotated = new flixel_animation_FlxPrerotatedAnimation(Controller,Controller._sprite.bakedRotationAngle);
		this._prerotated.set_angle(this._sprite.angle);
	}
	,destroyAnimations: function() {
		this.clearAnimations();
		this.clearPrerotated();
	}
	,destroy: function() {
		this.destroyAnimations();
		this._animations = null;
		this.callback = null;
		this._sprite = null;
	}
	,clearPrerotated: function() {
		if(this._prerotated != null) {
			this._prerotated.destroy();
		}
		this._prerotated = null;
	}
	,clearAnimations: function() {
		if(this._animations != null) {
			var anim;
			var h = this._animations.h;
			var key_h = h;
			var key_keys = Object.keys(h);
			var key_length = key_keys.length;
			var key_current = 0;
			while(key_current < key_length) {
				var key = key_keys[key_current++];
				anim = this._animations.h[key];
				if(anim != null) {
					anim.destroy();
				}
			}
		}
		this._animations = new haxe_ds_StringMap();
		this._curAnim = null;
	}
	,add: function(Name,Frames,FrameRate,Looped,FlipX,FlipY) {
		if(FlipY == null) {
			FlipY = false;
		}
		if(FlipX == null) {
			FlipX = false;
		}
		if(Looped == null) {
			Looped = true;
		}
		if(FrameRate == null) {
			FrameRate = 30;
		}
		var framesToAdd = Frames;
		var numFrames = framesToAdd.length - 1;
		var i = numFrames;
		while(i >= 0) {
			if(framesToAdd[i] >= this._sprite.numFrames) {
				if(framesToAdd == Frames) {
					framesToAdd = Frames.slice();
				}
				framesToAdd.splice(i,1);
			}
			--i;
		}
		if(framesToAdd.length > 0) {
			var anim = new flixel_animation_FlxAnimation(this,Name,framesToAdd,FrameRate,Looped,FlipX,FlipY);
			this._animations.h[Name] = anim;
		}
	}
	,remove: function(Name) {
		var anim = this._animations.h[Name];
		if(anim != null) {
			var _this = this._animations;
			if(Object.prototype.hasOwnProperty.call(_this.h,Name)) {
				delete(_this.h[Name]);
			}
			anim.destroy();
		}
	}
	,append: function(Name,Frames) {
		var anim = this._animations.h[Name];
		if(anim == null) {
			return;
		}
		var numFrames = Frames.length - 1;
		var i = numFrames;
		while(i >= 0) {
			if(Frames[numFrames - i] < this._sprite.numFrames) {
				anim.frames.push(Frames[numFrames - i]);
			}
			--i;
		}
	}
	,addByNames: function(Name,FrameNames,FrameRate,Looped,FlipX,FlipY) {
		if(FlipY == null) {
			FlipY = false;
		}
		if(FlipX == null) {
			FlipX = false;
		}
		if(Looped == null) {
			Looped = true;
		}
		if(FrameRate == null) {
			FrameRate = 30;
		}
		if(this._sprite.frames != null) {
			var indices = [];
			this.byNamesHelper(indices,FrameNames);
			if(indices.length > 0) {
				var anim = new flixel_animation_FlxAnimation(this,Name,indices,FrameRate,Looped,FlipX,FlipY);
				this._animations.h[Name] = anim;
			}
		}
	}
	,appendByNames: function(Name,FrameNames) {
		var anim = this._animations.h[Name];
		if(anim == null) {
			return;
		}
		if(this._sprite.frames != null) {
			this.byNamesHelper(anim.frames,FrameNames);
		}
	}
	,addByStringIndices: function(Name,Prefix,Indices,Postfix,FrameRate,Looped,FlipX,FlipY) {
		if(FlipY == null) {
			FlipY = false;
		}
		if(FlipX == null) {
			FlipX = false;
		}
		if(Looped == null) {
			Looped = true;
		}
		if(FrameRate == null) {
			FrameRate = 30;
		}
		if(this._sprite.frames != null) {
			var frameIndices = [];
			this.byStringIndicesHelper(frameIndices,Prefix,Indices,Postfix);
			if(frameIndices.length > 0) {
				var anim = new flixel_animation_FlxAnimation(this,Name,frameIndices,FrameRate,Looped,FlipX,FlipY);
				this._animations.h[Name] = anim;
			}
		}
	}
	,appendByStringIndices: function(Name,Prefix,Indices,Postfix) {
		var anim = this._animations.h[Name];
		if(anim == null) {
			return;
		}
		if(this._sprite.frames != null) {
			this.byStringIndicesHelper(anim.frames,Prefix,Indices,Postfix);
		}
	}
	,addByIndices: function(Name,Prefix,Indices,Postfix,FrameRate,Looped,FlipX,FlipY) {
		if(FlipY == null) {
			FlipY = false;
		}
		if(FlipX == null) {
			FlipX = false;
		}
		if(Looped == null) {
			Looped = true;
		}
		if(FrameRate == null) {
			FrameRate = 30;
		}
		if(this._sprite.frames != null) {
			var frameIndices = [];
			this.byIndicesHelper(frameIndices,Prefix,Indices,Postfix);
			if(frameIndices.length > 0) {
				var anim = new flixel_animation_FlxAnimation(this,Name,frameIndices,FrameRate,Looped,FlipX,FlipY);
				this._animations.h[Name] = anim;
			}
		}
	}
	,appendByIndices: function(Name,Prefix,Indices,Postfix) {
		var anim = this._animations.h[Name];
		if(anim == null) {
			return;
		}
		if(this._sprite.frames != null) {
			this.byIndicesHelper(anim.frames,Prefix,Indices,Postfix);
		}
	}
	,findSpriteFrame: function(Prefix,Index,Postfix) {
		var numFrames = this._sprite.numFrames;
		var flxFrames = this._sprite.frames.frames;
		var _g = 0;
		var _g1 = numFrames;
		while(_g < _g1) {
			var i = _g++;
			var name = flxFrames[i].name;
			if(StringTools.startsWith(name,Prefix) && StringTools.endsWith(name,Postfix)) {
				var index = Std.parseInt(name.substring(Prefix.length,name.length - Postfix.length));
				if(index != null && index == Index) {
					return i;
				}
			}
		}
		return -1;
	}
	,addByPrefix: function(Name,Prefix,FrameRate,Looped,FlipX,FlipY) {
		if(FlipY == null) {
			FlipY = false;
		}
		if(FlipX == null) {
			FlipX = false;
		}
		if(Looped == null) {
			Looped = true;
		}
		if(FrameRate == null) {
			FrameRate = 30;
		}
		if(this._sprite.frames != null) {
			var animFrames = [];
			this.findByPrefix(animFrames,Prefix);
			if(animFrames.length > 0) {
				var frameIndices = [];
				this.byPrefixHelper(frameIndices,animFrames,Prefix);
				if(frameIndices.length > 0) {
					var anim = new flixel_animation_FlxAnimation(this,Name,frameIndices,FrameRate,Looped,FlipX,FlipY);
					this._animations.h[Name] = anim;
				}
			}
		}
	}
	,appendByPrefix: function(Name,Prefix) {
		var anim = this._animations.h[Name];
		if(anim == null) {
			return;
		}
		if(this._sprite.frames != null) {
			var animFrames = [];
			this.findByPrefix(animFrames,Prefix);
			if(animFrames.length > 0) {
				this.byPrefixHelper(anim.frames,animFrames,Prefix);
			}
		}
	}
	,play: function(AnimName,Force,Reversed,Frame) {
		if(Frame == null) {
			Frame = 0;
		}
		if(Reversed == null) {
			Reversed = false;
		}
		if(Force == null) {
			Force = false;
		}
		if(AnimName == null) {
			if(this._curAnim != null) {
				this._curAnim.stop();
			}
			this._curAnim = null;
		}
		if(AnimName == null || this._animations.h[AnimName] == null) {
			return;
		}
		var oldFlipX = false;
		var oldFlipY = false;
		if(this._curAnim != null && AnimName != this._curAnim.name) {
			oldFlipX = this._curAnim.flipX;
			oldFlipY = this._curAnim.flipY;
			this._curAnim.stop();
		}
		this._curAnim = this._animations.h[AnimName];
		this._curAnim.play(Force,Reversed,Frame);
		if(oldFlipX != this._curAnim.flipX || oldFlipY != this._curAnim.flipY) {
			this._sprite.dirty = true;
		}
	}
	,reset: function() {
		if(this._curAnim != null) {
			this._curAnim.reset();
		}
	}
	,finish: function() {
		if(this._curAnim != null) {
			this._curAnim.finish();
		}
	}
	,stop: function() {
		if(this._curAnim != null) {
			this._curAnim.stop();
		}
	}
	,pause: function() {
		if(this._curAnim != null) {
			this._curAnim.pause();
		}
	}
	,resume: function() {
		if(this._curAnim != null) {
			this._curAnim.paused = false;
		}
	}
	,reverse: function() {
		if(this._curAnim != null) {
			this._curAnim.reverse();
		}
	}
	,getByName: function(Name) {
		return this._animations.h[Name];
	}
	,randomFrame: function() {
		if(this._curAnim != null) {
			this._curAnim.stop();
			this._curAnim = null;
		}
		this.set_frameIndex(flixel_FlxG.random.int(0,this._sprite.numFrames - 1));
	}
	,fireCallback: function() {
		if(this.callback != null) {
			var name = this._curAnim != null ? this._curAnim.name : null;
			var number = this._curAnim != null ? this._curAnim.curFrame : this.frameIndex;
			this.callback(name,number,this.frameIndex);
		}
	}
	,fireFinishCallback: function(name) {
		if(this.finishCallback != null) {
			this.finishCallback(name);
		}
	}
	,byNamesHelper: function(AddTo,FrameNames) {
		var _g = 0;
		while(_g < FrameNames.length) {
			var frameName = FrameNames[_g];
			++_g;
			if(Object.prototype.hasOwnProperty.call(this._sprite.frames.framesHash.h,frameName)) {
				var frameToAdd = this._sprite.frames.framesHash.h[frameName];
				AddTo.push(this._sprite.frames.frames.indexOf(frameToAdd));
			}
		}
	}
	,byStringIndicesHelper: function(AddTo,Prefix,Indices,Postfix) {
		var _g = 0;
		while(_g < Indices.length) {
			var index = Indices[_g];
			++_g;
			var name = Prefix + index + Postfix;
			if(Object.prototype.hasOwnProperty.call(this._sprite.frames.framesHash.h,name)) {
				var frameToAdd = this._sprite.frames.framesHash.h[name];
				AddTo.push(this._sprite.frames.frames.indexOf(frameToAdd));
			}
		}
	}
	,byIndicesHelper: function(AddTo,Prefix,Indices,Postfix) {
		var _g = 0;
		while(_g < Indices.length) {
			var index = Indices[_g];
			++_g;
			var indexToAdd = this.findSpriteFrame(Prefix,index,Postfix);
			if(indexToAdd != -1) {
				AddTo.push(indexToAdd);
			}
		}
	}
	,byPrefixHelper: function(AddTo,AnimFrames,Prefix) {
		var name = AnimFrames[0].name;
		var postIndex = name.indexOf(".",Prefix.length);
		var postFix = name.substring(postIndex == -1 ? name.length : postIndex,name.length);
		flixel_graphics_frames_FlxFrame.sort(AnimFrames,Prefix.length,postFix.length);
		var _g = 0;
		while(_g < AnimFrames.length) {
			var animFrame = AnimFrames[_g];
			++_g;
			AddTo.push(this._sprite.frames.frames.indexOf(animFrame));
		}
	}
	,findByPrefix: function(AnimFrames,Prefix) {
		var _g = 0;
		var _g1 = this._sprite.frames.frames;
		while(_g < _g1.length) {
			var frame = _g1[_g];
			++_g;
			if(frame.name != null && StringTools.startsWith(frame.name,Prefix)) {
				AnimFrames.push(frame);
			}
		}
	}
	,set_frameIndex: function(Frame) {
		if(this._sprite.frames != null && this._sprite.numFrames > 0) {
			Frame %= this._sprite.numFrames;
			this._sprite.set_frame(this._sprite.frames.frames[Frame]);
			this.frameIndex = Frame;
			if(this.callback != null) {
				var name = this._curAnim != null ? this._curAnim.name : null;
				var number = this._curAnim != null ? this._curAnim.curFrame : this.frameIndex;
				this.callback(name,number,this.frameIndex);
			}
		}
		return this.frameIndex;
	}
	,get_frameName: function() {
		return this._sprite.frame.name;
	}
	,set_frameName: function(Value) {
		if(this._sprite.frames != null && Object.prototype.hasOwnProperty.call(this._sprite.frames.framesHash.h,Value)) {
			if(this._curAnim != null) {
				this._curAnim.stop();
				this._curAnim = null;
			}
			var frame = this._sprite.frames.framesHash.h[Value];
			if(frame != null) {
				this.set_frameIndex(this._sprite.frames.frames.indexOf(frame));
			}
		}
		return Value;
	}
	,get_name: function() {
		var animName = null;
		if(this._curAnim != null) {
			animName = this._curAnim.name;
		}
		return animName;
	}
	,set_name: function(AnimName) {
		this.play(AnimName);
		return AnimName;
	}
	,getAnimationList: function() {
		var animList = [];
		var h = this._animations.h;
		var anims_h = h;
		var anims_keys = Object.keys(h);
		var anims_length = anims_keys.length;
		var anims_current = 0;
		while(anims_current < anims_length) {
			var anims = anims_h[anims_keys[anims_current++]];
			animList.push(anims);
		}
		return animList;
	}
	,getNameList: function() {
		var namesList = [];
		var h = this._animations.h;
		var names_h = h;
		var names_keys = Object.keys(h);
		var names_length = names_keys.length;
		var names_current = 0;
		while(names_current < names_length) {
			var names = names_keys[names_current++];
			namesList.push(names);
		}
		return namesList;
	}
	,exists: function(name) {
		return Object.prototype.hasOwnProperty.call(this._animations.h,name);
	}
	,rename: function(oldName,newName) {
		var anim = this._animations.h[oldName];
		if(anim == null) {
			return;
		}
		this._animations.h[newName] = anim;
		anim.name = newName;
		var _this = this._animations;
		if(Object.prototype.hasOwnProperty.call(_this.h,oldName)) {
			delete(_this.h[oldName]);
		}
	}
	,get_curAnim: function() {
		return this._curAnim;
	}
	,set_curAnim: function(Anim) {
		if(Anim != this._curAnim) {
			if(this._curAnim != null) {
				this._curAnim.stop();
			}
			if(Anim != null) {
				Anim.play();
			}
		}
		return this._curAnim = Anim;
	}
	,get_paused: function() {
		var paused = false;
		if(this._curAnim != null) {
			paused = this._curAnim.paused;
		}
		return paused;
	}
	,set_paused: function(Value) {
		if(this._curAnim != null) {
			if(Value) {
				this._curAnim.pause();
			} else {
				this._curAnim.paused = false;
			}
		}
		return Value;
	}
	,get_finished: function() {
		var finished = true;
		if(this._curAnim != null) {
			finished = this._curAnim.finished;
		}
		return finished;
	}
	,set_finished: function(Value) {
		if(Value && this._curAnim != null) {
			this._curAnim.finish();
		}
		return Value;
	}
	,get_frames: function() {
		return this._sprite.numFrames;
	}
	,getFrameIndex: function(Frame) {
		return this._sprite.frames.frames.indexOf(Frame);
	}
	,__class__: flixel_animation_FlxAnimationController
	,__properties__: {get_frames:"get_frames",set_finished:"set_finished",get_finished:"get_finished",set_paused:"set_paused",get_paused:"get_paused",set_name:"set_name",get_name:"get_name",set_frameName:"set_frameName",get_frameName:"get_frameName",set_frameIndex:"set_frameIndex",set_curAnim:"set_curAnim",get_curAnim:"get_curAnim"}
};
var flixel_animation_FlxPrerotatedAnimation = function(Parent,Baked) {
	this.angle = 0;
	flixel_animation_FlxBaseAnimation.call(this,Parent,"prerotated_animation");
	this.baked = Baked;
	this.rotations = Math.round(360 / Baked);
};
$hxClasses["flixel.animation.FlxPrerotatedAnimation"] = flixel_animation_FlxPrerotatedAnimation;
flixel_animation_FlxPrerotatedAnimation.__name__ = "flixel.animation.FlxPrerotatedAnimation";
flixel_animation_FlxPrerotatedAnimation.__super__ = flixel_animation_FlxBaseAnimation;
flixel_animation_FlxPrerotatedAnimation.prototype = $extend(flixel_animation_FlxBaseAnimation.prototype,{
	rotations: null
	,baked: null
	,angle: null
	,set_angle: function(Value) {
		if(isNaN(Value)) {
			throw haxe_Exception.thrown("angle must not be NaN");
		}
		var oldIndex = this.curIndex;
		var angleHelper = Math.floor(Value % 360);
		while(angleHelper < 0) angleHelper += 360;
		var newIndex = Math.floor(angleHelper / this.baked + 0.5);
		newIndex = newIndex % this.rotations | 0;
		if(oldIndex != newIndex) {
			this.set_curIndex(newIndex);
		}
		return this.angle = Value;
	}
	,set_curIndex: function(Value) {
		this.curIndex = Value;
		if(this.parent != null) {
			this.parent.set_frameIndex(Value);
		}
		return Value;
	}
	,clone: function(Parent) {
		return new flixel_animation_FlxPrerotatedAnimation(Parent,this.baked);
	}
	,__class__: flixel_animation_FlxPrerotatedAnimation
	,__properties__: $extend(flixel_animation_FlxBaseAnimation.prototype.__properties__,{set_angle:"set_angle"})
});
var flixel_util_FlxPool_$flixel_$effects_$FlxFlicker = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool_flixel_effects_FlxFlicker"] = flixel_util_FlxPool_$flixel_$effects_$FlxFlicker;
flixel_util_FlxPool_$flixel_$effects_$FlxFlicker.__name__ = "flixel.util.FlxPool_flixel_effects_FlxFlicker";
flixel_util_FlxPool_$flixel_$effects_$FlxFlicker.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool_$flixel_$effects_$FlxFlicker.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.destroy();
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.destroy();
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool_$flixel_$effects_$FlxFlicker
	,__properties__: {get_length:"get_length"}
};
var flixel_effects_FlxFlicker = function() {
};
$hxClasses["flixel.effects.FlxFlicker"] = flixel_effects_FlxFlicker;
flixel_effects_FlxFlicker.__name__ = "flixel.effects.FlxFlicker";
flixel_effects_FlxFlicker.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_effects_FlxFlicker.flicker = function(Object1,Duration,Interval,EndVisibility,ForceRestart,CompletionCallback,ProgressCallback) {
	if(ForceRestart == null) {
		ForceRestart = true;
	}
	if(EndVisibility == null) {
		EndVisibility = true;
	}
	if(Interval == null) {
		Interval = 0.04;
	}
	if(Duration == null) {
		Duration = 1;
	}
	if(flixel_effects_FlxFlicker.isFlickering(Object1)) {
		if(ForceRestart) {
			flixel_effects_FlxFlicker.stopFlickering(Object1);
		} else {
			return flixel_effects_FlxFlicker._boundObjects.h[Object1.__id__];
		}
	}
	if(Interval <= 0) {
		Interval = flixel_FlxG.elapsed;
	}
	var flicker = flixel_effects_FlxFlicker._pool.get();
	flicker.start(Object1,Duration,Interval,EndVisibility,CompletionCallback,ProgressCallback);
	flixel_effects_FlxFlicker._boundObjects.set(Object1,flicker);
	return flicker;
};
flixel_effects_FlxFlicker.isFlickering = function(Object1) {
	return flixel_effects_FlxFlicker._boundObjects.h.__keys__[Object1.__id__] != null;
};
flixel_effects_FlxFlicker.stopFlickering = function(Object1) {
	var boundFlicker = flixel_effects_FlxFlicker._boundObjects.h[Object1.__id__];
	if(boundFlicker != null) {
		boundFlicker.stop();
	}
};
flixel_effects_FlxFlicker.prototype = {
	object: null
	,endVisibility: null
	,timer: null
	,completionCallback: null
	,progressCallback: null
	,duration: null
	,interval: null
	,destroy: function() {
		this.object = null;
		this.timer = null;
		this.completionCallback = null;
		this.progressCallback = null;
	}
	,start: function(Object1,Duration,Interval,EndVisibility,CompletionCallback,ProgressCallback) {
		this.object = Object1;
		this.duration = Duration;
		this.interval = Interval;
		this.completionCallback = CompletionCallback;
		this.progressCallback = ProgressCallback;
		this.endVisibility = EndVisibility;
		this.timer = new flixel_util_FlxTimer().start(this.interval,$bind(this,this.flickerProgress),this.duration / this.interval | 0);
	}
	,stop: function() {
		this.timer.cancel();
		this.object.set_visible(true);
		this.release();
	}
	,release: function() {
		flixel_effects_FlxFlicker._boundObjects.remove(this.object);
		flixel_effects_FlxFlicker._pool.put(this);
	}
	,flickerProgress: function(Timer) {
		this.object.set_visible(!this.object.visible);
		if(this.progressCallback != null) {
			this.progressCallback(this);
		}
		if(Timer.loops > 0 && Timer.loops - Timer._loopsCounter == 0) {
			this.object.set_visible(this.endVisibility);
			if(this.completionCallback != null) {
				this.completionCallback(this);
			}
			this.release();
		}
	}
	,__class__: flixel_effects_FlxFlicker
};
var flixel_effects_postprocess_PostProcess = function(shader) {
};
$hxClasses["flixel.effects.postprocess.PostProcess"] = flixel_effects_postprocess_PostProcess;
flixel_effects_postprocess_PostProcess.__name__ = "flixel.effects.postprocess.PostProcess";
flixel_effects_postprocess_PostProcess.prototype = {
	enable: function(to) {
	}
	,capture: function() {
	}
	,rebuild: function() {
	}
	,update: function(elapsed) {
	}
	,render: function(rect) {
	}
	,setUniform: function(uniform,value) {
	}
	,set_to: function(value) {
		return null;
	}
	,__class__: flixel_effects_postprocess_PostProcess
	,__properties__: {set_to:"set_to"}
};
var flixel_graphics_FlxGraphic = function(Key,Bitmap,Persist) {
	this._destroyOnNoUse = true;
	this._useCount = 0;
	this.unique = false;
	this.isDumped = false;
	this.persist = false;
	this.height = 0;
	this.width = 0;
	this.key = Key;
	this.persist = Persist != null ? Persist : flixel_graphics_FlxGraphic.defaultPersist;
	this.frameCollections = new haxe_ds_EnumValueMap();
	this.frameCollectionTypes = [];
	this.set_bitmap(Bitmap);
	this.shader = new flixel_graphics_tile_FlxGraphicsShader();
};
$hxClasses["flixel.graphics.FlxGraphic"] = flixel_graphics_FlxGraphic;
flixel_graphics_FlxGraphic.__name__ = "flixel.graphics.FlxGraphic";
flixel_graphics_FlxGraphic.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_graphics_FlxGraphic.fromAssetKey = function(Source,Unique,Key,Cache1) {
	if(Cache1 == null) {
		Cache1 = true;
	}
	if(Unique == null) {
		Unique = false;
	}
	var bitmap = null;
	if(!Cache1) {
		bitmap = openfl_utils_Assets.exists(Source) ? openfl_utils_Assets.getBitmapData(Source,false) : null;
		if(bitmap == null) {
			return null;
		}
		return flixel_graphics_FlxGraphic.createGraphic(bitmap,Key,Unique,Cache1);
	}
	var key = flixel_FlxG.bitmap.generateKey(Source,Key,Unique);
	var graphic = flixel_FlxG.bitmap._cache.h[key];
	if(graphic != null) {
		return graphic;
	}
	bitmap = openfl_utils_Assets.exists(Source) ? openfl_utils_Assets.getBitmapData(Source,false) : null;
	if(bitmap == null) {
		return null;
	}
	graphic = flixel_graphics_FlxGraphic.createGraphic(bitmap,key,Unique);
	graphic.assetsKey = Source;
	return graphic;
};
flixel_graphics_FlxGraphic.fromClass = function(Source,Unique,Key,Cache1) {
	if(Cache1 == null) {
		Cache1 = true;
	}
	if(Unique == null) {
		Unique = false;
	}
	var bitmap = null;
	if(!Cache1) {
		bitmap = Type.createInstance(Source,[]);
		return flixel_graphics_FlxGraphic.createGraphic(bitmap,Key,Unique,Cache1);
	}
	var _this = flixel_FlxG.bitmap;
	var key = Source.__name__;
	key = flixel_FlxG.bitmap.generateKey(key,Key,Unique);
	var graphic = flixel_FlxG.bitmap._cache.h[key];
	if(graphic != null) {
		return graphic;
	}
	bitmap = Type.createInstance(Source,[]);
	graphic = flixel_graphics_FlxGraphic.createGraphic(bitmap,key,Unique);
	graphic.assetsClass = Source;
	return graphic;
};
flixel_graphics_FlxGraphic.fromBitmapData = function(Source,Unique,Key,Cache1) {
	if(Cache1 == null) {
		Cache1 = true;
	}
	if(Unique == null) {
		Unique = false;
	}
	if(!Cache1) {
		return flixel_graphics_FlxGraphic.createGraphic(Source,Key,Unique,Cache1);
	}
	var key = flixel_FlxG.bitmap.findKeyForBitmap(Source);
	var assetKey = null;
	var assetClass = null;
	var graphic = null;
	if(key != null) {
		graphic = flixel_FlxG.bitmap._cache.h[key];
		assetKey = graphic.assetsKey;
		assetClass = graphic.assetsClass;
	}
	key = flixel_FlxG.bitmap.generateKey(key,Key,Unique);
	graphic = flixel_FlxG.bitmap._cache.h[key];
	if(graphic != null) {
		return graphic;
	}
	graphic = flixel_graphics_FlxGraphic.createGraphic(Source,key,Unique);
	graphic.assetsKey = assetKey;
	graphic.assetsClass = assetClass;
	return graphic;
};
flixel_graphics_FlxGraphic.fromFrame = function(Source,Unique,Key,Cache1) {
	if(Cache1 == null) {
		Cache1 = true;
	}
	if(Unique == null) {
		Unique = false;
	}
	var key = Source.name;
	if(key == null) {
		var _this = Source.frame;
		var value = _this.x;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "x";
		_this1.value = value;
		var value = _this.y;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "y";
		_this2.value = value;
		var value = _this.width;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "w";
		_this3.value = value;
		var value = _this.height;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "h";
		_this.value = value;
		key = flixel_util_FlxStringUtil.getDebugString([_this1,_this2,_this3,_this]);
	}
	key = Source.parent.key + ":" + key;
	key = flixel_FlxG.bitmap.generateKey(key,Key,Unique);
	var graphic = flixel_FlxG.bitmap._cache.h[key];
	if(graphic != null) {
		return graphic;
	}
	var bitmap = Source.paint();
	graphic = flixel_graphics_FlxGraphic.createGraphic(bitmap,key,Unique,Cache1);
	var image = flixel_graphics_frames_FlxImageFrame.fromGraphic(graphic);
	image.frames[0].name = Source.name;
	return graphic;
};
flixel_graphics_FlxGraphic.fromFrames = function(Source,Unique,Key) {
	if(Unique == null) {
		Unique = false;
	}
	return flixel_graphics_FlxGraphic.fromGraphic(Source.parent,Unique,Key);
};
flixel_graphics_FlxGraphic.fromGraphic = function(Source,Unique,Key) {
	if(Unique == null) {
		Unique = false;
	}
	if(!Unique) {
		return Source;
	}
	var key = flixel_FlxG.bitmap.generateKey(Source.key,Key,Unique);
	var graphic = flixel_graphics_FlxGraphic.createGraphic(Source.bitmap,key,Unique);
	graphic.unique = Unique;
	graphic.assetsClass = Source.assetsClass;
	graphic.assetsKey = Source.assetsKey;
	flixel_FlxG.bitmap._cache.h[graphic.key] = graphic;
	return graphic;
};
flixel_graphics_FlxGraphic.fromRectangle = function(Width,Height,Color,Unique,Key) {
	if(Unique == null) {
		Unique = false;
	}
	var systemKey = Width + "x" + Height + ":" + Color;
	var key = flixel_FlxG.bitmap.generateKey(systemKey,Key,Unique);
	var graphic = flixel_FlxG.bitmap._cache.h[key];
	if(graphic != null) {
		return graphic;
	}
	var bitmap = new openfl_display_BitmapData(Width,Height,true,Color);
	return flixel_graphics_FlxGraphic.createGraphic(bitmap,key);
};
flixel_graphics_FlxGraphic.getBitmap = function(Bitmap,Unique) {
	if(Unique == null) {
		Unique = false;
	}
	if(Unique) {
		return Bitmap.clone();
	} else {
		return Bitmap;
	}
};
flixel_graphics_FlxGraphic.createGraphic = function(Bitmap,Key,Unique,Cache1) {
	if(Cache1 == null) {
		Cache1 = true;
	}
	if(Unique == null) {
		Unique = false;
	}
	var Unique1 = Unique;
	if(Unique1 == null) {
		Unique1 = false;
	}
	if(Unique1) {
		Bitmap = Bitmap.clone();
	}
	var graphic = null;
	if(Cache1) {
		graphic = new flixel_graphics_FlxGraphic(Key,Bitmap);
		graphic.unique = Unique;
		flixel_FlxG.bitmap._cache.h[graphic.key] = graphic;
	} else {
		graphic = new flixel_graphics_FlxGraphic(null,Bitmap);
	}
	return graphic;
};
flixel_graphics_FlxGraphic.prototype = {
	key: null
	,bitmap: null
	,width: null
	,height: null
	,assetsKey: null
	,assetsClass: null
	,persist: null
	,isDumped: null
	,shader: null
	,frameCollections: null
	,frameCollectionTypes: null
	,unique: null
	,_imageFrame: null
	,_useCount: null
	,_destroyOnNoUse: null
	,dump: function() {
	}
	,undump: function() {
		var newBitmap = this.getBitmapFromSystem();
		if(newBitmap != null) {
			this.set_bitmap(newBitmap);
		}
		this.isDumped = false;
	}
	,onContext: function() {
		if(this.isDumped) {
			this.undump();
			this.dump();
		}
	}
	,onAssetsReload: function() {
		if(!(this.assetsClass != null || this.assetsKey != null)) {
			return;
		}
		var dumped = this.isDumped;
		this.undump();
		if(dumped) {
			this.dump();
		}
	}
	,destroy: function() {
		this.set_bitmap(flixel_util_FlxDestroyUtil.dispose(this.bitmap));
		this.shader = null;
		this.key = null;
		this.assetsKey = null;
		this.assetsClass = null;
		this._imageFrame = null;
		if(this.frameCollections == null) {
			return;
		}
		var collections;
		var _g = 0;
		var _g1 = this.frameCollectionTypes;
		while(_g < _g1.length) {
			var collectionType = _g1[_g];
			++_g;
			collections = this.frameCollections.get(collectionType);
			flixel_util_FlxDestroyUtil.destroyArray(collections);
		}
		this.frameCollections = null;
		this.frameCollectionTypes = null;
	}
	,addFrameCollection: function(collection) {
		if(collection.type != null) {
			var type = collection.type;
			var collections = this.frameCollections.get(type);
			if(collections == null) {
				collections = [];
				this.frameCollections.set(type,collections);
			}
			var collections1 = collections;
			collections1.push(collection);
		}
	}
	,getFramesCollections: function(type) {
		var collections = this.frameCollections.get(type);
		if(collections == null) {
			collections = [];
			this.frameCollections.set(type,collections);
		}
		return collections;
	}
	,getEmptyFrame: function(size) {
		var frame = new flixel_graphics_frames_FlxFrame(this);
		frame.type = 2;
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		frame.set_frame(rect);
		var _this = frame.sourceSize;
		_this.set_x(size.x);
		_this.set_y(size.y);
		if(size._weak) {
			size.put();
		}
		return frame;
	}
	,getBitmapFromSystem: function() {
		var newBitmap = null;
		if(this.assetsClass != null) {
			newBitmap = Type.createInstance(this.assetsClass,[]);
		} else if(this.assetsKey != null) {
			var id = this.assetsKey;
			newBitmap = openfl_utils_Assets.exists(id) ? openfl_utils_Assets.getBitmapData(id,false) : null;
		}
		if(newBitmap != null) {
			var Unique = this.unique;
			if(Unique == null) {
				Unique = false;
			}
			if(Unique) {
				return newBitmap.clone();
			} else {
				return newBitmap;
			}
		}
		return null;
	}
	,get_canBeDumped: function() {
		if(this.assetsClass == null) {
			return this.assetsKey != null;
		} else {
			return true;
		}
	}
	,get_useCount: function() {
		return this._useCount;
	}
	,set_useCount: function(Value) {
		if(Value <= 0 && this._destroyOnNoUse && !this.persist) {
			flixel_FlxG.bitmap.remove(this);
		}
		return this._useCount = Value;
	}
	,get_destroyOnNoUse: function() {
		return this._destroyOnNoUse;
	}
	,set_destroyOnNoUse: function(Value) {
		if(Value && this._useCount <= 0 && this.key != null && !this.persist) {
			flixel_FlxG.bitmap.remove(this);
		}
		return this._destroyOnNoUse = Value;
	}
	,get_imageFrame: function() {
		if(this._imageFrame == null) {
			var X = 0;
			var Y = 0;
			var Width = this.bitmap.width;
			var Height = this.bitmap.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this._imageFrame = flixel_graphics_frames_FlxImageFrame.fromRectangle(this,rect);
		}
		return this._imageFrame;
	}
	,get_atlasFrames: function() {
		return flixel_graphics_frames_FlxAtlasFrames.findFrame(this,null);
	}
	,set_bitmap: function(value) {
		if(value != null) {
			this.bitmap = value;
			this.width = this.bitmap.width;
			this.height = this.bitmap.height;
		}
		return value;
	}
	,__class__: flixel_graphics_FlxGraphic
	,__properties__: {get_atlasFrames:"get_atlasFrames",get_imageFrame:"get_imageFrame",set_useCount:"set_useCount",get_useCount:"get_useCount",get_canBeDumped:"get_canBeDumped",set_destroyOnNoUse:"set_destroyOnNoUse",get_destroyOnNoUse:"get_destroyOnNoUse",set_bitmap:"set_bitmap"}
};
var flixel_graphics_atlas_FlxAtlas = function(name,powerOfTwo,border,rotate,minSize,maxSize) {
	if(rotate == null) {
		rotate = false;
	}
	if(border == null) {
		border = 1;
	}
	if(powerOfTwo == null) {
		powerOfTwo = false;
	}
	this.powerOfTwo = false;
	this.allowRotation = false;
	this.maxHeight = 1024;
	this.maxWidth = 1024;
	this.minHeight = 128;
	this.minWidth = 128;
	this.border = 1;
	this.persist = false;
	this.nodes = new haxe_ds_StringMap();
	this.name = name;
	this.set_powerOfTwo(powerOfTwo);
	this.border = border;
	if(minSize == null) {
		minSize = flixel_graphics_atlas_FlxAtlas.defaultMinSize;
	}
	if(maxSize == null) {
		maxSize = flixel_graphics_atlas_FlxAtlas.defaultMaxSize;
	}
	this.set_minWidth(minSize.x | 0);
	this.set_minHeight(minSize.y | 0);
	this.set_maxWidth(maxSize.x > minSize.x ? maxSize.x | 0 : this.minWidth);
	this.set_maxHeight(maxSize.y > minSize.x ? maxSize.y | 0 : this.minHeight);
	this.allowRotation = rotate;
	this.initRoot();
	flixel_FlxG.signals.preStateCreate.add($bind(this,this.onClear));
};
$hxClasses["flixel.graphics.atlas.FlxAtlas"] = flixel_graphics_atlas_FlxAtlas;
flixel_graphics_atlas_FlxAtlas.__name__ = "flixel.graphics.atlas.FlxAtlas";
flixel_graphics_atlas_FlxAtlas.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_graphics_atlas_FlxAtlas.prototype = {
	root: null
	,name: null
	,nodes: null
	,bitmapData: null
	,persist: null
	,border: null
	,width: null
	,height: null
	,minWidth: null
	,minHeight: null
	,maxWidth: null
	,maxHeight: null
	,allowRotation: null
	,powerOfTwo: null
	,_graphic: null
	,_tempStorage: null
	,initRoot: function() {
		var rootWidth = this.minWidth;
		var rootHeight = this.minHeight;
		if(this.powerOfTwo) {
			rootWidth = this.getNextPowerOfTwo(rootWidth);
			rootHeight = this.getNextPowerOfTwo(rootHeight);
		}
		var X = 0;
		var Y = 0;
		var Width = rootWidth;
		var Height = rootHeight;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		this.root = new flixel_graphics_atlas_FlxNode(rect,this);
	}
	,addNode: function(Graphic,Key) {
		var key = flixel_system_FlxAssets.resolveKey(Graphic,Key);
		if(key == null) {
			return null;
		}
		if(this.hasNodeWithName(key)) {
			return this.nodes.h[key];
		}
		var data = flixel_system_FlxAssets.resolveBitmapData(Graphic);
		if(data == null) {
			return null;
		}
		if(this.root.left == null) {
			return this.insertFirstNodeInRoot(data,key);
		}
		if(this.root.right == null) {
			return this.expand(data,key);
		}
		var inserted = this.tryInsert(data,key);
		if(inserted != null) {
			return inserted;
		}
		this.wrapRoot();
		return this.expand(data,key);
	}
	,wrapRoot: function() {
		var temp = this.root;
		var X = 0;
		var Y = 0;
		var Width = temp.rect.width | 0;
		var Height = temp.rect.height | 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		this.root = new flixel_graphics_atlas_FlxNode(rect,this);
		this.root.left = temp;
	}
	,tryInsert: function(data,key) {
		var insertWidth = data.width + this.border;
		var insertHeight = data.height + this.border;
		var rotateNode = false;
		var nodeToInsert = this.findNodeToInsert(insertWidth,insertHeight);
		if(this.allowRotation) {
			var nodeToInsertWithRotation = this.findNodeToInsert(insertHeight,insertWidth);
			if(nodeToInsertWithRotation != null) {
				var nodeWithRotationArea = (nodeToInsertWithRotation.rect.width | 0) * (nodeToInsertWithRotation.rect.height | 0);
				if(nodeToInsert == null || nodeToInsert != null && (nodeToInsert.rect.width | 0) * (nodeToInsert.rect.height | 0) > nodeWithRotationArea) {
					nodeToInsert = nodeToInsertWithRotation;
					rotateNode = true;
					var temp = insertWidth;
					insertWidth = insertHeight;
					insertHeight = temp;
				}
			}
		}
		if(nodeToInsert != null) {
			var horizontally = this.needToDivideHorizontally(nodeToInsert,insertWidth,insertHeight);
			return this.divideNode(nodeToInsert,insertWidth,insertHeight,horizontally,data,key,rotateNode);
		}
		return null;
	}
	,needToDivideHorizontally: function(nodeToDivide,insertWidth,insertHeight) {
		var dw = (nodeToDivide.rect.width | 0) - insertWidth;
		var dh = (nodeToDivide.rect.height | 0) - insertHeight;
		return dw > dh;
	}
	,divideNode: function(nodeToDivide,insertWidth,insertHeight,divideHorizontally,firstGrandChildData,firstGrandChildKey,firstGrandChildRotated) {
		if(firstGrandChildRotated == null) {
			firstGrandChildRotated = false;
		}
		if(nodeToDivide != null) {
			var firstChild = null;
			var secondChild = null;
			var firstGrandChild = null;
			var secondGrandChild = null;
			var firstGrandChildFilled = firstGrandChildKey != null;
			if(divideHorizontally) {
				var X = nodeToDivide.rect.x | 0;
				var Y = nodeToDivide.rect.y | 0;
				var Width = insertWidth;
				var Height = nodeToDivide.rect.height | 0;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				firstChild = new flixel_graphics_atlas_FlxNode(rect,this);
				if((nodeToDivide.rect.width | 0) - insertWidth > 0) {
					var X = (nodeToDivide.rect.x | 0) + insertWidth;
					var Y = nodeToDivide.rect.y | 0;
					var Width = (nodeToDivide.rect.width | 0) - insertWidth;
					var Height = nodeToDivide.rect.height | 0;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var _this = flixel_math_FlxRect._pool.get();
					var X1 = X;
					var Y1 = Y;
					var Width1 = Width;
					var Height1 = Height;
					if(Height1 == null) {
						Height1 = 0;
					}
					if(Width1 == null) {
						Width1 = 0;
					}
					if(Y1 == null) {
						Y1 = 0;
					}
					if(X1 == null) {
						X1 = 0;
					}
					_this.x = X1;
					_this.y = Y1;
					_this.width = Width1;
					_this.height = Height1;
					var rect = _this;
					rect._inPool = false;
					secondChild = new flixel_graphics_atlas_FlxNode(rect,this);
				}
				var X = firstChild.rect.x | 0;
				var Y = firstChild.rect.y | 0;
				var Width = insertWidth;
				var Height = insertHeight;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				firstGrandChild = new flixel_graphics_atlas_FlxNode(rect,this,firstGrandChildFilled,firstGrandChildKey,firstGrandChildRotated);
				if((firstChild.rect.height | 0) - insertHeight > 0) {
					var X = firstChild.rect.x | 0;
					var Y = (firstChild.rect.y | 0) + insertHeight;
					var Width = insertWidth;
					var Height = (firstChild.rect.height | 0) - insertHeight;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var _this = flixel_math_FlxRect._pool.get();
					var X1 = X;
					var Y1 = Y;
					var Width1 = Width;
					var Height1 = Height;
					if(Height1 == null) {
						Height1 = 0;
					}
					if(Width1 == null) {
						Width1 = 0;
					}
					if(Y1 == null) {
						Y1 = 0;
					}
					if(X1 == null) {
						X1 = 0;
					}
					_this.x = X1;
					_this.y = Y1;
					_this.width = Width1;
					_this.height = Height1;
					var rect = _this;
					rect._inPool = false;
					secondGrandChild = new flixel_graphics_atlas_FlxNode(rect,this);
				}
			} else {
				var X = nodeToDivide.rect.x | 0;
				var Y = nodeToDivide.rect.y | 0;
				var Width = nodeToDivide.rect.width | 0;
				var Height = insertHeight;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				firstChild = new flixel_graphics_atlas_FlxNode(rect,this);
				if((nodeToDivide.rect.height | 0) - insertHeight > 0) {
					var X = nodeToDivide.rect.x | 0;
					var Y = (nodeToDivide.rect.y | 0) + insertHeight;
					var Width = nodeToDivide.rect.width | 0;
					var Height = (nodeToDivide.rect.height | 0) - insertHeight;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var _this = flixel_math_FlxRect._pool.get();
					var X1 = X;
					var Y1 = Y;
					var Width1 = Width;
					var Height1 = Height;
					if(Height1 == null) {
						Height1 = 0;
					}
					if(Width1 == null) {
						Width1 = 0;
					}
					if(Y1 == null) {
						Y1 = 0;
					}
					if(X1 == null) {
						X1 = 0;
					}
					_this.x = X1;
					_this.y = Y1;
					_this.width = Width1;
					_this.height = Height1;
					var rect = _this;
					rect._inPool = false;
					secondChild = new flixel_graphics_atlas_FlxNode(rect,this);
				}
				var X = firstChild.rect.x | 0;
				var Y = firstChild.rect.y | 0;
				var Width = insertWidth;
				var Height = insertHeight;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				firstGrandChild = new flixel_graphics_atlas_FlxNode(rect,this,firstGrandChildFilled,firstGrandChildKey,firstGrandChildRotated);
				if((firstChild.rect.width | 0) - insertWidth > 0) {
					var X = (firstChild.rect.x | 0) + insertWidth;
					var Y = firstChild.rect.y | 0;
					var Width = (firstChild.rect.width | 0) - insertWidth;
					var Height = insertHeight;
					if(Height == null) {
						Height = 0;
					}
					if(Width == null) {
						Width = 0;
					}
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var _this = flixel_math_FlxRect._pool.get();
					var X1 = X;
					var Y1 = Y;
					var Width1 = Width;
					var Height1 = Height;
					if(Height1 == null) {
						Height1 = 0;
					}
					if(Width1 == null) {
						Width1 = 0;
					}
					if(Y1 == null) {
						Y1 = 0;
					}
					if(X1 == null) {
						X1 = 0;
					}
					_this.x = X1;
					_this.y = Y1;
					_this.width = Width1;
					_this.height = Height1;
					var rect = _this;
					rect._inPool = false;
					secondGrandChild = new flixel_graphics_atlas_FlxNode(rect,this);
				}
			}
			firstChild.left = firstGrandChild;
			firstChild.right = secondGrandChild;
			nodeToDivide.left = firstChild;
			nodeToDivide.right = secondChild;
			if(firstGrandChildKey != null && firstGrandChildData != null) {
				this.expandBitmapData();
				if(firstGrandChildRotated) {
					flixel_graphics_atlas_FlxAtlas.matrix.identity();
					flixel_graphics_atlas_FlxAtlas.matrix.rotate(Math.PI / 2);
					flixel_graphics_atlas_FlxAtlas.matrix.translate(firstGrandChildData.height + (firstGrandChild.rect.x | 0),firstGrandChild.rect.y | 0);
					this.bitmapData.draw(firstGrandChildData,flixel_graphics_atlas_FlxAtlas.matrix);
				} else {
					flixel_graphics_atlas_FlxAtlas.point.setTo(firstGrandChild.rect.x | 0,firstGrandChild.rect.y | 0);
					this.bitmapData.copyPixels(firstGrandChildData,firstGrandChildData.rect,flixel_graphics_atlas_FlxAtlas.point);
				}
				this.addNodeToAtlasFrames(firstGrandChild);
				this.nodes.h[firstGrandChildKey] = firstGrandChild;
			}
			return firstGrandChild;
		}
		return null;
	}
	,insertFirstNodeInRoot: function(data,key) {
		if(this.root.left == null) {
			var insertWidth = data.width + this.border;
			var insertHeight = data.height + this.border;
			var rootWidth = insertWidth;
			var rootHeight = insertHeight;
			if(this.powerOfTwo) {
				rootWidth = this.getNextPowerOfTwo(rootWidth);
				rootHeight = this.getNextPowerOfTwo(rootHeight);
			}
			if(this.minWidth > rootWidth) {
				rootWidth = this.minWidth;
			}
			if(this.minHeight > rootHeight) {
				rootHeight = this.minHeight;
			}
			if(this.powerOfTwo) {
				rootWidth = this.getNextPowerOfTwo(rootWidth);
				rootHeight = this.getNextPowerOfTwo(rootHeight);
			}
			if(this.maxWidth > 0 && rootWidth > this.maxWidth || this.maxHeight > 0 && rootHeight > this.maxHeight) {
				return null;
			}
			this.root.set_width(rootWidth);
			this.root.set_height(rootHeight);
			var horizontally = this.needToDivideHorizontally(this.root,insertWidth,insertHeight);
			return this.divideNode(this.root,insertWidth,insertHeight,horizontally,data,key);
		}
		return null;
	}
	,expand: function(data,key) {
		if(this.root.right == null) {
			var insertWidth = data.width + this.border;
			var insertHeight = data.height + this.border;
			var addRightWidth = (this.root.rect.width | 0) + insertWidth;
			var addRightHeight = Math.max(this.root.rect.height | 0,insertHeight) | 0;
			var addBottomWidth = Math.max(this.root.rect.width | 0,insertWidth) | 0;
			var addBottomHeight = (this.root.rect.height | 0) + insertHeight;
			var addRightWidthRotate = addRightWidth;
			var addRightHeightRotate = addRightHeight;
			var addBottomWidthRotate = addBottomWidth;
			var addBottomHeightRotate = addBottomHeight;
			if(this.allowRotation) {
				addRightWidthRotate = (this.root.rect.width | 0) + insertHeight;
				addRightHeightRotate = Math.max(this.root.rect.height | 0,insertWidth) | 0;
				addBottomWidthRotate = Math.max(this.root.rect.width | 0,insertHeight) | 0;
				addBottomHeightRotate = (this.root.rect.height | 0) + insertWidth;
			}
			if(this.powerOfTwo) {
				addRightWidth = this.getNextPowerOfTwo(addRightWidth);
				addRightWidthRotate = addRightWidth;
				addRightHeight = this.getNextPowerOfTwo(addRightHeight);
				addRightHeightRotate = addRightHeight;
				addBottomWidth = this.getNextPowerOfTwo(addBottomWidth);
				addBottomWidthRotate = addBottomWidth;
				addBottomHeight = this.getNextPowerOfTwo(addBottomHeight);
				addBottomHeightRotate = addBottomHeight;
				if(this.allowRotation) {
					addRightWidthRotate = this.getNextPowerOfTwo(addRightWidthRotate);
					addRightHeightRotate = this.getNextPowerOfTwo(addRightHeightRotate);
					addBottomWidthRotate = this.getNextPowerOfTwo(addBottomWidthRotate);
					addBottomHeightRotate = this.getNextPowerOfTwo(addBottomHeightRotate);
				}
			}
			var canExpandRight = true;
			var canExpandBottom = true;
			var canExpandRightRotate = this.allowRotation;
			var canExpandBottomRotate = this.allowRotation;
			if(this.maxWidth > 0 && addRightWidth > this.maxWidth || this.maxHeight > 0 && addRightHeight > this.maxHeight) {
				canExpandRight = false;
			}
			if(this.maxWidth > 0 && addBottomWidth > this.maxWidth || this.maxHeight > 0 && addBottomHeight > this.maxHeight) {
				canExpandBottom = false;
			}
			if(this.maxWidth > 0 && addRightWidthRotate > this.maxWidth || this.maxHeight > 0 && addRightHeightRotate > this.maxHeight) {
				canExpandRightRotate = false;
			}
			if(this.maxWidth > 0 && addBottomWidthRotate > this.maxWidth || this.maxHeight > 0 && addBottomHeightRotate > this.maxHeight) {
				canExpandBottomRotate = false;
			}
			if(!canExpandRight && !canExpandBottom && !canExpandRightRotate && !canExpandBottomRotate) {
				return null;
			}
			var addRightArea = addRightWidth * addRightHeight;
			var addBottomArea = addBottomWidth * addBottomHeight;
			var addRightAreaRotate = addRightWidthRotate * addRightHeightRotate;
			var addBottomAreaRotate = addBottomWidthRotate * addBottomHeightRotate;
			var rotateRight = false;
			var rotateBottom = false;
			var rotateNode = false;
			if(canExpandRight && canExpandRightRotate && addRightArea > addRightAreaRotate || !canExpandRight && canExpandRightRotate) {
				addRightArea = addBottomAreaRotate;
				addRightWidth = addRightWidthRotate;
				addRightHeight = addRightHeightRotate;
				canExpandRight = true;
				rotateRight = true;
			}
			if(canExpandBottom && canExpandBottomRotate && addBottomArea > addBottomAreaRotate || !canExpandBottom && canExpandBottomRotate) {
				addBottomArea = addBottomAreaRotate;
				addBottomWidth = addBottomWidthRotate;
				addBottomHeight = addBottomHeightRotate;
				canExpandBottom = true;
				rotateBottom = true;
			}
			if(!canExpandRight && canExpandBottom) {
				addRightArea = addBottomArea + 1;
				rotateNode = rotateRight;
			} else if(canExpandRight && !canExpandBottom) {
				addBottomArea = addRightArea + 1;
				rotateNode = rotateBottom;
			}
			var dataNode = null;
			var temp = this.root;
			var insertNodeWidth = insertWidth;
			var insertNodeHeight = insertHeight;
			if(addBottomArea >= addRightArea) {
				if(rotateRight) {
					insertNodeWidth = insertHeight;
					insertNodeHeight = insertWidth;
				}
				this.expandRoot((temp.rect.width | 0) + insertNodeWidth,Math.max(temp.rect.height | 0,insertNodeHeight),true);
				dataNode = this.divideNode(this.root.right,insertNodeWidth,insertNodeHeight,true,data,key,rotateRight);
				this.expandRoot(addRightWidth,addRightHeight,false,true);
			} else {
				if(rotateBottom) {
					insertNodeWidth = insertHeight;
					insertNodeHeight = insertWidth;
				}
				this.expandRoot(Math.max(temp.rect.width | 0,insertNodeWidth),(temp.rect.height | 0) + insertNodeHeight,false);
				dataNode = this.divideNode(this.root.right,insertNodeWidth,insertNodeHeight,true,data,key,rotateBottom);
				this.expandRoot(addBottomWidth,addBottomHeight,false,true);
			}
			return dataNode;
		}
		return null;
	}
	,expandRoot: function(newWidth,newHeight,divideHorizontally,decideHowToDivide) {
		if(decideHowToDivide == null) {
			decideHowToDivide = false;
		}
		if(newWidth > (this.root.rect.width | 0) || newHeight > (this.root.rect.height | 0)) {
			var temp = this.root;
			var X = 0;
			var Y = 0;
			var Width = newWidth;
			var Height = newHeight;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			this.root = new flixel_graphics_atlas_FlxNode(rect,this);
			if(decideHowToDivide) {
				divideHorizontally = this.needToDivideHorizontally(this.root,temp.rect.width | 0,temp.rect.height | 0);
			}
			this.divideNode(this.root,temp.rect.width | 0,temp.rect.height | 0,divideHorizontally);
			this.root.left.left = temp;
		}
	}
	,expandBitmapData: function() {
		if(this.bitmapData != null && this.bitmapData.width == (this.root.rect.width | 0) && this.bitmapData.height == (this.root.rect.height | 0)) {
			return;
		}
		var newBitmapData = new openfl_display_BitmapData(this.root.rect.width | 0,this.root.rect.height | 0,true,0);
		if(this.bitmapData != null) {
			flixel_graphics_atlas_FlxAtlas.point.setTo(0,0);
			newBitmapData.copyPixels(this.bitmapData,this.bitmapData.rect,flixel_graphics_atlas_FlxAtlas.point);
		}
		this.set_bitmapData(flixel_util_FlxDestroyUtil.dispose(this.bitmapData));
		this.set_bitmapData(newBitmapData);
	}
	,getNextPowerOfTwo: function(number) {
		var n = number | 0;
		if(n > 0 && (n & n - 1) == 0) {
			return n;
		}
		var result = 1;
		while(result < n) result <<= 1;
		return result;
	}
	,addNodeWithSpacesAndBorders: function(Graphic,Key,tileSize,tileSpacing,tileBorder,region) {
		var key = flixel_system_FlxAssets.resolveKey(Graphic,Key);
		if(key == null) {
			return null;
		}
		key = flixel_FlxG.bitmap.getKeyWithSpacesAndBorders(key,tileSize,tileSpacing,tileBorder,region);
		if(this.hasNodeWithName(key)) {
			return this.nodes.h[key].getTileFrames(tileSize,tileSpacing,tileBorder);
		}
		var data = flixel_system_FlxAssets.resolveBitmapData(Graphic);
		if(data == null) {
			return null;
		}
		var nodeData = flixel_util_FlxBitmapDataUtil.addSpacesAndBorders(data,tileSize,tileSpacing,tileBorder,region);
		var node = this.addNode(nodeData,key);
		if(node == null) {
			return null;
		}
		if(tileBorder != null) {
			var X = 2 * tileBorder.x;
			var Y = 2 * tileBorder.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			tileSize.set_x(tileSize.x + X);
			tileSize.set_y(tileSize.y + Y);
		}
		return node.getTileFrames(tileSize,tileSpacing,tileBorder);
	}
	,getAtlasFrames: function() {
		var graph = this.get_graphic();
		var atlasFrames = graph.get_atlasFrames();
		if(graph.get_atlasFrames() == null) {
			atlasFrames = new flixel_graphics_frames_FlxAtlasFrames(graph);
		}
		var h = this.nodes.h;
		var node_h = h;
		var node_keys = Object.keys(h);
		var node_length = node_keys.length;
		var node_current = 0;
		while(node_current < node_length) {
			var node = node_h[node_keys[node_current++]];
			this.addNodeToAtlasFrames(node);
		}
		return atlasFrames;
	}
	,addNodeToAtlasFrames: function(node) {
		if(this._graphic == null || this._graphic.get_atlasFrames() == null || node == null) {
			return;
		}
		var atlasFrames = this._graphic.get_atlasFrames();
		if(node.filled && !Object.prototype.hasOwnProperty.call(atlasFrames.framesHash.h,node.key)) {
			var X = node.rect.x | 0;
			var Y = node.rect.y | 0;
			var Width = (node.rect.width | 0) - this.border;
			var Height = (node.rect.height | 0) - this.border;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			var frame = rect;
			var sourceSize;
			if(node.rotated) {
				var X = (node.rect.height | 0) - this.border;
				var Y = (node.rect.width | 0) - this.border;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var point = flixel_math_FlxPoint._pool.get().set(X,Y);
				point._inPool = false;
				sourceSize = point;
			} else {
				var X = (node.rect.width | 0) - this.border;
				var Y = (node.rect.height | 0) - this.border;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var point = flixel_math_FlxPoint._pool.get().set(X,Y);
				point._inPool = false;
				sourceSize = point;
			}
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var offset = point;
			var angle = node.rotated ? -90 : 0;
			atlasFrames.addAtlasFrame(frame,sourceSize,offset,node.key,angle);
		}
	}
	,hasNodeWithName: function(nodeName) {
		return Object.prototype.hasOwnProperty.call(this.nodes.h,nodeName);
	}
	,getNode: function(key) {
		return this.nodes.h[key];
	}
	,addNodes: function(bitmaps,keys) {
		var numKeys = keys.length;
		var numBitmaps = bitmaps.length;
		if(numBitmaps != numKeys) {
			return null;
		}
		this._tempStorage = [];
		var _g = 0;
		var _g1 = numBitmaps;
		while(_g < _g1) {
			var i = _g++;
			this._tempStorage.push({ bmd : bitmaps[i], keyStr : keys[i]});
		}
		this.addFromAtlasObjects(this._tempStorage);
		return this;
	}
	,addFromAtlasObjects: function(objects) {
		objects.sort($bind(this,this.bitmapSorter));
		var numBitmaps = objects.length;
		var _g = 0;
		var _g1 = numBitmaps;
		while(_g < _g1) {
			var i = _g++;
			this.addNode(objects[i].bmd,objects[i].keyStr);
		}
		this._tempStorage = null;
	}
	,bitmapSorter: function(obj1,obj2) {
		if(this.allowRotation) {
			var area1 = obj1.bmd.width * obj1.bmd.height;
			var area2 = obj2.bmd.width * obj2.bmd.height;
			return area2 - area1;
		}
		if(obj2.bmd.width == obj1.bmd.width) {
			return obj2.bmd.height - obj1.bmd.height;
		}
		return obj2.bmd.width - obj1.bmd.width;
	}
	,createQueue: function() {
		this._tempStorage = [];
		return this;
	}
	,addToQueue: function(data,key) {
		if(this._tempStorage == null) {
			this._tempStorage = [];
		}
		this._tempStorage.push({ bmd : data, keyStr : key});
		return this;
	}
	,generateFromQueue: function() {
		if(this._tempStorage != null) {
			this.addFromAtlasObjects(this._tempStorage);
		}
		return this;
	}
	,onClear: function(_) {
		if(!this.persist || this._graphic != null && this._graphic.get_useCount() <= 0) {
			this.destroy();
		}
	}
	,destroy: function() {
		this._tempStorage = null;
		this.deleteSubtree(this.root);
		this.root = null;
		flixel_FlxG.bitmap.removeByKey(this.name);
		this.set_bitmapData(null);
		this.nodes = null;
		this._graphic = null;
		flixel_FlxG.signals.preStateCreate.remove($bind(this,this.onClear));
	}
	,clear: function() {
		this.deleteSubtree(this.root);
		this.initRoot();
		flixel_FlxG.bitmap.removeByKey(this.name);
		this.set_bitmapData(null);
		this.nodes = new haxe_ds_StringMap();
		this._graphic = null;
	}
	,getLibGdxData: function() {
		var data = "\n";
		data += this.name + "\n";
		data += "format: RGBA8888\n";
		data += "filter: Linear,Linear\n";
		data += "repeat: none\n";
		var h = this.nodes.h;
		var node_h = h;
		var node_keys = Object.keys(h);
		var node_length = node_keys.length;
		var node_current = 0;
		while(node_current < node_length) {
			var node = node_h[node_keys[node_current++]];
			data += node.key + "\n";
			data += "  rotate: " + (node.rotated == null ? "null" : "" + node.rotated) + "\n";
			data += "  xy: " + (node.rect.x | 0) + ", " + (node.rect.y | 0) + "\n";
			if(this.allowRotation) {
				data += "size: " + (node.rect.height | 0) + ", " + (node.rect.width | 0) + "\n";
				data += "orig: " + (node.rect.height | 0) + ", " + (node.rect.width | 0) + "\n";
			} else {
				data += "size: " + (node.rect.width | 0) + ", " + (node.rect.height | 0) + "\n";
				data += "orig: " + (node.rect.width | 0) + ", " + (node.rect.height | 0) + "\n";
			}
			data += "  offset: 0, 0\n";
			data += "  index: -1\n";
		}
		return data;
	}
	,deleteSubtree: function(node) {
		if(node != null) {
			if(node.left != null) {
				this.deleteSubtree(node.left);
			}
			if(node.right != null) {
				this.deleteSubtree(node.right);
			}
			node.key = null;
			node.left = null;
			node.right = null;
			node.rect = null;
			node.atlas = null;
		}
	}
	,findNodeToInsert: function(insertWidth,insertHeight) {
		var stack = [];
		var current = this.root;
		var emptyNodes = [];
		var canPlaceRight = false;
		var canPlaceLeft = false;
		var looping = true;
		var result = null;
		var minArea = this.maxWidth * this.maxHeight + 1;
		var nodeArea;
		while(looping) {
			if(!current.filled && current.left == null && current.right == null && (current.rect.width >= insertWidth && current.rect.height >= insertHeight)) {
				nodeArea = (current.rect.width | 0) * (current.rect.height | 0);
				if(nodeArea < minArea) {
					minArea = nodeArea;
					result = current;
				}
			}
			if(current.right != null) {
				var _this = current.right;
				canPlaceRight = _this.rect.width >= insertWidth && _this.rect.height >= insertHeight;
			} else {
				canPlaceRight = false;
			}
			if(current.left != null) {
				var _this1 = current.left;
				canPlaceLeft = _this1.rect.width >= insertWidth && _this1.rect.height >= insertHeight;
			} else {
				canPlaceLeft = false;
			}
			if(canPlaceRight && canPlaceLeft) {
				stack.push(current.right);
				current = current.left;
			} else if(canPlaceLeft) {
				current = current.left;
			} else if(canPlaceRight) {
				current = current.right;
			} else if(stack.length > 0) {
				current = stack.pop();
			} else {
				looping = false;
			}
		}
		return result;
	}
	,set_bitmapData: function(value) {
		if(value != null && this._graphic != null) {
			this._graphic.set_bitmap(value);
		}
		return this.bitmapData = value;
	}
	,get_graphic: function() {
		if(this._graphic != null) {
			return this._graphic;
		}
		this._graphic = flixel_FlxG.bitmap.add(this.bitmapData,false,this.name);
		this._graphic.persist = this.persist;
		return this._graphic;
	}
	,set_persist: function(value) {
		if(this._graphic != null) {
			this._graphic.persist = value;
		}
		return this.persist = value;
	}
	,set_minWidth: function(value) {
		if(value <= this.maxWidth) {
			this.minWidth = value;
			if(value > this.get_width()) {
				this.set_width(value);
			}
		}
		return this.minWidth;
	}
	,set_minHeight: function(value) {
		if(value <= this.maxHeight) {
			this.minHeight = value;
			if(value > this.get_height()) {
				this.set_height(value);
			}
		}
		return this.minHeight;
	}
	,get_width: function() {
		if(this.root != null) {
			return this.root.rect.width | 0;
		}
		return 0;
	}
	,set_width: function(value) {
		if(value > this.get_width()) {
			if(this.powerOfTwo) {
				value = this.getNextPowerOfTwo(value);
			}
			if(value <= this.maxWidth) {
				if(this.root != null && (this.root.rect.width | 0) < value) {
					this.expandRoot(value,this.root.rect.height | 0,this.needToDivideHorizontally(this.root,this.root.rect.width | 0,this.root.rect.height | 0));
				}
			}
		}
		return value;
	}
	,get_height: function() {
		if(this.root != null) {
			return this.root.rect.height | 0;
		}
		return 0;
	}
	,set_height: function(value) {
		if(value > this.get_height()) {
			if(this.powerOfTwo) {
				value = this.getNextPowerOfTwo(value);
			}
			if(value <= this.maxHeight) {
				if(this.root != null && (this.root.rect.height | 0) < value) {
					this.expandRoot(this.root.rect.width | 0,value,this.needToDivideHorizontally(this.root,this.root.rect.width | 0,this.root.rect.height | 0));
				}
			}
		}
		return value;
	}
	,set_maxWidth: function(value) {
		if(value >= this.minWidth && (this.root == null || value >= this.get_width())) {
			this.maxWidth = value;
		}
		return this.maxWidth;
	}
	,set_maxHeight: function(value) {
		if(value >= this.minHeight && (this.root == null || value >= this.get_height())) {
			this.maxHeight = value;
		}
		return this.maxHeight;
	}
	,set_powerOfTwo: function(value) {
		if(value != this.powerOfTwo && value && this.root != null) {
			var nextWidth = this.getNextPowerOfTwo(this.root.rect.width | 0);
			var nextHeight = this.getNextPowerOfTwo(this.root.rect.height | 0);
			if(nextWidth != (this.root.rect.width | 0) || nextHeight != (this.root.rect.height | 0)) {
				if(this.maxWidth > 0 && nextWidth > this.maxWidth || this.maxHeight > 0 && nextHeight > this.maxHeight) {
					return false;
				}
				var temp = this.root;
				var X = 0;
				var Y = 0;
				var Width = nextWidth;
				var Height = nextHeight;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				this.root = new flixel_graphics_atlas_FlxNode(rect,this);
				if(temp.left != null) {
					this.divideNode(this.root,temp.rect.width | 0,temp.rect.height | 0,this.needToDivideHorizontally(this.root,temp.rect.width | 0,temp.rect.height | 0));
					this.root.left.left = temp;
				}
			}
		}
		return this.powerOfTwo = value;
	}
	,__class__: flixel_graphics_atlas_FlxAtlas
	,__properties__: {set_powerOfTwo:"set_powerOfTwo",set_maxHeight:"set_maxHeight",set_maxWidth:"set_maxWidth",set_minHeight:"set_minHeight",set_minWidth:"set_minWidth",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_persist:"set_persist",get_graphic:"get_graphic",set_bitmapData:"set_bitmapData"}
};
var flixel_graphics_atlas_FlxNode = function(rect,atlas,filled,key,rotated) {
	if(rotated == null) {
		rotated = false;
	}
	if(key == null) {
		key = "";
	}
	if(filled == null) {
		filled = false;
	}
	this.filled = filled;
	this.left = null;
	this.right = null;
	this.rect = rect;
	this.key = key;
	this.atlas = atlas;
	this.rotated = rotated;
};
$hxClasses["flixel.graphics.atlas.FlxNode"] = flixel_graphics_atlas_FlxNode;
flixel_graphics_atlas_FlxNode.__name__ = "flixel.graphics.atlas.FlxNode";
flixel_graphics_atlas_FlxNode.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_graphics_atlas_FlxNode.prototype = {
	left: null
	,right: null
	,rect: null
	,key: null
	,filled: null
	,atlas: null
	,rotated: null
	,destroy: function() {
		this.key = null;
		this.left = null;
		this.right = null;
		this.rect = null;
		this.atlas = null;
	}
	,canPlace: function(width,height) {
		if(this.rect.width >= width) {
			return this.rect.height >= height;
		} else {
			return false;
		}
	}
	,getTileFrames: function(tileSize,tileSpacing,tileBorder) {
		flixel_FlxG.bitmap.add(this.atlas.bitmapData,false,this.atlas.name);
		var frame = this.atlas.getAtlasFrames().framesHash.h[this.key];
		if(frame != null) {
			var tileFrames = flixel_graphics_frames_FlxTileFrames.fromFrame(frame,tileSize,tileSpacing);
			if(tileBorder != null) {
				tileFrames = tileFrames.addBorder(tileBorder);
			}
			return tileFrames;
		}
		return null;
	}
	,getImageFrame: function() {
		flixel_FlxG.bitmap.add(this.atlas.bitmapData,false,this.atlas.name);
		var frame = this.atlas.getAtlasFrames().framesHash.h[this.key];
		if(frame != null) {
			return flixel_graphics_frames_FlxImageFrame.fromFrame(frame);
		}
		return null;
	}
	,get_isEmpty: function() {
		if(!this.filled && this.left == null) {
			return this.right == null;
		} else {
			return false;
		}
	}
	,get_x: function() {
		return this.rect.x | 0;
	}
	,get_y: function() {
		return this.rect.y | 0;
	}
	,get_width: function() {
		return this.rect.width | 0;
	}
	,set_width: function(value) {
		this.rect.width = value;
		return value;
	}
	,get_height: function() {
		return this.rect.height | 0;
	}
	,set_height: function(value) {
		this.rect.height = value;
		return value;
	}
	,__class__: flixel_graphics_atlas_FlxNode
	,__properties__: {get_isEmpty:"get_isEmpty",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",get_y:"get_y",get_x:"get_x"}
};
var flixel_graphics_frames_FlxFramesCollection = function(parent,type,border) {
	this.parent = parent;
	this.type = type;
	var tmp;
	if(border == null) {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		tmp = point;
	} else {
		tmp = border;
	}
	this.border = tmp;
	this.frames = [];
	this.framesHash = new haxe_ds_StringMap();
	if(parent != null) {
		parent.addFrameCollection(this);
	}
};
$hxClasses["flixel.graphics.frames.FlxFramesCollection"] = flixel_graphics_frames_FlxFramesCollection;
flixel_graphics_frames_FlxFramesCollection.__name__ = "flixel.graphics.frames.FlxFramesCollection";
flixel_graphics_frames_FlxFramesCollection.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_graphics_frames_FlxFramesCollection.prototype = {
	frames: null
	,framesHash: null
	,parent: null
	,type: null
	,border: null
	,getByName: function(name) {
		return this.framesHash.h[name];
	}
	,getByIndex: function(index) {
		return this.frames[index];
	}
	,getIndexByName: function(name) {
		var _g = 0;
		var _g1 = this.frames.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.frames[i].name == name) {
				return i;
			}
		}
		return -1;
	}
	,getFrameIndex: function(frame) {
		return this.frames.indexOf(frame);
	}
	,destroy: function() {
		this.frames = flixel_util_FlxDestroyUtil.destroyArray(this.frames);
		this.border = flixel_util_FlxDestroyUtil.put(this.border);
		this.framesHash = null;
		this.parent = null;
		this.type = null;
	}
	,addEmptyFrame: function(size) {
		var frame = new flixel_graphics_frames_FlxFrame(this.parent);
		frame.type = 2;
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		frame.set_frame(rect);
		frame.sourceSize.set(size.width,size.height);
		this.frames.push(frame);
		return frame;
	}
	,addSpriteSheetFrame: function(region) {
		var frame = new flixel_graphics_frames_FlxFrame(this.parent);
		frame.set_frame(this.checkFrame(region));
		frame.sourceSize.set(region.width,region.height);
		frame.offset.set(0,0);
		return this.pushFrame(frame);
	}
	,addAtlasFrame: function(frame,sourceSize,offset,name,angle,flipX,flipY) {
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(angle == null) {
			angle = 0;
		}
		if(name != null && Object.prototype.hasOwnProperty.call(this.framesHash.h,name)) {
			return this.framesHash.h[name];
		}
		var texFrame = new flixel_graphics_frames_FlxFrame(this.parent,angle,flipX,flipY);
		texFrame.name = name;
		texFrame.sourceSize.set(sourceSize.x,sourceSize.y);
		texFrame.offset.set(offset.x,offset.y);
		texFrame.set_frame(this.checkFrame(frame,name));
		sourceSize = flixel_util_FlxDestroyUtil.put(sourceSize);
		offset = flixel_util_FlxDestroyUtil.put(offset);
		return this.pushFrame(texFrame);
	}
	,checkFrame: function(frame,name) {
		var Value = frame.x;
		var Max = this.parent.width;
		var lowerBound = Value < 0 ? 0 : Value;
		var x = Max != null && lowerBound > Max ? Max : lowerBound;
		var Value = frame.y;
		var Max = this.parent.height;
		var lowerBound = Value < 0 ? 0 : Value;
		var y = Max != null && lowerBound > Max ? Max : lowerBound;
		var Value = frame.x + frame.width;
		var Max = this.parent.width;
		var lowerBound = Value < 0 ? 0 : Value;
		var r = Max != null && lowerBound > Max ? Max : lowerBound;
		var Value = frame.y + frame.height;
		var Max = this.parent.height;
		var lowerBound = Value < 0 ? 0 : Value;
		var b = Max != null && lowerBound > Max ? Max : lowerBound;
		var X = x;
		var Y = y;
		var Width = r - x;
		var Height = b - y;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		frame.x = X;
		frame.y = Y;
		frame.width = Width;
		frame.height = Height;
		var tmp = frame.width <= 0 || frame.height <= 0;
		return frame;
	}
	,pushFrame: function(frameObj) {
		var name = frameObj.name;
		if(name != null && Object.prototype.hasOwnProperty.call(this.framesHash.h,name)) {
			return this.framesHash.h[name];
		}
		this.frames.push(frameObj);
		frameObj.cacheFrameMatrix();
		if(name != null) {
			this.framesHash.h[name] = frameObj;
		}
		return frameObj;
	}
	,addBorder: function(border) {
		throw haxe_Exception.thrown("To be overriden in subclasses");
	}
	,toString: function() {
		var value = this.frames;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "frames";
		_this.value = value;
		var value = this.type;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "type";
		_this1.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1]);
	}
	,get_numFrames: function() {
		return this.frames.length;
	}
	,__class__: flixel_graphics_frames_FlxFramesCollection
	,__properties__: {get_numFrames:"get_numFrames"}
};
var flixel_graphics_frames_FlxAtlasFrames = function(parent,border) {
	flixel_graphics_frames_FlxFramesCollection.call(this,parent,flixel_graphics_frames_FlxFrameCollectionType.ATLAS,border);
};
$hxClasses["flixel.graphics.frames.FlxAtlasFrames"] = flixel_graphics_frames_FlxAtlasFrames;
flixel_graphics_frames_FlxAtlasFrames.__name__ = "flixel.graphics.frames.FlxAtlasFrames";
flixel_graphics_frames_FlxAtlasFrames.fromTexturePackerJson = function(Source,Description) {
	var graphic = flixel_FlxG.bitmap.add(Source,false);
	if(graphic == null) {
		return null;
	}
	var frames = flixel_graphics_frames_FlxAtlasFrames.findFrame(graphic);
	if(frames != null) {
		return frames;
	}
	if(graphic == null || Description == null) {
		return null;
	}
	frames = new flixel_graphics_frames_FlxAtlasFrames(graphic);
	var data;
	if(typeof(Description) == "string") {
		var json = Description;
		if(openfl_utils_Assets.exists(json)) {
			json = openfl_utils_Assets.getText(json);
		}
		data = JSON.parse(json);
	} else {
		data = Description;
	}
	if(((data.frames) instanceof Array)) {
		var _g = 0;
		var _g1 = Lambda.array(data.frames);
		while(_g < _g1.length) {
			var frame = _g1[_g];
			++_g;
			flixel_graphics_frames_FlxAtlasFrames.texturePackerHelper(frame.filename,frame,frames);
		}
	} else {
		var _g = 0;
		var _g1 = Reflect.fields(data.frames);
		while(_g < _g1.length) {
			var frameName = _g1[_g];
			++_g;
			flixel_graphics_frames_FlxAtlasFrames.texturePackerHelper(frameName,Reflect.field(data.frames,frameName),frames);
		}
	}
	return frames;
};
flixel_graphics_frames_FlxAtlasFrames.texturePackerHelper = function(FrameName,FrameData,Frames) {
	var rotated = FrameData.rotated;
	var name = FrameName;
	var X = FrameData.sourceSize.w;
	var Y = FrameData.sourceSize.h;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	var sourceSize = point;
	var X = FrameData.spriteSourceSize.x;
	var Y = FrameData.spriteSourceSize.y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	var offset = point;
	var angle = 0;
	var frameRect = null;
	if(rotated) {
		var X = FrameData.frame.x;
		var Y = FrameData.frame.y;
		var Width = FrameData.frame.h;
		var Height = FrameData.frame.w;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		frameRect = rect;
		angle = -90;
	} else {
		var X = FrameData.frame.x;
		var Y = FrameData.frame.y;
		var Width = FrameData.frame.w;
		var Height = FrameData.frame.h;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		frameRect = rect;
	}
	Frames.addAtlasFrame(frameRect,sourceSize,offset,name,angle);
};
flixel_graphics_frames_FlxAtlasFrames.fromLibGdx = function(source,description) {
	var graphic = flixel_FlxG.bitmap.add(source);
	if(graphic == null) {
		return null;
	}
	var frames = flixel_graphics_frames_FlxAtlasFrames.findFrame(graphic);
	if(frames != null) {
		return frames;
	}
	if(graphic == null || description == null) {
		return null;
	}
	frames = new flixel_graphics_frames_FlxAtlasFrames(graphic);
	if(openfl_utils_Assets.exists(description)) {
		description = openfl_utils_Assets.getText(description);
	}
	var pack = StringTools.trim(description);
	var lines = pack.split("\n");
	var repeatLine = lines[3].indexOf("repeat:") > -1 ? 3 : 4;
	lines.splice(0,repeatLine + 1);
	var numElementsPerImage = 7;
	var numImages = lines.length / numElementsPerImage | 0;
	var _g = 0;
	var _g1 = numImages;
	while(_g < _g1) {
		var i = _g++;
		var curIndex = i * numElementsPerImage;
		var name = lines[curIndex++];
		var rotated = lines[curIndex++].indexOf("true") >= 0;
		var angle = rotated ? 90 : 0;
		var tempString = lines[curIndex++];
		var size = flixel_graphics_frames_FlxAtlasFrames.getDimensions(tempString);
		var imageX = size.x;
		var imageY = size.y;
		tempString = lines[curIndex++];
		size = flixel_graphics_frames_FlxAtlasFrames.getDimensions(tempString);
		var imageWidth = size.x;
		var imageHeight = size.y;
		var X = imageX;
		var Y = imageY;
		var Width = imageWidth;
		var Height = imageHeight;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		tempString = lines[curIndex++];
		size = flixel_graphics_frames_FlxAtlasFrames.getDimensions(tempString);
		var X2 = size.x;
		var Y2 = size.y;
		if(Y2 == null) {
			Y2 = 0;
		}
		if(X2 == null) {
			X2 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X2,Y2);
		point._inPool = false;
		var sourceSize = point;
		tempString = lines[curIndex++];
		size = flixel_graphics_frames_FlxAtlasFrames.getDimensions(tempString);
		tempString = lines[curIndex++];
		var index = Std.parseInt(tempString.split(":")[1]);
		if(index != -1) {
			name += "_" + index;
		}
		var X3 = size.x;
		var Y3 = sourceSize.y - size.y - imageHeight;
		if(Y3 == null) {
			Y3 = 0;
		}
		if(X3 == null) {
			X3 = 0;
		}
		var point1 = flixel_math_FlxPoint._pool.get().set(X3,Y3);
		point1._inPool = false;
		var offset = point1;
		frames.addAtlasFrame(rect1,sourceSize,offset,name,angle);
	}
	return frames;
};
flixel_graphics_frames_FlxAtlasFrames.getDimensions = function(line) {
	var colonPosition = line.indexOf(":");
	var comaPosition = line.indexOf(",");
	return { x : Std.parseInt(line.substring(colonPosition + 1,comaPosition)), y : Std.parseInt(line.substring(comaPosition + 1,line.length))};
};
flixel_graphics_frames_FlxAtlasFrames.fromSparrow = function(Source,Description) {
	var graphic = flixel_FlxG.bitmap.add(Source);
	if(graphic == null) {
		return null;
	}
	var frames = flixel_graphics_frames_FlxAtlasFrames.findFrame(graphic);
	if(frames != null) {
		return frames;
	}
	if(graphic == null || Description == null) {
		return null;
	}
	frames = new flixel_graphics_frames_FlxAtlasFrames(graphic);
	if(openfl_utils_Assets.exists(Description)) {
		Description = openfl_utils_Assets.getText(Description);
	}
	var x = Xml.parse(Description).firstElement();
	if(x.nodeType != Xml.Document && x.nodeType != Xml.Element) {
		throw haxe_Exception.thrown("Invalid nodeType " + (x.nodeType == null ? "null" : XmlType.toString(x.nodeType)));
	}
	var this1 = x;
	var data = this1;
	var _g = 0;
	var _g1 = haxe_xml__$Access_NodeListAccess.resolve(data,"SubTexture");
	while(_g < _g1.length) {
		var texture = _g1[_g];
		++_g;
		var name = haxe_xml__$Access_AttribAccess.resolve(texture,"name");
		var trimmed = haxe_xml__$Access_HasAttribAccess.resolve(texture,"frameX");
		var rotated = haxe_xml__$Access_HasAttribAccess.resolve(texture,"rotated") && haxe_xml__$Access_AttribAccess.resolve(texture,"rotated") == "true";
		var flipX = haxe_xml__$Access_HasAttribAccess.resolve(texture,"flipX") && haxe_xml__$Access_AttribAccess.resolve(texture,"flipX") == "true";
		var flipY = haxe_xml__$Access_HasAttribAccess.resolve(texture,"flipY") && haxe_xml__$Access_AttribAccess.resolve(texture,"flipY") == "true";
		var X = parseFloat(haxe_xml__$Access_AttribAccess.resolve(texture,"x"));
		var Y = parseFloat(haxe_xml__$Access_AttribAccess.resolve(texture,"y"));
		var Width = parseFloat(haxe_xml__$Access_AttribAccess.resolve(texture,"width"));
		var Height = parseFloat(haxe_xml__$Access_AttribAccess.resolve(texture,"height"));
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		var size = trimmed ? new openfl_geom_Rectangle(Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(texture,"frameX")),Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(texture,"frameY")),Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(texture,"frameWidth")),Std.parseInt(haxe_xml__$Access_AttribAccess.resolve(texture,"frameHeight"))) : new openfl_geom_Rectangle(0,0,rect1.width,rect1.height);
		var angle = rotated ? -90 : 0;
		var X2 = -size.get_left();
		var Y2 = -size.get_top();
		if(Y2 == null) {
			Y2 = 0;
		}
		if(X2 == null) {
			X2 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X2,Y2);
		point._inPool = false;
		var offset = point;
		var X3 = size.width;
		var Y3 = size.height;
		if(Y3 == null) {
			Y3 = 0;
		}
		if(X3 == null) {
			X3 = 0;
		}
		var point1 = flixel_math_FlxPoint._pool.get().set(X3,Y3);
		point1._inPool = false;
		var sourceSize = point1;
		if(rotated && !trimmed) {
			sourceSize.set(size.height,size.width);
		}
		frames.addAtlasFrame(rect1,sourceSize,offset,name,angle,flipX,flipY);
	}
	return frames;
};
flixel_graphics_frames_FlxAtlasFrames.fromTexturePackerXml = function(Source,Description) {
	var graphic = flixel_FlxG.bitmap.add(Source,false);
	if(graphic == null) {
		return null;
	}
	var frames = flixel_graphics_frames_FlxAtlasFrames.findFrame(graphic);
	if(frames != null) {
		return frames;
	}
	if(graphic == null || Description == null) {
		return null;
	}
	frames = new flixel_graphics_frames_FlxAtlasFrames(graphic);
	if(openfl_utils_Assets.exists(Description)) {
		Description = openfl_utils_Assets.getText(Description);
	}
	var xml = Xml.parse(Description);
	var sprite = xml.firstElement().elements();
	while(sprite.hasNext()) {
		var sprite1 = sprite.next();
		var trimmed = sprite1.exists("oX") || sprite1.exists("oY");
		var rotated = sprite1.exists("r") && sprite1.get("r") == "y";
		var angle = rotated ? -90 : 0;
		var name = sprite1.get("n");
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var offset = point;
		var X1 = Std.parseInt(sprite1.get("x"));
		var Y1 = Std.parseInt(sprite1.get("y"));
		var Width = Std.parseInt(sprite1.get("w"));
		var Height = Std.parseInt(sprite1.get("h"));
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X2 = X1;
		var Y2 = Y1;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y2 == null) {
			Y2 = 0;
		}
		if(X2 == null) {
			X2 = 0;
		}
		_this.x = X2;
		_this.y = Y2;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		var X3 = rect1.width;
		var Y3 = rect1.height;
		if(Y3 == null) {
			Y3 = 0;
		}
		if(X3 == null) {
			X3 = 0;
		}
		var point1 = flixel_math_FlxPoint._pool.get().set(X3,Y3);
		point1._inPool = false;
		var sourceSize = point1;
		if(trimmed) {
			offset.set(Std.parseInt(sprite1.get("oX")),Std.parseInt(sprite1.get("oY")));
			sourceSize.set(Std.parseInt(sprite1.get("oW")),Std.parseInt(sprite1.get("oH")));
		}
		frames.addAtlasFrame(rect1,sourceSize,offset,name,angle);
	}
	return frames;
};
flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker = function(Source,Description) {
	var graphic = flixel_FlxG.bitmap.add(Source);
	if(graphic == null) {
		return null;
	}
	var frames = flixel_graphics_frames_FlxAtlasFrames.findFrame(graphic);
	if(frames != null) {
		return frames;
	}
	if(graphic == null || Description == null) {
		return null;
	}
	frames = new flixel_graphics_frames_FlxAtlasFrames(graphic);
	if(openfl_utils_Assets.exists(Description)) {
		Description = openfl_utils_Assets.getText(Description);
	}
	var pack = StringTools.trim(Description);
	var lines = pack.split("\n");
	var _g = 0;
	var _g1 = lines.length;
	while(_g < _g1) {
		var i = _g++;
		var currImageData = lines[i].split("=");
		var name = StringTools.trim(currImageData[0]);
		var currImageRegion = StringTools.trim(currImageData[1]).split(" ");
		var X = Std.parseInt(currImageRegion[0]);
		var Y = Std.parseInt(currImageRegion[1]);
		var Width = Std.parseInt(currImageRegion[2]);
		var Height = Std.parseInt(currImageRegion[3]);
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		var X2 = rect1.width;
		var Y2 = rect1.height;
		if(Y2 == null) {
			Y2 = 0;
		}
		if(X2 == null) {
			X2 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X2,Y2);
		point._inPool = false;
		var sourceSize = point;
		var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
		point1._inPool = false;
		var offset = point1;
		frames.addAtlasFrame(rect1,sourceSize,offset,name,0);
	}
	return frames;
};
flixel_graphics_frames_FlxAtlasFrames.findFrame = function(graphic,border) {
	if(border == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		border = point1;
	}
	var type = flixel_graphics_frames_FlxFrameCollectionType.ATLAS;
	var collections = graphic.frameCollections.get(type);
	if(collections == null) {
		collections = [];
		graphic.frameCollections.set(type,collections);
	}
	var atlasFrames = collections;
	var _g = 0;
	while(_g < atlasFrames.length) {
		var atlas = atlasFrames[_g];
		++_g;
		var _this = atlas.border;
		var result = Math.abs(_this.x - border.x) <= 0.0000001 && Math.abs(_this.y - border.y) <= 0.0000001;
		if(border._weak) {
			border.put();
		}
		if(result) {
			return atlas;
		}
	}
	return null;
};
flixel_graphics_frames_FlxAtlasFrames.__super__ = flixel_graphics_frames_FlxFramesCollection;
flixel_graphics_frames_FlxAtlasFrames.prototype = $extend(flixel_graphics_frames_FlxFramesCollection.prototype,{
	addBorder: function(border) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var resultBorder = point1.addPoint(this.border).addPoint(border);
		var atlasFrames = flixel_graphics_frames_FlxAtlasFrames.findFrame(this.parent,resultBorder);
		if(atlasFrames != null) {
			return atlasFrames;
		}
		atlasFrames = new flixel_graphics_frames_FlxAtlasFrames(this.parent,resultBorder);
		var _g = 0;
		var _g1 = this.frames;
		while(_g < _g1.length) {
			var frame = _g1[_g];
			++_g;
			atlasFrames.pushFrame(frame.setBorderTo(border));
		}
		return atlasFrames;
	}
	,__class__: flixel_graphics_frames_FlxAtlasFrames
});
var flixel_graphics_frames_FlxFrame = function(parent,angle,flipX,flipY) {
	if(flipY == null) {
		flipY = false;
	}
	if(flipX == null) {
		flipX = false;
	}
	if(angle == null) {
		angle = 0;
	}
	this.matrix = new flixel_math_FlxMatrix();
	this.rect = new openfl_geom_Rectangle();
	this.point2 = new openfl_geom_Point();
	this.point1 = new openfl_geom_Point();
	this.parent = parent;
	this.angle = angle;
	this.flipX = flipX;
	this.flipY = flipY;
	this.type = 0;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.sourceSize = point;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.offset = point;
	var this1 = new Array(6);
	this.blitMatrix = this1;
	if(flixel_FlxG.renderTile) {
		var this1 = new Array(6);
		this.tileMatrix = this1;
	}
};
$hxClasses["flixel.graphics.frames.FlxFrame"] = flixel_graphics_frames_FlxFrame;
flixel_graphics_frames_FlxFrame.__name__ = "flixel.graphics.frames.FlxFrame";
flixel_graphics_frames_FlxFrame.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_graphics_frames_FlxFrame.sort = function(frames,prefixLength,postfixLength) {
	var prefixLength1 = prefixLength;
	var postfixLength1 = postfixLength;
	haxe_ds_ArraySort.sort(frames,function(frame1,frame2) {
		return flixel_graphics_frames_FlxFrame.sortByName(frame1,frame2,prefixLength1,postfixLength1);
	});
};
flixel_graphics_frames_FlxFrame.sortByName = function(frame1,frame2,prefixLength,postfixLength) {
	var name1 = frame1.name;
	var name2 = frame2.name;
	var num1 = Std.parseInt(name1.substring(prefixLength,name1.length - postfixLength));
	var num2 = Std.parseInt(name2.substring(prefixLength,name2.length - postfixLength));
	if(num1 == null) {
		num1 = 0;
	}
	if(num2 == null) {
		num2 = 0;
	}
	return num1 - num2;
};
flixel_graphics_frames_FlxFrame.prototype = {
	point1: null
	,point2: null
	,rect: null
	,matrix: null
	,name: null
	,frame: null
	,uv: null
	,parent: null
	,angle: null
	,flipX: null
	,flipY: null
	,sourceSize: null
	,offset: null
	,type: null
	,tileMatrix: null
	,blitMatrix: null
	,cacheFrameMatrix: function() {
		var mat = this.matrix;
		var blit = true;
		if(blit == null) {
			blit = true;
		}
		mat.identity();
		if(blit) {
			mat.translate(-this.frame.x,-this.frame.y);
		}
		if(this.angle == 90) {
			mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
			mat.translate(this.frame.height,0);
		} else if(this.angle == -90) {
			mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
			mat.translate(0,this.frame.width);
		}
		mat.translate(this.offset.x,this.offset.y);
		this.blitMatrix[0] = this.matrix.a;
		this.blitMatrix[1] = this.matrix.b;
		this.blitMatrix[2] = this.matrix.c;
		this.blitMatrix[3] = this.matrix.d;
		this.blitMatrix[4] = this.matrix.tx;
		this.blitMatrix[5] = this.matrix.ty;
		if(flixel_FlxG.renderTile) {
			var mat = this.matrix;
			var blit = false;
			if(blit == null) {
				blit = true;
			}
			mat.identity();
			if(blit) {
				mat.translate(-this.frame.x,-this.frame.y);
			}
			if(this.angle == 90) {
				mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
				mat.translate(this.frame.height,0);
			} else if(this.angle == -90) {
				mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
				mat.translate(0,this.frame.width);
			}
			mat.translate(this.offset.x,this.offset.y);
			this.tileMatrix[0] = this.matrix.a;
			this.tileMatrix[1] = this.matrix.b;
			this.tileMatrix[2] = this.matrix.c;
			this.tileMatrix[3] = this.matrix.d;
			this.tileMatrix[4] = this.matrix.tx;
			this.tileMatrix[5] = this.matrix.ty;
		}
	}
	,prepareBlitMatrix: function(mat,blit) {
		if(blit == null) {
			blit = true;
		}
		mat.identity();
		if(blit) {
			mat.translate(-this.frame.x,-this.frame.y);
		}
		if(this.angle == 90) {
			mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
			mat.translate(this.frame.height,0);
		} else if(this.angle == -90) {
			mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
			mat.translate(0,this.frame.width);
		}
		mat.translate(this.offset.x,this.offset.y);
		return mat;
	}
	,rotateAndFlip: function(mat,rotation,flipX,flipY) {
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation != 0) {
			var t = w;
			w = h;
			h = t;
			if(rotation == 90) {
				mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
				mat.translate(this.sourceSize.y,0);
			} else if(rotation == -90 || rotation == -90) {
				mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
				mat.translate(0,this.sourceSize.x);
			}
		}
		if(flipX) {
			mat.scale(-1,1);
			mat.translate(w,0);
		}
		if(flipY) {
			mat.scale(1,-1);
			mat.translate(0,h);
		}
		return mat;
	}
	,prepareTransformedBlitMatrix: function(mat,rotation,flipX,flipY) {
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		mat.a = this.blitMatrix[0];
		mat.b = this.blitMatrix[1];
		mat.c = this.blitMatrix[2];
		mat.d = this.blitMatrix[3];
		mat.tx = this.blitMatrix[4];
		mat.ty = this.blitMatrix[5];
		var rotation1 = rotation;
		var flipX1 = flipX;
		var flipY1 = flipY;
		if(flipY1 == null) {
			flipY1 = false;
		}
		if(flipX1 == null) {
			flipX1 = false;
		}
		if(rotation1 == null) {
			rotation1 = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation1 != 0) {
			var t = w;
			w = h;
			h = t;
			if(rotation1 == 90) {
				mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
				mat.translate(this.sourceSize.y,0);
			} else if(rotation1 == -90 || rotation1 == -90) {
				mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
				mat.translate(0,this.sourceSize.x);
			}
		}
		if(flipX1) {
			mat.scale(-1,1);
			mat.translate(w,0);
		}
		if(flipY1) {
			mat.scale(1,-1);
			mat.translate(0,h);
		}
		return mat;
	}
	,prepareMatrix: function(mat,rotation,flipX,flipY) {
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		if(flixel_FlxG.renderBlit) {
			mat.identity();
			return mat;
		}
		mat.a = this.tileMatrix[0];
		mat.b = this.tileMatrix[1];
		mat.c = this.tileMatrix[2];
		mat.d = this.tileMatrix[3];
		mat.tx = this.tileMatrix[4];
		mat.ty = this.tileMatrix[5];
		var doFlipX = flipX != this.flipX;
		var doFlipY = flipY != this.flipY;
		if(rotation == 0 && !doFlipX && !doFlipY) {
			return mat;
		}
		var rotation1 = rotation;
		var flipX = doFlipX;
		var flipY = doFlipY;
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(rotation1 == null) {
			rotation1 = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation1 != 0) {
			var t = w;
			w = h;
			h = t;
			if(rotation1 == 90) {
				mat.setTo(-mat.b,mat.a,-mat.d,mat.c,-mat.ty,mat.tx);
				mat.translate(this.sourceSize.y,0);
			} else if(rotation1 == -90 || rotation1 == -90) {
				mat.setTo(mat.b,-mat.a,mat.d,-mat.c,mat.ty,-mat.tx);
				mat.translate(0,this.sourceSize.x);
			}
		}
		if(flipX) {
			mat.scale(-1,1);
			mat.translate(w,0);
		}
		if(flipY) {
			mat.scale(1,-1);
			mat.translate(0,h);
		}
		return mat;
	}
	,fillBlitMatrix: function(mat) {
		mat.a = this.blitMatrix[0];
		mat.b = this.blitMatrix[1];
		mat.c = this.blitMatrix[2];
		mat.d = this.blitMatrix[3];
		mat.tx = this.blitMatrix[4];
		mat.ty = this.blitMatrix[5];
		return mat;
	}
	,paint: function(bmd,point,mergeAlpha,disposeIfNotEqual) {
		if(disposeIfNotEqual == null) {
			disposeIfNotEqual = false;
		}
		if(mergeAlpha == null) {
			mergeAlpha = false;
		}
		if(point == null) {
			point = this.point1;
			point.setTo(0,0);
		}
		var bmd1 = bmd;
		var rotation = 0;
		var mergeAlpha1 = mergeAlpha;
		var disposeIfNotEqual1 = disposeIfNotEqual;
		if(disposeIfNotEqual1 == null) {
			disposeIfNotEqual1 = false;
		}
		if(mergeAlpha1 == null) {
			mergeAlpha1 = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation != 0) {
			var t = w;
			w = h;
			h = t;
		}
		if(bmd1 != null && disposeIfNotEqual1) {
			bmd1 = flixel_util_FlxDestroyUtil.disposeIfNotEqual(bmd1,w,h);
		}
		if(bmd1 != null && !mergeAlpha1) {
			this.rect.setTo(point.x,point.y,w,h);
			bmd1.fillRect(this.rect,0);
		} else if(bmd1 == null) {
			bmd1 = new openfl_display_BitmapData(w,h,true,0);
		}
		bmd = bmd1;
		if(this.type == 2) {
			return bmd;
		}
		if(this.angle == 0) {
			var _this = this.offset;
			var FlashPoint = this.point2;
			if(FlashPoint == null) {
				FlashPoint = new openfl_geom_Point();
			}
			FlashPoint.x = _this.x;
			FlashPoint.y = _this.y;
			this.point2.x += point.x;
			this.point2.y += point.y;
			var tmp = this.parent.bitmap;
			var _this = this.frame;
			var FlashRect = this.rect;
			if(FlashRect == null) {
				FlashRect = new openfl_geom_Rectangle();
			}
			FlashRect.x = _this.x;
			FlashRect.y = _this.y;
			FlashRect.width = _this.width;
			FlashRect.height = _this.height;
			bmd.copyPixels(tmp,FlashRect,this.point2,null,null,mergeAlpha);
		} else {
			var mat = this.matrix;
			mat.a = this.blitMatrix[0];
			mat.b = this.blitMatrix[1];
			mat.c = this.blitMatrix[2];
			mat.d = this.blitMatrix[3];
			mat.tx = this.blitMatrix[4];
			mat.ty = this.blitMatrix[5];
			this.matrix.translate(point.x,point.y);
			var mat = this.matrix;
			var X = this.frame.x;
			var Y = this.frame.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p1 = point1;
			var _this = this.frame;
			var X = _this.x + _this.width;
			var _this = this.frame;
			var Y = _this.y + _this.height;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p2 = point1;
			var x1 = p1.x * mat.a + p1.y * mat.c + mat.tx;
			var y1 = p1.x * mat.b + p1.y * mat.d + mat.ty;
			p1.set(x1,y1);
			var x1 = p2.x * mat.a + p2.y * mat.c + mat.tx;
			var y1 = p2.x * mat.b + p2.y * mat.d + mat.ty;
			p2.set(x1,y1);
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			var _this = rect;
			var minX = Math.min(p1.x,p2.x);
			var minY = Math.min(p1.y,p2.y);
			var maxX = Math.max(p1.x,p2.x);
			var maxY = Math.max(p1.y,p2.y);
			if(p1._weak) {
				p1.put();
			}
			if(p2._weak) {
				p2.put();
			}
			var X = minX;
			var Y = minY;
			var Width = maxX - minX;
			var Height = maxY - minY;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var flxRect = _this;
			var FlashRect = this.rect;
			if(FlashRect == null) {
				FlashRect = new openfl_geom_Rectangle();
			}
			FlashRect.x = flxRect.x;
			FlashRect.y = flxRect.y;
			FlashRect.width = flxRect.width;
			FlashRect.height = flxRect.height;
			if(!flxRect._inPool) {
				flxRect._inPool = true;
				flxRect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(flxRect);
			}
			var rect = this.rect;
			bmd.draw(this.parent.bitmap,this.matrix,null,null,rect);
		}
		return bmd;
	}
	,paintRotatedAndFlipped: function(bmd,point,rotation,flipX,flipY,mergeAlpha,disposeIfNotEqual) {
		if(disposeIfNotEqual == null) {
			disposeIfNotEqual = false;
		}
		if(mergeAlpha == null) {
			mergeAlpha = false;
		}
		if(flipY == null) {
			flipY = false;
		}
		if(flipX == null) {
			flipX = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		if(this.type == 2 && rotation == 0) {
			return this.paint(bmd,point,mergeAlpha,disposeIfNotEqual);
		}
		if(point == null) {
			point = this.point2;
			point.setTo(0,0);
		}
		var bmd1 = bmd;
		var rotation1 = rotation;
		var mergeAlpha1 = mergeAlpha;
		var disposeIfNotEqual1 = disposeIfNotEqual;
		if(disposeIfNotEqual1 == null) {
			disposeIfNotEqual1 = false;
		}
		if(mergeAlpha1 == null) {
			mergeAlpha1 = false;
		}
		if(rotation1 == null) {
			rotation1 = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation1 != 0) {
			var t = w;
			w = h;
			h = t;
		}
		if(bmd1 != null && disposeIfNotEqual1) {
			bmd1 = flixel_util_FlxDestroyUtil.disposeIfNotEqual(bmd1,w,h);
		}
		if(bmd1 != null && !mergeAlpha1) {
			this.rect.setTo(point.x,point.y,w,h);
			bmd1.fillRect(this.rect,0);
		} else if(bmd1 == null) {
			bmd1 = new openfl_display_BitmapData(w,h,true,0);
		}
		bmd = bmd1;
		if(this.type == 2) {
			return bmd;
		}
		var doFlipX = flipX != this.flipX;
		var doFlipY = flipY != this.flipY;
		this.prepareTransformedBlitMatrix(this.matrix,rotation,doFlipX,doFlipY);
		this.matrix.translate(point.x,point.y);
		var mat = this.matrix;
		var X = this.frame.x;
		var Y = this.frame.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var p1 = point1;
		var _this = this.frame;
		var X = _this.x + _this.width;
		var _this = this.frame;
		var Y = _this.y + _this.height;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var p2 = point1;
		var x1 = p1.x * mat.a + p1.y * mat.c + mat.tx;
		var y1 = p1.x * mat.b + p1.y * mat.d + mat.ty;
		p1.set(x1,y1);
		var x1 = p2.x * mat.a + p2.y * mat.c + mat.tx;
		var y1 = p2.x * mat.b + p2.y * mat.d + mat.ty;
		p2.set(x1,y1);
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var _this = rect;
		var minX = Math.min(p1.x,p2.x);
		var minY = Math.min(p1.y,p2.y);
		var maxX = Math.max(p1.x,p2.x);
		var maxY = Math.max(p1.y,p2.y);
		if(p1._weak) {
			p1.put();
		}
		if(p2._weak) {
			p2.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var flxRect = _this;
		var FlashRect = this.rect;
		if(FlashRect == null) {
			FlashRect = new openfl_geom_Rectangle();
		}
		FlashRect.x = flxRect.x;
		FlashRect.y = flxRect.y;
		FlashRect.width = flxRect.width;
		FlashRect.height = flxRect.height;
		if(!flxRect._inPool) {
			flxRect._inPool = true;
			flxRect._weak = false;
			flixel_math_FlxRect._pool.putUnsafe(flxRect);
		}
		var rect = this.rect;
		bmd.draw(this.parent.bitmap,this.matrix,null,null,rect);
		return bmd;
	}
	,checkInputBitmap: function(bmd,point,rotation,mergeAlpha,disposeIfNotEqual) {
		if(disposeIfNotEqual == null) {
			disposeIfNotEqual = false;
		}
		if(mergeAlpha == null) {
			mergeAlpha = false;
		}
		if(rotation == null) {
			rotation = 0;
		}
		var w = this.sourceSize.x | 0;
		var h = this.sourceSize.y | 0;
		if(rotation != 0) {
			var t = w;
			w = h;
			h = t;
		}
		if(bmd != null && disposeIfNotEqual) {
			bmd = flixel_util_FlxDestroyUtil.disposeIfNotEqual(bmd,w,h);
		}
		if(bmd != null && !mergeAlpha) {
			this.rect.setTo(point.x,point.y,w,h);
			bmd.fillRect(this.rect,0);
		} else if(bmd == null) {
			bmd = new openfl_display_BitmapData(w,h,true,0);
		}
		return bmd;
	}
	,getDrawFrameRect: function(mat) {
		var X = this.frame.x;
		var Y = this.frame.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var p1 = point1;
		var _this = this.frame;
		var X = _this.x + _this.width;
		var _this = this.frame;
		var Y = _this.y + _this.height;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var p2 = point1;
		var x1 = p1.x * mat.a + p1.y * mat.c + mat.tx;
		var y1 = p1.x * mat.b + p1.y * mat.d + mat.ty;
		p1.set(x1,y1);
		var x1 = p2.x * mat.a + p2.y * mat.c + mat.tx;
		var y1 = p2.x * mat.b + p2.y * mat.d + mat.ty;
		p2.set(x1,y1);
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var _this = rect;
		var minX = Math.min(p1.x,p2.x);
		var minY = Math.min(p1.y,p2.y);
		var maxX = Math.max(p1.x,p2.x);
		var maxY = Math.max(p1.y,p2.y);
		if(p1._weak) {
			p1.put();
		}
		if(p2._weak) {
			p2.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var flxRect = _this;
		var FlashRect = this.rect;
		if(FlashRect == null) {
			FlashRect = new openfl_geom_Rectangle();
		}
		FlashRect.x = flxRect.x;
		FlashRect.y = flxRect.y;
		FlashRect.width = flxRect.width;
		FlashRect.height = flxRect.height;
		if(!flxRect._inPool) {
			flxRect._inPool = true;
			flxRect._weak = false;
			flixel_math_FlxRect._pool.putUnsafe(flxRect);
		}
		return this.rect;
	}
	,subFrameTo: function(rect,frameToFill) {
		if(frameToFill == null) {
			frameToFill = new flixel_graphics_frames_FlxFrame(this.parent,this.angle);
		} else {
			frameToFill.parent = this.parent;
			frameToFill.angle = this.angle;
			frameToFill.set_frame(flixel_util_FlxDestroyUtil.put(frameToFill.frame));
		}
		frameToFill.sourceSize.set(rect.width,rect.height);
		if(this.type == 2) {
			frameToFill.type = 2;
			frameToFill.offset.set(0,0);
			return frameToFill;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect1 = _this;
		rect1._inPool = false;
		var _this = rect1;
		_this.width = this.frame.width;
		_this.height = this.frame.height;
		var clippedRect = _this;
		if(this.angle != 0) {
			clippedRect.width = this.frame.height;
			clippedRect.height = this.frame.width;
		}
		var ox = Math.max(this.offset.x,0);
		var oy = Math.max(this.offset.y,0);
		rect.x += -ox;
		rect.y += -oy;
		var frameRect = clippedRect.intersection(rect);
		clippedRect = flixel_util_FlxDestroyUtil.put(clippedRect);
		rect.x += ox;
		rect.y += oy;
		if(frameRect.width == 0 || frameRect.height == 0) {
			frameToFill.type = 2;
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			frameRect.x = X;
			frameRect.y = Y;
			frameRect.width = Width;
			frameRect.height = Height;
			frameToFill.set_frame(frameRect);
			frameToFill.offset.set(0,0);
		} else {
			frameToFill.type = 0;
			var _this = frameToFill.offset.set(frameRect.x,frameRect.y);
			var X = rect.x;
			var Y = rect.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.set_x(_this.x - X);
			_this.set_y(_this.y - Y);
			_this.addPoint(this.offset);
			var X = frameRect.x;
			var Y = frameRect.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p1 = point1;
			var X = frameRect.x + frameRect.width;
			var Y = frameRect.y + frameRect.height;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p2 = point1;
			this.matrix.identity();
			if(this.angle == -90) {
				var _this = this.matrix;
				_this.setTo(-_this.b,_this.a,-_this.d,_this.c,-_this.ty,_this.tx);
				this.matrix.translate(this.frame.width,0);
			} else if(this.angle == 90) {
				var _this = this.matrix;
				_this.setTo(_this.b,-_this.a,_this.d,-_this.c,_this.ty,-_this.tx);
				this.matrix.translate(0,this.frame.height);
			}
			if(this.angle != 0) {
				var matrix = this.matrix;
				var x1 = p1.x * matrix.a + p1.y * matrix.c + matrix.tx;
				var y1 = p1.x * matrix.b + p1.y * matrix.d + matrix.ty;
				p1.set(x1,y1);
				var matrix = this.matrix;
				var x1 = p2.x * matrix.a + p2.y * matrix.c + matrix.tx;
				var y1 = p2.x * matrix.b + p2.y * matrix.d + matrix.ty;
				p2.set(x1,y1);
			}
			var minX = Math.min(p1.x,p2.x);
			var minY = Math.min(p1.y,p2.y);
			var maxX = Math.max(p1.x,p2.x);
			var maxY = Math.max(p1.y,p2.y);
			if(p1._weak) {
				p1.put();
			}
			if(p2._weak) {
				p2.put();
			}
			var X = minX;
			var Y = minY;
			var Width = maxX - minX;
			var Height = maxY - minY;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			frameRect.x = X;
			frameRect.y = Y;
			frameRect.width = Width;
			frameRect.height = Height;
			frameRect.x += this.frame.x;
			frameRect.y += this.frame.y;
			frameToFill.set_frame(frameRect);
			frameToFill.cacheFrameMatrix();
		}
		return frameToFill;
	}
	,setBorderTo: function(border,frameToFill) {
		var X = border.x;
		var Y = border.y;
		var Width = this.sourceSize.x - 2 * border.x;
		var Height = this.sourceSize.y - 2 * border.y;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		frameToFill = this.subFrameTo(rect1,frameToFill);
		frameToFill.name = this.name;
		rect1 = flixel_util_FlxDestroyUtil.put(rect1);
		return frameToFill;
	}
	,clipTo: function(clip,clippedFrame) {
		if(clippedFrame == null) {
			clippedFrame = new flixel_graphics_frames_FlxFrame(this.parent,this.angle);
		} else {
			clippedFrame.parent = this.parent;
			clippedFrame.angle = this.angle;
			clippedFrame.set_frame(flixel_util_FlxDestroyUtil.put(clippedFrame.frame));
		}
		var _this = clippedFrame.sourceSize;
		var point = this.sourceSize;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		clippedFrame.name = this.name;
		if(this.type == 2) {
			clippedFrame.type = 2;
			clippedFrame.offset.set(0,0);
			return clippedFrame;
		}
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var _this = rect;
		_this.width = this.frame.width;
		_this.height = this.frame.height;
		var clippedRect = _this;
		if(this.angle != 0) {
			clippedRect.width = this.frame.height;
			clippedRect.height = this.frame.width;
		}
		clip.x += -this.offset.x;
		clip.y += -this.offset.y;
		var frameRect = clippedRect.intersection(clip);
		clippedRect = flixel_util_FlxDestroyUtil.put(clippedRect);
		if(frameRect.width == 0 || frameRect.height == 0) {
			clippedFrame.type = 2;
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			frameRect.x = X;
			frameRect.y = Y;
			frameRect.width = Width;
			frameRect.height = Height;
			clippedFrame.set_frame(frameRect);
			clippedFrame.offset.set(0,0);
		} else {
			clippedFrame.type = 0;
			clippedFrame.offset.set(frameRect.x,frameRect.y).addPoint(this.offset);
			var X = frameRect.x;
			var Y = frameRect.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p1 = point1;
			var X = frameRect.x + frameRect.width;
			var Y = frameRect.y + frameRect.height;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			var p2 = point1;
			this.matrix.identity();
			if(this.angle == -90) {
				var _this = this.matrix;
				_this.setTo(-_this.b,_this.a,-_this.d,_this.c,-_this.ty,_this.tx);
				this.matrix.translate(this.frame.width,0);
			} else if(this.angle == 90) {
				var _this = this.matrix;
				_this.setTo(_this.b,-_this.a,_this.d,-_this.c,_this.ty,-_this.tx);
				this.matrix.translate(0,this.frame.height);
			}
			if(this.angle != 0) {
				var matrix = this.matrix;
				var x1 = p1.x * matrix.a + p1.y * matrix.c + matrix.tx;
				var y1 = p1.x * matrix.b + p1.y * matrix.d + matrix.ty;
				p1.set(x1,y1);
				var matrix = this.matrix;
				var x1 = p2.x * matrix.a + p2.y * matrix.c + matrix.tx;
				var y1 = p2.x * matrix.b + p2.y * matrix.d + matrix.ty;
				p2.set(x1,y1);
			}
			var minX = Math.min(p1.x,p2.x);
			var minY = Math.min(p1.y,p2.y);
			var maxX = Math.max(p1.x,p2.x);
			var maxY = Math.max(p1.y,p2.y);
			if(p1._weak) {
				p1.put();
			}
			if(p2._weak) {
				p2.put();
			}
			var X = minX;
			var Y = minY;
			var Width = maxX - minX;
			var Height = maxY - minY;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			frameRect.x = X;
			frameRect.y = Y;
			frameRect.width = Width;
			frameRect.height = Height;
			frameRect.x += this.frame.x;
			frameRect.y += this.frame.y;
			clippedFrame.set_frame(frameRect);
			clippedFrame.cacheFrameMatrix();
		}
		clip.x += this.offset.x;
		clip.y += this.offset.y;
		return clippedFrame;
	}
	,copyTo: function(clone) {
		if(clone == null) {
			clone = new flixel_graphics_frames_FlxFrame(this.parent,this.angle);
		} else {
			clone.parent = this.parent;
			clone.angle = this.angle;
			clone.set_frame(flixel_util_FlxDestroyUtil.put(clone.frame));
		}
		var _this = clone.offset;
		var point = this.offset;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		clone.flipX = this.flipX;
		clone.flipY = this.flipY;
		var _this = clone.sourceSize;
		var point = this.sourceSize;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var _this = rect;
		var Rect = this.frame;
		_this.x = Rect.x;
		_this.y = Rect.y;
		_this.width = Rect.width;
		_this.height = Rect.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		clone.set_frame(_this);
		clone.type = this.type;
		clone.name = this.name;
		clone.cacheFrameMatrix();
		return clone;
	}
	,destroy: function() {
		this.name = null;
		this.parent = null;
		this.sourceSize = flixel_util_FlxDestroyUtil.put(this.sourceSize);
		this.offset = flixel_util_FlxDestroyUtil.put(this.offset);
		this.set_frame(flixel_util_FlxDestroyUtil.put(this.frame));
		this.uv = flixel_util_FlxDestroyUtil.put(this.uv);
		this.blitMatrix = null;
		this.tileMatrix = null;
	}
	,toString: function() {
		var value = this.name;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "name";
		_this.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this]);
	}
	,set_frame: function(value) {
		if(value != null) {
			if(this.uv == null) {
				var _this = flixel_math_FlxRect._pool.get();
				var X = 0;
				var Y = 0;
				var Width = 0;
				var Height = 0;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				_this.x = X;
				_this.y = Y;
				_this.width = Width;
				_this.height = Height;
				var rect = _this;
				rect._inPool = false;
				this.uv = rect;
			}
			var _this = this.uv;
			var X = value.x / this.parent.width;
			var Y = value.y / this.parent.height;
			var Width = (value.x + value.width) / this.parent.width;
			var Height = (value.y + value.height) / this.parent.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
		}
		return this.frame = value;
	}
	,__class__: flixel_graphics_frames_FlxFrame
	,__properties__: {set_frame:"set_frame"}
};
var flixel_graphics_frames_FlxFrameCollectionType = $hxEnums["flixel.graphics.frames.FlxFrameCollectionType"] = { __ename__:"flixel.graphics.frames.FlxFrameCollectionType",__constructs__:null
	,IMAGE: {_hx_name:"IMAGE",_hx_index:0,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}
	,TILES: {_hx_name:"TILES",_hx_index:1,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}
	,ATLAS: {_hx_name:"ATLAS",_hx_index:2,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}
	,FONT: {_hx_name:"FONT",_hx_index:3,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}
	,USER: ($_=function(type) { return {_hx_index:4,type:type,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}; },$_._hx_name="USER",$_.__params__ = ["type"],$_)
	,FILTER: {_hx_name:"FILTER",_hx_index:5,__enum__:"flixel.graphics.frames.FlxFrameCollectionType",toString:$estr}
};
flixel_graphics_frames_FlxFrameCollectionType.__constructs__ = [flixel_graphics_frames_FlxFrameCollectionType.IMAGE,flixel_graphics_frames_FlxFrameCollectionType.TILES,flixel_graphics_frames_FlxFrameCollectionType.ATLAS,flixel_graphics_frames_FlxFrameCollectionType.FONT,flixel_graphics_frames_FlxFrameCollectionType.USER,flixel_graphics_frames_FlxFrameCollectionType.FILTER];
var flixel_graphics_frames_FlxImageFrame = function(parent,border) {
	flixel_graphics_frames_FlxFramesCollection.call(this,parent,flixel_graphics_frames_FlxFrameCollectionType.IMAGE,border);
};
$hxClasses["flixel.graphics.frames.FlxImageFrame"] = flixel_graphics_frames_FlxImageFrame;
flixel_graphics_frames_FlxImageFrame.__name__ = "flixel.graphics.frames.FlxImageFrame";
flixel_graphics_frames_FlxImageFrame.fromEmptyFrame = function(graphic,frameRect) {
	if(graphic == null || frameRect == null) {
		return null;
	}
	var imageFrame = flixel_graphics_frames_FlxImageFrame.findEmptyFrame(graphic,frameRect);
	if(imageFrame != null) {
		return imageFrame;
	}
	imageFrame = new flixel_graphics_frames_FlxImageFrame(graphic);
	imageFrame.addEmptyFrame(frameRect);
	return imageFrame;
};
flixel_graphics_frames_FlxImageFrame.fromFrame = function(source) {
	var graphic = source.parent;
	var rect = source.frame;
	var imageFrame = flixel_graphics_frames_FlxImageFrame.findFrame(graphic,rect);
	if(imageFrame != null) {
		return imageFrame;
	}
	imageFrame = new flixel_graphics_frames_FlxImageFrame(graphic);
	var _this = flixel_math_FlxRect._pool.get();
	var X = 0;
	var Y = 0;
	var Width = 0;
	var Height = 0;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.x = X;
	_this.y = Y;
	_this.width = Width;
	_this.height = Height;
	var rect1 = _this;
	rect1._inPool = false;
	var Rect = rect1;
	Rect.x = rect.x;
	Rect.y = rect.y;
	Rect.width = rect.width;
	Rect.height = rect.height;
	if(Rect._weak) {
		if(!Rect._inPool) {
			Rect._inPool = true;
			Rect._weak = false;
			flixel_math_FlxRect._pool.putUnsafe(Rect);
		}
	}
	imageFrame.addSpriteSheetFrame(Rect);
	return imageFrame;
};
flixel_graphics_frames_FlxImageFrame.fromImage = function(source) {
	return flixel_graphics_frames_FlxImageFrame.fromRectangle(source,null);
};
flixel_graphics_frames_FlxImageFrame.fromGraphic = function(graphic,region) {
	if(graphic == null) {
		return null;
	}
	var checkRegion = region;
	if(checkRegion == null) {
		var X = 0;
		var Y = 0;
		var Width = graphic.width;
		var Height = graphic.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X = X1;
		var Y = Y1;
		var Width = Width1;
		var Height = Height1;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var rect1 = rect;
		rect1._weak = true;
		checkRegion = rect1;
	}
	var imageFrame = flixel_graphics_frames_FlxImageFrame.findFrame(graphic,checkRegion);
	if(imageFrame != null) {
		return imageFrame;
	}
	imageFrame = new flixel_graphics_frames_FlxImageFrame(graphic);
	if(region == null) {
		var X = 0;
		var Y = 0;
		var Width = graphic.width;
		var Height = graphic.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		region = rect;
	} else {
		if(region.width == 0) {
			region.width = graphic.width - region.x;
		}
		if(region.height == 0) {
			region.height = graphic.height - region.y;
		}
	}
	imageFrame.addSpriteSheetFrame(region);
	return imageFrame;
};
flixel_graphics_frames_FlxImageFrame.fromRectangle = function(source,region) {
	var graphic = flixel_FlxG.bitmap.add(source,false);
	return flixel_graphics_frames_FlxImageFrame.fromGraphic(graphic,region);
};
flixel_graphics_frames_FlxImageFrame.fromBitmapAddSpacesAndBorders = function(source,border,region) {
	var graphic = flixel_FlxG.bitmap.add(source,false);
	if(graphic == null) {
		return null;
	}
	var key = flixel_FlxG.bitmap.getKeyWithSpacesAndBorders(graphic.key,null,null,border,region);
	var result = flixel_FlxG.bitmap._cache.h[key];
	if(result == null) {
		var bitmap = flixel_util_FlxBitmapDataUtil.addSpacesAndBorders(graphic.bitmap,null,null,border,region);
		result = flixel_FlxG.bitmap.add(bitmap,false,key);
	}
	var imageFrame = flixel_graphics_frames_FlxImageFrame.fromGraphic(graphic);
	return imageFrame.addBorder(border);
};
flixel_graphics_frames_FlxImageFrame.fromFrameAddSpacesAndBorders = function(frame,border) {
	var bitmap = frame.paint();
	return flixel_graphics_frames_FlxImageFrame.fromBitmapAddSpacesAndBorders(bitmap,border);
};
flixel_graphics_frames_FlxImageFrame.findFrame = function(graphic,frameRect,frameBorder) {
	if(frameBorder == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		frameBorder = point1;
	}
	var type = flixel_graphics_frames_FlxFrameCollectionType.IMAGE;
	var collections = graphic.frameCollections.get(type);
	if(collections == null) {
		collections = [];
		graphic.frameCollections.set(type,collections);
	}
	var imageFrames = collections;
	var _g = 0;
	while(_g < imageFrames.length) {
		var imageFrame = imageFrames[_g];
		++_g;
		var tmp;
		var rect = imageFrame.get_frame().frame;
		var result = Math.abs(frameRect.x - rect.x) <= 0.0000001 && Math.abs(frameRect.y - rect.y) <= 0.0000001 && Math.abs(frameRect.width - rect.width) <= 0.0000001 && Math.abs(frameRect.height - rect.height) <= 0.0000001;
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		if(result) {
			var point = imageFrame.border;
			var result1 = Math.abs(frameBorder.x - point.x) <= 0.0000001 && Math.abs(frameBorder.y - point.y) <= 0.0000001;
			if(point._weak) {
				point.put();
			}
			tmp = result1;
		} else {
			tmp = false;
		}
		if(tmp && imageFrame.get_frame().type != 2) {
			return imageFrame;
		}
	}
	return null;
};
flixel_graphics_frames_FlxImageFrame.findEmptyFrame = function(graphic,frameRect) {
	var type = flixel_graphics_frames_FlxFrameCollectionType.IMAGE;
	var collections = graphic.frameCollections.get(type);
	if(collections == null) {
		collections = [];
		graphic.frameCollections.set(type,collections);
	}
	var imageFrames = collections;
	var _g = 0;
	while(_g < imageFrames.length) {
		var imageFrame = imageFrames[_g];
		++_g;
		var frame = imageFrame.get_frame();
		if(frame.sourceSize.x == frameRect.width && frame.sourceSize.y == frameRect.height && frame.type == 2) {
			return imageFrame;
		}
	}
	return null;
};
flixel_graphics_frames_FlxImageFrame.__super__ = flixel_graphics_frames_FlxFramesCollection;
flixel_graphics_frames_FlxImageFrame.prototype = $extend(flixel_graphics_frames_FlxFramesCollection.prototype,{
	equals: function(rect,border) {
		var rect1 = this.get_frame().frame;
		var result = Math.abs(rect.x - rect1.x) <= 0.0000001 && Math.abs(rect.y - rect1.y) <= 0.0000001 && Math.abs(rect.width - rect1.width) <= 0.0000001 && Math.abs(rect.height - rect1.height) <= 0.0000001;
		if(rect1._weak) {
			if(!rect1._inPool) {
				rect1._inPool = true;
				rect1._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect1);
			}
		}
		if(result) {
			var point = this.border;
			var result = Math.abs(border.x - point.x) <= 0.0000001 && Math.abs(border.y - point.y) <= 0.0000001;
			if(point._weak) {
				point.put();
			}
			return result;
		} else {
			return false;
		}
	}
	,addBorder: function(border) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var point1 = point;
		point1._weak = true;
		var resultBorder = point1.addPoint(this.border).addPoint(border);
		var imageFrame = flixel_graphics_frames_FlxImageFrame.findFrame(this.parent,this.get_frame().frame,resultBorder);
		if(imageFrame != null) {
			return imageFrame;
		}
		imageFrame = new flixel_graphics_frames_FlxImageFrame(this.parent,resultBorder);
		imageFrame.pushFrame(this.get_frame().setBorderTo(border));
		return imageFrame;
	}
	,destroy: function() {
		flixel_graphics_frames_FlxFramesCollection.prototype.destroy.call(this);
		flixel_util_FlxDestroyUtil.destroy(this.get_frame());
	}
	,get_frame: function() {
		return this.frames[0];
	}
	,__class__: flixel_graphics_frames_FlxImageFrame
	,__properties__: $extend(flixel_graphics_frames_FlxFramesCollection.prototype.__properties__,{get_frame:"get_frame"})
});
var flixel_graphics_frames_FlxTileFrames = function(parent,border) {
	this.numCols = 0;
	this.numRows = 0;
	flixel_graphics_frames_FlxFramesCollection.call(this,parent,flixel_graphics_frames_FlxFrameCollectionType.TILES,border);
};
$hxClasses["flixel.graphics.frames.FlxTileFrames"] = flixel_graphics_frames_FlxTileFrames;
flixel_graphics_frames_FlxTileFrames.__name__ = "flixel.graphics.frames.FlxTileFrames";
flixel_graphics_frames_FlxTileFrames.fromBitmapAddSpacesAndBorders = function(source,tileSize,tileSpacing,tileBorder,region) {
	var graphic = flixel_FlxG.bitmap.add(source,false);
	if(graphic == null) {
		return null;
	}
	var key = flixel_FlxG.bitmap.getKeyWithSpacesAndBorders(graphic.key,tileSize,tileSpacing,tileBorder,region);
	var result = flixel_FlxG.bitmap._cache.h[key];
	if(result == null) {
		var bitmap = flixel_util_FlxBitmapDataUtil.addSpacesAndBorders(graphic.bitmap,tileSize,tileSpacing,tileBorder,region);
		result = flixel_FlxG.bitmap.add(bitmap,false,key);
	}
	var borderX = 0;
	var borderY = 0;
	if(tileBorder != null) {
		borderX = tileBorder.x | 0;
		borderY = tileBorder.y | 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var _this = point.addPoint(tileSize);
	var X = 2 * borderX;
	var Y = 2 * borderY;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.set_x(_this.x + X);
	_this.set_y(_this.y + Y);
	var tileFrames = flixel_graphics_frames_FlxTileFrames.fromGraphic(result,_this,null,tileSpacing);
	if(tileBorder == null) {
		return tileFrames;
	}
	return tileFrames.addBorder(tileBorder);
};
flixel_graphics_frames_FlxTileFrames.fromFrameAddSpacesAndBorders = function(frame,tileSize,tileSpacing,tileBorder) {
	var bitmap = frame.paint();
	return flixel_graphics_frames_FlxTileFrames.fromBitmapAddSpacesAndBorders(bitmap,tileSize,tileSpacing,tileBorder);
};
flixel_graphics_frames_FlxTileFrames.fromFrame = function(frame,tileSize,tileSpacing) {
	var graphic = frame.parent;
	var tileFrames = flixel_graphics_frames_FlxTileFrames.findFrame(graphic,tileSize,null,frame,tileSpacing);
	if(tileFrames != null) {
		return tileFrames;
	}
	if(tileSpacing == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		tileSpacing = point;
	}
	tileFrames = new flixel_graphics_frames_FlxTileFrames(graphic);
	tileFrames.atlasFrame = frame;
	tileFrames.region = frame.frame;
	tileFrames.tileSize = tileSize;
	tileFrames.tileSpacing = tileSpacing;
	tileSpacing.set_x(Math.floor(tileSpacing.x));
	tileSpacing.set_y(Math.floor(tileSpacing.y));
	tileSize.set_x(Math.floor(tileSize.x));
	tileSize.set_y(Math.floor(tileSize.y));
	var spacedWidth = tileSize.x + tileSpacing.x;
	var spacedHeight = tileSize.y + tileSpacing.y;
	var numRows = tileSize.y == 0 ? 1 : (frame.sourceSize.y + tileSpacing.y) / spacedHeight | 0;
	var numCols = tileSize.x == 0 ? 1 : (frame.sourceSize.x + tileSpacing.x) / spacedWidth | 0;
	var X = 0;
	var Y = 0;
	var Width = tileSize.x;
	var Height = tileSize.y;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	var helperRect = rect;
	var _g = 0;
	var _g1 = numRows;
	while(_g < _g1) {
		var j = _g++;
		var _g2 = 0;
		var _g3 = numCols;
		while(_g2 < _g3) {
			var i = _g2++;
			helperRect.x = spacedWidth * i;
			helperRect.y = spacedHeight * j;
			tileFrames.pushFrame(frame.subFrameTo(helperRect));
		}
	}
	helperRect = flixel_util_FlxDestroyUtil.put(helperRect);
	tileFrames.numCols = numCols;
	tileFrames.numRows = numRows;
	return tileFrames;
};
flixel_graphics_frames_FlxTileFrames.fromFrames = function(Frames) {
	var firstFrame = Frames[0];
	var graphic = firstFrame.parent;
	var _g = 0;
	while(_g < Frames.length) {
		var frame = Frames[_g];
		++_g;
		var tmp;
		if(frame.parent == firstFrame.parent) {
			var _this = frame.sourceSize;
			var point = firstFrame.sourceSize;
			var result = Math.abs(_this.x - point.x) <= 0.0000001 && Math.abs(_this.y - point.y) <= 0.0000001;
			if(point._weak) {
				point.put();
			}
			tmp = !result;
		} else {
			tmp = true;
		}
		if(tmp) {
			return null;
		}
	}
	var tileFrames = new flixel_graphics_frames_FlxTileFrames(graphic);
	tileFrames.region = null;
	tileFrames.atlasFrame = null;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var _this = point;
	var point = firstFrame.sourceSize;
	_this.set_x(point.x);
	_this.set_y(point.y);
	if(point._weak) {
		point.put();
	}
	tileFrames.tileSize = _this;
	var X = 0;
	var Y = 0;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	tileFrames.tileSpacing = point;
	tileFrames.numCols = Frames.length;
	tileFrames.numRows = 1;
	var _g = 0;
	while(_g < Frames.length) {
		var frame = Frames[_g];
		++_g;
		tileFrames.frames.push(frame);
		if(frame.name != null) {
			tileFrames.framesHash.h[frame.name] = frame;
		}
	}
	return tileFrames;
};
flixel_graphics_frames_FlxTileFrames.fromAtlasByPrefix = function(Frames,Prefix) {
	var framesToAdd = [];
	var _g = 0;
	var _g1 = Frames.frames;
	while(_g < _g1.length) {
		var frame = _g1[_g];
		++_g;
		if(StringTools.startsWith(frame.name,Prefix)) {
			framesToAdd.push(frame);
		}
	}
	if(framesToAdd.length > 0) {
		var name = framesToAdd[0].name;
		var postIndex = name.indexOf(".",Prefix.length);
		var postFix = name.substring(postIndex == -1 ? name.length : postIndex,name.length);
		flixel_graphics_frames_FlxFrame.sort(framesToAdd,Prefix.length,postFix.length);
		return flixel_graphics_frames_FlxTileFrames.fromFrames(framesToAdd);
	}
	return null;
};
flixel_graphics_frames_FlxTileFrames.fromGraphic = function(graphic,tileSize,region,tileSpacing) {
	var tileFrames = flixel_graphics_frames_FlxTileFrames.findFrame(graphic,tileSize,region,null,tileSpacing);
	if(tileFrames != null) {
		return tileFrames;
	}
	if(region == null) {
		var X = 0;
		var Y = 0;
		var Width = graphic.width;
		var Height = graphic.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		region = rect;
	} else {
		if(region.width == 0) {
			region.width = graphic.width - region.x;
		}
		if(region.height == 0) {
			region.height = graphic.height - region.y;
		}
	}
	if(tileSpacing == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		tileSpacing = point;
	}
	tileFrames = new flixel_graphics_frames_FlxTileFrames(graphic);
	tileFrames.region = region;
	tileFrames.atlasFrame = null;
	tileFrames.tileSize = tileSize;
	tileFrames.tileSpacing = tileSpacing;
	region.x = Math.floor(region.x);
	region.y = Math.floor(region.y);
	region.width = Math.floor(region.width);
	region.height = Math.floor(region.height);
	tileSpacing.set_x(Math.floor(tileSpacing.x));
	tileSpacing.set_y(Math.floor(tileSpacing.y));
	tileSize.set_x(Math.floor(tileSize.x));
	tileSize.set_y(Math.floor(tileSize.y));
	var spacedWidth = tileSize.x + tileSpacing.x;
	var spacedHeight = tileSize.y + tileSpacing.y;
	var numRows = tileSize.y == 0 ? 1 : (region.height + tileSpacing.y) / spacedHeight | 0;
	var numCols = tileSize.x == 0 ? 1 : (region.width + tileSpacing.x) / spacedWidth | 0;
	var tileRect;
	var _g = 0;
	var _g1 = numRows;
	while(_g < _g1) {
		var j = _g++;
		var _g2 = 0;
		var _g3 = numCols;
		while(_g2 < _g3) {
			var i = _g2++;
			var X = region.x + i * spacedWidth;
			var Y = region.y + j * spacedHeight;
			var Width = tileSize.x;
			var Height = tileSize.y;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			tileRect = rect;
			tileFrames.addSpriteSheetFrame(tileRect);
		}
	}
	tileFrames.numCols = numCols;
	tileFrames.numRows = numRows;
	return tileFrames;
};
flixel_graphics_frames_FlxTileFrames.fromRectangle = function(source,tileSize,region,tileSpacing) {
	var graphic = flixel_FlxG.bitmap.add(source,false);
	if(graphic == null) {
		return null;
	}
	return flixel_graphics_frames_FlxTileFrames.fromGraphic(graphic,tileSize,region,tileSpacing);
};
flixel_graphics_frames_FlxTileFrames.combineTileSets = function(bitmaps,tileSize,spacing,border) {
	var framesCollections = [];
	var _g = 0;
	while(_g < bitmaps.length) {
		var bitmap = bitmaps[_g];
		++_g;
		framesCollections.push(flixel_graphics_frames_FlxTileFrames.fromRectangle(bitmap,tileSize));
	}
	return flixel_graphics_frames_FlxTileFrames.combineTileFrames(framesCollections,spacing,border);
};
flixel_graphics_frames_FlxTileFrames.combineTileFrames = function(tileframes,spacing,border) {
	var totalArea = 0;
	var rows = 0;
	var cols = 0;
	var tileWidth = tileframes[0].frames[0].sourceSize.x | 0;
	var tileHeight = tileframes[0].frames[0].sourceSize.y | 0;
	var spaceX = 0;
	var spaceY = 0;
	if(spacing != null) {
		spaceX = spacing.x | 0;
		spaceY = spacing.y | 0;
	}
	var borderX = 0;
	var borderY = 0;
	if(border != null) {
		borderX = border.x | 0;
		borderY = border.y | 0;
	}
	var _g = 0;
	while(_g < tileframes.length) {
		var collection = tileframes[_g];
		++_g;
		cols = collection.numCols;
		rows = collection.numRows;
		totalArea += cols * (tileWidth + 2 * borderX) * rows * (tileHeight + 2 * borderY) | 0;
	}
	var side = Math.sqrt(totalArea);
	cols = side / (tileWidth + 2 * borderX) | 0;
	rows = Math.ceil(totalArea / (cols * (tileWidth + 2 * borderX) * (tileHeight + 2 * borderY)));
	var width = (cols * (tileWidth + 2 * borderX) | 0) + (cols - 1) * spaceX;
	var height = (rows * (tileHeight + 2 * borderY) | 0) + (rows - 1) * spaceY;
	var combined = new openfl_display_BitmapData(width,height,true,0);
	var graphic = flixel_FlxG.bitmap.add(combined);
	var result = new flixel_graphics_frames_FlxTileFrames(graphic);
	var destPoint = new openfl_geom_Point(borderX,borderY);
	var X = 0;
	var Y = 0;
	var Width = width;
	var Height = height;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	result.region = rect;
	result.atlasFrame = null;
	var X = tileWidth;
	var Y = tileHeight;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	result.tileSize = point;
	var X = spaceX;
	var Y = spaceY;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	result.tileSpacing = point;
	result.numCols = cols;
	result.numRows = rows;
	var _g = 0;
	while(_g < tileframes.length) {
		var collection = tileframes[_g];
		++_g;
		var _g1 = 0;
		var _g2 = collection.frames;
		while(_g1 < _g2.length) {
			var frame = _g2[_g1];
			++_g1;
			frame.paint(combined,destPoint,true);
			var X = destPoint.x;
			var Y = destPoint.y;
			var Width = tileWidth;
			var Height = tileHeight;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			var X2 = tileWidth;
			var Y2 = tileHeight;
			if(Y2 == null) {
				Y2 = 0;
			}
			if(X2 == null) {
				X2 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X2,Y2);
			point._inPool = false;
			var X3 = 0;
			var Y3 = 0;
			if(Y3 == null) {
				Y3 = 0;
			}
			if(X3 == null) {
				X3 = 0;
			}
			var point1 = flixel_math_FlxPoint._pool.get().set(X3,Y3);
			point1._inPool = false;
			result.addAtlasFrame(rect,point,point1);
			destPoint.x += tileWidth + 2 * borderX + spaceX;
			if(destPoint.x >= combined.width) {
				destPoint.x = borderX;
				destPoint.y += tileHeight + 2 * borderY + spaceY;
			}
		}
	}
	flixel_util_FlxBitmapDataUtil.copyBorderPixels(combined,tileWidth,tileHeight,spaceX,spaceY,borderX,borderY,cols,rows);
	return result;
};
flixel_graphics_frames_FlxTileFrames.findFrame = function(graphic,tileSize,region,atlasFrame,tileSpacing,border) {
	var type = flixel_graphics_frames_FlxFrameCollectionType.TILES;
	var collections = graphic.frameCollections.get(type);
	if(collections == null) {
		collections = [];
		graphic.frameCollections.set(type,collections);
	}
	var tileFrames = collections;
	var _g = 0;
	while(_g < tileFrames.length) {
		var sheet = tileFrames[_g];
		++_g;
		if(sheet.equals(tileSize,region,null,tileSpacing,border)) {
			return sheet;
		}
	}
	return null;
};
flixel_graphics_frames_FlxTileFrames.__super__ = flixel_graphics_frames_FlxFramesCollection;
flixel_graphics_frames_FlxTileFrames.prototype = $extend(flixel_graphics_frames_FlxFramesCollection.prototype,{
	atlasFrame: null
	,region: null
	,tileSize: null
	,tileSpacing: null
	,numRows: null
	,numCols: null
	,getByTilePosition: function(column,row) {
		return this.frames[row * this.numCols + column];
	}
	,equals: function(tileSize,region,atlasFrame,tileSpacing,border) {
		if(this.region == null && this.atlasFrame == null) {
			return false;
		}
		if(atlasFrame != null) {
			region = atlasFrame.frame;
		}
		if(region == null) {
			var X = 0;
			var Y = 0;
			var Width = this.parent.width;
			var Height = this.parent.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X = X1;
			var Y = Y1;
			var Width = Width1;
			var Height = Height1;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			var rect1 = rect;
			rect1._weak = true;
			region = rect1;
		}
		if(tileSpacing == null) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			tileSpacing = point1;
		}
		if(border == null) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			border = point1;
		}
		var tmp;
		var tmp1;
		var tmp2;
		if(this.atlasFrame == atlasFrame) {
			var _this = this.region;
			var result = Math.abs(_this.x - region.x) <= 0.0000001 && Math.abs(_this.y - region.y) <= 0.0000001 && Math.abs(_this.width - region.width) <= 0.0000001 && Math.abs(_this.height - region.height) <= 0.0000001;
			if(region._weak) {
				if(!region._inPool) {
					region._inPool = true;
					region._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(region);
				}
			}
			tmp2 = result;
		} else {
			tmp2 = false;
		}
		if(tmp2) {
			var _this = this.tileSize;
			var result = Math.abs(_this.x - tileSize.x) <= 0.0000001 && Math.abs(_this.y - tileSize.y) <= 0.0000001;
			if(tileSize._weak) {
				tileSize.put();
			}
			tmp1 = result;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			var _this = this.tileSpacing;
			var result = Math.abs(_this.x - tileSpacing.x) <= 0.0000001 && Math.abs(_this.y - tileSpacing.y) <= 0.0000001;
			if(tileSpacing._weak) {
				tileSpacing.put();
			}
			tmp = result;
		} else {
			tmp = false;
		}
		if(tmp) {
			var _this = this.border;
			var result = Math.abs(_this.x - border.x) <= 0.0000001 && Math.abs(_this.y - border.y) <= 0.0000001;
			if(border._weak) {
				border.put();
			}
			return result;
		} else {
			return false;
		}
	}
	,addBorder: function(border) {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var resultBorder = point.addPoint(this.border).addPoint(border);
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var _this = point;
		var point = this.tileSize;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		var _this1 = _this;
		var X = 2 * border.x;
		var Y = 2 * border.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this1.set_x(_this1.x - X);
		_this1.set_y(_this1.y - Y);
		var resultSize = _this1;
		var tileFrames = flixel_graphics_frames_FlxTileFrames.findFrame(this.parent,resultSize,this.region,this.atlasFrame,this.tileSpacing,resultBorder);
		if(tileFrames != null) {
			resultSize = flixel_util_FlxDestroyUtil.put(resultSize);
			return tileFrames;
		}
		tileFrames = new flixel_graphics_frames_FlxTileFrames(this.parent,resultBorder);
		var _this = flixel_math_FlxRect._pool.get();
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var rect = _this;
		rect._inPool = false;
		var _this = rect;
		var Rect = this.region;
		_this.x = Rect.x;
		_this.y = Rect.y;
		_this.width = Rect.width;
		_this.height = Rect.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		tileFrames.region = _this;
		tileFrames.atlasFrame = this.atlasFrame;
		tileFrames.tileSize = resultSize;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var _this = point;
		var point = this.tileSpacing;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		tileFrames.tileSpacing = _this;
		var _g = 0;
		var _g1 = this.frames;
		while(_g < _g1.length) {
			var frame = _g1[_g];
			++_g;
			tileFrames.pushFrame(frame.setBorderTo(border));
		}
		return tileFrames;
	}
	,destroy: function() {
		flixel_graphics_frames_FlxFramesCollection.prototype.destroy.call(this);
		this.atlasFrame = null;
		this.region = flixel_util_FlxDestroyUtil.put(this.region);
		this.tileSize = flixel_util_FlxDestroyUtil.put(this.tileSize);
		this.tileSpacing = flixel_util_FlxDestroyUtil.put(this.tileSpacing);
	}
	,__class__: flixel_graphics_frames_FlxTileFrames
});
var flixel_graphics_tile_FlxDrawBaseItem = function() {
	this.blending = 0;
	this.hasColorOffsets = false;
	this.colored = false;
	this.antialiasing = false;
};
$hxClasses["flixel.graphics.tile.FlxDrawBaseItem"] = flixel_graphics_tile_FlxDrawBaseItem;
flixel_graphics_tile_FlxDrawBaseItem.__name__ = "flixel.graphics.tile.FlxDrawBaseItem";
flixel_graphics_tile_FlxDrawBaseItem.blendToInt = function(blend) {
	return 0;
};
flixel_graphics_tile_FlxDrawBaseItem.prototype = {
	nextTyped: null
	,next: null
	,graphics: null
	,antialiasing: null
	,colored: null
	,hasColorOffsets: null
	,blending: null
	,blend: null
	,type: null
	,reset: function() {
		this.graphics = null;
		this.antialiasing = false;
		this.nextTyped = null;
		this.next = null;
	}
	,dispose: function() {
		this.graphics = null;
		this.next = null;
		this.type = null;
		this.nextTyped = null;
	}
	,render: function(camera) {
		flixel_graphics_tile_FlxDrawBaseItem.drawCalls++;
	}
	,addQuad: function(frame,matrix,transform) {
	}
	,get_numVertices: function() {
		return 0;
	}
	,get_numTriangles: function() {
		return 0;
	}
	,__class__: flixel_graphics_tile_FlxDrawBaseItem
	,__properties__: {get_numTriangles:"get_numTriangles",get_numVertices:"get_numVertices"}
};
var flixel_graphics_tile_FlxDrawItemType = $hxEnums["flixel.graphics.tile.FlxDrawItemType"] = { __ename__:"flixel.graphics.tile.FlxDrawItemType",__constructs__:null
	,TILES: {_hx_name:"TILES",_hx_index:0,__enum__:"flixel.graphics.tile.FlxDrawItemType",toString:$estr}
	,TRIANGLES: {_hx_name:"TRIANGLES",_hx_index:1,__enum__:"flixel.graphics.tile.FlxDrawItemType",toString:$estr}
};
flixel_graphics_tile_FlxDrawItemType.__constructs__ = [flixel_graphics_tile_FlxDrawItemType.TILES,flixel_graphics_tile_FlxDrawItemType.TRIANGLES];
var flixel_graphics_tile_FlxDrawQuadsItem = function() {
	flixel_graphics_tile_FlxDrawBaseItem.call(this);
	this.type = flixel_graphics_tile_FlxDrawItemType.TILES;
	this.rects = openfl_Vector.toFloatVector(null);
	this.transforms = openfl_Vector.toFloatVector(null);
	this.alphas = [];
};
$hxClasses["flixel.graphics.tile.FlxDrawQuadsItem"] = flixel_graphics_tile_FlxDrawQuadsItem;
flixel_graphics_tile_FlxDrawQuadsItem.__name__ = "flixel.graphics.tile.FlxDrawQuadsItem";
flixel_graphics_tile_FlxDrawQuadsItem.__super__ = flixel_graphics_tile_FlxDrawBaseItem;
flixel_graphics_tile_FlxDrawQuadsItem.prototype = $extend(flixel_graphics_tile_FlxDrawBaseItem.prototype,{
	shader: null
	,rects: null
	,transforms: null
	,alphas: null
	,colorMultipliers: null
	,colorOffsets: null
	,reset: function() {
		flixel_graphics_tile_FlxDrawBaseItem.prototype.reset.call(this);
		this.rects.set_length(0);
		this.transforms.set_length(0);
		this.alphas.splice(0,this.alphas.length);
		if(this.colorMultipliers != null) {
			this.colorMultipliers.splice(0,this.colorMultipliers.length);
		}
		if(this.colorOffsets != null) {
			this.colorOffsets.splice(0,this.colorOffsets.length);
		}
	}
	,dispose: function() {
		flixel_graphics_tile_FlxDrawBaseItem.prototype.dispose.call(this);
		this.rects = null;
		this.transforms = null;
		this.alphas = null;
		this.colorMultipliers = null;
		this.colorOffsets = null;
	}
	,addQuad: function(frame,matrix,transform) {
		var rect = frame.frame;
		this.rects.push(rect.x);
		this.rects.push(rect.y);
		this.rects.push(rect.width);
		this.rects.push(rect.height);
		this.transforms.push(matrix.a);
		this.transforms.push(matrix.b);
		this.transforms.push(matrix.c);
		this.transforms.push(matrix.d);
		this.transforms.push(matrix.tx);
		this.transforms.push(matrix.ty);
		this.alphas.push(transform != null ? transform.alphaMultiplier : 1.0);
		this.alphas.push(transform != null ? transform.alphaMultiplier : 1.0);
		this.alphas.push(transform != null ? transform.alphaMultiplier : 1.0);
		this.alphas.push(transform != null ? transform.alphaMultiplier : 1.0);
		if(this.colored || this.hasColorOffsets) {
			if(this.colorMultipliers == null) {
				this.colorMultipliers = [];
			}
			if(this.colorOffsets == null) {
				this.colorOffsets = [];
			}
			var _g = 0;
			while(_g < 4) {
				var i = _g++;
				if(transform != null) {
					this.colorMultipliers.push(transform.redMultiplier);
					this.colorMultipliers.push(transform.greenMultiplier);
					this.colorMultipliers.push(transform.blueMultiplier);
					this.colorOffsets.push(transform.redOffset);
					this.colorOffsets.push(transform.greenOffset);
					this.colorOffsets.push(transform.blueOffset);
					this.colorOffsets.push(transform.alphaOffset);
				} else {
					this.colorMultipliers.push(1);
					this.colorMultipliers.push(1);
					this.colorMultipliers.push(1);
					this.colorOffsets.push(0);
					this.colorOffsets.push(0);
					this.colorOffsets.push(0);
					this.colorOffsets.push(0);
				}
				this.colorMultipliers.push(1);
			}
		}
	}
	,render: function(camera) {
		if(this.rects.get_length() == 0) {
			return;
		}
		var shader = this.shader != null ? this.shader : this.graphics.shader;
		shader.bitmap.input = this.graphics.bitmap;
		shader.bitmap.filter = camera.antialiasing || this.antialiasing ? 4 : 5;
		shader.alpha.value = this.alphas;
		if(this.colored || this.hasColorOffsets) {
			shader.colorMultiplier.value = this.colorMultipliers;
			shader.colorOffset.value = this.colorOffsets;
		}
		var parameter = shader.hasTransform;
		if(parameter.value == null) {
			parameter.value = [];
		}
		parameter.value[0] = true;
		var parameter = shader.hasColorTransform;
		if(parameter.value == null) {
			parameter.value = [];
		}
		parameter.value[0] = this.colored || this.hasColorOffsets;
		camera.canvas.get_graphics().overrideBlendMode(this.blend);
		camera.canvas.get_graphics().beginShaderFill(shader);
		camera.canvas.get_graphics().drawQuads(this.rects,null,this.transforms);
		flixel_graphics_tile_FlxDrawBaseItem.prototype.render.call(this,camera);
	}
	,setParameterValue: function(parameter,value) {
		if(parameter.value == null) {
			parameter.value = [];
		}
		parameter.value[0] = value;
	}
	,__class__: flixel_graphics_tile_FlxDrawQuadsItem
});
var flixel_graphics_tile_FlxDrawTrianglesItem = function() {
	var _this = flixel_math_FlxRect._pool.get();
	var X = 0;
	var Y = 0;
	var Width = 0;
	var Height = 0;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.x = X;
	_this.y = Y;
	_this.width = Width;
	_this.height = Height;
	var rect = _this;
	rect._inPool = false;
	this.bounds = rect;
	this.colorsPosition = 0;
	this.indicesPosition = 0;
	this.verticesPosition = 0;
	this.colors = openfl_Vector.toIntVector(null);
	this.uvtData = openfl_Vector.toFloatVector(null);
	this.indices = openfl_Vector.toIntVector(null);
	this.vertices = openfl_Vector.toFloatVector(null);
	flixel_graphics_tile_FlxDrawBaseItem.call(this);
	this.type = flixel_graphics_tile_FlxDrawItemType.TRIANGLES;
};
$hxClasses["flixel.graphics.tile.FlxDrawTrianglesItem"] = flixel_graphics_tile_FlxDrawTrianglesItem;
flixel_graphics_tile_FlxDrawTrianglesItem.__name__ = "flixel.graphics.tile.FlxDrawTrianglesItem";
flixel_graphics_tile_FlxDrawTrianglesItem.inflateBounds = function(bounds,x,y) {
	if(x < bounds.x) {
		bounds.width += bounds.x - x;
		bounds.x = x;
	}
	if(y < bounds.y) {
		bounds.height += bounds.y - y;
		bounds.y = y;
	}
	if(x > bounds.x + bounds.width) {
		bounds.width = x - bounds.x;
	}
	if(y > bounds.y + bounds.height) {
		bounds.height = y - bounds.y;
	}
	return bounds;
};
flixel_graphics_tile_FlxDrawTrianglesItem.__super__ = flixel_graphics_tile_FlxDrawBaseItem;
flixel_graphics_tile_FlxDrawTrianglesItem.prototype = $extend(flixel_graphics_tile_FlxDrawBaseItem.prototype,{
	vertices: null
	,indices: null
	,uvtData: null
	,colors: null
	,verticesPosition: null
	,indicesPosition: null
	,colorsPosition: null
	,bounds: null
	,render: function(camera) {
		if(!flixel_FlxG.renderTile) {
			return;
		}
		if(this.get_numTriangles() <= 0) {
			return;
		}
		var tmp = camera.antialiasing || this.antialiasing;
		camera.canvas.get_graphics().beginBitmapFill(this.graphics.bitmap,null,true,tmp);
		camera.canvas.get_graphics().drawTriangles(this.vertices,this.indices,this.uvtData,1);
		camera.canvas.get_graphics().endFill();
		flixel_graphics_tile_FlxDrawBaseItem.prototype.render.call(this,camera);
	}
	,reset: function() {
		flixel_graphics_tile_FlxDrawBaseItem.prototype.reset.call(this);
		var this1 = this.vertices;
		var deleteCount = this.vertices.get_length();
		var this2 = [];
		this1.__tempIndex = 0;
		var _g_current = 0;
		var _g_args = this2;
		while(_g_current < _g_args.length) {
			var item = _g_args[_g_current++];
			this1.insertAt(this1.__tempIndex,item);
			this1.__tempIndex++;
		}
		this1.splice(this1.__tempIndex,deleteCount);
		var this1 = this.indices;
		var deleteCount = this.indices.get_length();
		var this2 = [];
		this1.__tempIndex = 0;
		var _g_current = 0;
		var _g_args = this2;
		while(_g_current < _g_args.length) {
			var item = _g_args[_g_current++];
			this1.insertAt(this1.__tempIndex,item);
			this1.__tempIndex++;
		}
		this1.splice(this1.__tempIndex,deleteCount);
		var this1 = this.uvtData;
		var deleteCount = this.uvtData.get_length();
		var this2 = [];
		this1.__tempIndex = 0;
		var _g_current = 0;
		var _g_args = this2;
		while(_g_current < _g_args.length) {
			var item = _g_args[_g_current++];
			this1.insertAt(this1.__tempIndex,item);
			this1.__tempIndex++;
		}
		this1.splice(this1.__tempIndex,deleteCount);
		var this1 = this.colors;
		var deleteCount = this.colors.get_length();
		var this2 = [];
		this1.__tempIndex = 0;
		var _g_current = 0;
		var _g_args = this2;
		while(_g_current < _g_args.length) {
			var item = _g_args[_g_current++];
			this1.insertAt(this1.__tempIndex,item);
			this1.__tempIndex++;
		}
		this1.splice(this1.__tempIndex,deleteCount);
		this.verticesPosition = 0;
		this.indicesPosition = 0;
		this.colorsPosition = 0;
	}
	,dispose: function() {
		flixel_graphics_tile_FlxDrawBaseItem.prototype.dispose.call(this);
		this.vertices = null;
		this.indices = null;
		this.uvtData = null;
		this.colors = null;
		this.bounds = null;
	}
	,addTriangles: function(vertices,indices,uvtData,colors,position,cameraBounds) {
		if(position == null) {
			position = flixel_graphics_tile_FlxDrawTrianglesItem.point.set();
		}
		if(cameraBounds == null) {
			var _this = flixel_graphics_tile_FlxDrawTrianglesItem.rect;
			var X = 0;
			var Y = 0;
			var Width = flixel_FlxG.width;
			var Height = flixel_FlxG.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			cameraBounds = _this;
		}
		var verticesLength = vertices.get_length();
		var prevVerticesLength = this.vertices.get_length();
		var numberOfVertices = verticesLength / 2 | 0;
		var prevIndicesLength = this.indices.get_length();
		var prevUVTDataLength = this.uvtData.get_length();
		var prevColorsLength = this.colors.get_length();
		var prevNumberOfVertices = this.get_numVertices();
		var tempX;
		var tempY;
		var i = 0;
		var currentVertexPosition = prevVerticesLength;
		while(i < verticesLength) {
			tempX = position.x + vertices.get(i);
			tempY = position.y + vertices.get(i + 1);
			this.vertices.set(currentVertexPosition++,tempX);
			this.vertices.set(currentVertexPosition++,tempY);
			if(i == 0) {
				var _this = this.bounds;
				var X = tempX;
				var Y = tempY;
				var Width = 0;
				var Height = 0;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				_this.x = X;
				_this.y = Y;
				_this.width = Width;
				_this.height = Height;
			} else {
				var bounds = this.bounds;
				if(tempX < bounds.x) {
					bounds.width += bounds.x - tempX;
					bounds.x = tempX;
				}
				if(tempY < bounds.y) {
					bounds.height += bounds.y - tempY;
					bounds.y = tempY;
				}
				if(tempX > bounds.x + bounds.width) {
					bounds.width = tempX - bounds.x;
				}
				if(tempY > bounds.y + bounds.height) {
					bounds.height = tempY - bounds.y;
				}
			}
			i += 2;
		}
		var Rect = this.bounds;
		var result = Rect.x + Rect.width > cameraBounds.x && Rect.x < cameraBounds.x + cameraBounds.width && Rect.y + Rect.height > cameraBounds.y && Rect.y < cameraBounds.y + cameraBounds.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		if(!result) {
			var this1 = this.vertices;
			var this2 = [];
			this1.__tempIndex = this.vertices.get_length() - verticesLength;
			var _g_current = 0;
			var _g_args = this2;
			while(_g_current < _g_args.length) {
				var item = _g_args[_g_current++];
				this1.insertAt(this1.__tempIndex,item);
				this1.__tempIndex++;
			}
			this1.splice(this1.__tempIndex,verticesLength);
		} else {
			var uvtDataLength = uvtData.get_length();
			var _g = 0;
			var _g1 = uvtDataLength;
			while(_g < _g1) {
				var i = _g++;
				this.uvtData.set(prevUVTDataLength + i,uvtData.get(i));
			}
			var indicesLength = indices.get_length();
			var _g = 0;
			var _g1 = indicesLength;
			while(_g < _g1) {
				var i = _g++;
				this.indices.set(prevIndicesLength + i,indices.get(i) + prevNumberOfVertices);
			}
			if(this.colored) {
				var _g = 0;
				var _g1 = numberOfVertices;
				while(_g < _g1) {
					var i = _g++;
					this.colors.set(prevColorsLength + i,colors.get(i));
				}
				this.colorsPosition += numberOfVertices;
			}
			this.verticesPosition += verticesLength;
			this.indicesPosition += indicesLength;
		}
		if(position._weak) {
			position.put();
		}
		if(cameraBounds._weak) {
			if(!cameraBounds._inPool) {
				cameraBounds._inPool = true;
				cameraBounds._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(cameraBounds);
			}
		}
	}
	,addQuad: function(frame,matrix,transform) {
		var prevVerticesPos = this.verticesPosition;
		var prevIndicesPos = this.indicesPosition;
		var prevColorsPos = this.colorsPosition;
		var prevNumberOfVertices = this.get_numVertices();
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var point1 = point;
		var x1 = point1.x * matrix.a + point1.y * matrix.c + matrix.tx;
		var y1 = point1.x * matrix.b + point1.y * matrix.d + matrix.ty;
		point1.set(x1,y1);
		this.vertices.set(prevVerticesPos,point1.x);
		this.vertices.set(prevVerticesPos + 1,point1.y);
		this.uvtData.set(prevVerticesPos,frame.uv.x);
		this.uvtData.set(prevVerticesPos + 1,frame.uv.y);
		point1.set(frame.frame.width,0);
		var x1 = point1.x * matrix.a + point1.y * matrix.c + matrix.tx;
		var y1 = point1.x * matrix.b + point1.y * matrix.d + matrix.ty;
		point1.set(x1,y1);
		this.vertices.set(prevVerticesPos + 2,point1.x);
		this.vertices.set(prevVerticesPos + 3,point1.y);
		this.uvtData.set(prevVerticesPos + 2,frame.uv.width);
		this.uvtData.set(prevVerticesPos + 3,frame.uv.y);
		point1.set(frame.frame.width,frame.frame.height);
		var x1 = point1.x * matrix.a + point1.y * matrix.c + matrix.tx;
		var y1 = point1.x * matrix.b + point1.y * matrix.d + matrix.ty;
		point1.set(x1,y1);
		this.vertices.set(prevVerticesPos + 4,point1.x);
		this.vertices.set(prevVerticesPos + 5,point1.y);
		this.uvtData.set(prevVerticesPos + 4,frame.uv.width);
		this.uvtData.set(prevVerticesPos + 5,frame.uv.height);
		point1.set(0,frame.frame.height);
		var x1 = point1.x * matrix.a + point1.y * matrix.c + matrix.tx;
		var y1 = point1.x * matrix.b + point1.y * matrix.d + matrix.ty;
		point1.set(x1,y1);
		this.vertices.set(prevVerticesPos + 6,point1.x);
		this.vertices.set(prevVerticesPos + 7,point1.y);
		point1.put();
		this.uvtData.set(prevVerticesPos + 6,frame.uv.x);
		this.uvtData.set(prevVerticesPos + 7,frame.uv.height);
		this.indices.set(prevIndicesPos,prevNumberOfVertices);
		this.indices.set(prevIndicesPos + 1,prevNumberOfVertices + 1);
		this.indices.set(prevIndicesPos + 2,prevNumberOfVertices + 2);
		this.indices.set(prevIndicesPos + 3,prevNumberOfVertices + 2);
		this.indices.set(prevIndicesPos + 4,prevNumberOfVertices + 3);
		this.indices.set(prevIndicesPos + 5,prevNumberOfVertices);
		if(this.colored) {
			var red = 1.0;
			var green = 1.0;
			var blue = 1.0;
			var alpha = 1.0;
			if(transform != null) {
				red = transform.redMultiplier;
				green = transform.greenMultiplier;
				blue = transform.blueMultiplier;
				alpha = transform.alphaMultiplier;
			}
			var Alpha = alpha;
			if(Alpha == null) {
				Alpha = 1;
			}
			var color = flixel_util_FlxColor._new();
			var Alpha1 = Alpha;
			if(Alpha1 == null) {
				Alpha1 = 1;
			}
			var Value = Math.round(red * 255);
			color &= -16711681;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
			var Value = Math.round(green * 255);
			color &= -65281;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
			var Value = Math.round(blue * 255);
			color &= -256;
			color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
			var Value = Math.round(Alpha1 * 255);
			color &= 16777215;
			color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
			var color1 = color;
			this.colors.set(prevColorsPos,color1);
			this.colors.set(prevColorsPos + 1,color1);
			this.colors.set(prevColorsPos + 2,color1);
			this.colors.set(prevColorsPos + 3,color1);
			this.colorsPosition += 4;
		}
		this.verticesPosition += 8;
		this.indicesPosition += 6;
	}
	,get_numVertices: function() {
		return this.vertices.get_length() / 2 | 0;
	}
	,get_numTriangles: function() {
		return this.indices.get_length() / 3 | 0;
	}
	,__class__: flixel_graphics_tile_FlxDrawTrianglesItem
});
var flixel_group_FlxTypedGroupIterator = function(GroupMembers,filter) {
	this._groupMembers = GroupMembers;
	this._filter = filter;
	this._cursor = 0;
	this._length = this._groupMembers.length;
};
$hxClasses["flixel.group.FlxTypedGroupIterator"] = flixel_group_FlxTypedGroupIterator;
flixel_group_FlxTypedGroupIterator.__name__ = "flixel.group.FlxTypedGroupIterator";
flixel_group_FlxTypedGroupIterator.prototype = {
	_groupMembers: null
	,_filter: null
	,_cursor: null
	,_length: null
	,next: function() {
		if(this.hasNext()) {
			return this._groupMembers[this._cursor++];
		} else {
			return null;
		}
	}
	,hasNext: function() {
		while(this._cursor < this._length && (this._groupMembers[this._cursor] == null || this._filter != null && !this._filter(this._groupMembers[this._cursor]))) this._cursor++;
		return this._cursor < this._length;
	}
	,__class__: flixel_group_FlxTypedGroupIterator
};
var flixel_input_FlxAccelerometer = function() {
	this.z = 0;
	this.y = 0;
	this.x = 0;
	if(openfl_sensors_Accelerometer.get_isSupported()) {
		this._sensor = new openfl_sensors_Accelerometer();
		this._sensor.addEventListener("update",$bind(this,this.update));
	}
};
$hxClasses["flixel.input.FlxAccelerometer"] = flixel_input_FlxAccelerometer;
flixel_input_FlxAccelerometer.__name__ = "flixel.input.FlxAccelerometer";
flixel_input_FlxAccelerometer.prototype = {
	x: null
	,y: null
	,z: null
	,_sensor: null
	,get_isSupported: function() {
		return openfl_sensors_Accelerometer.get_isSupported();
	}
	,update: function(Event1) {
		this.x = Event1.accelerationX;
		this.y = Event1.accelerationY;
		this.z = Event1.accelerationZ;
		this.x /= 10;
		this.y /= 10;
		this.z /= 10;
	}
	,__class__: flixel_input_FlxAccelerometer
	,__properties__: {get_isSupported:"get_isSupported"}
};
var flixel_input_FlxBaseKeyList = function(status,keyManager) {
	this.status = status;
	this.keyManager = keyManager;
};
$hxClasses["flixel.input.FlxBaseKeyList"] = flixel_input_FlxBaseKeyList;
flixel_input_FlxBaseKeyList.__name__ = "flixel.input.FlxBaseKeyList";
flixel_input_FlxBaseKeyList.prototype = {
	status: null
	,keyManager: null
	,check: function(keyCode) {
		return this.keyManager.checkStatusUnsafe(keyCode,this.status);
	}
	,get_ANY: function() {
		var _g = 0;
		var _g1 = this.keyManager._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && this.keyManager.checkStatusUnsafe(key.ID,this.status)) {
				return true;
			}
		}
		return false;
	}
	,get_NONE: function() {
		var _g = 0;
		var _g1 = this.keyManager._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && this.keyManager.checkStatusUnsafe(key.ID,this.status)) {
				return false;
			}
		}
		return true;
	}
	,__class__: flixel_input_FlxBaseKeyList
	,__properties__: {get_NONE:"get_NONE",get_ANY:"get_ANY"}
};
var flixel_input_FlxInput = function(ID) {
	this.last = 0;
	this.current = 0;
	this.ID = ID;
};
$hxClasses["flixel.input.FlxInput"] = flixel_input_FlxInput;
flixel_input_FlxInput.__name__ = "flixel.input.FlxInput";
flixel_input_FlxInput.__interfaces__ = [flixel_input_IFlxInput];
flixel_input_FlxInput.prototype = {
	ID: null
	,current: null
	,last: null
	,press: function() {
		this.last = this.current;
		this.current = this.current == 1 || this.current == 2 ? 1 : 2;
	}
	,release: function() {
		this.last = this.current;
		this.current = this.current == 1 || this.current == 2 ? -1 : 0;
	}
	,update: function() {
		if(this.last == -1 && this.current == -1) {
			this.current = 0;
		} else if(this.last == 2 && this.current == 2) {
			this.current = 1;
		}
		this.last = this.current;
	}
	,reset: function() {
		this.current = 0;
		this.last = 0;
	}
	,hasState: function(state) {
		switch(state) {
		case -1:
			return this.current == -1;
		case 0:
			if(this.current != 0) {
				return this.current == -1;
			} else {
				return true;
			}
			break;
		case 1:
			if(this.current != 1) {
				return this.current == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return this.current == 2;
		}
	}
	,get_justReleased: function() {
		return this.current == -1;
	}
	,get_released: function() {
		if(this.current != 0) {
			return this.current == -1;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		if(this.current != 1) {
			return this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this.current == 2;
	}
	,__class__: flixel_input_FlxInput
	,__properties__: {get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased"}
};
var flixel_input_FlxKeyManager = function(createKeyList) {
	this._keyListMap = new haxe_ds_IntMap();
	this._keyListArray = [];
	this.preventDefaultKeys = [];
	this.enabled = true;
	openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.onKeyDown));
	openfl_Lib.get_current().stage.addEventListener("keyUp",$bind(this,this.onKeyUp));
	this.pressed = createKeyList(1,this);
	this.released = createKeyList(0,this);
	this.justPressed = createKeyList(2,this);
	this.justReleased = createKeyList(-1,this);
};
$hxClasses["flixel.input.FlxKeyManager"] = flixel_input_FlxKeyManager;
flixel_input_FlxKeyManager.__name__ = "flixel.input.FlxKeyManager";
flixel_input_FlxKeyManager.__interfaces__ = [flixel_input_IFlxInputManager];
flixel_input_FlxKeyManager.prototype = {
	enabled: null
	,preventDefaultKeys: null
	,pressed: null
	,justPressed: null
	,released: null
	,justReleased: null
	,_keyListArray: null
	,_keyListMap: null
	,anyPressed: function(KeyArray) {
		return this.checkKeyArrayState(KeyArray,1);
	}
	,anyJustPressed: function(KeyArray) {
		return this.checkKeyArrayState(KeyArray,2);
	}
	,anyJustReleased: function(KeyArray) {
		return this.checkKeyArrayState(KeyArray,-1);
	}
	,firstPressed: function() {
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && (key.current == 1 || key.current == 2)) {
				return key.ID;
			}
		}
		return -1;
	}
	,firstJustPressed: function() {
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && key.current == 2) {
				return key.ID;
			}
		}
		return -1;
	}
	,firstJustReleased: function() {
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && key.current == -1) {
				return key.ID;
			}
		}
		return -1;
	}
	,checkStatus: function(KeyCode,Status) {
		if(KeyCode == -2) {
			switch(Status) {
			case -1:
				return this.justReleased.get_ANY();
			case 0:
				return this.released.get_ANY();
			case 1:
				return this.pressed.get_ANY();
			case 2:
				return this.justPressed.get_ANY();
			}
		}
		if(KeyCode == -1) {
			switch(Status) {
			case -1:
				return this.justReleased.get_NONE();
			case 0:
				return this.released.get_NONE();
			case 1:
				return this.pressed.get_NONE();
			case 2:
				return this.justPressed.get_NONE();
			}
		}
		if(this._keyListMap.h.hasOwnProperty(KeyCode)) {
			return this.checkStatusUnsafe(KeyCode,Status);
		}
		return false;
	}
	,checkStatusUnsafe: function(KeyCode,Status) {
		return this._keyListMap.h[KeyCode].hasState(Status);
	}
	,getIsDown: function() {
		var keysDown = [];
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null && (key.current == 1 || key.current == 2)) {
				keysDown.push(key);
			}
		}
		return keysDown;
	}
	,destroy: function() {
		this._keyListArray = null;
		this._keyListMap = null;
	}
	,reset: function() {
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null) {
				key.release();
			}
		}
	}
	,update: function() {
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key != null) {
				key.update();
			}
		}
	}
	,checkKeyArrayState: function(KeyArray,State) {
		if(KeyArray == null) {
			return false;
		}
		var _g = 0;
		while(_g < KeyArray.length) {
			var code = KeyArray[_g];
			++_g;
			if(this.checkStatus(code,State)) {
				return true;
			}
		}
		return false;
	}
	,onKeyUp: function(event) {
		var c = this.resolveKeyCode(event);
		this.handlePreventDefaultKeys(c,event);
		if(this.enabled) {
			var key = this._keyListMap.h[c];
			if(key != null) {
				key.release();
			}
		}
	}
	,onKeyDown: function(event) {
		var c = this.resolveKeyCode(event);
		this.handlePreventDefaultKeys(c,event);
		if(this.enabled) {
			var key = this._keyListMap.h[c];
			if(key != null) {
				key.press();
			}
		}
	}
	,handlePreventDefaultKeys: function(keyCode,event) {
		var key = this._keyListMap.h[keyCode];
		if(key != null && this.preventDefaultKeys != null && this.preventDefaultKeys.indexOf(key.ID) != -1) {
			event.stopImmediatePropagation();
			event.stopPropagation();
			event.preventDefault();
		}
	}
	,inKeyArray: function(KeyArray,Event1) {
		if(KeyArray == null) {
			return false;
		} else {
			var code = this.resolveKeyCode(Event1);
			var _g = 0;
			while(_g < KeyArray.length) {
				var key = KeyArray[_g];
				++_g;
				if(key == code || key == -2) {
					return true;
				}
			}
		}
		return false;
	}
	,resolveKeyCode: function(e) {
		return e.keyCode;
	}
	,updateKeyStates: function(KeyCode,Down) {
		var key = this._keyListMap.h[KeyCode];
		if(key != null) {
			if(Down) {
				key.press();
			} else {
				key.release();
			}
		}
	}
	,onFocus: function() {
	}
	,onFocusLost: function() {
		this.reset();
	}
	,getKey: function(KeyCode) {
		return this._keyListMap.h[KeyCode];
	}
	,__class__: flixel_input_FlxKeyManager
};
var flixel_input_FlxSwipe = function(ID,StartPosition,EndPosition,StartTimeInTicks) {
	this.ID = ID;
	this.startPosition = StartPosition;
	this.endPosition = EndPosition;
	this._startTimeInTicks = StartTimeInTicks;
	this._endTimeInTicks = flixel_FlxG.game.ticks;
};
$hxClasses["flixel.input.FlxSwipe"] = flixel_input_FlxSwipe;
flixel_input_FlxSwipe.__name__ = "flixel.input.FlxSwipe";
flixel_input_FlxSwipe.prototype = {
	ID: null
	,startPosition: null
	,endPosition: null
	,_startTimeInTicks: null
	,_endTimeInTicks: null
	,toString: function() {
		var value = this.ID;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "ID";
		_this.value = value;
		var value = this.startPosition;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "start";
		_this1.value = value;
		var value = this.endPosition;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "end";
		_this2.value = value;
		var dx = this.startPosition.x - this.endPosition.x;
		var dy = this.startPosition.y - this.endPosition.y;
		var value = Math.sqrt(dx * dx + dy * dy);
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "distance";
		_this3.value = value;
		var value = this.startPosition.angleBetween(this.endPosition);
		var _this4 = flixel_util_LabelValuePair._pool.get();
		_this4.label = "angle";
		_this4.value = value;
		var value = (this._endTimeInTicks - this._startTimeInTicks) / 1000;
		var _this5 = flixel_util_LabelValuePair._pool.get();
		_this5.label = "duration";
		_this5.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3,_this4,_this5]);
	}
	,get_distance: function() {
		var dx = this.startPosition.x - this.endPosition.x;
		var dy = this.startPosition.y - this.endPosition.y;
		return Math.sqrt(dx * dx + dy * dy);
	}
	,get_angle: function() {
		return this.startPosition.angleBetween(this.endPosition);
	}
	,get_duration: function() {
		return (this._endTimeInTicks - this._startTimeInTicks) / 1000;
	}
	,__class__: flixel_input_FlxSwipe
	,__properties__: {get_duration:"get_duration",get_angle:"get_angle",get_distance:"get_distance"}
};
var flixel_input_actions_FlxAction = function(InputType,Name) {
	this.steamOriginsChanged = false;
	this._checked = false;
	this._timestamp = 0;
	this._y = null;
	this._x = null;
	this.triggered = false;
	this.steamHandle = -1;
	this.type = InputType;
	this.name = Name;
	this.inputs = [];
};
$hxClasses["flixel.input.actions.FlxAction"] = flixel_input_actions_FlxAction;
flixel_input_actions_FlxAction.__name__ = "flixel.input.actions.FlxAction";
flixel_input_actions_FlxAction.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_actions_FlxAction.prototype = {
	type: null
	,name: null
	,steamHandle: null
	,triggered: null
	,inputs: null
	,_x: null
	,_y: null
	,_timestamp: null
	,_checked: null
	,steamOriginsChanged: null
	,getFirstSteamOrigin: function() {
		return 0;
	}
	,getSteamOrigins: function(origins) {
		return origins;
	}
	,removeAll: function(Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		var len = this.inputs.length;
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			var j = len - i - 1;
			var input = this.inputs[j];
			this.remove(input,Destroy);
			this.inputs.splice(j,1);
		}
	}
	,remove: function(Input,Destroy) {
		if(Destroy == null) {
			Destroy = false;
		}
		if(Input == null) {
			return;
		}
		HxOverrides.remove(this.inputs,Input);
		if(Destroy) {
			Input.destroy();
		}
	}
	,toString: function() {
		return "FlxAction(" + Std.string(this.type) + ") name:" + this.name;
	}
	,check: function() {
		this._x = null;
		this._y = null;
		if(this._timestamp == flixel_FlxG.game.ticks) {
			this.triggered = this._checked;
			return this._checked;
		}
		this._timestamp = flixel_FlxG.game.ticks;
		this._checked = false;
		var len = this.inputs != null ? this.inputs.length : 0;
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			var j = len - i - 1;
			var input = this.inputs[j];
			if(input.destroyed) {
				this.inputs.splice(j,1);
				continue;
			}
			input.update();
			if(input.check(this)) {
				this._checked = true;
			}
		}
		this.triggered = this._checked;
		return this._checked;
	}
	,update: function() {
		this.check();
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.destroyArray(this.inputs);
		this.inputs = null;
	}
	,match: function(other) {
		if(this.name == other.name) {
			return this.steamHandle == other.steamHandle;
		} else {
			return false;
		}
	}
	,addGenericInput: function(input) {
		if(this.inputs == null) {
			this.inputs = [];
		}
		if(!this.checkExists(input)) {
			this.inputs.push(input);
		}
		return this;
	}
	,checkExists: function(input) {
		if(this.inputs == null) {
			return false;
		}
		return this.inputs.indexOf(input) != -1;
	}
	,__class__: flixel_input_actions_FlxAction
};
var flixel_input_actions_FlxActionDigital = function(Name,Callback) {
	if(Name == null) {
		Name = "";
	}
	flixel_input_actions_FlxAction.call(this,flixel_input_actions_FlxInputType.DIGITAL,Name);
	this.callback = Callback;
};
$hxClasses["flixel.input.actions.FlxActionDigital"] = flixel_input_actions_FlxActionDigital;
flixel_input_actions_FlxActionDigital.__name__ = "flixel.input.actions.FlxActionDigital";
flixel_input_actions_FlxActionDigital.__super__ = flixel_input_actions_FlxAction;
flixel_input_actions_FlxActionDigital.prototype = $extend(flixel_input_actions_FlxAction.prototype,{
	callback: null
	,add: function(input) {
		this.addGenericInput(input);
		return this;
	}
	,addInput: function(Input,Trigger) {
		return this.add(new flixel_input_actions_FlxActionInputDigitalIFlxInput(Input,Trigger));
	}
	,addGamepad: function(InputID,Trigger,GamepadID) {
		if(GamepadID == null) {
			GamepadID = -2;
		}
		return this.add(new flixel_input_actions_FlxActionInputDigitalGamepad(InputID,Trigger,GamepadID));
	}
	,addKey: function(Key,Trigger) {
		return this.add(new flixel_input_actions_FlxActionInputDigitalKeyboard(Key,Trigger));
	}
	,addMouse: function(ButtonID,Trigger) {
		return this.add(new flixel_input_actions_FlxActionInputDigitalMouse(ButtonID,Trigger));
	}
	,addMouseWheel: function(Positive,Trigger) {
		return this.add(new flixel_input_actions_FlxActionInputDigitalMouseWheel(Positive,Trigger));
	}
	,destroy: function() {
		this.callback = null;
		flixel_input_actions_FlxAction.prototype.destroy.call(this);
	}
	,check: function() {
		var val = flixel_input_actions_FlxAction.prototype.check.call(this);
		if(val && this.callback != null) {
			this.callback(this);
		}
		return val;
	}
	,__class__: flixel_input_actions_FlxActionDigital
});
var flixel_input_actions_FlxActionAnalog = function(Name,Callback) {
	if(Name == null) {
		Name = "";
	}
	flixel_input_actions_FlxAction.call(this,flixel_input_actions_FlxInputType.ANALOG,Name);
	this.callback = Callback;
};
$hxClasses["flixel.input.actions.FlxActionAnalog"] = flixel_input_actions_FlxActionAnalog;
flixel_input_actions_FlxActionAnalog.__name__ = "flixel.input.actions.FlxActionAnalog";
flixel_input_actions_FlxActionAnalog.__super__ = flixel_input_actions_FlxAction;
flixel_input_actions_FlxActionAnalog.prototype = $extend(flixel_input_actions_FlxAction.prototype,{
	callback: null
	,add: function(input) {
		this.addGenericInput(input);
		return this;
	}
	,addMouseClickAndDragMotion: function(ButtonID,Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX) {
		if(InvertX == null) {
			InvertX = false;
		}
		if(InvertY == null) {
			InvertY = false;
		}
		if(DeadZone == null) {
			DeadZone = 0.1;
		}
		if(PixelsPerUnit == null) {
			PixelsPerUnit = 10;
		}
		if(Axis == null) {
			Axis = 3;
		}
		return this.add(new flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion(ButtonID,Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX));
	}
	,addMouseMotion: function(Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX) {
		if(InvertX == null) {
			InvertX = false;
		}
		if(InvertY == null) {
			InvertY = false;
		}
		if(DeadZone == null) {
			DeadZone = 0.1;
		}
		if(PixelsPerUnit == null) {
			PixelsPerUnit = 10;
		}
		if(Axis == null) {
			Axis = 3;
		}
		return this.add(new flixel_input_actions_FlxActionInputAnalogMouseMotion(Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX));
	}
	,addMousePosition: function(Trigger,Axis) {
		if(Axis == null) {
			Axis = 3;
		}
		return this.add(new flixel_input_actions_FlxActionInputAnalogMousePosition(Trigger,Axis));
	}
	,addGamepad: function(InputID,Trigger,Axis,GamepadID) {
		if(GamepadID == null) {
			GamepadID = -2;
		}
		if(Axis == null) {
			Axis = 3;
		}
		return this.add(new flixel_input_actions_FlxActionInputAnalogGamepad(InputID,Trigger,Axis,GamepadID));
	}
	,update: function() {
		this._x = null;
		this._y = null;
		flixel_input_actions_FlxAction.prototype.update.call(this);
	}
	,destroy: function() {
		this.callback = null;
		flixel_input_actions_FlxAction.prototype.destroy.call(this);
	}
	,toString: function() {
		return "FlxAction(" + Std.string(this.type) + ") name:" + this.name + " x/y:" + this._x + "," + this._y;
	}
	,check: function() {
		var val = flixel_input_actions_FlxAction.prototype.check.call(this);
		if(val && this.callback != null) {
			this.callback(this);
		}
		return val;
	}
	,get_x: function() {
		if(this._x != null) {
			return this._x;
		} else {
			return 0;
		}
	}
	,get_y: function() {
		if(this._y != null) {
			return this._y;
		} else {
			return 0;
		}
	}
	,__class__: flixel_input_actions_FlxActionAnalog
	,__properties__: {get_y:"get_y",get_x:"get_x"}
});
var flixel_input_actions_FlxActionInput = function(InputType,Device1,InputID,Trigger,DeviceID) {
	if(DeviceID == null) {
		DeviceID = -2;
	}
	this.destroyed = false;
	this.type = InputType;
	this.device = Device1;
	this.inputID = InputID;
	this.trigger = Trigger;
	this.deviceID = DeviceID;
};
$hxClasses["flixel.input.actions.FlxActionInput"] = flixel_input_actions_FlxActionInput;
flixel_input_actions_FlxActionInput.__name__ = "flixel.input.actions.FlxActionInput";
flixel_input_actions_FlxActionInput.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_actions_FlxActionInput.prototype = {
	type: null
	,device: null
	,deviceID: null
	,destroyed: null
	,inputID: null
	,trigger: null
	,update: function() {
	}
	,destroy: function() {
		this.destroyed = true;
	}
	,check: function(action) {
		return false;
	}
	,compareState: function(condition,state) {
		switch(condition) {
		case -1:
			return state == -1;
		case 0:
			if(state != 0) {
				return state == -1;
			} else {
				return true;
			}
			break;
		case 1:
			if(state != 1) {
				return state == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return state == 2;
		default:
			return false;
		}
	}
	,__class__: flixel_input_actions_FlxActionInput
};
var flixel_input_actions_FlxInputType = $hxEnums["flixel.input.actions.FlxInputType"] = { __ename__:"flixel.input.actions.FlxInputType",__constructs__:null
	,DIGITAL: {_hx_name:"DIGITAL",_hx_index:0,__enum__:"flixel.input.actions.FlxInputType",toString:$estr}
	,ANALOG: {_hx_name:"ANALOG",_hx_index:1,__enum__:"flixel.input.actions.FlxInputType",toString:$estr}
};
flixel_input_actions_FlxInputType.__constructs__ = [flixel_input_actions_FlxInputType.DIGITAL,flixel_input_actions_FlxInputType.ANALOG];
var flixel_input_actions_FlxInputDevice = $hxEnums["flixel.input.actions.FlxInputDevice"] = { __ename__:"flixel.input.actions.FlxInputDevice",__constructs__:null
	,UNKNOWN: {_hx_name:"UNKNOWN",_hx_index:0,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,MOUSE: {_hx_name:"MOUSE",_hx_index:1,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,MOUSE_WHEEL: {_hx_name:"MOUSE_WHEEL",_hx_index:2,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,KEYBOARD: {_hx_name:"KEYBOARD",_hx_index:3,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,GAMEPAD: {_hx_name:"GAMEPAD",_hx_index:4,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,STEAM_CONTROLLER: {_hx_name:"STEAM_CONTROLLER",_hx_index:5,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,IFLXINPUT_OBJECT: {_hx_name:"IFLXINPUT_OBJECT",_hx_index:6,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,OTHER: {_hx_name:"OTHER",_hx_index:7,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,ANDROID: {_hx_name:"ANDROID",_hx_index:8,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,ALL: {_hx_name:"ALL",_hx_index:9,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
	,NONE: {_hx_name:"NONE",_hx_index:10,__enum__:"flixel.input.actions.FlxInputDevice",toString:$estr}
};
flixel_input_actions_FlxInputDevice.__constructs__ = [flixel_input_actions_FlxInputDevice.UNKNOWN,flixel_input_actions_FlxInputDevice.MOUSE,flixel_input_actions_FlxInputDevice.MOUSE_WHEEL,flixel_input_actions_FlxInputDevice.KEYBOARD,flixel_input_actions_FlxInputDevice.GAMEPAD,flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,flixel_input_actions_FlxInputDevice.IFLXINPUT_OBJECT,flixel_input_actions_FlxInputDevice.OTHER,flixel_input_actions_FlxInputDevice.ANDROID,flixel_input_actions_FlxInputDevice.ALL,flixel_input_actions_FlxInputDevice.NONE];
var flixel_input_actions_FlxInputDeviceID = function() { };
$hxClasses["flixel.input.actions.FlxInputDeviceID"] = flixel_input_actions_FlxInputDeviceID;
flixel_input_actions_FlxInputDeviceID.__name__ = "flixel.input.actions.FlxInputDeviceID";
var flixel_input_actions_FlxInputDeviceObject = function(Device1,ID,Model) {
	if(Model == null) {
		Model = "";
	}
	this.device = Device1;
	this.id = ID;
	this.model = Model;
};
$hxClasses["flixel.input.actions.FlxInputDeviceObject"] = flixel_input_actions_FlxInputDeviceObject;
flixel_input_actions_FlxInputDeviceObject.__name__ = "flixel.input.actions.FlxInputDeviceObject";
flixel_input_actions_FlxInputDeviceObject.prototype = {
	device: null
	,id: null
	,model: null
	,toString: function() {
		return "{device:" + Std.string(this.device) + ",id:" + this.id + ",model:" + this.model + "}";
	}
	,__class__: flixel_input_actions_FlxInputDeviceObject
};
var flixel_input_actions_FlxActionInputAnalog = function(Device1,InputID,Trigger,Axis,DeviceID) {
	if(DeviceID == null) {
		DeviceID = -2;
	}
	if(Axis == null) {
		Axis = 3;
	}
	this.y = 0;
	this.x = 0;
	flixel_input_actions_FlxActionInput.call(this,flixel_input_actions_FlxInputType.ANALOG,Device1,InputID,Trigger,DeviceID);
	this.axis = Axis;
	this.xMoved = new flixel_input_FlxInput(0);
	this.yMoved = new flixel_input_FlxInput(1);
};
$hxClasses["flixel.input.actions.FlxActionInputAnalog"] = flixel_input_actions_FlxActionInputAnalog;
flixel_input_actions_FlxActionInputAnalog.__name__ = "flixel.input.actions.FlxActionInputAnalog";
flixel_input_actions_FlxActionInputAnalog.__super__ = flixel_input_actions_FlxActionInput;
flixel_input_actions_FlxActionInputAnalog.prototype = $extend(flixel_input_actions_FlxActionInput.prototype,{
	axis: null
	,x: null
	,y: null
	,xMoved: null
	,yMoved: null
	,check: function(Action1) {
		var returnVal;
		switch(this.axis) {
		case 0:
			var state = this.xMoved.current;
			switch(this.trigger) {
			case -1:
				returnVal = state == -1;
				break;
			case 0:
				returnVal = state == 0 || state == -1;
				break;
			case 1:
				returnVal = state == 1 || state == 2;
				break;
			case 2:
				returnVal = state == 2;
				break;
			default:
				returnVal = false;
			}
			break;
		case 1:
			var state = this.yMoved.current;
			switch(this.trigger) {
			case -1:
				returnVal = state == -1;
				break;
			case 0:
				returnVal = state == 0 || state == -1;
				break;
			case 1:
				returnVal = state == 1 || state == 2;
				break;
			case 2:
				returnVal = state == 2;
				break;
			default:
				returnVal = false;
			}
			break;
		case 2:
			var state = this.xMoved.current;
			var returnVal1;
			switch(this.trigger) {
			case -1:
				returnVal1 = state == -1;
				break;
			case 0:
				returnVal1 = state == 0 || state == -1;
				break;
			case 1:
				returnVal1 = state == 1 || state == 2;
				break;
			case 2:
				returnVal1 = state == 2;
				break;
			default:
				returnVal1 = false;
			}
			if(returnVal1) {
				var state = this.yMoved.current;
				switch(this.trigger) {
				case -1:
					returnVal = state == -1;
					break;
				case 0:
					returnVal = state == 0 || state == -1;
					break;
				case 1:
					returnVal = state == 1 || state == 2;
					break;
				case 2:
					returnVal = state == 2;
					break;
				default:
					returnVal = false;
				}
			} else {
				returnVal = false;
			}
			break;
		case 3:
			switch(this.trigger) {
			case -1:
				returnVal = this.checkAxis(true,-1) && this.checkAxis(false,0) || this.checkAxis(true,0) && this.checkAxis(false,-1);
				break;
			case 0:
				returnVal = this.checkAxis(true,0) || this.checkAxis(false,0);
				break;
			case 1:
				returnVal = this.checkAxis(true,1) || this.checkAxis(false,1);
				break;
			case 2:
				returnVal = this.checkAxis(true,2) && this.checkAxis(false,2) || this.checkAxis(true,2) && this.checkAxis(false,0) || this.checkAxis(true,0) && this.checkAxis(false,2);
				break;
			}
			break;
		}
		if(returnVal) {
			if(Action1._x == null) {
				Action1._x = this.x;
			}
			if(Action1._y == null) {
				Action1._y = this.y;
			}
		}
		return returnVal;
	}
	,checkAxis: function(isX,state) {
		var input = isX ? this.xMoved : this.yMoved;
		var state1 = input.current;
		switch(state) {
		case -1:
			return state1 == -1;
		case 0:
			if(state1 != 0) {
				return state1 == -1;
			} else {
				return true;
			}
			break;
		case 1:
			if(state1 != 1) {
				return state1 == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return state1 == 2;
		default:
			return false;
		}
	}
	,updateValues: function(X,Y) {
		if(X != 0) {
			this.xMoved.press();
		} else {
			this.xMoved.release();
		}
		if(Y != 0) {
			this.yMoved.press();
		} else {
			this.yMoved.release();
		}
		this.x = X;
		this.y = Y;
	}
	,__class__: flixel_input_actions_FlxActionInputAnalog
});
var flixel_input_actions_FlxActionInputAnalogMouseMotion = function(Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX) {
	if(InvertX == null) {
		InvertX = false;
	}
	if(InvertY == null) {
		InvertY = false;
	}
	if(DeadZone == null) {
		DeadZone = 0.1;
	}
	if(PixelsPerUnit == null) {
		PixelsPerUnit = 10;
	}
	if(Axis == null) {
		Axis = 3;
	}
	this.lastY = 0;
	this.lastX = 0;
	this.pixelsPerUnit = PixelsPerUnit;
	if(this.pixelsPerUnit < 1) {
		this.pixelsPerUnit = 1;
	}
	this.deadZone = DeadZone;
	this.invertX = InvertX;
	this.invertY = InvertY;
	flixel_input_actions_FlxActionInputAnalog.call(this,flixel_input_actions_FlxInputDevice.MOUSE,-1,Trigger,Axis);
};
$hxClasses["flixel.input.actions.FlxActionInputAnalogMouseMotion"] = flixel_input_actions_FlxActionInputAnalogMouseMotion;
flixel_input_actions_FlxActionInputAnalogMouseMotion.__name__ = "flixel.input.actions.FlxActionInputAnalogMouseMotion";
flixel_input_actions_FlxActionInputAnalogMouseMotion.__super__ = flixel_input_actions_FlxActionInputAnalog;
flixel_input_actions_FlxActionInputAnalogMouseMotion.prototype = $extend(flixel_input_actions_FlxActionInputAnalog.prototype,{
	lastX: null
	,lastY: null
	,pixelsPerUnit: null
	,deadZone: null
	,invertX: null
	,invertY: null
	,update: function() {
		this.updateXYPosition(flixel_FlxG.mouse.x,flixel_FlxG.mouse.y);
	}
	,updateXYPosition: function(X,Y) {
		var xDiff = X - this.lastX;
		var yDiff = Y - this.lastY;
		this.lastX = X;
		this.lastY = Y;
		if(this.invertX) {
			xDiff *= -1;
		}
		if(this.invertY) {
			yDiff *= -1;
		}
		xDiff /= this.pixelsPerUnit;
		yDiff /= this.pixelsPerUnit;
		if(Math.abs(xDiff) < this.deadZone) {
			xDiff = 0;
		}
		if(Math.abs(yDiff) < this.deadZone) {
			yDiff = 0;
		}
		this.updateValues(xDiff,yDiff);
	}
	,__class__: flixel_input_actions_FlxActionInputAnalogMouseMotion
});
var flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion = function(ButtonID,Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX) {
	if(InvertX == null) {
		InvertX = false;
	}
	if(InvertY == null) {
		InvertY = false;
	}
	if(DeadZone == null) {
		DeadZone = 0.1;
	}
	if(PixelsPerUnit == null) {
		PixelsPerUnit = 10;
	}
	if(Axis == null) {
		Axis = 3;
	}
	flixel_input_actions_FlxActionInputAnalogMouseMotion.call(this,Trigger,Axis,PixelsPerUnit,DeadZone,InvertY,InvertX);
	this.button = ButtonID;
};
$hxClasses["flixel.input.actions.FlxActionInputAnalogClickAndDragMouseMotion"] = flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion;
flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion.__name__ = "flixel.input.actions.FlxActionInputAnalogClickAndDragMouseMotion";
flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion.__super__ = flixel_input_actions_FlxActionInputAnalogMouseMotion;
flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion.prototype = $extend(flixel_input_actions_FlxActionInputAnalogMouseMotion.prototype,{
	button: null
	,updateValues: function(X,Y) {
		var pass = false;
		switch(this.button) {
		case -3:
			var _this = flixel_FlxG.mouse._rightButton;
			pass = _this.current == 1 || _this.current == 2;
			break;
		case -2:
			var _this = flixel_FlxG.mouse._middleButton;
			pass = _this.current == 1 || _this.current == 2;
			break;
		case -1:
			var _this = flixel_FlxG.mouse._leftButton;
			pass = _this.current == 1 || _this.current == 2;
			break;
		}
		if(!pass) {
			X = 0;
			Y = 0;
		}
		flixel_input_actions_FlxActionInputAnalogMouseMotion.prototype.updateValues.call(this,X,Y);
	}
	,__class__: flixel_input_actions_FlxActionInputAnalogClickAndDragMouseMotion
});
var flixel_input_actions_FlxActionInputAnalogMousePosition = function(Trigger,Axis) {
	if(Axis == null) {
		Axis = 3;
	}
	flixel_input_actions_FlxActionInputAnalog.call(this,flixel_input_actions_FlxInputDevice.MOUSE,-1,Trigger,Axis);
};
$hxClasses["flixel.input.actions.FlxActionInputAnalogMousePosition"] = flixel_input_actions_FlxActionInputAnalogMousePosition;
flixel_input_actions_FlxActionInputAnalogMousePosition.__name__ = "flixel.input.actions.FlxActionInputAnalogMousePosition";
flixel_input_actions_FlxActionInputAnalogMousePosition.__super__ = flixel_input_actions_FlxActionInputAnalog;
flixel_input_actions_FlxActionInputAnalogMousePosition.prototype = $extend(flixel_input_actions_FlxActionInputAnalog.prototype,{
	update: function() {
		this.updateValues(flixel_FlxG.mouse.x,flixel_FlxG.mouse.y);
	}
	,updateValues: function(X,Y) {
		if(X != this.x) {
			this.xMoved.press();
		} else {
			this.xMoved.release();
		}
		if(Y != this.y) {
			this.yMoved.press();
		} else {
			this.yMoved.release();
		}
		this.x = X;
		this.y = Y;
	}
	,__class__: flixel_input_actions_FlxActionInputAnalogMousePosition
});
var flixel_input_actions_FlxActionInputAnalogGamepad = function(InputID,Trigger,Axis,GamepadID) {
	if(GamepadID == null) {
		GamepadID = -2;
	}
	if(Axis == null) {
		Axis = 3;
	}
	flixel_input_actions_FlxActionInputAnalog.call(this,flixel_input_actions_FlxInputDevice.GAMEPAD,InputID,Trigger,Axis,GamepadID);
};
$hxClasses["flixel.input.actions.FlxActionInputAnalogGamepad"] = flixel_input_actions_FlxActionInputAnalogGamepad;
flixel_input_actions_FlxActionInputAnalogGamepad.__name__ = "flixel.input.actions.FlxActionInputAnalogGamepad";
flixel_input_actions_FlxActionInputAnalogGamepad.__super__ = flixel_input_actions_FlxActionInputAnalog;
flixel_input_actions_FlxActionInputAnalogGamepad.prototype = $extend(flixel_input_actions_FlxActionInputAnalog.prototype,{
	update: function() {
		if(this.deviceID == -1) {
			return;
		}
		var gamepad = null;
		if(this.deviceID == -2) {
			gamepad = flixel_FlxG.gamepads.getFirstActiveGamepad();
		} else if(this.deviceID >= 0) {
			gamepad = flixel_FlxG.gamepads._activeGamepads[this.deviceID];
		}
		if(gamepad != null) {
			switch(this.inputID) {
			case 17:
				this.updateValues(gamepad.analog.value.gamepad.getAxis(17),0);
				break;
			case 18:
				this.updateValues(gamepad.analog.value.gamepad.getAxis(18),0);
				break;
			case 19:
				var _this = gamepad.analog.value.gamepad;
				var tmp = _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19));
				var _this = gamepad.analog.value.gamepad;
				this.updateValues(tmp,_this.getYAxisRaw(_this.mapping.getAnalogStick(19)));
				break;
			case 20:
				var _this = gamepad.analog.value.gamepad;
				var tmp = _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20));
				var _this = gamepad.analog.value.gamepad;
				this.updateValues(tmp,_this.getYAxisRaw(_this.mapping.getAnalogStick(20)));
				break;
			case 21:
				var tmp;
				var _this = gamepad.pressed;
				var id = 13;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp1;
				switch(id) {
				case -2:
					tmp1 = _this1.anyButton(Status);
					break;
				case -1:
					tmp1 = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp1 = button != null && button.hasState(Status);
				}
				if(tmp1) {
					tmp = -1.0;
				} else {
					var _this = gamepad.pressed;
					var id = 14;
					var _this1 = _this.gamepad;
					var Status = _this.status;
					var tmp1;
					switch(id) {
					case -2:
						tmp1 = _this1.anyButton(Status);
						break;
					case -1:
						tmp1 = !_this1.anyButton(Status);
						break;
					default:
						var RawID = _this1.mapping.getRawID(id);
						var button = _this1.buttons[RawID];
						tmp1 = button != null && button.hasState(Status);
					}
					tmp = tmp1 ? 1.0 : 0.0;
				}
				var tmp1;
				var _this = gamepad.pressed;
				var id = 11;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp2;
				switch(id) {
				case -2:
					tmp2 = _this1.anyButton(Status);
					break;
				case -1:
					tmp2 = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp2 = button != null && button.hasState(Status);
				}
				if(tmp2) {
					tmp1 = -1.0;
				} else {
					var _this = gamepad.pressed;
					var id = 12;
					var _this1 = _this.gamepad;
					var Status = _this.status;
					var tmp2;
					switch(id) {
					case -2:
						tmp2 = _this1.anyButton(Status);
						break;
					case -1:
						tmp2 = !_this1.anyButton(Status);
						break;
					default:
						var RawID = _this1.mapping.getRawID(id);
						var button = _this1.buttons[RawID];
						tmp2 = button != null && button.hasState(Status);
					}
					tmp1 = tmp2 ? 1.0 : 0.0;
				}
				this.updateValues(tmp,tmp1);
				break;
			case 28:
				this.updateValues(gamepad.analog.value.gamepad.getAxis(28),0);
				break;
			case 29:
				this.updateValues(gamepad.analog.value.gamepad.getAxis(29),0);
				break;
			}
		} else {
			this.updateValues(0,0);
		}
	}
	,__class__: flixel_input_actions_FlxActionInputAnalogGamepad
});
var flixel_input_actions_FlxActionInputAnalogSteam = function(ActionHandle,Trigger,Axis,DeviceID) {
	if(DeviceID == null) {
		DeviceID = -1;
	}
	if(Axis == null) {
		Axis = 3;
	}
	flixel_input_actions_FlxActionInputAnalog.call(this,flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,ActionHandle,Trigger,Axis,DeviceID);
};
$hxClasses["flixel.input.actions.FlxActionInputAnalogSteam"] = flixel_input_actions_FlxActionInputAnalogSteam;
flixel_input_actions_FlxActionInputAnalogSteam.__name__ = "flixel.input.actions.FlxActionInputAnalogSteam";
flixel_input_actions_FlxActionInputAnalogSteam.__super__ = flixel_input_actions_FlxActionInputAnalog;
flixel_input_actions_FlxActionInputAnalogSteam.prototype = $extend(flixel_input_actions_FlxActionInputAnalog.prototype,{
	update: function() {
	}
	,__class__: flixel_input_actions_FlxActionInputAnalogSteam
});
var flixel_input_actions_FlxActionInputDigital = function(Device1,InputID,Trigger,DeviceID) {
	if(DeviceID == null) {
		DeviceID = -2;
	}
	flixel_input_actions_FlxActionInput.call(this,flixel_input_actions_FlxInputType.DIGITAL,Device1,InputID,Trigger,DeviceID);
	this.inputID = InputID;
};
$hxClasses["flixel.input.actions.FlxActionInputDigital"] = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigital.__name__ = "flixel.input.actions.FlxActionInputDigital";
flixel_input_actions_FlxActionInputDigital.__super__ = flixel_input_actions_FlxActionInput;
flixel_input_actions_FlxActionInputDigital.prototype = $extend(flixel_input_actions_FlxActionInput.prototype,{
	__class__: flixel_input_actions_FlxActionInputDigital
});
var flixel_input_actions_FlxActionInputDigitalMouseWheel = function(Positive,Trigger) {
	this.sign = 0;
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.MOUSE_WHEEL,0,Trigger);
	this.input = new flixel_input_FlxInput(0);
	this.sign = Positive ? 1 : -1;
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalMouseWheel"] = flixel_input_actions_FlxActionInputDigitalMouseWheel;
flixel_input_actions_FlxActionInputDigitalMouseWheel.__name__ = "flixel.input.actions.FlxActionInputDigitalMouseWheel";
flixel_input_actions_FlxActionInputDigitalMouseWheel.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalMouseWheel.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	input: null
	,sign: null
	,check: function(Action1) {
		switch(this.trigger) {
		case -1:
			return this.input.current == -1;
		case 0:
			var _this = this.input;
			if(!(_this.current == 0 || _this.current == -1)) {
				return this.input.current == -1;
			} else {
				return true;
			}
			break;
		case 1:
			var _this = this.input;
			if(!(_this.current == 1 || _this.current == 2)) {
				return this.input.current == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return this.input.current == 2;
		default:
			return false;
		}
	}
	,update: function() {
		flixel_input_actions_FlxActionInputDigital.prototype.update.call(this);
		if(flixel_FlxG.mouse.wheel * this.sign > 0) {
			this.input.press();
		} else {
			this.input.release();
		}
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalMouseWheel
});
var flixel_input_actions_FlxActionInputDigitalGamepad = function(InputID,Trigger,GamepadID) {
	if(GamepadID == null) {
		GamepadID = -2;
	}
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.GAMEPAD,InputID,Trigger,GamepadID);
	this.input = new flixel_input_FlxInput(InputID);
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalGamepad"] = flixel_input_actions_FlxActionInputDigitalGamepad;
flixel_input_actions_FlxActionInputDigitalGamepad.__name__ = "flixel.input.actions.FlxActionInputDigitalGamepad";
flixel_input_actions_FlxActionInputDigitalGamepad.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalGamepad.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	input: null
	,toString: function() {
		return "FlxActionInputDigitalGamepad{inputID:" + this.inputID + ",trigger:" + this.trigger + ",deviceID:" + this.deviceID + ",device:" + Std.string(this.device) + ",type:" + Std.string(this.type) + "}";
	}
	,update: function() {
		flixel_input_actions_FlxActionInputDigital.prototype.update.call(this);
		if(this.deviceID == -1) {
			if(flixel_FlxG.gamepads.anyHasState(this.inputID,1) || flixel_FlxG.gamepads.anyHasState(this.inputID,2)) {
				this.input.press();
			} else {
				this.input.release();
			}
		} else {
			var gamepad = null;
			if(this.deviceID == -2) {
				gamepad = flixel_FlxG.gamepads.getFirstActiveGamepad();
			} else if(this.deviceID >= 0) {
				gamepad = flixel_FlxG.gamepads._activeGamepads[this.deviceID];
			}
			if(gamepad != null) {
				if(this.inputID == -2 && this.trigger == 0) {
					if(gamepad.released.get_ANY()) {
						this.input.release();
					} else {
						this.input.press();
					}
				} else {
					var tmp;
					var ID = this.inputID;
					var Status = 1;
					var tmp1;
					switch(ID) {
					case -2:
						tmp1 = gamepad.anyButton(Status);
						break;
					case -1:
						tmp1 = !gamepad.anyButton(Status);
						break;
					default:
						var RawID = gamepad.mapping.getRawID(ID);
						var button = gamepad.buttons[RawID];
						tmp1 = button != null && button.hasState(Status);
					}
					if(!tmp1) {
						var ID = this.inputID;
						var Status = 2;
						switch(ID) {
						case -2:
							tmp = gamepad.anyButton(Status);
							break;
						case -1:
							tmp = !gamepad.anyButton(Status);
							break;
						default:
							var RawID = gamepad.mapping.getRawID(ID);
							var button = gamepad.buttons[RawID];
							tmp = button != null && button.hasState(Status);
						}
					} else {
						tmp = true;
					}
					if(tmp) {
						this.input.press();
					} else {
						this.input.release();
					}
				}
			} else if(this.deviceID == -2) {
				this.input.release();
			}
		}
	}
	,check: function(Action1) {
		switch(this.trigger) {
		case -1:
			return this.input.current == -1;
		case 0:
			var _this = this.input;
			if(!(_this.current == 0 || _this.current == -1)) {
				return this.input.current == -1;
			} else {
				return true;
			}
			break;
		case 1:
			var _this = this.input;
			if(!(_this.current == 1 || _this.current == 2)) {
				return this.input.current == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return this.input.current == 2;
		default:
			return false;
		}
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalGamepad
});
var flixel_input_actions_FlxActionInputDigitalKeyboard = function(Key,Trigger) {
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.KEYBOARD,Key,Trigger);
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalKeyboard"] = flixel_input_actions_FlxActionInputDigitalKeyboard;
flixel_input_actions_FlxActionInputDigitalKeyboard.__name__ = "flixel.input.actions.FlxActionInputDigitalKeyboard";
flixel_input_actions_FlxActionInputDigitalKeyboard.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalKeyboard.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	check: function(Action1) {
		switch(this.trigger) {
		case -1:
			return flixel_FlxG.keys.checkStatus(this.inputID,-1);
		case 0:
			if(!flixel_FlxG.keys.checkStatus(this.inputID,0)) {
				return flixel_FlxG.keys.checkStatus(this.inputID,-1);
			} else {
				return true;
			}
			break;
		case 1:
			if(!flixel_FlxG.keys.checkStatus(this.inputID,1)) {
				return flixel_FlxG.keys.checkStatus(this.inputID,2);
			} else {
				return true;
			}
			break;
		case 2:
			return flixel_FlxG.keys.checkStatus(this.inputID,2);
		default:
			return false;
		}
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalKeyboard
});
var flixel_input_actions_FlxActionInputDigitalMouse = function(ButtonID,Trigger) {
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.MOUSE,ButtonID,Trigger);
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalMouse"] = flixel_input_actions_FlxActionInputDigitalMouse;
flixel_input_actions_FlxActionInputDigitalMouse.__name__ = "flixel.input.actions.FlxActionInputDigitalMouse";
flixel_input_actions_FlxActionInputDigitalMouse.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalMouse.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	check: function(Action1) {
		switch(this.inputID) {
		case -3:
			switch(this.trigger) {
			case -1:
				return flixel_FlxG.mouse._rightButton.current == -1;
			case 0:
				var _this = flixel_FlxG.mouse._rightButton;
				if(_this.current == 1 || _this.current == 2) {
					return flixel_FlxG.mouse._rightButton.current == -1;
				} else {
					return true;
				}
				break;
			case 1:
				var _this = flixel_FlxG.mouse._rightButton;
				if(!(_this.current == 1 || _this.current == 2)) {
					return flixel_FlxG.mouse._rightButton.current == 2;
				} else {
					return true;
				}
				break;
			case 2:
				return flixel_FlxG.mouse._rightButton.current == 2;
			}
			break;
		case -2:
			switch(this.trigger) {
			case -1:
				return flixel_FlxG.mouse._middleButton.current == -1;
			case 0:
				var _this = flixel_FlxG.mouse._middleButton;
				if(_this.current == 1 || _this.current == 2) {
					return flixel_FlxG.mouse._middleButton.current == -1;
				} else {
					return true;
				}
				break;
			case 1:
				var _this = flixel_FlxG.mouse._middleButton;
				if(!(_this.current == 1 || _this.current == 2)) {
					return flixel_FlxG.mouse._middleButton.current == 2;
				} else {
					return true;
				}
				break;
			case 2:
				return flixel_FlxG.mouse._middleButton.current == 2;
			}
			break;
		case -1:
			switch(this.trigger) {
			case -1:
				return flixel_FlxG.mouse._leftButton.current == -1;
			case 0:
				var _this = flixel_FlxG.mouse._leftButton;
				if(_this.current == 1 || _this.current == 2) {
					return flixel_FlxG.mouse._leftButton.current == -1;
				} else {
					return true;
				}
				break;
			case 1:
				var _this = flixel_FlxG.mouse._leftButton;
				if(!(_this.current == 1 || _this.current == 2)) {
					return flixel_FlxG.mouse._leftButton.current == 2;
				} else {
					return true;
				}
				break;
			case 2:
				return flixel_FlxG.mouse._leftButton.current == 2;
			}
			break;
		default:
			return false;
		}
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalMouse
});
var flixel_input_actions_FlxActionInputDigitalSteam = function(ActionHandle,Trigger,DeviceHandle) {
	if(DeviceHandle == null) {
		DeviceHandle = -2;
	}
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,ActionHandle,Trigger,DeviceHandle);
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalSteam"] = flixel_input_actions_FlxActionInputDigitalSteam;
flixel_input_actions_FlxActionInputDigitalSteam.__name__ = "flixel.input.actions.FlxActionInputDigitalSteam";
flixel_input_actions_FlxActionInputDigitalSteam.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalSteam.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	steamInput: null
	,check: function(Action1) {
		switch(this.trigger) {
		case -1:
			return this.steamInput.current == -1;
		case 0:
			var _this = this.steamInput;
			if(_this.current == 0 || _this.current == -1) {
				return this.steamInput.current == -1;
			} else {
				return true;
			}
			break;
		case 1:
			var _this = this.steamInput;
			if(!(_this.current == 1 || _this.current == 2)) {
				return this.steamInput.current == 2;
			} else {
				return true;
			}
			break;
		case 2:
			return this.steamInput.current == 2;
		}
	}
	,update: function() {
		var controllerHandle = this.deviceID;
		if(controllerHandle == -2) {
			controllerHandle = flixel_input_actions_FlxSteamController.getFirstActiveHandle();
		}
		var data = flixel_input_actions_FlxSteamController.getDigitalActionData(controllerHandle,this.inputID);
		if(data.bActive && data.bState) {
			this.steamInput.press();
		} else {
			this.steamInput.release();
		}
	}
	,getSteamControllerData: function(controllerHandle) {
		if(controllerHandle == -2) {
			controllerHandle = flixel_input_actions_FlxSteamController.getFirstActiveHandle();
		}
		var data = flixel_input_actions_FlxSteamController.getDigitalActionData(controllerHandle,this.inputID);
		if(data.bActive) {
			return data.bState;
		} else {
			return false;
		}
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalSteam
});
var flixel_input_actions_FlxActionInputDigitalIFlxInput = function(Input,Trigger) {
	flixel_input_actions_FlxActionInputDigital.call(this,flixel_input_actions_FlxInputDevice.IFLXINPUT_OBJECT,0,Trigger);
	this.input = Input;
};
$hxClasses["flixel.input.actions.FlxActionInputDigitalIFlxInput"] = flixel_input_actions_FlxActionInputDigitalIFlxInput;
flixel_input_actions_FlxActionInputDigitalIFlxInput.__name__ = "flixel.input.actions.FlxActionInputDigitalIFlxInput";
flixel_input_actions_FlxActionInputDigitalIFlxInput.__super__ = flixel_input_actions_FlxActionInputDigital;
flixel_input_actions_FlxActionInputDigitalIFlxInput.prototype = $extend(flixel_input_actions_FlxActionInputDigital.prototype,{
	input: null
	,check: function(action) {
		switch(this.trigger) {
		case -1:
			return this.input.get_justReleased();
		case 0:
			if(this.input.get_pressed()) {
				return this.input.get_justReleased();
			} else {
				return true;
			}
			break;
		case 1:
			if(!this.input.get_pressed()) {
				return this.input.get_justPressed();
			} else {
				return true;
			}
			break;
		case 2:
			return this.input.get_justPressed();
		default:
			return false;
		}
	}
	,destroy: function() {
		flixel_input_actions_FlxActionInputDigital.prototype.destroy.call(this);
		this.input = null;
	}
	,__class__: flixel_input_actions_FlxActionInputDigitalIFlxInput
});
var flixel_input_actions_FlxActionManager = function() {
	this.resetOnStateSwitch = flixel_input_actions_ResetPolicy.DEFAULT_SET_ONLY;
	this.defaultSet = null;
	this.sets = [];
	this.register = new flixel_input_actions__$FlxActionManager_ActionSetRegister();
	this.deviceConnected = new flixel_util__$FlxSignal_FlxSignal3();
	this.deviceDisconnected = new flixel_util__$FlxSignal_FlxSignal3();
	this.inputsChanged = new flixel_util__$FlxSignal_FlxSignal1();
	flixel_FlxG.gamepads.deviceConnected.add($bind(this,this.onDeviceConnected));
	flixel_FlxG.gamepads.deviceDisconnected.add($bind(this,this.onDeviceDisconnected));
	flixel_input_actions_FlxSteamController.onControllerConnect = $bind(this,this.updateSteamControllers);
	flixel_input_actions_FlxSteamController.onOriginUpdate = $bind(this,this.updateSteamOrigins);
	flixel_FlxG.signals.preStateSwitch.add($bind(this,this.onStateSwitched));
};
$hxClasses["flixel.input.actions.FlxActionManager"] = flixel_input_actions_FlxActionManager;
flixel_input_actions_FlxActionManager.__name__ = "flixel.input.actions.FlxActionManager";
flixel_input_actions_FlxActionManager.__interfaces__ = [flixel_util_IFlxDestroyable,flixel_input_IFlxInputManager];
flixel_input_actions_FlxActionManager.prototype = {
	sets: null
	,register: null
	,defaultSet: null
	,deviceDisconnected: null
	,deviceConnected: null
	,inputsChanged: null
	,resetOnStateSwitch: null
	,activateSet: function(ActionSet,Device1,DeviceID) {
		this.register.activate(ActionSet,Device1,DeviceID);
		this.onChange();
	}
	,addActions: function(Actions,ActionSet) {
		if(ActionSet == null) {
			ActionSet = 0;
		}
		var success = true;
		var _g = 0;
		while(_g < Actions.length) {
			var Action1 = Actions[_g];
			++_g;
			var result = this.addAction(Action1);
			if(!result) {
				success = false;
			}
		}
		return success;
	}
	,addAction: function(Action1,ActionSet) {
		if(ActionSet == null) {
			ActionSet = 0;
		}
		var success = false;
		if(this.sets == null) {
			this.sets = [];
		}
		if(this.sets.length == 0) {
			this.defaultSet = new flixel_input_actions_FlxActionSet("default");
			var defaultSetIndex = this.addSet(this.defaultSet);
			this.activateSet(defaultSetIndex,flixel_input_actions_FlxInputDevice.ALL,-1);
		}
		if(ActionSet >= 0 && ActionSet < this.sets.length) {
			success = this.sets[ActionSet].add(Action1);
		}
		this.onChange();
		return success;
	}
	,addSet: function(set) {
		if(this.sets.indexOf(set) != -1) {
			return -1;
		}
		this.sets.push(set);
		this.onChange();
		return this.sets.length - 1;
	}
	,deactivateSet: function(ActionSet,DeviceID) {
		if(DeviceID == null) {
			DeviceID = -1;
		}
		this.register.activate(ActionSet,flixel_input_actions_FlxInputDevice.NONE,DeviceID);
		this.onChange();
	}
	,destroy: function() {
		this.sets = flixel_util_FlxDestroyUtil.destroyArray(this.sets);
		this.register = flixel_util_FlxDestroyUtil.destroy(this.register);
	}
	,getSetIndex: function(Name) {
		var _g = 0;
		var _g1 = this.sets.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.sets[i].name == Name) {
				return i;
			}
		}
		return -1;
	}
	,getSetName: function(Index) {
		if(Index >= 0 && Index < this.sets.length) {
			return this.sets[Index].name;
		}
		return "";
	}
	,getSet: function(Index) {
		if(Index >= 0 && Index < this.sets.length) {
			return this.sets[Index];
		}
		return null;
	}
	,getSetActivatedForDevice: function(device,deviceID) {
		if(deviceID == null) {
			deviceID = -1;
		}
		var id = -1;
		var index = -1;
		switch(device._hx_index) {
		case 1:
			index = this.register.mouseSet;
			break;
		case 3:
			index = this.register.keyboardSet;
			break;
		case 4:
			switch(deviceID) {
			case -3:
				index = -1;
				break;
			case -2:
				id = flixel_FlxG.gamepads.getFirstActiveGamepadID();
				break;
			case -1:
				index = this.register.gamepadAllSet;
				break;
			default:
				if(this.register.gamepadAllSet != -1) {
					index = this.register.gamepadAllSet;
				} else {
					id = deviceID;
				}
			}
			if(id >= 0 && id < this.register.gamepadSets.length) {
				index = this.register.gamepadSets[id];
			}
			break;
		case 5:
			switch(deviceID) {
			case -3:
				index = -1;
				break;
			case -1:
				index = this.register.steamControllerAllSet;
				break;
			default:
				if(this.register.steamControllerAllSet != -1) {
					index = this.register.steamControllerAllSet;
				} else {
					id = deviceID;
				}
			}
			if(id >= 0 && id < this.register.steamControllerSets.length) {
				index = this.register.steamControllerSets[id];
			}
			break;
		case 9:
			if(deviceID == -1) {
				index = this.register.gamepadAllSet;
			}
			break;
		default:
			index = -1;
		}
		if(index >= 0 && index < this.sets.length) {
			return this.sets[index];
		}
		return null;
	}
	,initFromJson: function(data,CallbackDigital,CallbackAnalog) {
		if(data == null) {
			return 0;
		}
		var i = 0;
		var actionSets = data.actionSets;
		if(actionSets == null) {
			return 0;
		}
		var _g = 0;
		while(_g < actionSets.length) {
			var set = actionSets[_g];
			++_g;
			if(this.addSet(flixel_input_actions_FlxActionSet.fromJson(set,CallbackDigital,CallbackAnalog)) != -1) {
				++i;
			}
		}
		this.onChange();
		return i;
	}
	,exportToJson: function() {
		var space = "\t";
		return JSON.stringify({ "actionSets" : this.sets},function(key,value) {
			if(((value) instanceof flixel_input_actions_FlxAction)) {
				var fa = value;
				return fa.name;
			}
			if(((value) instanceof flixel_input_actions_FlxActionSet)) {
				var fas = value;
				return { "name" : fas.name, "digitalActions" : fas.digitalActions, "analogActions" : fas.analogActions};
			}
			return value;
		},space);
	}
	,removeSet: function(Set,Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		var success = HxOverrides.remove(this.sets,Set);
		if(success) {
			if(Destroy) {
				flixel_util_FlxDestroyUtil.destroy(Set);
			}
			this.onChange();
		}
		return success;
	}
	,removeAction: function(Action1,ActionSet) {
		var success = false;
		if(ActionSet >= 0 && ActionSet < this.sets.length) {
			success = this.sets[ActionSet].remove(Action1);
		}
		this.onChange();
		return success;
	}
	,reset: function() {
	}
	,get_numSets: function() {
		return this.sets.length;
	}
	,onChange: function() {
		this.register.markActiveSets(this.sets);
	}
	,onDeviceConnected: function(gamepad) {
		this.deviceConnected.dispatch(flixel_input_actions_FlxInputDevice.GAMEPAD,gamepad.id,Std.string(gamepad.model).toLowerCase());
	}
	,onDeviceDisconnected: function(gamepad) {
		if(gamepad != null) {
			var actionSet = this.getSetActivatedForDevice(flixel_input_actions_FlxInputDevice.GAMEPAD,gamepad.id);
			if(actionSet != null && actionSet.active) {
				var id = gamepad.id;
				var model = gamepad.model != null ? Std.string(gamepad.model).toLowerCase() : "";
				this.deviceDisconnected.dispatch(flixel_input_actions_FlxInputDevice.GAMEPAD,id,model);
			}
		}
	}
	,onFocus: function() {
	}
	,onFocusLost: function() {
	}
	,onStateSwitched: function() {
		switch(this.resetOnStateSwitch._hx_index) {
		case 1:
			while(this.sets.length > 0) this.removeSet(this.getSet(0),true);
			this.defaultSet = null;
			break;
		case 2:
			if(this.defaultSet != null) {
				this.removeSet(this.defaultSet,true);
			}
			this.defaultSet = null;
			break;
		default:
		}
	}
	,onSteamConnected: function(handle) {
		var allSetIndex = this.register.steamControllerAllSet;
		if(allSetIndex != -1) {
			this.activateSet(allSetIndex,flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,-1);
		} else {
			var actionSet = this.getSetActivatedForDevice(flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,handle);
			if(actionSet != null && actionSet.active) {
				this.activateSet(this.getSetIndex(actionSet.name),flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,handle);
			}
		}
		this.deviceConnected.dispatch(flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,handle,"");
	}
	,onSteamDisconnected: function(handle) {
		if(handle >= 0) {
			var actionSet = this.getSetActivatedForDevice(flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,handle);
			if(actionSet != null && actionSet.active) {
				this.deviceDisconnected.dispatch(flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,handle,"");
			}
		}
	}
	,updateSteamControllers: function() {
	}
	,updateSteamOrigins: function() {
	}
	,update: function() {
		this.register.update(this.sets);
	}
	,__class__: flixel_input_actions_FlxActionManager
	,__properties__: {get_numSets:"get_numSets"}
};
var flixel_input_actions__$FlxActionManager_ActionSetRegister = function() {
	this.steamControllerAllSet = -1;
	this.gamepadAllSet = -1;
	this.keyboardSet = -1;
	this.mouseSet = -1;
	flixel_input_actions_FlxSteamController.init();
	this.gamepadSets = [];
	this.steamControllerSets = [];
};
$hxClasses["flixel.input.actions._FlxActionManager.ActionSetRegister"] = flixel_input_actions__$FlxActionManager_ActionSetRegister;
flixel_input_actions__$FlxActionManager_ActionSetRegister.__name__ = "flixel.input.actions._FlxActionManager.ActionSetRegister";
flixel_input_actions__$FlxActionManager_ActionSetRegister.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_actions__$FlxActionManager_ActionSetRegister.prototype = {
	mouseSet: null
	,keyboardSet: null
	,gamepadAllSet: null
	,steamControllerAllSet: null
	,gamepadSets: null
	,steamControllerSets: null
	,destroy: function() {
		this.gamepadSets = null;
		this.steamControllerSets = null;
	}
	,activate: function(ActionSet,Device1,DeviceID) {
		if(DeviceID == null) {
			DeviceID = -2;
		}
		this.setActivate(ActionSet,Device1,DeviceID);
	}
	,markActiveSets: function(sets) {
		var _g = 0;
		var _g1 = sets.length;
		while(_g < _g1) {
			var i = _g++;
			sets[i].active = false;
		}
		this.syncDevice(flixel_input_actions_FlxInputDevice.MOUSE,sets);
		this.syncDevice(flixel_input_actions_FlxInputDevice.KEYBOARD,sets);
		this.syncDevice(flixel_input_actions_FlxInputDevice.GAMEPAD,sets);
		this.syncDevice(flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER,sets);
	}
	,update: function(sets) {
		var _g = 0;
		var _g1 = sets.length;
		while(_g < _g1) {
			var i = _g++;
			sets[i].update();
		}
	}
	,updateSteam: function(sets) {
	}
	,setActivate: function(ActionSet,Device1,DeviceID,DoActivate) {
		if(DoActivate == null) {
			DoActivate = true;
		}
		if(DeviceID == null) {
			DeviceID = -2;
		}
		switch(Device1._hx_index) {
		case 1:
			this.mouseSet = DoActivate ? ActionSet : -1;
			break;
		case 3:
			this.keyboardSet = DoActivate ? ActionSet : -1;
			break;
		case 4:
			switch(DeviceID) {
			case -3:
				this.clearSetFromArray(ActionSet,this.gamepadSets);
				break;
			case -2:
				this.gamepadSets[flixel_FlxG.gamepads.getFirstActiveGamepadID()] = DoActivate ? ActionSet : -1;
				break;
			case -1:
				this.clearSetFromArray(-1,this.gamepadSets);
				this.gamepadAllSet = DoActivate ? ActionSet : -1;
				break;
			default:
				this.gamepadSets[DeviceID] = DoActivate ? ActionSet : -1;
			}
			break;
		case 5:
			switch(DeviceID) {
			case -3:
				this.clearSetFromArray(ActionSet,this.steamControllerSets);
				break;
			case -2:
				this.steamControllerSets[flixel_input_actions_FlxSteamController.getFirstActiveHandle()] = DoActivate ? ActionSet : -1;
				break;
			case -1:
				this.steamControllerAllSet = DoActivate ? ActionSet : -1;
				this.clearSetFromArray(-1,this.steamControllerSets);
				break;
			default:
				this.steamControllerSets[DeviceID] = DoActivate ? ActionSet : -1;
			}
			break;
		case 9:
			this.setActivate(ActionSet,flixel_input_actions_FlxInputDevice.MOUSE,DeviceID,DoActivate);
			this.setActivate(ActionSet,flixel_input_actions_FlxInputDevice.KEYBOARD,DeviceID,DoActivate);
			this.setActivate(ActionSet,flixel_input_actions_FlxInputDevice.GAMEPAD,DeviceID,DoActivate);
			break;
		case 10:
			this.setActivate(ActionSet,flixel_input_actions_FlxInputDevice.ALL,DeviceID,false);
			break;
		default:
		}
	}
	,updateSteamOrigins: function(sets) {
		return [];
	}
	,updateDigitalActionOrigins: function(action,deviceID,setHandle) {
	}
	,updateAnalogActionOrigins: function(action,deviceID,setHandle) {
	}
	,cheapChecksum: function(arr) {
		var sum1 = 0;
		var sum2 = 0;
		if(arr != null) {
			var _g = 0;
			while(_g < arr.length) {
				var n = arr[_g];
				++_g;
				sum1 = (sum1 + n) % 255;
				sum2 = (sum2 + sum1) % 255;
			}
		}
		return sum2 << 8 | sum1;
	}
	,updateSteamInputs: function(sets) {
	}
	,changeSteamControllerActionSet: function(controllerHandle,newSet,sets) {
		var lastSet = flixel_input_actions_FlxSteamController.getCurrentActionSet(controllerHandle);
		if(lastSet == newSet) {
			return;
		}
		if(sets == null) {
			return;
		}
		if(lastSet != -1) {
			if(lastSet < sets.length) {
				sets[lastSet].attachSteamController(controllerHandle,false);
			}
		}
		sets[newSet].attachSteamController(controllerHandle);
	}
	,syncDevice: function(device,sets) {
		switch(device._hx_index) {
		case 1:
			if(this.mouseSet >= 0 && this.mouseSet < sets.length) {
				sets[this.mouseSet].active = true;
			}
			break;
		case 3:
			if(this.keyboardSet >= 0 && this.keyboardSet < sets.length) {
				sets[this.keyboardSet].active = true;
			}
			break;
		case 4:
			if(this.gamepadAllSet >= 0 && this.gamepadAllSet < sets.length) {
				sets[this.gamepadAllSet].active = true;
			} else {
				var _g = 0;
				var _g1 = this.gamepadSets.length;
				while(_g < _g1) {
					var i = _g++;
					var gset = this.gamepadSets[i];
					if(gset >= 0 && gset < sets.length) {
						sets[gset].active = true;
					}
				}
			}
			break;
		case 5:
			this.updateSteamInputs(sets);
			if(this.steamControllerAllSet >= 0 && this.steamControllerAllSet < sets.length) {
				sets[this.steamControllerAllSet].active = true;
			} else {
				var _g = 0;
				var _g1 = this.steamControllerSets.length;
				while(_g < _g1) {
					var i = _g++;
					var sset = this.steamControllerSets[i];
					if(sset >= 0 && sset < sets.length) {
						sets[sset].active = true;
					}
				}
			}
			break;
		default:
		}
	}
	,clearSetFromArray: function(ActionSet,array) {
		if(ActionSet == null) {
			ActionSet = -1;
		}
		var _g = 0;
		var _g1 = array.length;
		while(_g < _g1) {
			var i = _g++;
			if(ActionSet == -1 || array[i] == ActionSet) {
				array[i] = -1;
			}
		}
	}
	,__class__: flixel_input_actions__$FlxActionManager_ActionSetRegister
};
var flixel_input_actions_ResetPolicy = $hxEnums["flixel.input.actions.ResetPolicy"] = { __ename__:"flixel.input.actions.ResetPolicy",__constructs__:null
	,NONE: {_hx_name:"NONE",_hx_index:0,__enum__:"flixel.input.actions.ResetPolicy",toString:$estr}
	,ALL_SETS: {_hx_name:"ALL_SETS",_hx_index:1,__enum__:"flixel.input.actions.ResetPolicy",toString:$estr}
	,DEFAULT_SET_ONLY: {_hx_name:"DEFAULT_SET_ONLY",_hx_index:2,__enum__:"flixel.input.actions.ResetPolicy",toString:$estr}
};
flixel_input_actions_ResetPolicy.__constructs__ = [flixel_input_actions_ResetPolicy.NONE,flixel_input_actions_ResetPolicy.ALL_SETS,flixel_input_actions_ResetPolicy.DEFAULT_SET_ONLY];
var flixel_input_actions_FlxSteamController = function() { };
$hxClasses["flixel.input.actions.FlxSteamController"] = flixel_input_actions_FlxSteamController;
flixel_input_actions_FlxSteamController.__name__ = "flixel.input.actions.FlxSteamController";
flixel_input_actions_FlxSteamController.__properties__ = {get_MAX_ORIGINS:"get_MAX_ORIGINS",get_MAX_CONTROLLERS:"get_MAX_CONTROLLERS"};
flixel_input_actions_FlxSteamController.controllers = null;
flixel_input_actions_FlxSteamController.get_MAX_CONTROLLERS = function() {
	return 0;
};
flixel_input_actions_FlxSteamController.get_MAX_ORIGINS = function() {
	return 0;
};
flixel_input_actions_FlxSteamController.clear = function() {
};
flixel_input_actions_FlxSteamController.init = function() {
	flixel_input_actions_FlxSteamController.controllers = [];
};
flixel_input_actions_FlxSteamController.getActionSetHandle = function(name) {
	return -1;
};
flixel_input_actions_FlxSteamController.getCurrentActionSet = function(SteamControllerHandle) {
	return -1;
};
flixel_input_actions_FlxSteamController.activateActionSet = function(SteamControllerHandle,ActionSetHandle) {
};
flixel_input_actions_FlxSteamController.getFirstActiveHandle = function() {
	return -1;
};
flixel_input_actions_FlxSteamController.getConnectedControllers = function() {
	return [];
};
flixel_input_actions_FlxSteamController.getAnalogActionData = function(controller,action,data) {
	return null;
};
flixel_input_actions_FlxSteamController.getDigitalActionData = function(controller,action) {
	return new flixel_input_actions__$FlxSteamController_DigitalActionData(false,false);
};
flixel_input_actions_FlxSteamController.getAnalogActionHandle = function(name) {
	return -1;
};
flixel_input_actions_FlxSteamController.getDigitalActionHandle = function(name) {
	return -1;
};
var flixel_input_actions__$FlxSteamController_DigitalActionData = function(bActive,bState) {
	this.bActive = bActive;
	this.bState = bState;
};
$hxClasses["flixel.input.actions._FlxSteamController.DigitalActionData"] = flixel_input_actions__$FlxSteamController_DigitalActionData;
flixel_input_actions__$FlxSteamController_DigitalActionData.__name__ = "flixel.input.actions._FlxSteamController.DigitalActionData";
flixel_input_actions__$FlxSteamController_DigitalActionData.prototype = {
	bActive: null
	,bState: null
	,__class__: flixel_input_actions__$FlxSteamController_DigitalActionData
};
var flixel_input_actions__$FlxSteamController_FlxSteamControllerMetadata = function() {
	this.connected = new flixel_input_FlxInput(0);
	this.active = false;
	this.actionSet = -1;
	this.handle = -1;
};
$hxClasses["flixel.input.actions._FlxSteamController.FlxSteamControllerMetadata"] = flixel_input_actions__$FlxSteamController_FlxSteamControllerMetadata;
flixel_input_actions__$FlxSteamController_FlxSteamControllerMetadata.__name__ = "flixel.input.actions._FlxSteamController.FlxSteamControllerMetadata";
flixel_input_actions__$FlxSteamController_FlxSteamControllerMetadata.prototype = {
	handle: null
	,actionSet: null
	,active: null
	,connected: null
	,__class__: flixel_input_actions__$FlxSteamController_FlxSteamControllerMetadata
};
var flixel_input_actions__$FlxSteamController_FlxSteamUpdater = function() {
	this.originTime = 0.0;
	this.controllerTime = 0.0;
};
$hxClasses["flixel.input.actions._FlxSteamController.FlxSteamUpdater"] = flixel_input_actions__$FlxSteamController_FlxSteamUpdater;
flixel_input_actions__$FlxSteamController_FlxSteamUpdater.__name__ = "flixel.input.actions._FlxSteamController.FlxSteamUpdater";
flixel_input_actions__$FlxSteamController_FlxSteamUpdater.__interfaces__ = [flixel_input_IFlxInputManager];
flixel_input_actions__$FlxSteamController_FlxSteamUpdater.prototype = {
	controllerTime: null
	,originTime: null
	,destroy: function() {
	}
	,reset: function() {
	}
	,update: function() {
	}
	,onFocus: function() {
	}
	,onFocusLost: function() {
	}
	,__class__: flixel_input_actions__$FlxSteamController_FlxSteamUpdater
};
var flixel_input_gamepad_FlxGamepad = function(ID,Manager,Model,Attachment) {
	this.buttons = [];
	this._deadZone = 0.15;
	this.axisActive = false;
	var _g = [];
	_g.push(0);
	_g.push(0);
	_g.push(0);
	_g.push(0);
	_g.push(0);
	_g.push(0);
	this.axis = _g;
	this.deadZoneMode = flixel_input_gamepad_FlxGamepadDeadZoneMode.INDEPENDENT_AXES;
	this.connected = true;
	this.id = ID;
	this.manager = Manager;
	this.pressed = new flixel_input_gamepad_lists_FlxGamepadButtonList(1,this);
	this.released = new flixel_input_gamepad_lists_FlxGamepadButtonList(0,this);
	this.justPressed = new flixel_input_gamepad_lists_FlxGamepadButtonList(2,this);
	this.justReleased = new flixel_input_gamepad_lists_FlxGamepadButtonList(-1,this);
	this.analog = new flixel_input_gamepad_lists_FlxGamepadAnalogList(this);
	this.motion = new flixel_input_gamepad_lists_FlxGamepadMotionValueList(this);
	this.pointer = new flixel_input_gamepad_lists_FlxGamepadPointerValueList(this);
	if(Model == null) {
		Model = flixel_input_gamepad_FlxGamepadModel.XINPUT;
	}
	if(Attachment == null) {
		Attachment = flixel_input_gamepad_FlxGamepadAttachment.NONE;
	}
	this.set_model(Model);
	this.detectedModel = Model;
};
$hxClasses["flixel.input.gamepad.FlxGamepad"] = flixel_input_gamepad_FlxGamepad;
flixel_input_gamepad_FlxGamepad.__name__ = "flixel.input.gamepad.FlxGamepad";
flixel_input_gamepad_FlxGamepad.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_gamepad_FlxGamepad.prototype = {
	id: null
	,model: null
	,detectedModel: null
	,mapping: null
	,connected: null
	,attachment: null
	,deadZoneMode: null
	,pressed: null
	,released: null
	,justPressed: null
	,justReleased: null
	,analog: null
	,motion: null
	,pointer: null
	,axis: null
	,axisActive: null
	,manager: null
	,_deadZone: null
	,_device: null
	,buttons: null
	,getButton: function(RawID) {
		if(RawID == -1) {
			return null;
		}
		var gamepadButton = this.buttons[RawID];
		if(gamepadButton == null) {
			gamepadButton = new flixel_input_gamepad_FlxGamepadButton(RawID);
			this.buttons[RawID] = gamepadButton;
		}
		return gamepadButton;
	}
	,applyAxisFlip: function(axisValue,axisID) {
		if(this.mapping.isAxisFlipped(axisID)) {
			axisValue *= -1;
		}
		return axisValue;
	}
	,update: function() {
		var control;
		var button;
		if(this._device == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._device.get_numControls();
		while(_g < _g1) {
			var i = _g++;
			control = this._device.getControlAt(i);
			button = this.getButton(i);
			if(this.isAxisForAnalogStick(i)) {
				this.handleAxisMove(i,control.value,button.value);
			}
			button.value = control.value;
			var value = Math.abs(control.value);
			if(value < this.get_deadZone()) {
				button.release();
			} else if(value > this.get_deadZone()) {
				button.press();
			}
		}
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null) {
				button.update();
			}
		}
	}
	,reset: function() {
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null) {
				button.reset();
			}
		}
		var numAxis = this.axis.length;
		var _g = 0;
		var _g1 = numAxis;
		while(_g < _g1) {
			var i = _g++;
			this.axis[i] = 0;
		}
	}
	,destroy: function() {
		this.connected = false;
		this.buttons = null;
		this.axis = null;
		this.manager = null;
	}
	,checkStatus: function(ID,Status) {
		switch(ID) {
		case -2:
			return this.anyButton(Status);
		case -1:
			return !this.anyButton(Status);
		default:
			var RawID = this.mapping.getRawID(ID);
			var button = this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,checkStatusRaw: function(RawID,Status) {
		var button = this.buttons[RawID];
		if(button != null) {
			return button.hasState(Status);
		} else {
			return false;
		}
	}
	,checkButtonArrayState: function(IDArray,Status) {
		if(IDArray == null) {
			return false;
		}
		var _g = 0;
		while(_g < IDArray.length) {
			var code = IDArray[_g];
			++_g;
			var tmp;
			switch(code) {
			case -2:
				tmp = this.anyButton(Status);
				break;
			case -1:
				tmp = !this.anyButton(Status);
				break;
			default:
				var RawID = this.mapping.getRawID(code);
				var button = this.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				return true;
			}
		}
		return false;
	}
	,checkButtonArrayStateRaw: function(IDArray,Status) {
		if(IDArray == null) {
			return false;
		}
		var _g = 0;
		while(_g < IDArray.length) {
			var code = IDArray[_g];
			++_g;
			var button = this.buttons[code];
			if(button != null && button.hasState(Status)) {
				return true;
			}
		}
		return false;
	}
	,anyPressed: function(IDArray) {
		return this.checkButtonArrayState(IDArray,1);
	}
	,anyPressedRaw: function(RawIDArray) {
		return this.checkButtonArrayStateRaw(RawIDArray,1);
	}
	,anyJustPressed: function(IDArray) {
		return this.checkButtonArrayState(IDArray,2);
	}
	,anyJustPressedRaw: function(RawIDArray) {
		return this.checkButtonArrayStateRaw(RawIDArray,2);
	}
	,anyJustReleased: function(IDArray) {
		return this.checkButtonArrayState(IDArray,-1);
	}
	,anyJustReleasedRaw: function(RawIDArray) {
		return this.checkButtonArrayStateRaw(RawIDArray,-1);
	}
	,firstPressedID: function() {
		return this.mapping.getID(this.firstPressedRawID());
	}
	,firstPressedRawID: function() {
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null && (button.current == 0 || button.current == -1)) {
				return button.ID;
			}
		}
		return -1;
	}
	,firstJustPressedID: function() {
		return this.mapping.getID(this.firstJustPressedRawID());
	}
	,firstJustPressedRawID: function() {
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null && button.current == 2) {
				return button.ID;
			}
		}
		return -1;
	}
	,firstJustReleasedID: function() {
		return this.mapping.getID(this.firstJustReleasedRawID());
	}
	,firstJustReleasedRawID: function() {
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null && button.current == -1) {
				return button.ID;
			}
		}
		return -1;
	}
	,getAxis: function(AxisButtonID) {
		var axisValue = this.getAxisValue(this.mapping.getRawID(AxisButtonID));
		if(Math.abs(axisValue) > this.get_deadZone()) {
			return axisValue;
		} else {
			return 0;
		}
	}
	,getAxisRaw: function(RawAxisID) {
		var axisValue = this.getAxisValue(RawAxisID);
		if(Math.abs(axisValue) > this.get_deadZone()) {
			return axisValue;
		}
		return 0;
	}
	,isAxisForAnalogStick: function(AxisIndex) {
		var leftStick = this.mapping.leftStick;
		var rightStick = this.mapping.rightStick;
		if(leftStick != null) {
			if(AxisIndex == leftStick.x || AxisIndex == leftStick.y) {
				return true;
			}
		}
		if(rightStick != null) {
			if(AxisIndex == rightStick.x || AxisIndex == rightStick.y) {
				return true;
			}
		}
		return false;
	}
	,getAnalogStickByAxis: function(AxisIndex) {
		var leftStick = this.mapping.leftStick;
		var rightStick = this.mapping.rightStick;
		if(leftStick != null && AxisIndex == leftStick.x || AxisIndex == leftStick.y) {
			return leftStick;
		}
		if(rightStick != null && AxisIndex == rightStick.x || AxisIndex == rightStick.y) {
			return rightStick;
		}
		return null;
	}
	,getXAxis: function(AxesButtonID) {
		return this.getAnalogXAxisValue(this.mapping.getAnalogStick(AxesButtonID));
	}
	,getXAxisRaw: function(Stick) {
		return this.getAnalogXAxisValue(Stick);
	}
	,getYAxis: function(AxesButtonID) {
		return this.getYAxisRaw(this.mapping.getAnalogStick(AxesButtonID));
	}
	,getYAxisRaw: function(Stick) {
		return this.getAnalogYAxisValue(Stick);
	}
	,getAnalogAxes: function(AxesButtonID) {
		var x = this.getAnalogXAxisValue(this.mapping.getAnalogStick(AxesButtonID));
		var y = this.getYAxisRaw(this.mapping.getAnalogStick(AxesButtonID));
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		var X = x;
		var Y = y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		return point;
	}
	,anyButton: function(state) {
		if(state == null) {
			state = 1;
		}
		var _g = 0;
		var _g1 = this.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			if(button != null && button.hasState(state)) {
				return true;
			}
		}
		return false;
	}
	,anyInput: function() {
		if(this.anyButton()) {
			return true;
		}
		var numAxis = this.axis.length;
		var _g = 0;
		var _g1 = numAxis;
		while(_g < _g1) {
			var i = _g++;
			if(this.axis[0] != 0) {
				return true;
			}
		}
		return false;
	}
	,getAxisValue: function(AxisID) {
		var axisValue = 0;
		if(AxisID == -1) {
			return 0;
		}
		var tmp;
		if(this._device != null && this._device.enabled) {
			var Max = this._device.get_numControls() - 1;
			tmp = AxisID >= 0 && (Max == null || AxisID <= Max);
		} else {
			tmp = false;
		}
		if(tmp) {
			axisValue = this._device.getControlAt(AxisID).value;
		}
		if(this.isAxisForAnalogStick(AxisID)) {
			var axisValue1 = axisValue;
			if(this.mapping.isAxisFlipped(AxisID)) {
				axisValue1 *= -1;
			}
			axisValue = axisValue1;
		}
		return axisValue;
	}
	,getAnalogXAxisValue: function(stick) {
		if(stick == null) {
			return 0;
		}
		if(this.deadZoneMode == flixel_input_gamepad_FlxGamepadDeadZoneMode.CIRCULAR) {
			return this.getAnalogAxisValueCircular(stick,stick.x);
		} else {
			return this.getAnalogAxisValueIndependent(stick.x);
		}
	}
	,getAnalogYAxisValue: function(stick) {
		if(stick == null) {
			return 0;
		}
		if(this.deadZoneMode == flixel_input_gamepad_FlxGamepadDeadZoneMode.CIRCULAR) {
			return this.getAnalogAxisValueCircular(stick,stick.y);
		} else {
			return this.getAnalogAxisValueIndependent(stick.y);
		}
	}
	,getAnalogAxisValueCircular: function(stick,axisID) {
		if(stick == null) {
			return 0;
		}
		var xAxis = this.getAxisValue(stick.x);
		var yAxis = this.getAxisValue(stick.y);
		var x = xAxis;
		var y = yAxis;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		var X = x;
		var Y = y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var vector = point;
		var length = Math.sqrt(vector.x * vector.x + vector.y * vector.y);
		vector.put();
		if(length > this.get_deadZone()) {
			return this.getAxisValue(axisID);
		}
		return 0;
	}
	,getAnalogAxisValueIndependent: function(axisID) {
		var axisValue = this.getAxisValue(axisID);
		if(Math.abs(axisValue) > this.get_deadZone()) {
			return axisValue;
		}
		return 0;
	}
	,handleAxisMove: function(axis,newValue,oldValue) {
		var axisValue = newValue;
		if(this.mapping.isAxisFlipped(axis)) {
			axisValue *= -1;
		}
		newValue = axisValue;
		var axisValue = oldValue;
		if(this.mapping.isAxisFlipped(axis)) {
			axisValue *= -1;
		}
		oldValue = axisValue;
		var leftStick = this.mapping.leftStick;
		var rightStick = this.mapping.rightStick;
		var stick = leftStick != null && axis == leftStick.x || axis == leftStick.y ? leftStick : rightStick != null && axis == rightStick.x || axis == rightStick.y ? rightStick : null;
		if(stick.mode == flixel_input_gamepad_FlxAnalogToDigitalMode.ONLY_DIGITAL || stick.mode == flixel_input_gamepad_FlxAnalogToDigitalMode.BOTH) {
			this.handleAxisMoveSub(stick,axis,newValue,oldValue,1.0);
			this.handleAxisMoveSub(stick,axis,newValue,oldValue,-1.0);
			var tmp = stick.mode == flixel_input_gamepad_FlxAnalogToDigitalMode.ONLY_DIGITAL;
		}
	}
	,handleAxisMoveSub: function(stick,axis,value,oldValue,sign) {
		if(sign == null) {
			sign = 1.0;
		}
		var digitalButton = -1;
		if(axis == stick.x) {
			digitalButton = sign < 0 ? stick.rawLeft : stick.rawRight;
		} else if(axis == stick.y) {
			digitalButton = sign < 0 ? stick.rawUp : stick.rawDown;
		}
		var threshold = stick.digitalThreshold;
		var valueSign = value * sign;
		var oldValueSign = oldValue * sign;
		if(valueSign > threshold && oldValueSign <= threshold) {
			var btn = this.getButton(digitalButton);
			if(btn != null) {
				btn.press();
			}
		} else if(valueSign <= threshold && oldValueSign > threshold) {
			var btn = this.getButton(digitalButton);
			if(btn != null) {
				btn.release();
			}
		}
	}
	,createMappingForModel: function(model) {
		switch(model._hx_index) {
		case 0:
			return new flixel_input_gamepad_mappings_LogitechMapping(this.attachment);
		case 1:
			return new flixel_input_gamepad_mappings_OUYAMapping(this.attachment);
		case 2:
			return new flixel_input_gamepad_mappings_PS4Mapping(this.attachment);
		case 3:
			return new flixel_input_gamepad_mappings_PSVitaMapping(this.attachment);
		case 4:
			return new flixel_input_gamepad_mappings_XInputMapping(this.attachment);
		case 5:
			return new flixel_input_gamepad_mappings_MayflashWiiRemoteMapping(this.attachment);
		case 6:
			return new flixel_input_gamepad_mappings_WiiRemoteMapping(this.attachment);
		case 7:
			return new flixel_input_gamepad_mappings_MFiMapping(this.attachment);
		case 8:
			return new flixel_input_gamepad_mappings_SwitchProMapping(this.attachment);
		case 9:
			return new flixel_input_gamepad_mappings_SwitchJoyconLeftMapping(this.attachment);
		case 10:
			return new flixel_input_gamepad_mappings_SwitchJoyconRightMapping(this.attachment);
		default:
			return new flixel_input_gamepad_mappings_XInputMapping(this.attachment);
		}
	}
	,get_name: function() {
		if(this._device == null) {
			return null;
		}
		return this._device.name;
	}
	,set_model: function(Model) {
		this.model = Model;
		this.mapping = this.createMappingForModel(this.model);
		return this.model;
	}
	,set_attachment: function(Attachment) {
		this.attachment = Attachment;
		this.mapping.set_attachment(Attachment);
		return this.attachment;
	}
	,get_deadZone: function() {
		if(this.manager == null || this.manager.globalDeadZone == null) {
			return this._deadZone;
		} else {
			return this.manager.globalDeadZone;
		}
	}
	,set_deadZone: function(deadZone) {
		return this._deadZone = deadZone;
	}
	,getInputLabel: function(id) {
		return this.mapping.getInputLabel(id);
	}
	,toString: function() {
		var value = this.id;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "id";
		_this.value = value;
		var value = this.model;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "model";
		_this1.value = value;
		var value = this.get_deadZone();
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "deadZone";
		_this2.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2]);
	}
	,__class__: flixel_input_gamepad_FlxGamepad
	,__properties__: {set_deadZone:"set_deadZone",get_deadZone:"get_deadZone",set_attachment:"set_attachment",set_model:"set_model",get_name:"get_name"}
};
var flixel_input_gamepad_FlxGamepadDeadZoneMode = $hxEnums["flixel.input.gamepad.FlxGamepadDeadZoneMode"] = { __ename__:"flixel.input.gamepad.FlxGamepadDeadZoneMode",__constructs__:null
	,INDEPENDENT_AXES: {_hx_name:"INDEPENDENT_AXES",_hx_index:0,__enum__:"flixel.input.gamepad.FlxGamepadDeadZoneMode",toString:$estr}
	,CIRCULAR: {_hx_name:"CIRCULAR",_hx_index:1,__enum__:"flixel.input.gamepad.FlxGamepadDeadZoneMode",toString:$estr}
};
flixel_input_gamepad_FlxGamepadDeadZoneMode.__constructs__ = [flixel_input_gamepad_FlxGamepadDeadZoneMode.INDEPENDENT_AXES,flixel_input_gamepad_FlxGamepadDeadZoneMode.CIRCULAR];
var flixel_input_gamepad_FlxGamepadModel = $hxEnums["flixel.input.gamepad.FlxGamepadModel"] = { __ename__:"flixel.input.gamepad.FlxGamepadModel",__constructs__:null
	,LOGITECH: {_hx_name:"LOGITECH",_hx_index:0,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,OUYA: {_hx_name:"OUYA",_hx_index:1,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,PS4: {_hx_name:"PS4",_hx_index:2,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,PSVITA: {_hx_name:"PSVITA",_hx_index:3,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,XINPUT: {_hx_name:"XINPUT",_hx_index:4,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,MAYFLASH_WII_REMOTE: {_hx_name:"MAYFLASH_WII_REMOTE",_hx_index:5,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,WII_REMOTE: {_hx_name:"WII_REMOTE",_hx_index:6,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,MFI: {_hx_name:"MFI",_hx_index:7,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,SWITCH_PRO: {_hx_name:"SWITCH_PRO",_hx_index:8,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,SWITCH_JOYCON_LEFT: {_hx_name:"SWITCH_JOYCON_LEFT",_hx_index:9,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,SWITCH_JOYCON_RIGHT: {_hx_name:"SWITCH_JOYCON_RIGHT",_hx_index:10,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
	,UNKNOWN: {_hx_name:"UNKNOWN",_hx_index:11,__enum__:"flixel.input.gamepad.FlxGamepadModel",toString:$estr}
};
flixel_input_gamepad_FlxGamepadModel.__constructs__ = [flixel_input_gamepad_FlxGamepadModel.LOGITECH,flixel_input_gamepad_FlxGamepadModel.OUYA,flixel_input_gamepad_FlxGamepadModel.PS4,flixel_input_gamepad_FlxGamepadModel.PSVITA,flixel_input_gamepad_FlxGamepadModel.XINPUT,flixel_input_gamepad_FlxGamepadModel.MAYFLASH_WII_REMOTE,flixel_input_gamepad_FlxGamepadModel.WII_REMOTE,flixel_input_gamepad_FlxGamepadModel.MFI,flixel_input_gamepad_FlxGamepadModel.SWITCH_PRO,flixel_input_gamepad_FlxGamepadModel.SWITCH_JOYCON_LEFT,flixel_input_gamepad_FlxGamepadModel.SWITCH_JOYCON_RIGHT,flixel_input_gamepad_FlxGamepadModel.UNKNOWN];
var flixel_input_gamepad_FlxGamepadAttachment = $hxEnums["flixel.input.gamepad.FlxGamepadAttachment"] = { __ename__:"flixel.input.gamepad.FlxGamepadAttachment",__constructs__:null
	,WII_NUNCHUCK: {_hx_name:"WII_NUNCHUCK",_hx_index:0,__enum__:"flixel.input.gamepad.FlxGamepadAttachment",toString:$estr}
	,WII_CLASSIC_CONTROLLER: {_hx_name:"WII_CLASSIC_CONTROLLER",_hx_index:1,__enum__:"flixel.input.gamepad.FlxGamepadAttachment",toString:$estr}
	,NONE: {_hx_name:"NONE",_hx_index:2,__enum__:"flixel.input.gamepad.FlxGamepadAttachment",toString:$estr}
};
flixel_input_gamepad_FlxGamepadAttachment.__constructs__ = [flixel_input_gamepad_FlxGamepadAttachment.WII_NUNCHUCK,flixel_input_gamepad_FlxGamepadAttachment.WII_CLASSIC_CONTROLLER,flixel_input_gamepad_FlxGamepadAttachment.NONE];
var flixel_input_gamepad_FlxGamepadAnalogStick = function(x,y,settings) {
	this.mode = flixel_input_gamepad_FlxAnalogToDigitalMode.BOTH;
	this.digitalThreshold = 0.5;
	this.rawRight = -1;
	this.rawLeft = -1;
	this.rawDown = -1;
	this.rawUp = -1;
	this.x = x;
	this.y = y;
	if(settings == null) {
		return;
	}
	this.mode = settings.mode != null ? settings.mode : flixel_input_gamepad_FlxAnalogToDigitalMode.BOTH;
	this.rawUp = settings.up != null ? settings.up : -1;
	this.rawDown = settings.down != null ? settings.down : -1;
	this.rawLeft = settings.left != null ? settings.left : -1;
	this.rawRight = settings.right != null ? settings.right : -1;
	this.digitalThreshold = settings.threshold != null ? settings.threshold : 0.5;
};
$hxClasses["flixel.input.gamepad.FlxGamepadAnalogStick"] = flixel_input_gamepad_FlxGamepadAnalogStick;
flixel_input_gamepad_FlxGamepadAnalogStick.__name__ = "flixel.input.gamepad.FlxGamepadAnalogStick";
flixel_input_gamepad_FlxGamepadAnalogStick.prototype = {
	x: null
	,y: null
	,rawUp: null
	,rawDown: null
	,rawLeft: null
	,rawRight: null
	,digitalThreshold: null
	,mode: null
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		var value = this.rawUp;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "rawUp";
		_this2.value = value;
		var value = this.rawDown;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "rawDown";
		_this3.value = value;
		var value = this.rawLeft;
		var _this4 = flixel_util_LabelValuePair._pool.get();
		_this4.label = "rawLeft";
		_this4.value = value;
		var value = this.rawRight;
		var _this5 = flixel_util_LabelValuePair._pool.get();
		_this5.label = "rawRight";
		_this5.value = value;
		var value = this.digitalThreshold;
		var _this6 = flixel_util_LabelValuePair._pool.get();
		_this6.label = "digitalThreshold";
		_this6.value = value;
		var value = this.mode;
		var _this7 = flixel_util_LabelValuePair._pool.get();
		_this7.label = "mode";
		_this7.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3,_this4,_this5,_this6,_this7]);
	}
	,__class__: flixel_input_gamepad_FlxGamepadAnalogStick
};
var flixel_input_gamepad_FlxAnalogToDigitalMode = $hxEnums["flixel.input.gamepad.FlxAnalogToDigitalMode"] = { __ename__:"flixel.input.gamepad.FlxAnalogToDigitalMode",__constructs__:null
	,BOTH: {_hx_name:"BOTH",_hx_index:0,__enum__:"flixel.input.gamepad.FlxAnalogToDigitalMode",toString:$estr}
	,ONLY_DIGITAL: {_hx_name:"ONLY_DIGITAL",_hx_index:1,__enum__:"flixel.input.gamepad.FlxAnalogToDigitalMode",toString:$estr}
	,ONLY_ANALOG: {_hx_name:"ONLY_ANALOG",_hx_index:2,__enum__:"flixel.input.gamepad.FlxAnalogToDigitalMode",toString:$estr}
};
flixel_input_gamepad_FlxAnalogToDigitalMode.__constructs__ = [flixel_input_gamepad_FlxAnalogToDigitalMode.BOTH,flixel_input_gamepad_FlxAnalogToDigitalMode.ONLY_DIGITAL,flixel_input_gamepad_FlxAnalogToDigitalMode.ONLY_ANALOG];
var flixel_input_gamepad_FlxGamepadButton = function(ID) {
	this.value = 0;
	flixel_input_FlxInput.call(this,ID);
};
$hxClasses["flixel.input.gamepad.FlxGamepadButton"] = flixel_input_gamepad_FlxGamepadButton;
flixel_input_gamepad_FlxGamepadButton.__name__ = "flixel.input.gamepad.FlxGamepadButton";
flixel_input_gamepad_FlxGamepadButton.__super__ = flixel_input_FlxInput;
flixel_input_gamepad_FlxGamepadButton.prototype = $extend(flixel_input_FlxInput.prototype,{
	value: null
	,__class__: flixel_input_gamepad_FlxGamepadButton
});
var flixel_input_gamepad_FlxGamepadInputID = {};
flixel_input_gamepad_FlxGamepadInputID.fromString = function(s) {
	s = s.toUpperCase();
	if(Object.prototype.hasOwnProperty.call(flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h,s)) {
		return flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h[s];
	} else {
		return -1;
	}
};
flixel_input_gamepad_FlxGamepadInputID.toString = function(this1) {
	return flixel_input_gamepad_FlxGamepadInputID.toStringMap.h[this1];
};
var openfl_ui_GameInput = function() {
	openfl_events_EventDispatcher.call(this);
	openfl_ui_GameInput.__instances.push(this);
};
$hxClasses["openfl.ui.GameInput"] = openfl_ui_GameInput;
openfl_ui_GameInput.__name__ = "openfl.ui.GameInput";
openfl_ui_GameInput.getDeviceAt = function(index) {
	if(index >= 0 && index < openfl_ui_GameInput.__deviceList.length) {
		return openfl_ui_GameInput.__deviceList[index];
	}
	return null;
};
openfl_ui_GameInput.__getDevice = function(gamepad) {
	if(gamepad == null) {
		return null;
	}
	if(openfl_ui_GameInput.__devices.h.__keys__[gamepad.__id__] == null) {
		var devices = lime_ui_Joystick.__getDeviceData();
		var device = devices[gamepad.id].id;
		var devices = lime_ui_Joystick.__getDeviceData();
		var device1 = new openfl_ui_GameInputDevice(device,devices[gamepad.id].id);
		openfl_ui_GameInput.__deviceList.push(device1);
		openfl_ui_GameInput.__devices.set(gamepad,device1);
		openfl_ui_GameInput.numDevices = openfl_ui_GameInput.__deviceList.length;
	}
	return openfl_ui_GameInput.__devices.h[gamepad.__id__];
};
openfl_ui_GameInput.__onGamepadAxisMove = function(gamepad,axis,value) {
	var device = openfl_ui_GameInput.__getDevice(gamepad);
	if(device == null) {
		return;
	}
	if(device.enabled) {
		if(!device.__axis.h.hasOwnProperty(axis)) {
			var control;
			if(axis == null) {
				control = "null";
			} else {
				switch(axis) {
				case 0:
					control = "LEFT_X";
					break;
				case 1:
					control = "LEFT_Y";
					break;
				case 2:
					control = "RIGHT_X";
					break;
				case 3:
					control = "RIGHT_Y";
					break;
				case 4:
					control = "TRIGGER_LEFT";
					break;
				case 5:
					control = "TRIGGER_RIGHT";
					break;
				default:
					control = "UNKNOWN (" + axis + ")";
				}
			}
			var control1 = new openfl_ui_GameInputControl(device,"AXIS_" + control,-1,1);
			device.__axis.h[axis] = control1;
			device.__controls.push(control1);
		}
		var control = device.__axis.h[axis];
		control.value = value;
		control.dispatchEvent(new openfl_events_Event("change"));
	}
};
openfl_ui_GameInput.__onGamepadButtonDown = function(gamepad,button) {
	var device = openfl_ui_GameInput.__getDevice(gamepad);
	if(device == null) {
		return;
	}
	if(device.enabled) {
		if(!device.__button.h.hasOwnProperty(button)) {
			var control;
			if(button == null) {
				control = "null";
			} else {
				switch(button) {
				case 0:
					control = "A";
					break;
				case 1:
					control = "B";
					break;
				case 2:
					control = "X";
					break;
				case 3:
					control = "Y";
					break;
				case 4:
					control = "BACK";
					break;
				case 5:
					control = "GUIDE";
					break;
				case 6:
					control = "START";
					break;
				case 7:
					control = "LEFT_STICK";
					break;
				case 8:
					control = "RIGHT_STICK";
					break;
				case 9:
					control = "LEFT_SHOULDER";
					break;
				case 10:
					control = "RIGHT_SHOULDER";
					break;
				case 11:
					control = "DPAD_UP";
					break;
				case 12:
					control = "DPAD_DOWN";
					break;
				case 13:
					control = "DPAD_LEFT";
					break;
				case 14:
					control = "DPAD_RIGHT";
					break;
				default:
					control = "UNKNOWN (" + button + ")";
				}
			}
			var control1 = new openfl_ui_GameInputControl(device,"BUTTON_" + control,0,1);
			device.__button.h[button] = control1;
			device.__controls.push(control1);
		}
		var control = device.__button.h[button];
		control.value = 1;
		control.dispatchEvent(new openfl_events_Event("change"));
	}
};
openfl_ui_GameInput.__onGamepadButtonUp = function(gamepad,button) {
	var device = openfl_ui_GameInput.__getDevice(gamepad);
	if(device == null) {
		return;
	}
	if(device.enabled) {
		if(!device.__button.h.hasOwnProperty(button)) {
			var control;
			if(button == null) {
				control = "null";
			} else {
				switch(button) {
				case 0:
					control = "A";
					break;
				case 1:
					control = "B";
					break;
				case 2:
					control = "X";
					break;
				case 3:
					control = "Y";
					break;
				case 4:
					control = "BACK";
					break;
				case 5:
					control = "GUIDE";
					break;
				case 6:
					control = "START";
					break;
				case 7:
					control = "LEFT_STICK";
					break;
				case 8:
					control = "RIGHT_STICK";
					break;
				case 9:
					control = "LEFT_SHOULDER";
					break;
				case 10:
					control = "RIGHT_SHOULDER";
					break;
				case 11:
					control = "DPAD_UP";
					break;
				case 12:
					control = "DPAD_DOWN";
					break;
				case 13:
					control = "DPAD_LEFT";
					break;
				case 14:
					control = "DPAD_RIGHT";
					break;
				default:
					control = "UNKNOWN (" + button + ")";
				}
			}
			var control1 = new openfl_ui_GameInputControl(device,"BUTTON_" + control,0,1);
			device.__button.h[button] = control1;
			device.__controls.push(control1);
		}
		var control = device.__button.h[button];
		control.value = 0;
		control.dispatchEvent(new openfl_events_Event("change"));
	}
};
openfl_ui_GameInput.__onGamepadConnect = function(gamepad) {
	var device = openfl_ui_GameInput.__getDevice(gamepad);
	if(device == null) {
		return;
	}
	var _g = 0;
	var _g1 = openfl_ui_GameInput.__instances;
	while(_g < _g1.length) {
		var instance = _g1[_g];
		++_g;
		instance.dispatchEvent(new openfl_events_GameInputEvent("deviceAdded",true,false,device));
	}
};
openfl_ui_GameInput.__onGamepadDisconnect = function(gamepad) {
	var device = openfl_ui_GameInput.__devices.h[gamepad.__id__];
	if(device != null) {
		if(openfl_ui_GameInput.__devices.h.__keys__[gamepad.__id__] != null) {
			HxOverrides.remove(openfl_ui_GameInput.__deviceList,openfl_ui_GameInput.__devices.h[gamepad.__id__]);
			openfl_ui_GameInput.__devices.remove(gamepad);
		}
		openfl_ui_GameInput.numDevices = openfl_ui_GameInput.__deviceList.length;
		var _g = 0;
		var _g1 = openfl_ui_GameInput.__instances;
		while(_g < _g1.length) {
			var instance = _g1[_g];
			++_g;
			instance.dispatchEvent(new openfl_events_GameInputEvent("deviceRemoved",true,false,device));
		}
	}
};
openfl_ui_GameInput.__super__ = openfl_events_EventDispatcher;
openfl_ui_GameInput.prototype = $extend(openfl_events_EventDispatcher.prototype,{
	addEventListener: function(type,listener,useCapture,priority,useWeakReference) {
		if(useWeakReference == null) {
			useWeakReference = false;
		}
		if(priority == null) {
			priority = 0;
		}
		if(useCapture == null) {
			useCapture = false;
		}
		openfl_events_EventDispatcher.prototype.addEventListener.call(this,type,listener,useCapture,priority,useWeakReference);
		if(type == "deviceAdded") {
			var _g = 0;
			var _g1 = openfl_ui_GameInput.__deviceList;
			while(_g < _g1.length) {
				var device = _g1[_g];
				++_g;
				this.dispatchEvent(new openfl_events_GameInputEvent("deviceAdded",true,false,device));
			}
		}
	}
	,__class__: openfl_ui_GameInput
});
var flixel_input_gamepad_FlxGamepadManager = function() {
	this._activeGamepads = [];
	this._gamepads = [];
	this.deviceConnected = new flixel_util__$FlxSignal_FlxSignal1();
	this.deviceDisconnected = new flixel_util__$FlxSignal_FlxSignal1();
	flixel_input_gamepad_FlxGamepadManager._gameInput.addEventListener("deviceAdded",$bind(this,this.onDeviceAdded));
	flixel_input_gamepad_FlxGamepadManager._gameInput.addEventListener("deviceRemoved",$bind(this,this.onDeviceRemoved));
	var _g = 0;
	var _g1 = openfl_ui_GameInput.numDevices;
	while(_g < _g1) {
		var i = _g++;
		this.addGamepad(openfl_ui_GameInput.getDeviceAt(i));
	}
};
$hxClasses["flixel.input.gamepad.FlxGamepadManager"] = flixel_input_gamepad_FlxGamepadManager;
flixel_input_gamepad_FlxGamepadManager.__name__ = "flixel.input.gamepad.FlxGamepadManager";
flixel_input_gamepad_FlxGamepadManager.__interfaces__ = [flixel_input_IFlxInputManager];
flixel_input_gamepad_FlxGamepadManager.prototype = {
	firstActive: null
	,lastActive: null
	,globalDeadZone: null
	,deviceConnected: null
	,deviceDisconnected: null
	,_gamepads: null
	,_activeGamepads: null
	,getByID: function(GamepadID) {
		return this._activeGamepads[GamepadID];
	}
	,removeByID: function(GamepadID) {
		var gamepad = this._gamepads[GamepadID];
		if(gamepad != null) {
			this._gamepads[GamepadID] = null;
			var i = this._activeGamepads.indexOf(gamepad);
			if(i != -1) {
				this._activeGamepads[i] = null;
				this.deviceDisconnected.dispatch(gamepad);
			}
			flixel_util_FlxDestroyUtil.destroy(gamepad);
		}
		if(this.lastActive == gamepad) {
			this.lastActive = null;
		}
		if(this.firstActive == gamepad) {
			this.firstActive = null;
		}
	}
	,createByID: function(GamepadID,Model) {
		var gamepad = this._gamepads[GamepadID];
		if(gamepad == null) {
			gamepad = new flixel_input_gamepad_FlxGamepad(GamepadID,this,Model);
			this._gamepads[GamepadID] = gamepad;
			var nullFound = false;
			var _g = 0;
			var _g1 = this._activeGamepads.length;
			while(_g < _g1) {
				var i = _g++;
				if(this._activeGamepads[i] == null) {
					this._activeGamepads[i] = gamepad;
					nullFound = true;
					break;
				}
			}
			if(!nullFound) {
				this._activeGamepads.push(gamepad);
			}
		}
		this.lastActive = gamepad;
		if(this.firstActive == null) {
			this.firstActive = gamepad;
		}
		return gamepad;
	}
	,getActiveGamepadIDs: function(IDsArray) {
		if(IDsArray == null) {
			IDsArray = [];
		}
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null && gamepad.anyInput()) {
				IDsArray.push(gamepad.id);
			}
		}
		return IDsArray;
	}
	,getActiveGamepads: function(GamepadArray) {
		if(GamepadArray == null) {
			GamepadArray = [];
		}
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null && gamepad.anyInput()) {
				GamepadArray.push(gamepad);
			}
		}
		return GamepadArray;
	}
	,getFirstActiveGamepadID: function() {
		var firstActive = this.getFirstActiveGamepad();
		if(firstActive == null) {
			return -1;
		} else {
			return firstActive.id;
		}
	}
	,getFirstActiveGamepad: function() {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null && gamepad.anyInput()) {
				return gamepad;
			}
		}
		return null;
	}
	,anyButton: function(state) {
		if(state == null) {
			state = 1;
		}
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null && gamepad.anyButton(state)) {
				return true;
			}
		}
		return false;
	}
	,anyInput: function() {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null && gamepad.anyInput()) {
				return true;
			}
		}
		return false;
	}
	,anyPressed: function(buttonID) {
		return this.anyHasState(buttonID,1);
	}
	,anyJustPressed: function(buttonID) {
		return this.anyHasState(buttonID,2);
	}
	,anyJustReleased: function(buttonID) {
		return this.anyHasState(buttonID,-1);
	}
	,anyHasState: function(buttonID,state) {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			var tmp;
			if(gamepad != null) {
				switch(buttonID) {
				case -2:
					tmp = gamepad.anyButton(state);
					break;
				case -1:
					tmp = !gamepad.anyButton(state);
					break;
				default:
					var RawID = gamepad.mapping.getRawID(buttonID);
					var button = gamepad.buttons[RawID];
					tmp = button != null && button.hasState(state);
				}
			} else {
				tmp = false;
			}
			if(tmp) {
				return true;
			}
		}
		return false;
	}
	,anyMovedXAxis: function(RawAxisID) {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad == null) {
				continue;
			}
			var value = gamepad.getAnalogXAxisValue(RawAxisID);
			if(value != 0) {
				return value;
			}
		}
		return 0;
	}
	,anyMovedYAxis: function(RawAxisID) {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad == null) {
				continue;
			}
			var value = gamepad.getYAxisRaw(RawAxisID);
			if(value != 0) {
				return value;
			}
		}
		return 0;
	}
	,destroy: function() {
		this._gamepads = flixel_util_FlxDestroyUtil.destroyArray(this._gamepads);
		this.firstActive = null;
		this.lastActive = null;
		this._gamepads = null;
		flixel_input_gamepad_FlxGamepadManager._gameInput.removeEventListener("deviceAdded",$bind(this,this.onDeviceAdded));
		flixel_input_gamepad_FlxGamepadManager._gameInput.removeEventListener("deviceRemoved",$bind(this,this.onDeviceRemoved));
	}
	,reset: function() {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null) {
				gamepad.reset();
			}
		}
	}
	,onDeviceAdded: function(Event1) {
		this.addGamepad(Event1.device);
	}
	,onDeviceRemoved: function(Event1) {
		this.removeGamepad(Event1.device);
	}
	,findGamepadIndex: function(Device1) {
		if(Device1 == null) {
			return -1;
		}
		var _g = 0;
		var _g1 = openfl_ui_GameInput.numDevices;
		while(_g < _g1) {
			var i = _g++;
			if(openfl_ui_GameInput.getDeviceAt(i) == Device1) {
				return i;
			}
		}
		return -1;
	}
	,addGamepad: function(Device1) {
		if(Device1 == null) {
			return;
		}
		Device1.enabled = true;
		var id = this.findGamepadIndex(Device1);
		if(id < 0) {
			return;
		}
		var gamepad = this.createByID(id,this.getModelFromDeviceName(Device1.name));
		gamepad._device = Device1;
		this.deviceConnected.dispatch(gamepad);
	}
	,getModelFromDeviceName: function(name) {
		if(name == null) {
			return flixel_input_gamepad_FlxGamepadModel.UNKNOWN;
		}
		name = StringTools.replace(StringTools.replace(name.toLowerCase(),"-",""),"_","");
		if(name.indexOf("ouya") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.OUYA;
		} else if(name.indexOf("wireless controller") != -1 || name.indexOf("ps4") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.PS4;
		} else if(name.indexOf("logitech") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.LOGITECH;
		} else if(name.indexOf("xbox") != -1 && name.indexOf("360") != -1 || name.indexOf("xinput") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.XINPUT;
		} else if(name.indexOf("nintendo rvlcnt01tr") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.WII_REMOTE;
		} else if(name.indexOf("nintendo rvlcnt01") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.WII_REMOTE;
		} else if(name.indexOf("mayflash wiimote pc adapter") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.MAYFLASH_WII_REMOTE;
		} else if(name.indexOf("pro controller") != -1 || name.indexOf("joycon l+r") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.SWITCH_PRO;
		} else if(name.indexOf("joycon (l)") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.SWITCH_JOYCON_LEFT;
		} else if(name.indexOf("joycon (r)") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.SWITCH_JOYCON_RIGHT;
		} else if(name.indexOf("mfi") != -1) {
			return flixel_input_gamepad_FlxGamepadModel.MFI;
		} else {
			return flixel_input_gamepad_FlxGamepadModel.UNKNOWN;
		}
	}
	,removeGamepad: function(Device1) {
		if(Device1 == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._gamepads.length;
		while(_g < _g1) {
			var i = _g++;
			var gamepad = this._gamepads[i];
			if(gamepad != null && gamepad._device == Device1) {
				this.removeByID(i);
			}
		}
	}
	,update: function() {
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null) {
				gamepad.update();
			}
		}
	}
	,onFocus: function() {
	}
	,onFocusLost: function() {
		this.reset();
	}
	,get_numActiveGamepads: function() {
		var count = 0;
		var _g = 0;
		var _g1 = this._gamepads;
		while(_g < _g1.length) {
			var gamepad = _g1[_g];
			++_g;
			if(gamepad != null) {
				++count;
			}
		}
		return count;
	}
	,__class__: flixel_input_gamepad_FlxGamepadManager
	,__properties__: {get_numActiveGamepads:"get_numActiveGamepads"}
};
var flixel_input_gamepad_id_LogitechID = function() { };
$hxClasses["flixel.input.gamepad.id.LogitechID"] = flixel_input_gamepad_id_LogitechID;
flixel_input_gamepad_id_LogitechID.__name__ = "flixel.input.gamepad.id.LogitechID";
var flixel_input_gamepad_id_MFiID = function() { };
$hxClasses["flixel.input.gamepad.id.MFiID"] = flixel_input_gamepad_id_MFiID;
flixel_input_gamepad_id_MFiID.__name__ = "flixel.input.gamepad.id.MFiID";
var flixel_input_gamepad_id_MayflashWiiRemoteID = function() { };
$hxClasses["flixel.input.gamepad.id.MayflashWiiRemoteID"] = flixel_input_gamepad_id_MayflashWiiRemoteID;
flixel_input_gamepad_id_MayflashWiiRemoteID.__name__ = "flixel.input.gamepad.id.MayflashWiiRemoteID";
var flixel_input_gamepad_id_OUYAID = function() { };
$hxClasses["flixel.input.gamepad.id.OUYAID"] = flixel_input_gamepad_id_OUYAID;
flixel_input_gamepad_id_OUYAID.__name__ = "flixel.input.gamepad.id.OUYAID";
var flixel_input_gamepad_id_PS4ID = function() { };
$hxClasses["flixel.input.gamepad.id.PS4ID"] = flixel_input_gamepad_id_PS4ID;
flixel_input_gamepad_id_PS4ID.__name__ = "flixel.input.gamepad.id.PS4ID";
var flixel_input_gamepad_id_PSVitaID = function() { };
$hxClasses["flixel.input.gamepad.id.PSVitaID"] = flixel_input_gamepad_id_PSVitaID;
flixel_input_gamepad_id_PSVitaID.__name__ = "flixel.input.gamepad.id.PSVitaID";
var flixel_input_gamepad_id_SwitchJoyconLeftID = function() { };
$hxClasses["flixel.input.gamepad.id.SwitchJoyconLeftID"] = flixel_input_gamepad_id_SwitchJoyconLeftID;
flixel_input_gamepad_id_SwitchJoyconLeftID.__name__ = "flixel.input.gamepad.id.SwitchJoyconLeftID";
var flixel_input_gamepad_id_SwitchJoyconRightID = function() { };
$hxClasses["flixel.input.gamepad.id.SwitchJoyconRightID"] = flixel_input_gamepad_id_SwitchJoyconRightID;
flixel_input_gamepad_id_SwitchJoyconRightID.__name__ = "flixel.input.gamepad.id.SwitchJoyconRightID";
var flixel_input_gamepad_id_SwitchProID = function() { };
$hxClasses["flixel.input.gamepad.id.SwitchProID"] = flixel_input_gamepad_id_SwitchProID;
flixel_input_gamepad_id_SwitchProID.__name__ = "flixel.input.gamepad.id.SwitchProID";
var flixel_input_gamepad_id_WiiRemoteID = function() { };
$hxClasses["flixel.input.gamepad.id.WiiRemoteID"] = flixel_input_gamepad_id_WiiRemoteID;
flixel_input_gamepad_id_WiiRemoteID.__name__ = "flixel.input.gamepad.id.WiiRemoteID";
var flixel_input_gamepad_id_XInputID = function() { };
$hxClasses["flixel.input.gamepad.id.XInputID"] = flixel_input_gamepad_id_XInputID;
flixel_input_gamepad_id_XInputID.__name__ = "flixel.input.gamepad.id.XInputID";
var flixel_input_gamepad_lists_FlxBaseGamepadList = function(status,gamepad) {
	this.status = status;
	this.gamepad = gamepad;
};
$hxClasses["flixel.input.gamepad.lists.FlxBaseGamepadList"] = flixel_input_gamepad_lists_FlxBaseGamepadList;
flixel_input_gamepad_lists_FlxBaseGamepadList.__name__ = "flixel.input.gamepad.lists.FlxBaseGamepadList";
flixel_input_gamepad_lists_FlxBaseGamepadList.prototype = {
	status: null
	,gamepad: null
	,check: function(id) {
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,checkRaw: function(id) {
		var button = this.gamepad.buttons[id];
		if(button != null) {
			return button.hasState(this.status);
		} else {
			return false;
		}
	}
	,get_ANY: function() {
		var _g = 0;
		var _g1 = this.gamepad.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			var tmp;
			if(button != null) {
				var button1 = this.gamepad.buttons[button.ID];
				tmp = button1 != null && button1.hasState(this.status);
			} else {
				tmp = false;
			}
			if(tmp) {
				return true;
			}
		}
		return false;
	}
	,get_ALL: function() {
		var _g = 0;
		var _g1 = this.gamepad.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			var tmp;
			if(button != null) {
				var button1 = this.gamepad.buttons[button.ID];
				tmp = !(button1 != null && button1.hasState(this.status));
			} else {
				tmp = false;
			}
			if(tmp) {
				return false;
			}
		}
		return true;
	}
	,get_NONE: function() {
		var _g = 0;
		var _g1 = this.gamepad.buttons;
		while(_g < _g1.length) {
			var button = _g1[_g];
			++_g;
			var tmp;
			if(button != null) {
				var button1 = this.gamepad.buttons[button.ID];
				tmp = button1 != null && button1.hasState(this.status);
			} else {
				tmp = false;
			}
			if(tmp) {
				return false;
			}
		}
		return true;
	}
	,__class__: flixel_input_gamepad_lists_FlxBaseGamepadList
	,__properties__: {get_NONE:"get_NONE",get_ALL:"get_ALL",get_ANY:"get_ANY"}
};
var flixel_input_gamepad_lists_FlxGamepadAnalogList = function(gamepad) {
	this.value = new flixel_input_gamepad_lists_FlxGamepadAnalogValueList(gamepad);
	this.justMoved = new flixel_input_gamepad_lists_FlxGamepadAnalogStateList(2,gamepad);
	this.justReleased = new flixel_input_gamepad_lists_FlxGamepadAnalogStateList(-1,gamepad);
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadAnalogList"] = flixel_input_gamepad_lists_FlxGamepadAnalogList;
flixel_input_gamepad_lists_FlxGamepadAnalogList.__name__ = "flixel.input.gamepad.lists.FlxGamepadAnalogList";
flixel_input_gamepad_lists_FlxGamepadAnalogList.prototype = {
	value: null
	,justMoved: null
	,justReleased: null
	,__class__: flixel_input_gamepad_lists_FlxGamepadAnalogList
};
var flixel_input_gamepad_lists_FlxGamepadAnalogStateList = function(status,gamepad) {
	this.status = status;
	this.gamepad = gamepad;
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadAnalogStateList"] = flixel_input_gamepad_lists_FlxGamepadAnalogStateList;
flixel_input_gamepad_lists_FlxGamepadAnalogStateList.__name__ = "flixel.input.gamepad.lists.FlxGamepadAnalogStateList";
flixel_input_gamepad_lists_FlxGamepadAnalogStateList.prototype = {
	gamepad: null
	,status: null
	,get_LEFT_STICK: function() {
		return this.checkXY(19);
	}
	,get_LEFT_STICK_X: function() {
		var stick = this.gamepad.mapping.getAnalogStick(19);
		if(stick == null) {
			return false;
		} else {
			var button = this.gamepad.buttons[stick.x];
			if(button != null) {
				return button.hasState(this.status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_Y: function() {
		var stick = this.gamepad.mapping.getAnalogStick(19);
		if(stick == null) {
			return false;
		} else {
			var button = this.gamepad.buttons[stick.y];
			if(button != null) {
				return button.hasState(this.status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK: function() {
		return this.checkXY(20);
	}
	,get_RIGHT_STICK_X: function() {
		var stick = this.gamepad.mapping.getAnalogStick(20);
		if(stick == null) {
			return false;
		} else {
			var button = this.gamepad.buttons[stick.x];
			if(button != null) {
				return button.hasState(this.status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_Y: function() {
		var stick = this.gamepad.mapping.getAnalogStick(20);
		if(stick == null) {
			return false;
		} else {
			var button = this.gamepad.buttons[stick.y];
			if(button != null) {
				return button.hasState(this.status);
			} else {
				return false;
			}
		}
	}
	,checkXY: function(id) {
		var stick = this.gamepad.mapping.getAnalogStick(id);
		if(stick == null) {
			return false;
		}
		var button = this.gamepad.buttons[stick.x];
		var xVal = button != null && button.hasState(this.status);
		var button = this.gamepad.buttons[stick.y];
		var yVal = button != null && button.hasState(this.status);
		if(xVal && yVal) {
			return true;
		}
		if(xVal) {
			var button = this.gamepad.buttons[stick.y];
			var yReleased = button != null && button.hasState(0);
			var button = this.gamepad.buttons[stick.y];
			var yJustReleased = button != null && button.hasState(-1);
			if(yReleased || yJustReleased) {
				return true;
			}
		}
		if(yVal) {
			var button = this.gamepad.buttons[stick.x];
			var xReleased = button != null && button.hasState(0);
			var button = this.gamepad.buttons[stick.x];
			var xJustReleased = button != null && button.hasState(-1);
			if(xReleased || xJustReleased) {
				return true;
			}
		}
		return false;
	}
	,checkX: function(id) {
		var stick = this.gamepad.mapping.getAnalogStick(id);
		if(stick == null) {
			return false;
		}
		var button = this.gamepad.buttons[stick.x];
		if(button != null) {
			return button.hasState(this.status);
		} else {
			return false;
		}
	}
	,checkY: function(id) {
		var stick = this.gamepad.mapping.getAnalogStick(id);
		if(stick == null) {
			return false;
		}
		var button = this.gamepad.buttons[stick.y];
		if(button != null) {
			return button.hasState(this.status);
		} else {
			return false;
		}
	}
	,checkRaw: function(RawID,Status) {
		var button = this.gamepad.buttons[RawID];
		if(button != null) {
			return button.hasState(Status);
		} else {
			return false;
		}
	}
	,__class__: flixel_input_gamepad_lists_FlxGamepadAnalogStateList
	,__properties__: {get_RIGHT_STICK_Y:"get_RIGHT_STICK_Y",get_RIGHT_STICK_X:"get_RIGHT_STICK_X",get_RIGHT_STICK:"get_RIGHT_STICK",get_LEFT_STICK_Y:"get_LEFT_STICK_Y",get_LEFT_STICK_X:"get_LEFT_STICK_X",get_LEFT_STICK:"get_LEFT_STICK"}
};
var flixel_input_gamepad_lists_FlxGamepadAnalogValueList = function(gamepad) {
	this.gamepad = gamepad;
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadAnalogValueList"] = flixel_input_gamepad_lists_FlxGamepadAnalogValueList;
flixel_input_gamepad_lists_FlxGamepadAnalogValueList.__name__ = "flixel.input.gamepad.lists.FlxGamepadAnalogValueList";
flixel_input_gamepad_lists_FlxGamepadAnalogValueList.prototype = {
	gamepad: null
	,get_LEFT_STICK_X: function() {
		var _this = this.gamepad;
		return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(19));
	}
	,get_LEFT_STICK_Y: function() {
		var _this = this.gamepad;
		return _this.getYAxisRaw(_this.mapping.getAnalogStick(19));
	}
	,get_RIGHT_STICK_X: function() {
		var _this = this.gamepad;
		return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(20));
	}
	,get_RIGHT_STICK_Y: function() {
		var _this = this.gamepad;
		return _this.getYAxisRaw(_this.mapping.getAnalogStick(20));
	}
	,get_LEFT_TRIGGER: function() {
		return this.gamepad.getAxis(17);
	}
	,get_RIGHT_TRIGGER: function() {
		return this.gamepad.getAxis(18);
	}
	,get_POINTER_X: function() {
		return this.gamepad.getAxis(28);
	}
	,get_POINTER_Y: function() {
		return this.gamepad.getAxis(29);
	}
	,getAxis: function(id) {
		return this.gamepad.getAxis(id);
	}
	,getXAxis: function(id) {
		var _this = this.gamepad;
		return _this.getAnalogXAxisValue(_this.mapping.getAnalogStick(id));
	}
	,getYAxis: function(id) {
		var _this = this.gamepad;
		return _this.getYAxisRaw(_this.mapping.getAnalogStick(id));
	}
	,__class__: flixel_input_gamepad_lists_FlxGamepadAnalogValueList
	,__properties__: {get_POINTER_Y:"get_POINTER_Y",get_POINTER_X:"get_POINTER_X",get_RIGHT_TRIGGER:"get_RIGHT_TRIGGER",get_LEFT_TRIGGER:"get_LEFT_TRIGGER",get_RIGHT_STICK_Y:"get_RIGHT_STICK_Y",get_RIGHT_STICK_X:"get_RIGHT_STICK_X",get_LEFT_STICK_Y:"get_LEFT_STICK_Y",get_LEFT_STICK_X:"get_LEFT_STICK_X"}
};
var flixel_input_gamepad_lists_FlxGamepadButtonList = function(status,gamepad) {
	flixel_input_gamepad_lists_FlxBaseGamepadList.call(this,status,gamepad);
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadButtonList"] = flixel_input_gamepad_lists_FlxGamepadButtonList;
flixel_input_gamepad_lists_FlxGamepadButtonList.__name__ = "flixel.input.gamepad.lists.FlxGamepadButtonList";
flixel_input_gamepad_lists_FlxGamepadButtonList.__super__ = flixel_input_gamepad_lists_FlxBaseGamepadList;
flixel_input_gamepad_lists_FlxGamepadButtonList.prototype = $extend(flixel_input_gamepad_lists_FlxBaseGamepadList.prototype,{
	get_A: function() {
		var id = 0;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_B: function() {
		var id = 1;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_X: function() {
		var id = 2;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_Y: function() {
		var id = 3;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_SHOULDER: function() {
		var id = 4;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_SHOULDER: function() {
		var id = 5;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_BACK: function() {
		var id = 6;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_START: function() {
		var id = 7;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_CLICK: function() {
		var id = 8;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_CLICK: function() {
		var id = 9;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_GUIDE: function() {
		var id = 10;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_DPAD_UP: function() {
		var id = 11;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_DPAD_DOWN: function() {
		var id = 12;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_DPAD_LEFT: function() {
		var id = 13;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_DPAD_RIGHT: function() {
		var id = 14;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_TRIGGER_BUTTON: function() {
		var id = 15;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_TRIGGER_BUTTON: function() {
		var id = 16;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_TRIGGER: function() {
		var id = 17;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_TRIGGER: function() {
		var id = 18;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_ANALOG_STICK: function() {
		var id = 19;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_ANALOG_STICK: function() {
		var id = 20;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_DPAD: function() {
		var id = 21;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_TILT_PITCH: function() {
		var id = 26;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_TILT_ROLL: function() {
		var id = 27;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_POINTER_X: function() {
		var id = 28;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_POINTER_Y: function() {
		var id = 29;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_EXTRA_0: function() {
		var id = 30;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_EXTRA_1: function() {
		var id = 31;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_EXTRA_2: function() {
		var id = 32;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_EXTRA_3: function() {
		var id = 33;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_DIGITAL_UP: function() {
		var id = 34;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_DIGITAL_RIGHT: function() {
		var id = 35;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_DIGITAL_DOWN: function() {
		var id = 36;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_LEFT_STICK_DIGITAL_LEFT: function() {
		var id = 37;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_DIGITAL_UP: function() {
		var id = 38;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_DIGITAL_RIGHT: function() {
		var id = 39;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_DIGITAL_DOWN: function() {
		var id = 40;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,get_RIGHT_STICK_DIGITAL_LEFT: function() {
		var id = 41;
		var _this = this.gamepad;
		var Status = this.status;
		switch(id) {
		case -2:
			return _this.anyButton(Status);
		case -1:
			return !_this.anyButton(Status);
		default:
			var RawID = _this.mapping.getRawID(id);
			var button = _this.buttons[RawID];
			if(button != null) {
				return button.hasState(Status);
			} else {
				return false;
			}
		}
	}
	,__class__: flixel_input_gamepad_lists_FlxGamepadButtonList
	,__properties__: $extend(flixel_input_gamepad_lists_FlxBaseGamepadList.prototype.__properties__,{get_RIGHT_STICK_DIGITAL_LEFT:"get_RIGHT_STICK_DIGITAL_LEFT",get_RIGHT_STICK_DIGITAL_DOWN:"get_RIGHT_STICK_DIGITAL_DOWN",get_RIGHT_STICK_DIGITAL_RIGHT:"get_RIGHT_STICK_DIGITAL_RIGHT",get_RIGHT_STICK_DIGITAL_UP:"get_RIGHT_STICK_DIGITAL_UP",get_LEFT_STICK_DIGITAL_LEFT:"get_LEFT_STICK_DIGITAL_LEFT",get_LEFT_STICK_DIGITAL_DOWN:"get_LEFT_STICK_DIGITAL_DOWN",get_LEFT_STICK_DIGITAL_RIGHT:"get_LEFT_STICK_DIGITAL_RIGHT",get_LEFT_STICK_DIGITAL_UP:"get_LEFT_STICK_DIGITAL_UP",get_EXTRA_3:"get_EXTRA_3",get_EXTRA_2:"get_EXTRA_2",get_EXTRA_1:"get_EXTRA_1",get_EXTRA_0:"get_EXTRA_0",get_POINTER_Y:"get_POINTER_Y",get_POINTER_X:"get_POINTER_X",get_TILT_ROLL:"get_TILT_ROLL",get_TILT_PITCH:"get_TILT_PITCH",get_DPAD:"get_DPAD",get_RIGHT_ANALOG_STICK:"get_RIGHT_ANALOG_STICK",get_LEFT_ANALOG_STICK:"get_LEFT_ANALOG_STICK",get_RIGHT_TRIGGER:"get_RIGHT_TRIGGER",get_LEFT_TRIGGER:"get_LEFT_TRIGGER",get_RIGHT_TRIGGER_BUTTON:"get_RIGHT_TRIGGER_BUTTON",get_LEFT_TRIGGER_BUTTON:"get_LEFT_TRIGGER_BUTTON",get_DPAD_RIGHT:"get_DPAD_RIGHT",get_DPAD_LEFT:"get_DPAD_LEFT",get_DPAD_DOWN:"get_DPAD_DOWN",get_DPAD_UP:"get_DPAD_UP",get_GUIDE:"get_GUIDE",get_RIGHT_STICK_CLICK:"get_RIGHT_STICK_CLICK",get_LEFT_STICK_CLICK:"get_LEFT_STICK_CLICK",get_START:"get_START",get_BACK:"get_BACK",get_RIGHT_SHOULDER:"get_RIGHT_SHOULDER",get_LEFT_SHOULDER:"get_LEFT_SHOULDER",get_Y:"get_Y",get_X:"get_X",get_B:"get_B",get_A:"get_A"})
});
var flixel_input_gamepad_lists_FlxGamepadMotionValueList = function(gamepad) {
	this.gamepad = gamepad;
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadMotionValueList"] = flixel_input_gamepad_lists_FlxGamepadMotionValueList;
flixel_input_gamepad_lists_FlxGamepadMotionValueList.__name__ = "flixel.input.gamepad.lists.FlxGamepadMotionValueList";
flixel_input_gamepad_lists_FlxGamepadMotionValueList.prototype = {
	gamepad: null
	,get_TILT_PITCH: function() {
		if(!this.gamepad.mapping.supportsMotion) {
			return 0;
		} else {
			return this.gamepad.getAxis(26);
		}
	}
	,get_TILT_ROLL: function() {
		if(!this.gamepad.mapping.supportsMotion) {
			return 0;
		} else {
			return this.gamepad.getAxis(27);
		}
	}
	,getAxis: function(id) {
		if(!this.gamepad.mapping.supportsMotion) {
			return 0;
		}
		return this.gamepad.getAxis(id);
	}
	,get_isSupported: function() {
		return this.gamepad.mapping.supportsMotion;
	}
	,__class__: flixel_input_gamepad_lists_FlxGamepadMotionValueList
	,__properties__: {get_TILT_ROLL:"get_TILT_ROLL",get_TILT_PITCH:"get_TILT_PITCH",get_isSupported:"get_isSupported"}
};
var flixel_input_gamepad_lists_FlxGamepadPointerValueList = function(gamepad) {
	this.gamepad = gamepad;
};
$hxClasses["flixel.input.gamepad.lists.FlxGamepadPointerValueList"] = flixel_input_gamepad_lists_FlxGamepadPointerValueList;
flixel_input_gamepad_lists_FlxGamepadPointerValueList.__name__ = "flixel.input.gamepad.lists.FlxGamepadPointerValueList";
flixel_input_gamepad_lists_FlxGamepadPointerValueList.prototype = {
	gamepad: null
	,get_X: function() {
		if(!this.gamepad.mapping.supportsPointer) {
			return 0;
		} else {
			return this.gamepad.getAxis(28);
		}
	}
	,get_Y: function() {
		if(!this.gamepad.mapping.supportsPointer) {
			return 0;
		} else {
			return this.gamepad.getAxis(29);
		}
	}
	,getAxis: function(id) {
		if(!this.gamepad.mapping.supportsPointer) {
			return 0;
		}
		return this.gamepad.getAxis(id);
	}
	,get_isSupported: function() {
		return this.gamepad.mapping.supportsPointer;
	}
	,__class__: flixel_input_gamepad_lists_FlxGamepadPointerValueList
	,__properties__: {get_Y:"get_Y",get_X:"get_X",get_isSupported:"get_isSupported"}
};
var flixel_input_gamepad_mappings_FlxGamepadMapping = function(attachment) {
	this.attachment = flixel_input_gamepad_FlxGamepadAttachment.NONE;
	this.supportsPointer = false;
	this.supportsMotion = false;
	if(attachment != null) {
		this.set_attachment(attachment);
	}
	this.initValues();
};
$hxClasses["flixel.input.gamepad.mappings.FlxGamepadMapping"] = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_FlxGamepadMapping.__name__ = "flixel.input.gamepad.mappings.FlxGamepadMapping";
flixel_input_gamepad_mappings_FlxGamepadMapping.prototype = {
	supportsMotion: null
	,supportsPointer: null
	,leftStick: null
	,rightStick: null
	,attachment: null
	,manufacturer: null
	,initValues: function() {
	}
	,getAnalogStick: function(ID) {
		switch(ID) {
		case 19:
			return this.leftStick;
		case 20:
			return this.rightStick;
		default:
			return null;
		}
	}
	,getID: function(rawID) {
		return -1;
	}
	,getRawID: function(ID) {
		return -1;
	}
	,isAxisFlipped: function(axisID) {
		return false;
	}
	,isAxisForMotion: function(ID) {
		return false;
	}
	,set_attachment: function(attachment) {
		return this.attachment = attachment;
	}
	,getInputLabel: function(id) {
		if(this.getRawID(id) == -1) {
			return null;
		}
		switch(id) {
		case 0:
			return "a";
		case 1:
			return "b";
		case 2:
			return "x";
		case 3:
			return "y";
		case 4:
			return "lb";
		case 5:
			return "rb";
		case 6:
			return "back";
		case 7:
			return "start";
		case 8:
			return "ls-click";
		case 9:
			return "rs-click";
		case 10:
			return "guide";
		case 11:
			return "up";
		case 12:
			return "down";
		case 13:
			return "left";
		case 14:
			return "right";
		case 15:
			return "l2-click";
		case 16:
			return "r2-click";
		case 17:
			return "lt";
		case 18:
			return "rt";
		case 19:
			return "ls";
		case 20:
			return "rs";
		case 21:
			return "dpad";
		case 34:
			return "ls-up";
		case 35:
			return "ls-right";
		case 36:
			return "ls-down";
		case 37:
			return "ls-left";
		case 38:
			return "rs-up";
		case 39:
			return "rs-right";
		case 40:
			return "rs-down";
		case 41:
			return "rs-left";
		default:
			return null;
		}
	}
	,__class__: flixel_input_gamepad_mappings_FlxGamepadMapping
	,__properties__: {set_attachment:"set_attachment"}
};
var flixel_input_gamepad_mappings_Manufacturer = $hxEnums["flixel.input.gamepad.mappings.Manufacturer"] = { __ename__:"flixel.input.gamepad.mappings.Manufacturer",__constructs__:null
	,GooglePepper: {_hx_name:"GooglePepper",_hx_index:0,__enum__:"flixel.input.gamepad.mappings.Manufacturer",toString:$estr}
	,AdobeWindows: {_hx_name:"AdobeWindows",_hx_index:1,__enum__:"flixel.input.gamepad.mappings.Manufacturer",toString:$estr}
	,Unknown: {_hx_name:"Unknown",_hx_index:2,__enum__:"flixel.input.gamepad.mappings.Manufacturer",toString:$estr}
};
flixel_input_gamepad_mappings_Manufacturer.__constructs__ = [flixel_input_gamepad_mappings_Manufacturer.GooglePepper,flixel_input_gamepad_mappings_Manufacturer.AdobeWindows,flixel_input_gamepad_mappings_Manufacturer.Unknown];
flixel_input_gamepad_mappings_Manufacturer.__meta__ = { obj : { SuppressWarnings : ["checkstyle:MemberName"]}};
var flixel_input_gamepad_mappings_LogitechMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.LogitechMapping"] = flixel_input_gamepad_mappings_LogitechMapping;
flixel_input_gamepad_mappings_LogitechMapping.__name__ = "flixel.input.gamepad.mappings.LogitechMapping";
flixel_input_gamepad_mappings_LogitechMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_LogitechMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_LogitechID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_LogitechID.RIGHT_ANALOG_STICK;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case -5:
			return 10;
		case 0:
			return 2;
		case 1:
			return 0;
		case 2:
			return 1;
		case 3:
			return 3;
		case 4:
			return 4;
		case 5:
			return 5;
		case 6:
			return 17;
		case 7:
			return 18;
		case 8:
			return 6;
		case 9:
			return 7;
		case 10:
			return 8;
		case 11:
			return 9;
		case 16:
			return 11;
		case 17:
			return 12;
		case 18:
			return 13;
		case 19:
			return 14;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 1;
		case 1:
			return 2;
		case 2:
			return 0;
		case 3:
			return 3;
		case 4:
			return 4;
		case 5:
			return 5;
		case 6:
			return 8;
		case 7:
			return 9;
		case 8:
			return 10;
		case 9:
			return 11;
		case 10:
			return -5;
		case 11:
			return 16;
		case 12:
			return 17;
		case 13:
			return 18;
		case 14:
			return 19;
		case 17:
			return 6;
		case 18:
			return 7;
		case 34:
			return flixel_input_gamepad_id_LogitechID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_LogitechID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_LogitechID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_LogitechID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_LogitechID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_LogitechID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_LogitechID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_LogitechID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "2";
		case 1:
			return "3";
		case 2:
			return "1";
		case 3:
			return "4";
		case 4:
			return "5";
		case 5:
			return "6";
		case 6:
			return "9";
		case 7:
			return "10";
		case 10:
			return "logitech";
		case 17:
			return "7";
		case 18:
			return "8";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_LogitechMapping
});
var flixel_input_gamepad_mappings_MFiMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.MFiMapping"] = flixel_input_gamepad_mappings_MFiMapping;
flixel_input_gamepad_mappings_MFiMapping.__name__ = "flixel.input.gamepad.mappings.MFiMapping";
flixel_input_gamepad_mappings_MFiMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_MFiMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_MFiID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_MFiID.RIGHT_ANALOG_STICK;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 6;
		case 11:
			return 10;
		case 12:
			return 7;
		case 13:
			return 8;
		case 14:
			return 9;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 10;
		case 7:
			return 12;
		case 8:
			return 13;
		case 9:
			return 14;
		case 10:
			return 11;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 17:
			return 4;
		case 18:
			return 5;
		case 34:
			return flixel_input_gamepad_id_MFiID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_MFiID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_MFiID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_MFiID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_MFiID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_MFiID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_MFiID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_MFiID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,__class__: flixel_input_gamepad_mappings_MFiMapping
});
var flixel_input_gamepad_mappings_MayflashWiiRemoteMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.MayflashWiiRemoteMapping"] = flixel_input_gamepad_mappings_MayflashWiiRemoteMapping;
flixel_input_gamepad_mappings_MayflashWiiRemoteMapping.__name__ = "flixel.input.gamepad.mappings.MayflashWiiRemoteMapping";
flixel_input_gamepad_mappings_MayflashWiiRemoteMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_MayflashWiiRemoteMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.supportsPointer = true;
	}
	,getID: function(rawID) {
		switch(this.attachment._hx_index) {
		case 0:
			return this.getIDNunchuk(rawID);
		case 1:
			return this.getIDClassicController(rawID);
		case 2:
			return this.getIDDefault(rawID);
		}
	}
	,getIDClassicController: function(rawID) {
		switch(rawID) {
		case 4:
			return 11;
		case 5:
			return 12;
		case 6:
			return 13;
		case 7:
			return 14;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 0;
		case 11:
			return 1;
		case 12:
			return 17;
		case 13:
			return 18;
		case 14:
			return 4;
		case 15:
			return 5;
		case 16:
			return 6;
		case 17:
			return 7;
		case 19:
			return 10;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getIDNunchuk: function(rawID) {
		switch(rawID) {
		case 4:
			return 11;
		case 5:
			return 12;
		case 6:
			return 13;
		case 7:
			return 14;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 0;
		case 11:
			return 1;
		case 12:
			return 6;
		case 13:
			return 7;
		case 14:
			return 17;
		case 15:
			return 4;
		case 19:
			return 10;
		default:
			var tmp = rawID == flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawUp;
			var tmp = rawID == flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawDown;
			var tmp = rawID == flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
			var tmp = rawID == flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawRight;
			return -1;
		}
	}
	,getIDDefault: function(rawID) {
		switch(rawID) {
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 0;
		case 11:
			return 1;
		case 12:
			return 6;
		case 13:
			return 7;
		case 19:
			return 10;
		case 22:
			return 11;
		case 23:
			return 12;
		case 24:
			return 13;
		case 25:
			return 14;
		default:
			return -1;
		}
	}
	,getRawID: function(ID) {
		switch(this.attachment._hx_index) {
		case 0:
			return this.getRawNunchuk(ID);
		case 1:
			return this.getRawClassicController(ID);
		case 2:
			return this.getRawDefault(ID);
		}
	}
	,getRawClassicController: function(ID) {
		switch(ID) {
		case 0:
			return 10;
		case 1:
			return 11;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 14;
		case 5:
			return 15;
		case 6:
			return 16;
		case 7:
			return 17;
		case 10:
			return 19;
		case 11:
			return 4;
		case 12:
			return 5;
		case 13:
			return 6;
		case 14:
			return 7;
		case 17:
			return 12;
		case 18:
			return 13;
		case 30:
			return -1;
		case 31:
			return -1;
		case 34:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return this.getRawDefault(ID);
		}
	}
	,getRawNunchuk: function(ID) {
		switch(ID) {
		case 0:
			return 10;
		case 1:
			return 11;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 6:
			return 12;
		case 7:
			return 13;
		case 10:
			return 19;
		case 11:
			return 4;
		case 12:
			return 5;
		case 13:
			return 6;
		case 14:
			return 7;
		case 17:
			return 14;
		case 28:
			return 2;
		case 29:
			return 3;
		case 34:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getRawDefault: function(ID) {
		switch(ID) {
		case 0:
			return 10;
		case 1:
			return 11;
		case 2:
			return 8;
		case 3:
			return 9;
		case 6:
			return 12;
		case 7:
			return 13;
		case 10:
			return 19;
		case 11:
			return 22;
		case 12:
			return 23;
		case 13:
			return 24;
		case 14:
			return 25;
		default:
			return -1;
		}
	}
	,set_attachment: function(attachment) {
		var tmp;
		switch(attachment._hx_index) {
		case 0:case 1:
			tmp = flixel_input_gamepad_id_MayflashWiiRemoteID.LEFT_ANALOG_STICK;
			break;
		case 2:
			tmp = flixel_input_gamepad_id_MayflashWiiRemoteID.REMOTE_DPAD;
			break;
		}
		this.leftStick = tmp;
		this.rightStick = attachment._hx_index == 1 ? flixel_input_gamepad_id_MayflashWiiRemoteID.RIGHT_ANALOG_STICK : null;
		return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.set_attachment.call(this,attachment);
	}
	,getInputLabel: function(id) {
		var label = flixel_input_gamepad_mappings_WiiRemoteMapping.getWiiInputLabel(id,this.attachment);
		if(label == null) {
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
		return label;
	}
	,__class__: flixel_input_gamepad_mappings_MayflashWiiRemoteMapping
});
var flixel_input_gamepad_mappings_OUYAMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.OUYAMapping"] = flixel_input_gamepad_mappings_OUYAMapping;
flixel_input_gamepad_mappings_OUYAMapping.__name__ = "flixel.input.gamepad.mappings.OUYAMapping";
flixel_input_gamepad_mappings_OUYAMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_OUYAMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_OUYAID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_OUYAID.RIGHT_ANALOG_STICK;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 4:
			return 17;
		case 5:
			return 18;
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 13:
			return 8;
		case 14:
			return 9;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		case 16777234:
			return 10;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 8:
			return 13;
		case 9:
			return 14;
		case 10:
			return 16777234;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 17:
			return 4;
		case 18:
			return 5;
		case 34:
			return flixel_input_gamepad_id_OUYAID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_OUYAID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_OUYAID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_OUYAID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_OUYAID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_OUYAID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_OUYAID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_OUYAID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "o";
		case 1:
			return "a";
		case 2:
			return "u";
		case 3:
			return "y";
		case 10:
			return "home";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_OUYAMapping
});
var flixel_input_gamepad_mappings_PS4Mapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.PS4Mapping"] = flixel_input_gamepad_mappings_PS4Mapping;
flixel_input_gamepad_mappings_PS4Mapping.__name__ = "flixel.input.gamepad.mappings.PS4Mapping";
flixel_input_gamepad_mappings_PS4Mapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_PS4Mapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_PS4ID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_PS4ID.RIGHT_ANALOG_STICK;
		this.supportsMotion = true;
		this.supportsPointer = true;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 6;
		case 11:
			return 10;
		case 12:
			return 7;
		case 13:
			return 8;
		case 14:
			return 9;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 10;
		case 7:
			return 12;
		case 8:
			return 13;
		case 9:
			return 14;
		case 10:
			return 11;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 17:
			return 4;
		case 18:
			return 5;
		case 34:
			return flixel_input_gamepad_id_PS4ID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_PS4ID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_PS4ID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_PS4ID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_PS4ID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_PS4ID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_PS4ID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_PS4ID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "x";
		case 1:
			return "circle";
		case 2:
			return "square";
		case 3:
			return "triangle";
		case 4:
			return "l1";
		case 5:
			return "r1";
		case 6:
			return "share";
		case 7:
			return "options";
		case 10:
			return "ps";
		case 17:
			return "l2";
		case 18:
			return "r2";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_PS4Mapping
});
var flixel_input_gamepad_mappings_PSVitaMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.PSVitaMapping"] = flixel_input_gamepad_mappings_PSVitaMapping;
flixel_input_gamepad_mappings_PSVitaMapping.__name__ = "flixel.input.gamepad.mappings.PSVitaMapping";
flixel_input_gamepad_mappings_PSVitaMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_PSVitaMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 6;
		case 12:
			return 7;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 34;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 10;
		case 7:
			return 12;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 34:
			return flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "x";
		case 1:
			return "circle";
		case 2:
			return "square";
		case 3:
			return "triangle";
		case 4:
			return "l1";
		case 5:
			return "r1";
		case 6:
			return "select";
		case 17:
			return "l2";
		case 18:
			return "r2";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,isAxisFlipped: function(axisID) {
		if(axisID != flixel_input_gamepad_id_PSVitaID.LEFT_ANALOG_STICK.y) {
			return axisID == flixel_input_gamepad_id_PSVitaID.RIGHT_ANALOG_STICK.y;
		} else {
			return true;
		}
	}
	,__class__: flixel_input_gamepad_mappings_PSVitaMapping
});
var flixel_input_gamepad_mappings_SwitchJoyconLeftMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.SwitchJoyconLeftMapping"] = flixel_input_gamepad_mappings_SwitchJoyconLeftMapping;
flixel_input_gamepad_mappings_SwitchJoyconLeftMapping.__name__ = "flixel.input.gamepad.mappings.SwitchJoyconLeftMapping";
flixel_input_gamepad_mappings_SwitchJoyconLeftMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_SwitchJoyconLeftMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_SwitchJoyconLeftID.LEFT_ANALOG_STICK;
		this.supportsMotion = true;
		this.supportsPointer = false;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 4:
			return 17;
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 30;
		case 12:
			return 7;
		case 13:
			return 8;
		case 15:
			return 4;
		case 16:
			return 5;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							return -1;
						}
					}
				}
			}
		}
	}
	,getRawID: function(id) {
		switch(id) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 7:
			return 12;
		case 8:
			return 13;
		case 17:
			return 4;
		case 30:
			return 10;
		case 34:
			return flixel_input_gamepad_id_SwitchJoyconLeftID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_SwitchJoyconLeftID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_SwitchJoyconLeftID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_SwitchJoyconLeftID.LEFT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "down";
		case 1:
			return "right";
		case 2:
			return "left";
		case 3:
			return "up";
		case 4:
			return "sl";
		case 5:
			return "sr";
		case 7:
			return "minus";
		case 17:
			return "zl";
		case 30:
			return "l";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_SwitchJoyconLeftMapping
});
var flixel_input_gamepad_mappings_SwitchJoyconRightMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.SwitchJoyconRightMapping"] = flixel_input_gamepad_mappings_SwitchJoyconRightMapping;
flixel_input_gamepad_mappings_SwitchJoyconRightMapping.__name__ = "flixel.input.gamepad.mappings.SwitchJoyconRightMapping";
flixel_input_gamepad_mappings_SwitchJoyconRightMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_SwitchJoyconRightMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_SwitchJoyconRightID.LEFT_ANALOG_STICK;
		this.supportsMotion = true;
		this.supportsPointer = false;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 5:
			return 18;
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 30;
		case 11:
			return 10;
		case 12:
			return 7;
		case 13:
			return 8;
		case 15:
			return 4;
		case 16:
			return 5;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							return -1;
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 7:
			return 12;
		case 8:
			return 13;
		case 10:
			return 11;
		case 18:
			return 5;
		case 30:
			return 10;
		case 34:
			return flixel_input_gamepad_id_SwitchJoyconRightID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_SwitchJoyconRightID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_SwitchJoyconRightID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_SwitchJoyconRightID.LEFT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "a";
		case 1:
			return "x";
		case 2:
			return "b";
		case 3:
			return "y";
		case 4:
			return "sl";
		case 5:
			return "sr";
		case 7:
			return "plus";
		case 10:
			return "home";
		case 18:
			return "zr";
		case 30:
			return "r";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_SwitchJoyconRightMapping
});
var flixel_input_gamepad_mappings_SwitchProMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.SwitchProMapping"] = flixel_input_gamepad_mappings_SwitchProMapping;
flixel_input_gamepad_mappings_SwitchProMapping.__name__ = "flixel.input.gamepad.mappings.SwitchProMapping";
flixel_input_gamepad_mappings_SwitchProMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_SwitchProMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_SwitchProID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_SwitchProID.RIGHT_ANALOG_STICK;
		this.supportsMotion = true;
		this.supportsPointer = false;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case 4:
			return 17;
		case 5:
			return 18;
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 6;
		case 11:
			return 10;
		case 12:
			return 7;
		case 13:
			return 8;
		case 14:
			return 9;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		case 21:
			return 30;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 10;
		case 7:
			return 12;
		case 8:
			return 13;
		case 9:
			return 14;
		case 10:
			return 11;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 17:
			return 4;
		case 18:
			return 5;
		case 30:
			return 21;
		case 34:
			return flixel_input_gamepad_id_SwitchProID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_SwitchProID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_SwitchProID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_SwitchProID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_SwitchProID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_SwitchProID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_SwitchProID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_SwitchProID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getInputLabel: function(id) {
		switch(id) {
		case 0:
			return "b";
		case 1:
			return "a";
		case 2:
			return "y";
		case 3:
			return "x";
		case 4:
			return "l";
		case 5:
			return "r";
		case 6:
			return "minus";
		case 7:
			return "plus";
		case 10:
			return "home";
		case 17:
			return "zl";
		case 18:
			return "zr";
		case 30:
			return "capture";
		default:
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
	}
	,__class__: flixel_input_gamepad_mappings_SwitchProMapping
});
var flixel_input_gamepad_mappings_WiiRemoteMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.WiiRemoteMapping"] = flixel_input_gamepad_mappings_WiiRemoteMapping;
flixel_input_gamepad_mappings_WiiRemoteMapping.__name__ = "flixel.input.gamepad.mappings.WiiRemoteMapping";
flixel_input_gamepad_mappings_WiiRemoteMapping.getWiiInputLabel = function(id,attachment) {
	switch(id) {
	case 6:
		return "minus";
	case 7:
		return "plus";
	case 10:
		return "home";
	default:
	}
	switch(attachment._hx_index) {
	case 0:
		switch(id) {
		case 2:
			return "1";
		case 3:
			return "2";
		case 4:
			return "c";
		case 17:
			return "z";
		default:
			return null;
		}
		break;
	case 1:
		switch(id) {
		case 0:
			return "b";
		case 1:
			return "a";
		case 2:
			return "y";
		case 3:
			return "x";
		case 4:
			return "zl";
		case 5:
			return "zr";
		case 17:
			return "l";
		case 18:
			return "r";
		case 30:
			return "1";
		case 31:
			return "2";
		default:
			return null;
		}
		break;
	case 2:
		switch(id) {
		case 2:
			return "1";
		case 3:
			return "2";
		case 6:
			return "minus";
		case 7:
			return "plus";
		case 10:
			return "home";
		default:
			return null;
		}
		break;
	}
};
flixel_input_gamepad_mappings_WiiRemoteMapping.getLabelClassicController = function(ID) {
	switch(ID) {
	case 0:
		return "b";
	case 1:
		return "a";
	case 2:
		return "y";
	case 3:
		return "x";
	case 4:
		return "zl";
	case 5:
		return "zr";
	case 17:
		return "l";
	case 18:
		return "r";
	case 30:
		return "1";
	case 31:
		return "2";
	default:
		return null;
	}
};
flixel_input_gamepad_mappings_WiiRemoteMapping.getLabelNunchuk = function(ID) {
	switch(ID) {
	case 2:
		return "1";
	case 3:
		return "2";
	case 4:
		return "c";
	case 17:
		return "z";
	default:
		return null;
	}
};
flixel_input_gamepad_mappings_WiiRemoteMapping.getLabelDefault = function(ID) {
	switch(ID) {
	case 2:
		return "1";
	case 3:
		return "2";
	case 6:
		return "minus";
	case 7:
		return "plus";
	case 10:
		return "home";
	default:
		return null;
	}
};
flixel_input_gamepad_mappings_WiiRemoteMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_WiiRemoteMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.supportsMotion = true;
		this.supportsPointer = false;
	}
	,getID: function(rawID) {
		switch(this.attachment._hx_index) {
		case 0:
			return this.getIDNunchuk(rawID);
		case 1:
			return this.getIDClassicController(rawID);
		case 2:
			return this.getIDDefault(rawID);
		}
	}
	,getIDClassicController: function(rawID) {
		switch(rawID) {
		case 5:
			return 11;
		case 6:
			return 12;
		case 7:
			return 13;
		case 8:
			return 14;
		case 9:
			return 1;
		case 10:
			return 0;
		case 11:
			return 2;
		case 12:
			return 3;
		case 13:
			return 17;
		case 14:
			return 18;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 7;
		case 18:
			return 6;
		case 19:
			return 10;
		case 20:
			return 30;
		case 21:
			return 31;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getIDNunchuk: function(rawID) {
		switch(rawID) {
		case 5:
			return 11;
		case 6:
			return 12;
		case 7:
			return 13;
		case 8:
			return 14;
		case 9:
			return 0;
		case 10:
			return 1;
		case 11:
			return 4;
		case 12:
			return 17;
		case 13:
			return 2;
		case 14:
			return 3;
		case 15:
			return 7;
		case 16:
			return 6;
		case 17:
			return 10;
		default:
			var tmp = rawID == flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawUp;
			var tmp = rawID == flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawDown;
			var tmp = rawID == flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
			var tmp = rawID == flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawRight;
			return -1;
		}
	}
	,getIDDefault: function(rawID) {
		switch(rawID) {
		case 9:
			return 2;
		case 10:
			return 3;
		case 11:
			return 0;
		case 12:
			return 1;
		case 13:
			return 7;
		case 14:
			return 6;
		case 15:
			return 10;
		case 22:
			return 11;
		case 23:
			return 12;
		case 24:
			return 13;
		case 25:
			return 14;
		default:
			return -1;
		}
	}
	,getRawID: function(ID) {
		switch(this.attachment._hx_index) {
		case 0:
			return this.getRawNunchuk(ID);
		case 1:
			return this.getRawClassicController(ID);
		case 2:
			return this.getRawDefault(ID);
		}
	}
	,getRawClassicController: function(ID) {
		switch(ID) {
		case 0:
			return 10;
		case 1:
			return 9;
		case 2:
			return 11;
		case 3:
			return 12;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 18;
		case 7:
			return 17;
		case 10:
			return 19;
		case 11:
			return 5;
		case 12:
			return 6;
		case 13:
			return 7;
		case 14:
			return 8;
		case 17:
			return 13;
		case 18:
			return 14;
		case 30:
			return 20;
		case 31:
			return 21;
		case 34:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_WiiRemoteID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_WiiRemoteID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_WiiRemoteID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_WiiRemoteID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getRawNunchuk: function(ID) {
		switch(ID) {
		case 0:
			return 9;
		case 1:
			return 10;
		case 2:
			return 13;
		case 3:
			return 14;
		case 4:
			return 11;
		case 6:
			return 16;
		case 7:
			return 15;
		case 10:
			return 17;
		case 11:
			return 5;
		case 12:
			return 6;
		case 13:
			return 7;
		case 14:
			return 8;
		case 17:
			return 12;
		case 26:
			return 3;
		case 27:
			return 2;
		case 34:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,getRawDefault: function(ID) {
		switch(ID) {
		case 0:
			return 11;
		case 1:
			return 12;
		case 2:
			return 9;
		case 3:
			return 10;
		case 6:
			return 14;
		case 7:
			return 13;
		case 10:
			return 15;
		case 11:
			return 22;
		case 12:
			return 23;
		case 13:
			return 24;
		case 14:
			return 25;
		case 26:
			return 2;
		case 27:
			return 3;
		default:
			return -1;
		}
	}
	,isAxisForMotion: function(ID) {
		if(this.attachment == flixel_input_gamepad_FlxGamepadAttachment.NONE) {
			if(ID == 2 || ID == 3) {
				return true;
			}
		} else if(this.attachment == flixel_input_gamepad_FlxGamepadAttachment.WII_NUNCHUCK) {
			if(ID == 3 || ID == 2) {
				return true;
			}
		}
		return false;
	}
	,isAxisFlipped: function(axisID) {
		return axisID == 4;
	}
	,set_attachment: function(attachment) {
		var tmp;
		switch(attachment._hx_index) {
		case 0:case 1:
			tmp = flixel_input_gamepad_id_WiiRemoteID.LEFT_ANALOG_STICK;
			break;
		case 2:
			tmp = flixel_input_gamepad_id_WiiRemoteID.REMOTE_DPAD;
			break;
		}
		this.leftStick = tmp;
		this.rightStick = attachment._hx_index == 1 ? flixel_input_gamepad_id_WiiRemoteID.RIGHT_ANALOG_STICK : null;
		return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.set_attachment.call(this,attachment);
	}
	,getInputLabel: function(id) {
		var label = flixel_input_gamepad_mappings_WiiRemoteMapping.getWiiInputLabel(id,this.attachment);
		if(label == null) {
			return flixel_input_gamepad_mappings_FlxGamepadMapping.prototype.getInputLabel.call(this,id);
		}
		return label;
	}
	,__class__: flixel_input_gamepad_mappings_WiiRemoteMapping
});
var flixel_input_gamepad_mappings_XInputMapping = function(attachment) {
	flixel_input_gamepad_mappings_FlxGamepadMapping.call(this,attachment);
};
$hxClasses["flixel.input.gamepad.mappings.XInputMapping"] = flixel_input_gamepad_mappings_XInputMapping;
flixel_input_gamepad_mappings_XInputMapping.__name__ = "flixel.input.gamepad.mappings.XInputMapping";
flixel_input_gamepad_mappings_XInputMapping.__super__ = flixel_input_gamepad_mappings_FlxGamepadMapping;
flixel_input_gamepad_mappings_XInputMapping.prototype = $extend(flixel_input_gamepad_mappings_FlxGamepadMapping.prototype,{
	initValues: function() {
		this.leftStick = flixel_input_gamepad_id_XInputID.LEFT_ANALOG_STICK;
		this.rightStick = flixel_input_gamepad_id_XInputID.RIGHT_ANALOG_STICK;
	}
	,getID: function(rawID) {
		switch(rawID) {
		case -1:
			return 10;
		case 4:
			return 17;
		case 5:
			return 18;
		case 6:
			return 0;
		case 7:
			return 1;
		case 8:
			return 2;
		case 9:
			return 3;
		case 10:
			return 6;
		case 12:
			return 7;
		case 13:
			return 8;
		case 14:
			return 9;
		case 15:
			return 4;
		case 16:
			return 5;
		case 17:
			return 11;
		case 18:
			return 12;
		case 19:
			return 13;
		case 20:
			return 14;
		default:
			var id = rawID;
			if(id == this.leftStick.rawUp) {
				return 34;
			} else {
				var id = rawID;
				if(id == this.leftStick.rawDown) {
					return 36;
				} else {
					var id = rawID;
					if(id == this.leftStick.rawLeft) {
						return 37;
					} else {
						var id = rawID;
						if(id == this.leftStick.rawRight) {
							return 35;
						} else {
							var id = rawID;
							if(id == this.rightStick.rawUp) {
								return 38;
							} else {
								var id = rawID;
								if(id == this.rightStick.rawDown) {
									return 40;
								} else {
									var id = rawID;
									if(id == this.rightStick.rawLeft) {
										return 41;
									} else {
										var id = rawID;
										if(id == this.rightStick.rawRight) {
											return 39;
										} else {
											return -1;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	,getRawID: function(ID) {
		switch(ID) {
		case 0:
			return 6;
		case 1:
			return 7;
		case 2:
			return 8;
		case 3:
			return 9;
		case 4:
			return 15;
		case 5:
			return 16;
		case 6:
			return 10;
		case 7:
			return 12;
		case 8:
			return 13;
		case 9:
			return 14;
		case 10:
			return -1;
		case 11:
			return 17;
		case 12:
			return 18;
		case 13:
			return 19;
		case 14:
			return 20;
		case 17:
			return 4;
		case 18:
			return 5;
		case 34:
			return flixel_input_gamepad_id_XInputID.LEFT_ANALOG_STICK.rawUp;
		case 35:
			return flixel_input_gamepad_id_XInputID.LEFT_ANALOG_STICK.rawRight;
		case 36:
			return flixel_input_gamepad_id_XInputID.LEFT_ANALOG_STICK.rawDown;
		case 37:
			return flixel_input_gamepad_id_XInputID.LEFT_ANALOG_STICK.rawLeft;
		case 38:
			return flixel_input_gamepad_id_XInputID.RIGHT_ANALOG_STICK.rawUp;
		case 39:
			return flixel_input_gamepad_id_XInputID.RIGHT_ANALOG_STICK.rawRight;
		case 40:
			return flixel_input_gamepad_id_XInputID.RIGHT_ANALOG_STICK.rawDown;
		case 41:
			return flixel_input_gamepad_id_XInputID.RIGHT_ANALOG_STICK.rawLeft;
		default:
			return -1;
		}
	}
	,__class__: flixel_input_gamepad_mappings_XInputMapping
});
var flixel_input_keyboard_FlxKey = {};
flixel_input_keyboard_FlxKey.fromString = function(s) {
	s = s.toUpperCase();
	if(Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s)) {
		return flixel_input_keyboard_FlxKey.fromStringMap.h[s];
	} else {
		return -1;
	}
};
flixel_input_keyboard_FlxKey.toString = function(this1) {
	return flixel_input_keyboard_FlxKey.toStringMap.h[this1];
};
var flixel_input_keyboard_FlxKeyList = function(status,keyManager) {
	flixel_input_FlxBaseKeyList.call(this,status,keyManager);
};
$hxClasses["flixel.input.keyboard.FlxKeyList"] = flixel_input_keyboard_FlxKeyList;
flixel_input_keyboard_FlxKeyList.__name__ = "flixel.input.keyboard.FlxKeyList";
flixel_input_keyboard_FlxKeyList.__super__ = flixel_input_FlxBaseKeyList;
flixel_input_keyboard_FlxKeyList.prototype = $extend(flixel_input_FlxBaseKeyList.prototype,{
	get_A: function() {
		return this.keyManager.checkStatusUnsafe(65,this.status);
	}
	,get_B: function() {
		return this.keyManager.checkStatusUnsafe(66,this.status);
	}
	,get_C: function() {
		return this.keyManager.checkStatusUnsafe(67,this.status);
	}
	,get_D: function() {
		return this.keyManager.checkStatusUnsafe(68,this.status);
	}
	,get_E: function() {
		return this.keyManager.checkStatusUnsafe(69,this.status);
	}
	,get_F: function() {
		return this.keyManager.checkStatusUnsafe(70,this.status);
	}
	,get_G: function() {
		return this.keyManager.checkStatusUnsafe(71,this.status);
	}
	,get_H: function() {
		return this.keyManager.checkStatusUnsafe(72,this.status);
	}
	,get_I: function() {
		return this.keyManager.checkStatusUnsafe(73,this.status);
	}
	,get_J: function() {
		return this.keyManager.checkStatusUnsafe(74,this.status);
	}
	,get_K: function() {
		return this.keyManager.checkStatusUnsafe(75,this.status);
	}
	,get_L: function() {
		return this.keyManager.checkStatusUnsafe(76,this.status);
	}
	,get_M: function() {
		return this.keyManager.checkStatusUnsafe(77,this.status);
	}
	,get_N: function() {
		return this.keyManager.checkStatusUnsafe(78,this.status);
	}
	,get_O: function() {
		return this.keyManager.checkStatusUnsafe(79,this.status);
	}
	,get_P: function() {
		return this.keyManager.checkStatusUnsafe(80,this.status);
	}
	,get_Q: function() {
		return this.keyManager.checkStatusUnsafe(81,this.status);
	}
	,get_R: function() {
		return this.keyManager.checkStatusUnsafe(82,this.status);
	}
	,get_S: function() {
		return this.keyManager.checkStatusUnsafe(83,this.status);
	}
	,get_T: function() {
		return this.keyManager.checkStatusUnsafe(84,this.status);
	}
	,get_U: function() {
		return this.keyManager.checkStatusUnsafe(85,this.status);
	}
	,get_V: function() {
		return this.keyManager.checkStatusUnsafe(86,this.status);
	}
	,get_W: function() {
		return this.keyManager.checkStatusUnsafe(87,this.status);
	}
	,get_X: function() {
		return this.keyManager.checkStatusUnsafe(88,this.status);
	}
	,get_Y: function() {
		return this.keyManager.checkStatusUnsafe(89,this.status);
	}
	,get_Z: function() {
		return this.keyManager.checkStatusUnsafe(90,this.status);
	}
	,get_ZERO: function() {
		return this.keyManager.checkStatusUnsafe(48,this.status);
	}
	,get_ONE: function() {
		return this.keyManager.checkStatusUnsafe(49,this.status);
	}
	,get_TWO: function() {
		return this.keyManager.checkStatusUnsafe(50,this.status);
	}
	,get_THREE: function() {
		return this.keyManager.checkStatusUnsafe(51,this.status);
	}
	,get_FOUR: function() {
		return this.keyManager.checkStatusUnsafe(52,this.status);
	}
	,get_FIVE: function() {
		return this.keyManager.checkStatusUnsafe(53,this.status);
	}
	,get_SIX: function() {
		return this.keyManager.checkStatusUnsafe(54,this.status);
	}
	,get_SEVEN: function() {
		return this.keyManager.checkStatusUnsafe(55,this.status);
	}
	,get_EIGHT: function() {
		return this.keyManager.checkStatusUnsafe(56,this.status);
	}
	,get_NINE: function() {
		return this.keyManager.checkStatusUnsafe(57,this.status);
	}
	,get_PAGEUP: function() {
		return this.keyManager.checkStatusUnsafe(33,this.status);
	}
	,get_PAGEDOWN: function() {
		return this.keyManager.checkStatusUnsafe(34,this.status);
	}
	,get_HOME: function() {
		return this.keyManager.checkStatusUnsafe(36,this.status);
	}
	,get_END: function() {
		return this.keyManager.checkStatusUnsafe(35,this.status);
	}
	,get_INSERT: function() {
		return this.keyManager.checkStatusUnsafe(45,this.status);
	}
	,get_ESCAPE: function() {
		return this.keyManager.checkStatusUnsafe(27,this.status);
	}
	,get_MINUS: function() {
		return this.keyManager.checkStatusUnsafe(189,this.status);
	}
	,get_PLUS: function() {
		return this.keyManager.checkStatusUnsafe(187,this.status);
	}
	,get_DELETE: function() {
		return this.keyManager.checkStatusUnsafe(46,this.status);
	}
	,get_BACKSPACE: function() {
		return this.keyManager.checkStatusUnsafe(8,this.status);
	}
	,get_LBRACKET: function() {
		return this.keyManager.checkStatusUnsafe(219,this.status);
	}
	,get_RBRACKET: function() {
		return this.keyManager.checkStatusUnsafe(221,this.status);
	}
	,get_BACKSLASH: function() {
		return this.keyManager.checkStatusUnsafe(220,this.status);
	}
	,get_CAPSLOCK: function() {
		return this.keyManager.checkStatusUnsafe(20,this.status);
	}
	,get_SEMICOLON: function() {
		return this.keyManager.checkStatusUnsafe(186,this.status);
	}
	,get_QUOTE: function() {
		return this.keyManager.checkStatusUnsafe(222,this.status);
	}
	,get_ENTER: function() {
		return this.keyManager.checkStatusUnsafe(13,this.status);
	}
	,get_SHIFT: function() {
		return this.keyManager.checkStatusUnsafe(16,this.status);
	}
	,get_COMMA: function() {
		return this.keyManager.checkStatusUnsafe(188,this.status);
	}
	,get_PERIOD: function() {
		return this.keyManager.checkStatusUnsafe(190,this.status);
	}
	,get_SLASH: function() {
		return this.keyManager.checkStatusUnsafe(191,this.status);
	}
	,get_GRAVEACCENT: function() {
		return this.keyManager.checkStatusUnsafe(192,this.status);
	}
	,get_CONTROL: function() {
		return this.keyManager.checkStatusUnsafe(17,this.status);
	}
	,get_ALT: function() {
		return this.keyManager.checkStatusUnsafe(18,this.status);
	}
	,get_SPACE: function() {
		return this.keyManager.checkStatusUnsafe(32,this.status);
	}
	,get_UP: function() {
		return this.keyManager.checkStatusUnsafe(38,this.status);
	}
	,get_DOWN: function() {
		return this.keyManager.checkStatusUnsafe(40,this.status);
	}
	,get_LEFT: function() {
		return this.keyManager.checkStatusUnsafe(37,this.status);
	}
	,get_RIGHT: function() {
		return this.keyManager.checkStatusUnsafe(39,this.status);
	}
	,get_TAB: function() {
		return this.keyManager.checkStatusUnsafe(9,this.status);
	}
	,get_PRINTSCREEN: function() {
		return this.keyManager.checkStatusUnsafe(301,this.status);
	}
	,get_F1: function() {
		return this.keyManager.checkStatusUnsafe(112,this.status);
	}
	,get_F2: function() {
		return this.keyManager.checkStatusUnsafe(113,this.status);
	}
	,get_F3: function() {
		return this.keyManager.checkStatusUnsafe(114,this.status);
	}
	,get_F4: function() {
		return this.keyManager.checkStatusUnsafe(115,this.status);
	}
	,get_F5: function() {
		return this.keyManager.checkStatusUnsafe(116,this.status);
	}
	,get_F6: function() {
		return this.keyManager.checkStatusUnsafe(117,this.status);
	}
	,get_F7: function() {
		return this.keyManager.checkStatusUnsafe(118,this.status);
	}
	,get_F8: function() {
		return this.keyManager.checkStatusUnsafe(119,this.status);
	}
	,get_F9: function() {
		return this.keyManager.checkStatusUnsafe(120,this.status);
	}
	,get_F10: function() {
		return this.keyManager.checkStatusUnsafe(121,this.status);
	}
	,get_F11: function() {
		return this.keyManager.checkStatusUnsafe(122,this.status);
	}
	,get_F12: function() {
		return this.keyManager.checkStatusUnsafe(123,this.status);
	}
	,get_NUMPADONE: function() {
		return this.keyManager.checkStatusUnsafe(97,this.status);
	}
	,get_NUMPADTWO: function() {
		return this.keyManager.checkStatusUnsafe(98,this.status);
	}
	,get_NUMPADTHREE: function() {
		return this.keyManager.checkStatusUnsafe(99,this.status);
	}
	,get_NUMPADFOUR: function() {
		return this.keyManager.checkStatusUnsafe(100,this.status);
	}
	,get_NUMPADFIVE: function() {
		return this.keyManager.checkStatusUnsafe(101,this.status);
	}
	,get_NUMPADSIX: function() {
		return this.keyManager.checkStatusUnsafe(102,this.status);
	}
	,get_NUMPADSEVEN: function() {
		return this.keyManager.checkStatusUnsafe(103,this.status);
	}
	,get_NUMPADEIGHT: function() {
		return this.keyManager.checkStatusUnsafe(104,this.status);
	}
	,get_NUMPADNINE: function() {
		return this.keyManager.checkStatusUnsafe(105,this.status);
	}
	,get_NUMPADZERO: function() {
		return this.keyManager.checkStatusUnsafe(96,this.status);
	}
	,get_NUMPADMINUS: function() {
		return this.keyManager.checkStatusUnsafe(109,this.status);
	}
	,get_NUMPADPLUS: function() {
		return this.keyManager.checkStatusUnsafe(107,this.status);
	}
	,get_NUMPADPERIOD: function() {
		return this.keyManager.checkStatusUnsafe(110,this.status);
	}
	,get_NUMPADMULTIPLY: function() {
		return this.keyManager.checkStatusUnsafe(106,this.status);
	}
	,__class__: flixel_input_keyboard_FlxKeyList
	,__properties__: $extend(flixel_input_FlxBaseKeyList.prototype.__properties__,{get_NUMPADMULTIPLY:"get_NUMPADMULTIPLY",get_NUMPADPERIOD:"get_NUMPADPERIOD",get_NUMPADPLUS:"get_NUMPADPLUS",get_NUMPADMINUS:"get_NUMPADMINUS",get_NUMPADZERO:"get_NUMPADZERO",get_NUMPADNINE:"get_NUMPADNINE",get_NUMPADEIGHT:"get_NUMPADEIGHT",get_NUMPADSEVEN:"get_NUMPADSEVEN",get_NUMPADSIX:"get_NUMPADSIX",get_NUMPADFIVE:"get_NUMPADFIVE",get_NUMPADFOUR:"get_NUMPADFOUR",get_NUMPADTHREE:"get_NUMPADTHREE",get_NUMPADTWO:"get_NUMPADTWO",get_NUMPADONE:"get_NUMPADONE",get_F12:"get_F12",get_F11:"get_F11",get_F10:"get_F10",get_F9:"get_F9",get_F8:"get_F8",get_F7:"get_F7",get_F6:"get_F6",get_F5:"get_F5",get_F4:"get_F4",get_F3:"get_F3",get_F2:"get_F2",get_F1:"get_F1",get_PRINTSCREEN:"get_PRINTSCREEN",get_TAB:"get_TAB",get_RIGHT:"get_RIGHT",get_LEFT:"get_LEFT",get_DOWN:"get_DOWN",get_UP:"get_UP",get_SPACE:"get_SPACE",get_ALT:"get_ALT",get_CONTROL:"get_CONTROL",get_GRAVEACCENT:"get_GRAVEACCENT",get_SLASH:"get_SLASH",get_PERIOD:"get_PERIOD",get_COMMA:"get_COMMA",get_SHIFT:"get_SHIFT",get_ENTER:"get_ENTER",get_QUOTE:"get_QUOTE",get_SEMICOLON:"get_SEMICOLON",get_CAPSLOCK:"get_CAPSLOCK",get_BACKSLASH:"get_BACKSLASH",get_RBRACKET:"get_RBRACKET",get_LBRACKET:"get_LBRACKET",get_BACKSPACE:"get_BACKSPACE",get_DELETE:"get_DELETE",get_PLUS:"get_PLUS",get_MINUS:"get_MINUS",get_ESCAPE:"get_ESCAPE",get_INSERT:"get_INSERT",get_END:"get_END",get_HOME:"get_HOME",get_PAGEDOWN:"get_PAGEDOWN",get_PAGEUP:"get_PAGEUP",get_NINE:"get_NINE",get_EIGHT:"get_EIGHT",get_SEVEN:"get_SEVEN",get_SIX:"get_SIX",get_FIVE:"get_FIVE",get_FOUR:"get_FOUR",get_THREE:"get_THREE",get_TWO:"get_TWO",get_ONE:"get_ONE",get_ZERO:"get_ZERO",get_Z:"get_Z",get_Y:"get_Y",get_X:"get_X",get_W:"get_W",get_V:"get_V",get_U:"get_U",get_T:"get_T",get_S:"get_S",get_R:"get_R",get_Q:"get_Q",get_P:"get_P",get_O:"get_O",get_N:"get_N",get_M:"get_M",get_L:"get_L",get_K:"get_K",get_J:"get_J",get_I:"get_I",get_H:"get_H",get_G:"get_G",get_F:"get_F",get_E:"get_E",get_D:"get_D",get_C:"get_C",get_B:"get_B",get_A:"get_A"})
});
var flixel_input_keyboard_FlxKeyboard = function() {
	flixel_input_FlxKeyManager.call(this,function(status,keyManager) {
		return new flixel_input_keyboard_FlxKeyList(status,keyManager);
	});
	this.preventDefaultKeys = [38,40,37,39,32,9];
	var h = flixel_input_keyboard_FlxKey.fromStringMap.h;
	var code_h = h;
	var code_keys = Object.keys(h);
	var code_length = code_keys.length;
	var code_current = 0;
	while(code_current < code_length) {
		var code = code_h[code_keys[code_current++]];
		if(code != -2 && code != -1) {
			var input = new flixel_input_FlxInput(code);
			this._keyListArray.push(input);
			this._keyListMap.h[code] = input;
		}
	}
};
$hxClasses["flixel.input.keyboard.FlxKeyboard"] = flixel_input_keyboard_FlxKeyboard;
flixel_input_keyboard_FlxKeyboard.__name__ = "flixel.input.keyboard.FlxKeyboard";
flixel_input_keyboard_FlxKeyboard.__super__ = flixel_input_FlxKeyManager;
flixel_input_keyboard_FlxKeyboard.prototype = $extend(flixel_input_FlxKeyManager.prototype,{
	onKeyUp: function(event) {
		flixel_input_FlxKeyManager.prototype.onKeyUp.call(this,event);
	}
	,onKeyDown: function(event) {
		flixel_input_FlxKeyManager.prototype.onKeyDown.call(this,event);
	}
	,resolveKeyCode: function(e) {
		return e.keyCode;
	}
	,record: function() {
		var data = null;
		var _g = 0;
		var _g1 = this._keyListArray;
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			if(key == null || (key.current == 0 || key.current == -1)) {
				continue;
			}
			if(data == null) {
				data = [];
			}
			data.push(new flixel_system_replay_CodeValuePair(key.ID,key.current));
		}
		return data;
	}
	,playback: function(Record) {
		var i = 0;
		var l = Record.length;
		while(i < l) {
			var o = Record[i++];
			var o2 = this._keyListMap.h[o.code];
			o2.current = o.value;
		}
	}
	,__class__: flixel_input_keyboard_FlxKeyboard
});
var flixel_input_mouse__$FlxMouse_GraphicCursor = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_input_mouse__$FlxMouse_GraphicCursor.preload != null) {
		this.__fromImage(flixel_input_mouse__$FlxMouse_GraphicCursor.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_input_mouse__$FlxMouse_GraphicCursor.resourceName),flixel_input_mouse__$FlxMouse_GraphicCursor.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_input_mouse__$FlxMouse_GraphicCursor.preload == null) {
				flixel_input_mouse__$FlxMouse_GraphicCursor.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.input.mouse._FlxMouse.GraphicCursor"] = flixel_input_mouse__$FlxMouse_GraphicCursor;
flixel_input_mouse__$FlxMouse_GraphicCursor.__name__ = "flixel.input.mouse._FlxMouse.GraphicCursor";
flixel_input_mouse__$FlxMouse_GraphicCursor.preload = null;
flixel_input_mouse__$FlxMouse_GraphicCursor.__super__ = openfl_display_BitmapData;
flixel_input_mouse__$FlxMouse_GraphicCursor.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_input_mouse__$FlxMouse_GraphicCursor
});
var flixel_input_mouse_FlxMouseButton = function(ID) {
	this.justPressedTimeInTicks = -1;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.justPressedPosition = point;
	flixel_input_FlxInput.call(this,ID);
};
$hxClasses["flixel.input.mouse.FlxMouseButton"] = flixel_input_mouse_FlxMouseButton;
flixel_input_mouse_FlxMouseButton.__name__ = "flixel.input.mouse.FlxMouseButton";
flixel_input_mouse_FlxMouseButton.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_mouse_FlxMouseButton.getByID = function(id) {
	switch(id) {
	case -3:
		return flixel_FlxG.mouse._rightButton;
	case -2:
		return flixel_FlxG.mouse._middleButton;
	case -1:
		return flixel_FlxG.mouse._leftButton;
	}
};
flixel_input_mouse_FlxMouseButton.__super__ = flixel_input_FlxInput;
flixel_input_mouse_FlxMouseButton.prototype = $extend(flixel_input_FlxInput.prototype,{
	justPressedPosition: null
	,justPressedTimeInTicks: null
	,update: function() {
		flixel_input_FlxInput.prototype.update.call(this);
		if(this.current == 2) {
			this.justPressedPosition.set(flixel_FlxG.mouse.screenX,flixel_FlxG.mouse.screenY);
			this.justPressedTimeInTicks = flixel_FlxG.game.ticks;
		} else if(this.current == -1) {
			flixel_FlxG.swipes.push(new flixel_input_FlxSwipe(this.ID,this.justPressedPosition,flixel_FlxG.mouse.getScreenPosition(),this.justPressedTimeInTicks));
		}
	}
	,destroy: function() {
		this.justPressedPosition = flixel_util_FlxDestroyUtil.put(this.justPressedPosition);
	}
	,onDown: function(_) {
		if(flixel_FlxG.mouse.enabled) {
			this.press();
		}
	}
	,onUp: function(_) {
		if(flixel_FlxG.mouse.enabled) {
			this.release();
		}
	}
	,__class__: flixel_input_mouse_FlxMouseButton
});
var flixel_input_touch_FlxTouch = function(x,y,pointID) {
	if(pointID == null) {
		pointID = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.justPressedTimeInTicks = -1;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this.justPressedPosition = point;
	this.flashPoint = new openfl_geom_Point();
	flixel_input_FlxPointer.call(this);
	this.input = new flixel_input_FlxInput(pointID);
	this.setXY(x,y);
};
$hxClasses["flixel.input.touch.FlxTouch"] = flixel_input_touch_FlxTouch;
flixel_input_touch_FlxTouch.__name__ = "flixel.input.touch.FlxTouch";
flixel_input_touch_FlxTouch.__interfaces__ = [flixel_input_IFlxInput,flixel_util_IFlxDestroyable];
flixel_input_touch_FlxTouch.__super__ = flixel_input_FlxPointer;
flixel_input_touch_FlxTouch.prototype = $extend(flixel_input_FlxPointer.prototype,{
	input: null
	,flashPoint: null
	,justPressedPosition: null
	,justPressedTimeInTicks: null
	,destroy: function() {
		this.input = null;
		this.justPressedPosition = flixel_util_FlxDestroyUtil.put(this.justPressedPosition);
		this.flashPoint = null;
	}
	,recycle: function(x,y,pointID) {
		this.setXY(x,y);
		this.input.ID = pointID;
		this.input.reset();
	}
	,update: function() {
		this.input.update();
		if(this.input.current == 2) {
			this.justPressedPosition.set(this.screenX,this.screenY);
			this.justPressedTimeInTicks = flixel_FlxG.game.ticks;
		} else if(this.input.current == -1) {
			flixel_FlxG.swipes.push(new flixel_input_FlxSwipe(this.input.ID,this.justPressedPosition,this.getScreenPosition(),this.justPressedTimeInTicks));
		}
	}
	,setXY: function(X,Y) {
		this.flashPoint.setTo(X,Y);
		this.flashPoint = flixel_FlxG.game.globalToLocal(this.flashPoint);
		this._globalScreenX = this.flashPoint.x / flixel_FlxG.scaleMode.scale.x | 0;
		this._globalScreenY = this.flashPoint.y / flixel_FlxG.scaleMode.scale.y | 0;
		this.updatePositions();
	}
	,get_touchPointID: function() {
		return this.input.ID;
	}
	,get_justReleased: function() {
		return this.input.current == -1;
	}
	,get_released: function() {
		var _this = this.input;
		if(_this.current != 0) {
			return _this.current == -1;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		var _this = this.input;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this.input.current == 2;
	}
	,__class__: flixel_input_touch_FlxTouch
	,__properties__: {get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased",get_touchPointID:"get_touchPointID"}
});
var flixel_input_touch_FlxTouchManager = function() {
	this.list = [];
	this._inactiveTouches = [];
	this._touchesCache = new haxe_ds_IntMap();
	flixel_input_touch_FlxTouchManager.maxTouchPoints = openfl_ui_Multitouch.maxTouchPoints;
	openfl_ui_Multitouch.inputMode = 2;
	openfl_Lib.get_current().stage.addEventListener("touchBegin",$bind(this,this.handleTouchBegin));
	openfl_Lib.get_current().stage.addEventListener("touchEnd",$bind(this,this.handleTouchEnd));
	openfl_Lib.get_current().stage.addEventListener("touchMove",$bind(this,this.handleTouchMove));
};
$hxClasses["flixel.input.touch.FlxTouchManager"] = flixel_input_touch_FlxTouchManager;
flixel_input_touch_FlxTouchManager.__name__ = "flixel.input.touch.FlxTouchManager";
flixel_input_touch_FlxTouchManager.__interfaces__ = [flixel_input_IFlxInputManager];
flixel_input_touch_FlxTouchManager.prototype = {
	list: null
	,_inactiveTouches: null
	,_touchesCache: null
	,getByID: function(TouchPointID) {
		return this._touchesCache.h[TouchPointID];
	}
	,getFirst: function() {
		if(this.list[0] != null) {
			return this.list[0];
		} else {
			return null;
		}
	}
	,destroy: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			touch.destroy();
		}
		this.list = null;
		var _g = 0;
		var _g1 = this._inactiveTouches;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			touch.destroy();
		}
		this._inactiveTouches = null;
		this._touchesCache = null;
	}
	,justStarted: function(TouchArray) {
		if(TouchArray == null) {
			TouchArray = [];
		}
		var touchLen = TouchArray.length;
		if(touchLen > 0) {
			TouchArray.splice(0,touchLen);
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			if(touch.input.current == 2) {
				TouchArray.push(touch);
			}
		}
		return TouchArray;
	}
	,justReleased: function(TouchArray) {
		if(TouchArray == null) {
			TouchArray = [];
		}
		var touchLen = TouchArray.length;
		if(touchLen > 0) {
			TouchArray.splice(0,touchLen);
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			if(touch.input.current == -1) {
				TouchArray.push(touch);
			}
		}
		return TouchArray;
	}
	,reset: function() {
		var key = this._touchesCache.keys();
		while(key.hasNext()) {
			var key1 = key.next();
			this._touchesCache.remove(key1);
		}
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var touch = _g1[_g];
			++_g;
			touch.input.reset();
			this._inactiveTouches.push(touch);
		}
		this.list.splice(0,this.list.length);
	}
	,handleTouchBegin: function(FlashEvent) {
		var touch = this._touchesCache.h[FlashEvent.touchPointID];
		if(touch != null) {
			touch.setXY(FlashEvent.stageX | 0,FlashEvent.stageY | 0);
		} else {
			touch = this.recycle(FlashEvent.stageX | 0,FlashEvent.stageY | 0,FlashEvent.touchPointID);
		}
		touch.input.press();
	}
	,handleTouchEnd: function(FlashEvent) {
		var touch = this._touchesCache.h[FlashEvent.touchPointID];
		if(touch != null) {
			touch.input.release();
		}
	}
	,handleTouchMove: function(FlashEvent) {
		var touch = this._touchesCache.h[FlashEvent.touchPointID];
		if(touch != null) {
			touch.setXY(FlashEvent.stageX | 0,FlashEvent.stageY | 0);
		}
	}
	,add: function(Touch1) {
		this.list.push(Touch1);
		this._touchesCache.h[Touch1.input.ID] = Touch1;
		return Touch1;
	}
	,recycle: function(X,Y,PointID) {
		if(this._inactiveTouches.length > 0) {
			var touch = this._inactiveTouches.pop();
			touch.recycle(X,Y,PointID);
			return this.add(touch);
		}
		return this.add(new flixel_input_touch_FlxTouch(X,Y,PointID));
	}
	,update: function() {
		var i = this.list.length - 1;
		var touch;
		while(i >= 0) {
			touch = this.list[i];
			var _this = touch.input;
			if((_this.current == 0 || _this.current == -1) && touch.input.current != -1) {
				touch.input.reset();
				this._touchesCache.remove(touch.input.ID);
				this.list.splice(i,1);
				this._inactiveTouches.push(touch);
			} else {
				touch.update();
			}
			--i;
		}
	}
	,onFocus: function() {
	}
	,onFocusLost: function() {
		this.reset();
	}
	,__class__: flixel_input_touch_FlxTouchManager
};
var flixel_math_FlxAngle = function() { };
$hxClasses["flixel.math.FlxAngle"] = flixel_math_FlxAngle;
flixel_math_FlxAngle.__name__ = "flixel.math.FlxAngle";
flixel_math_FlxAngle.__properties__ = {get_TO_RAD:"get_TO_RAD",get_TO_DEG:"get_TO_DEG"};
flixel_math_FlxAngle.wrapAngle = function(angle) {
	if(angle > 180) {
		angle = flixel_math_FlxAngle.wrapAngle(angle - 360);
	} else if(angle < -180) {
		angle = flixel_math_FlxAngle.wrapAngle(angle + 360);
	}
	return angle;
};
flixel_math_FlxAngle.asDegrees = function(radians) {
	return radians * (180 / Math.PI);
};
flixel_math_FlxAngle.asRadians = function(degrees) {
	return degrees * (Math.PI / 180);
};
flixel_math_FlxAngle.angleBetween = function(SpriteA,SpriteB,AsDegrees) {
	if(AsDegrees == null) {
		AsDegrees = false;
	}
	var dx = SpriteB.x + SpriteB.origin.x - (SpriteA.x + SpriteA.origin.x);
	var dy = SpriteB.y + SpriteB.origin.y - (SpriteA.y + SpriteA.origin.y);
	if(AsDegrees) {
		return Math.atan2(dy,dx) * (180 / Math.PI);
	} else {
		return Math.atan2(dy,dx);
	}
};
flixel_math_FlxAngle.angleBetweenPoint = function(Sprite,Target,AsDegrees) {
	if(AsDegrees == null) {
		AsDegrees = false;
	}
	var dx = Target.x - (Sprite.x + Sprite.origin.x);
	var dy = Target.y - (Sprite.y + Sprite.origin.y);
	if(Target._weak) {
		Target.put();
	}
	if(AsDegrees) {
		return Math.atan2(dy,dx) * (180 / Math.PI);
	} else {
		return Math.atan2(dy,dx);
	}
};
flixel_math_FlxAngle.angleBetweenMouse = function(Object1,AsDegrees) {
	if(AsDegrees == null) {
		AsDegrees = false;
	}
	if(Object1 == null) {
		return 0;
	}
	var p = Object1.getScreenPosition();
	var dx = flixel_FlxG.mouse.screenX - p.x;
	var dy = flixel_FlxG.mouse.screenY - p.y;
	p.put();
	if(AsDegrees) {
		return Math.atan2(dy,dx) * (180 / Math.PI);
	} else {
		return Math.atan2(dy,dx);
	}
};
flixel_math_FlxAngle.angleBetweenTouch = function(Object1,Touch1,AsDegrees) {
	if(AsDegrees == null) {
		AsDegrees = false;
	}
	var p = Object1.getScreenPosition();
	var dx = Touch1.screenX - p.x;
	var dy = Touch1.screenY - p.y;
	p.put();
	if(AsDegrees) {
		return Math.atan2(dy,dx) * (180 / Math.PI);
	} else {
		return Math.atan2(dy,dx);
	}
};
flixel_math_FlxAngle.angleFromFacing = function(Facing,AsDegrees) {
	if(AsDegrees == null) {
		AsDegrees = false;
	}
	var degrees;
	switch(Facing) {
	case 1:
		degrees = 180;
		break;
	case 16:
		degrees = 0;
		break;
	case 256:
		degrees = -90;
		break;
	case 4096:
		degrees = 90;
		break;
	default:
		var f = Facing;
		if(f == (256 | 1)) {
			degrees = -135;
		} else {
			var f = Facing;
			if(f == (256 | 16)) {
				degrees = -45;
			} else {
				var f = Facing;
				if(f == (4096 | 1)) {
					degrees = 135;
				} else {
					var f = Facing;
					degrees = f == (4096 | 16) ? 45 : 0;
				}
			}
		}
	}
	if(AsDegrees) {
		return degrees;
	} else {
		return degrees * (Math.PI / 180);
	}
};
flixel_math_FlxAngle.getCartesianCoords = function(Radius,Angle,point) {
	var p = point;
	if(p == null) {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		p = point;
	}
	p.set_x(Radius * Math.cos(Angle * (Math.PI / 180)));
	p.set_y(Radius * Math.sin(Angle * (Math.PI / 180)));
	return p;
};
flixel_math_FlxAngle.getPolarCoords = function(X,Y,point) {
	var p = point;
	if(p == null) {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		p = point;
	}
	p.set_x(Math.sqrt(X * X + Y * Y));
	p.set_y(Math.atan2(Y,X) * (180 / Math.PI));
	return p;
};
flixel_math_FlxAngle.get_TO_DEG = function() {
	return 180 / Math.PI;
};
flixel_math_FlxAngle.get_TO_RAD = function() {
	return Math.PI / 180;
};
var flixel_math_FlxMath = function() { };
$hxClasses["flixel.math.FlxMath"] = flixel_math_FlxMath;
flixel_math_FlxMath.__name__ = "flixel.math.FlxMath";
flixel_math_FlxMath.roundDecimal = function(Value,Precision) {
	var mult = 1;
	var _g = 0;
	var _g1 = Precision;
	while(_g < _g1) {
		var i = _g++;
		mult *= 10;
	}
	return Math.round(Value * mult) / mult;
};
flixel_math_FlxMath.bound = function(Value,Min,Max) {
	var lowerBound = Min != null && Value < Min ? Min : Value;
	if(Max != null && lowerBound > Max) {
		return Max;
	} else {
		return lowerBound;
	}
};
flixel_math_FlxMath.lerp = function(a,b,ratio) {
	return a + ratio * (b - a);
};
flixel_math_FlxMath.inBounds = function(Value,Min,Max) {
	if(Min == null || Value >= Min) {
		if(Max != null) {
			return Value <= Max;
		} else {
			return true;
		}
	} else {
		return false;
	}
};
flixel_math_FlxMath.isOdd = function(n) {
	return ((n | 0) & 1) != 0;
};
flixel_math_FlxMath.isEven = function(n) {
	return ((n | 0) & 1) == 0;
};
flixel_math_FlxMath.numericComparison = function(a,b) {
	if(b > a) {
		return -1;
	} else if(a > b) {
		return 1;
	}
	return 0;
};
flixel_math_FlxMath.pointInCoordinates = function(pointX,pointY,rectX,rectY,rectWidth,rectHeight) {
	if(pointX >= rectX && pointX <= rectX + rectWidth) {
		if(pointY >= rectY && pointY <= rectY + rectHeight) {
			return true;
		}
	}
	return false;
};
flixel_math_FlxMath.pointInFlxRect = function(pointX,pointY,rect) {
	if(pointX >= rect.x && pointX <= rect.x + rect.width && pointY >= rect.y) {
		return pointY <= rect.y + rect.height;
	} else {
		return false;
	}
};
flixel_math_FlxMath.mouseInFlxRect = function(useWorldCoords,rect) {
	if(rect == null) {
		return true;
	}
	if(useWorldCoords) {
		return flixel_math_FlxMath.pointInFlxRect(Math.floor(flixel_FlxG.mouse.x),Math.floor(flixel_FlxG.mouse.y),rect);
	} else {
		return flixel_math_FlxMath.pointInFlxRect(flixel_FlxG.mouse.screenX,flixel_FlxG.mouse.screenY,rect);
	}
};
flixel_math_FlxMath.pointInRectangle = function(pointX,pointY,rect) {
	if(pointX >= rect.x && pointX <= rect.get_right() && pointY >= rect.y) {
		return pointY <= rect.get_bottom();
	} else {
		return false;
	}
};
flixel_math_FlxMath.maxAdd = function(value,amount,max,min) {
	if(min == null) {
		min = 0;
	}
	value += amount;
	if(value > max) {
		value = max;
	} else if(value <= min) {
		value = min;
	}
	return value;
};
flixel_math_FlxMath.wrap = function(value,min,max) {
	var range = max - min + 1;
	if(value < min) {
		value += range * ((min - value) / range + 1 | 0);
	}
	return min + (value - min) % range;
};
flixel_math_FlxMath.remapToRange = function(value,start1,stop1,start2,stop2) {
	return start2 + (value - start1) * ((stop2 - start2) / (stop1 - start1));
};
flixel_math_FlxMath.dotProduct = function(ax,ay,bx,by) {
	return ax * bx + ay * by;
};
flixel_math_FlxMath.vectorLength = function(dx,dy) {
	return Math.sqrt(dx * dx + dy * dy);
};
flixel_math_FlxMath.distanceBetween = function(SpriteA,SpriteB) {
	var dx = SpriteA.x + SpriteA.origin.x - (SpriteB.x + SpriteB.origin.x);
	var dy = SpriteA.y + SpriteA.origin.y - (SpriteB.y + SpriteB.origin.y);
	return Math.sqrt(dx * dx + dy * dy) | 0;
};
flixel_math_FlxMath.isDistanceWithin = function(SpriteA,SpriteB,Distance,IncludeEqual) {
	if(IncludeEqual == null) {
		IncludeEqual = false;
	}
	var dx = SpriteA.x + SpriteA.origin.x - (SpriteB.x + SpriteB.origin.x);
	var dy = SpriteA.y + SpriteA.origin.y - (SpriteB.y + SpriteB.origin.y);
	if(IncludeEqual) {
		return dx * dx + dy * dy <= Distance * Distance;
	} else {
		return dx * dx + dy * dy < Distance * Distance;
	}
};
flixel_math_FlxMath.distanceToPoint = function(Sprite,Target) {
	var dx = Sprite.x + Sprite.origin.x - Target.x;
	var dy = Sprite.y + Sprite.origin.y - Target.y;
	if(Target._weak) {
		Target.put();
	}
	return Math.sqrt(dx * dx + dy * dy) | 0;
};
flixel_math_FlxMath.isDistanceToPointWithin = function(Sprite,Target,Distance,IncludeEqual) {
	if(IncludeEqual == null) {
		IncludeEqual = false;
	}
	var dx = Sprite.x + Sprite.origin.x - Target.x;
	var dy = Sprite.y + Sprite.origin.y - Target.y;
	if(Target._weak) {
		Target.put();
	}
	if(IncludeEqual) {
		return dx * dx + dy * dy <= Distance * Distance;
	} else {
		return dx * dx + dy * dy < Distance * Distance;
	}
};
flixel_math_FlxMath.distanceToMouse = function(Sprite) {
	var dx = Sprite.x + Sprite.origin.x - flixel_FlxG.mouse.screenX;
	var dy = Sprite.y + Sprite.origin.y - flixel_FlxG.mouse.screenY;
	return Math.sqrt(dx * dx + dy * dy) | 0;
};
flixel_math_FlxMath.isDistanceToMouseWithin = function(Sprite,Distance,IncludeEqual) {
	if(IncludeEqual == null) {
		IncludeEqual = false;
	}
	var dx = Sprite.x + Sprite.origin.x - flixel_FlxG.mouse.screenX;
	var dy = Sprite.y + Sprite.origin.y - flixel_FlxG.mouse.screenY;
	if(IncludeEqual) {
		return dx * dx + dy * dy <= Distance * Distance;
	} else {
		return dx * dx + dy * dy < Distance * Distance;
	}
};
flixel_math_FlxMath.distanceToTouch = function(Sprite,Touch1) {
	var dx = Sprite.x + Sprite.origin.x - Touch1.screenX;
	var dy = Sprite.y + Sprite.origin.y - Touch1.screenY;
	return Math.sqrt(dx * dx + dy * dy) | 0;
};
flixel_math_FlxMath.isDistanceToTouchWithin = function(Sprite,Touch1,Distance,IncludeEqual) {
	if(IncludeEqual == null) {
		IncludeEqual = false;
	}
	var dx = Sprite.x + Sprite.origin.x - Touch1.screenX;
	var dy = Sprite.y + Sprite.origin.y - Touch1.screenY;
	if(IncludeEqual) {
		return dx * dx + dy * dy <= Distance * Distance;
	} else {
		return dx * dx + dy * dy < Distance * Distance;
	}
};
flixel_math_FlxMath.getDecimals = function(n) {
	var helperArray = (n == null ? "null" : "" + n).split(".");
	var decimals = 0;
	if(helperArray.length > 1) {
		decimals = helperArray[1].length;
	}
	return decimals;
};
flixel_math_FlxMath.equal = function(aValueA,aValueB,aDiff) {
	if(aDiff == null) {
		aDiff = 0.0000001;
	}
	return Math.abs(aValueA - aValueB) <= aDiff;
};
flixel_math_FlxMath.signOf = function(n) {
	if(n < 0) {
		return -1;
	} else {
		return 1;
	}
};
flixel_math_FlxMath.sameSign = function(a,b) {
	return (a < 0 ? -1 : 1) == (b < 0 ? -1 : 1);
};
flixel_math_FlxMath.fastSin = function(n) {
	n *= 0.3183098862;
	if(n > 1) {
		n -= Math.ceil(n) >> 1 << 1;
	} else if(n < -1) {
		n += Math.ceil(-n) >> 1 << 1;
	}
	if(n > 0) {
		return n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6)));
	} else {
		return n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
	}
};
flixel_math_FlxMath.fastCos = function(n) {
	var n1 = n + 1.570796327;
	n1 *= 0.3183098862;
	if(n1 > 1) {
		n1 -= Math.ceil(n1) >> 1 << 1;
	} else if(n1 < -1) {
		n1 += Math.ceil(-n1) >> 1 << 1;
	}
	if(n1 > 0) {
		return n1 * (3.1 + n1 * (0.5 + n1 * (-7.2 + n1 * 3.6)));
	} else {
		return n1 * (3.1 - n1 * (0.5 + n1 * (7.2 + n1 * 3.6)));
	}
};
flixel_math_FlxMath.sinh = function(n) {
	return (Math.exp(n) - Math.exp(-n)) / 2;
};
flixel_math_FlxMath.maxInt = function(a,b) {
	if(a > b) {
		return a;
	} else {
		return b;
	}
};
flixel_math_FlxMath.minInt = function(a,b) {
	if(a > b) {
		return b;
	} else {
		return a;
	}
};
flixel_math_FlxMath.absInt = function(n) {
	if(n > 0) {
		return n;
	} else {
		return -n;
	}
};
var flixel_math_FlxMatrix = function(a,b,c,d,tx,ty) {
	openfl_geom_Matrix.call(this,a,b,c,d,tx,ty);
};
$hxClasses["flixel.math.FlxMatrix"] = flixel_math_FlxMatrix;
flixel_math_FlxMatrix.__name__ = "flixel.math.FlxMatrix";
flixel_math_FlxMatrix.__super__ = openfl_geom_Matrix;
flixel_math_FlxMatrix.prototype = $extend(openfl_geom_Matrix.prototype,{
	rotateWithTrig: function(cos,sin) {
		var a1 = this.a * cos - this.b * sin;
		this.b = this.a * sin + this.b * cos;
		this.a = a1;
		var c1 = this.c * cos - this.d * sin;
		this.d = this.c * sin + this.d * cos;
		this.c = c1;
		var tx1 = this.tx * cos - this.ty * sin;
		this.ty = this.tx * sin + this.ty * cos;
		this.tx = tx1;
		return this;
	}
	,rotateBy180: function() {
		this.setTo(-this.a,-this.b,-this.c,-this.d,-this.tx,-this.ty);
		return this;
	}
	,rotateByPositive90: function() {
		this.setTo(-this.b,this.a,-this.d,this.c,-this.ty,this.tx);
		return this;
	}
	,rotateByNegative90: function() {
		this.setTo(this.b,-this.a,this.d,-this.c,this.ty,-this.tx);
		return this;
	}
	,transformX: function(px,py) {
		return px * this.a + py * this.c + this.tx;
	}
	,transformY: function(px,py) {
		return px * this.b + py * this.d + this.ty;
	}
	,__class__: flixel_math_FlxMatrix
});
var flixel_math_FlxCallbackPoint = function(setXCallback,setYCallback,setXYCallback) {
	flixel_math_FlxPoint.call(this);
	this._setXCallback = setXCallback;
	this._setYCallback = setXYCallback;
	this._setXYCallback = setXYCallback;
	if(this._setXCallback != null) {
		if(this._setYCallback == null) {
			this._setYCallback = setXCallback;
		}
		if(this._setXYCallback == null) {
			this._setXYCallback = setXCallback;
		}
	}
};
$hxClasses["flixel.math.FlxCallbackPoint"] = flixel_math_FlxCallbackPoint;
flixel_math_FlxCallbackPoint.__name__ = "flixel.math.FlxCallbackPoint";
flixel_math_FlxCallbackPoint.__super__ = flixel_math_FlxPoint;
flixel_math_FlxCallbackPoint.prototype = $extend(flixel_math_FlxPoint.prototype,{
	_setXCallback: null
	,_setYCallback: null
	,_setXYCallback: null
	,set: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		flixel_math_FlxPoint.prototype.set.call(this,X,Y);
		if(this._setXYCallback != null) {
			this._setXYCallback(this);
		}
		return this;
	}
	,set_x: function(Value) {
		flixel_math_FlxPoint.prototype.set_x.call(this,Value);
		if(this._setXCallback != null) {
			this._setXCallback(this);
		}
		return Value;
	}
	,set_y: function(Value) {
		flixel_math_FlxPoint.prototype.set_y.call(this,Value);
		if(this._setYCallback != null) {
			this._setYCallback(this);
		}
		return Value;
	}
	,destroy: function() {
		flixel_math_FlxPoint.prototype.destroy.call(this);
		this._setXCallback = null;
		this._setYCallback = null;
		this._setXYCallback = null;
	}
	,put: function() {
	}
	,__class__: flixel_math_FlxCallbackPoint
});
var flixel_math_FlxVector = {};
flixel_math_FlxVector.__properties__ = {get_ly:"get_ly",get_lx:"get_lx",get_ry:"get_ry",get_rx:"get_rx",set_radians:"set_radians",get_radians:"get_radians",set_degrees:"set_degrees",get_degrees:"get_degrees",get_lengthSquared:"get_lengthSquared",set_length:"set_length",get_length:"get_length",get_dy:"get_dy",get_dx:"get_dx",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_pool:"get_pool"};
flixel_math_FlxVector.get = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var X = x;
	var Y = y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	return point;
};
flixel_math_FlxVector.weak = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var X = x;
	var Y = y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var X1 = X;
	var Y1 = Y;
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
	point._inPool = false;
	var point1 = point;
	point1._weak = true;
	return point1;
};
flixel_math_FlxVector._new = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var this1 = new flixel_math_FlxPoint(x,y);
	return this1;
};
flixel_math_FlxVector.set = function(this1,x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	return this1.set(x,y);
};
flixel_math_FlxVector.add = function(this1,x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var X = x;
	var Y = y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this1.set_x(this1.x + X);
	this1.set_y(this1.y + Y);
	return this1;
};
flixel_math_FlxVector.addPoint = function(this1,point) {
	return this1.addPoint(point);
};
flixel_math_FlxVector.subtract = function(this1,x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var X = x;
	var Y = y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this1.set_x(this1.x - X);
	this1.set_y(this1.y - Y);
	return this1;
};
flixel_math_FlxVector.subtractPoint = function(this1,point) {
	return this1.subtractPoint(point);
};
flixel_math_FlxVector.scale = function(this1,k) {
	return this1.scale(k);
};
flixel_math_FlxVector.scaleNew = function(this1,k) {
	return flixel_math_FlxVector.clone(this1).scale(k);
};
flixel_math_FlxVector.addNew = function(this1,v) {
	return flixel_math_FlxVector.clone(this1).addPoint(v);
};
flixel_math_FlxVector.subtractNew = function(this1,v) {
	return flixel_math_FlxVector.clone(this1).subtractPoint(v);
};
flixel_math_FlxVector.copyFrom = function(this1,point) {
	this1.set_x(point.x);
	this1.set_y(point.y);
	if(point._weak) {
		point.put();
	}
	return this1;
};
flixel_math_FlxVector.copyFromFlash = function(this1,flashPoint) {
	this1.set_x(flashPoint.x);
	this1.set_y(flashPoint.y);
	return this1;
};
flixel_math_FlxVector.floor = function(this1) {
	this1.set_x(Math.floor(this1.x));
	this1.set_y(Math.floor(this1.y));
	return this1;
};
flixel_math_FlxVector.ceil = function(this1) {
	this1.set_x(Math.ceil(this1.x));
	this1.set_y(Math.ceil(this1.y));
	return this1;
};
flixel_math_FlxVector.round = function(this1) {
	this1.set_x(Math.round(this1.x));
	this1.set_y(Math.round(this1.y));
	return this1;
};
flixel_math_FlxVector.rotate = function(this1,pivot,angle) {
	return this1.rotate(pivot,angle);
};
flixel_math_FlxVector.transform = function(this1,matrix) {
	var x1 = this1.x * matrix.a + this1.y * matrix.c + matrix.tx;
	var y1 = this1.x * matrix.b + this1.y * matrix.d + matrix.ty;
	return this1.set(x1,y1);
};
flixel_math_FlxVector.dotProduct = function(this1,v) {
	var dp = this1.x * v.x + this1.y * v.y;
	if(v._weak) {
		v.put();
	}
	return dp;
};
flixel_math_FlxVector.dotProductWeak = function(this1,v) {
	return this1.x * v.x + this1.y * v.y;
};
flixel_math_FlxVector.dotProdWithNormalizing = function(this1,v) {
	var normalized = flixel_math_FlxVector.normalize(flixel_math_FlxVector.clone(v,flixel_math_FlxVector._vector1));
	if(v._weak) {
		v.put();
	}
	return this1.x * normalized.x + this1.y * normalized.y;
};
flixel_math_FlxVector.isPerpendicular = function(this1,v) {
	var dp = this1.x * v.x + this1.y * v.y;
	if(v._weak) {
		v.put();
	}
	return Math.abs(dp) < 9.9999999999999984e-015;
};
flixel_math_FlxVector.crossProductLength = function(this1,v) {
	var cp = this1.x * v.y - this1.y * v.x;
	if(v._weak) {
		v.put();
	}
	return cp;
};
flixel_math_FlxVector.crossProductLengthWeak = function(this1,v) {
	return this1.x * v.y - this1.y * v.x;
};
flixel_math_FlxVector.isParallel = function(this1,v) {
	var p = Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015;
	if(v._weak) {
		v.put();
	}
	return p;
};
flixel_math_FlxVector.isParallelWeak = function(this1,v) {
	return Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015;
};
flixel_math_FlxVector.isZero = function(this1) {
	if(Math.abs(this1.x) < 0.0000001) {
		return Math.abs(this1.y) < 0.0000001;
	} else {
		return false;
	}
};
flixel_math_FlxVector.zero = function(this1) {
	this1.set_x(this1.set_y(0));
	return this1;
};
flixel_math_FlxVector.normalize = function(this1) {
	if(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001) {
		return this1;
	}
	return this1.scale(1 / Math.sqrt(this1.x * this1.x + this1.y * this1.y));
};
flixel_math_FlxVector.isNormalized = function(this1) {
	return Math.abs(this1.x * this1.x + this1.y * this1.y - 1) < 9.9999999999999984e-015;
};
flixel_math_FlxVector.rotateByRadians = function(this1,rads) {
	var s = Math.sin(rads);
	var c = Math.cos(rads);
	var tempX = this1.x;
	this1.set_x(tempX * c - this1.y * s);
	this1.set_y(tempX * s + this1.y * c);
	return this1;
};
flixel_math_FlxVector.rotateByDegrees = function(this1,degs) {
	var rads = degs * (Math.PI / 180);
	var s = Math.sin(rads);
	var c = Math.cos(rads);
	var tempX = this1.x;
	this1.set_x(tempX * c - this1.y * s);
	this1.set_y(tempX * s + this1.y * c);
	return this1;
};
flixel_math_FlxVector.rotateWithTrig = function(this1,sin,cos) {
	var tempX = this1.x;
	this1.set_x(tempX * cos - this1.y * sin);
	this1.set_y(tempX * sin + this1.y * cos);
	return this1;
};
flixel_math_FlxVector.setPolarRadians = function(this1,length,radians) {
	this1.set_x(length * Math.cos(radians));
	this1.set_y(length * Math.sin(radians));
	return this1;
};
flixel_math_FlxVector.setPolarDegrees = function(this1,length,degrees) {
	return flixel_math_FlxVector.setPolarRadians(this1,length,degrees * (Math.PI / 180));
};
flixel_math_FlxVector.rightNormal = function(this1,vec) {
	if(vec == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		vec = point;
	}
	var x = -this1.y;
	var y = this1.x;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	vec.set(x,y);
	return vec;
};
flixel_math_FlxVector.leftNormal = function(this1,vec) {
	if(vec == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		vec = point;
	}
	var x = this1.y;
	var y = -this1.x;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	vec.set(x,y);
	return vec;
};
flixel_math_FlxVector.negate = function(this1) {
	this1.set_x(this1.x * -1);
	this1.set_y(this1.y * -1);
	return this1;
};
flixel_math_FlxVector.negateNew = function(this1) {
	var this2 = flixel_math_FlxVector.clone(this1);
	this2.set_x(this2.x * -1);
	this2.set_y(this2.y * -1);
	return this2;
};
flixel_math_FlxVector.projectTo = function(this1,v,proj) {
	var dp = this1.x * v.x + this1.y * v.y;
	var lenSq = v.x * v.x + v.y * v.y;
	if(proj == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		proj = point;
	}
	var x = dp * v.x / lenSq;
	var y = dp * v.y / lenSq;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	proj.set(x,y);
	if(v._weak) {
		v.put();
	}
	return proj;
};
flixel_math_FlxVector.projectToNormalized = function(this1,v,proj) {
	var proj1 = proj;
	var dp = this1.x * v.x + this1.y * v.y;
	if(proj1 == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		proj1 = point;
	}
	var x = dp * v.x;
	var y = dp * v.y;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	proj = proj1.set(x,y);
	if(v._weak) {
		v.put();
	}
	return proj;
};
flixel_math_FlxVector.projectToNormalizedWeak = function(this1,v,proj) {
	var dp = this1.x * v.x + this1.y * v.y;
	if(proj == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		proj = point;
	}
	var x = dp * v.x;
	var y = dp * v.y;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	return proj.set(x,y);
};
flixel_math_FlxVector.perpProduct = function(this1,v) {
	var pp = this1.y * v.x + -this1.x * v.y;
	if(v._weak) {
		v.put();
	}
	return pp;
};
flixel_math_FlxVector.perpProductWeak = function(this1,v) {
	return this1.y * v.x + -this1.x * v.y;
};
flixel_math_FlxVector.ratio = function(this1,a,b,v) {
	var r;
	if(Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015) {
		r = NaN;
	} else if(this1.x * this1.x + this1.y * this1.y < 9.9999999999999984e-015 || v.x * v.x + v.y * v.y < 9.9999999999999984e-015) {
		r = NaN;
	} else {
		flixel_math_FlxVector._vector1 = flixel_math_FlxVector.clone(b,flixel_math_FlxVector._vector1);
		var _this = flixel_math_FlxVector._vector1;
		_this.set_x(_this.x - a.x);
		_this.set_y(_this.y - a.y);
		var this2 = flixel_math_FlxVector._vector1;
		r = (this2.y * v.x + -this2.x * v.y) / (this1.y * v.x + -this1.x * v.y);
	}
	if(a._weak) {
		a.put();
	}
	if(b._weak) {
		b.put();
	}
	if(v._weak) {
		v.put();
	}
	return r;
};
flixel_math_FlxVector.ratioWeak = function(this1,a,b,v) {
	if(Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015) {
		return NaN;
	}
	if(this1.x * this1.x + this1.y * this1.y < 9.9999999999999984e-015 || v.x * v.x + v.y * v.y < 9.9999999999999984e-015) {
		return NaN;
	}
	flixel_math_FlxVector._vector1 = flixel_math_FlxVector.clone(b,flixel_math_FlxVector._vector1);
	var _this = flixel_math_FlxVector._vector1;
	_this.set_x(_this.x - a.x);
	_this.set_y(_this.y - a.y);
	var this2 = flixel_math_FlxVector._vector1;
	return (this2.y * v.x + -this2.x * v.y) / (this1.y * v.x + -this1.x * v.y);
};
flixel_math_FlxVector.findIntersection = function(this1,a,b,v,intersection) {
	var t;
	if(Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015) {
		t = NaN;
	} else if(this1.x * this1.x + this1.y * this1.y < 9.9999999999999984e-015 || v.x * v.x + v.y * v.y < 9.9999999999999984e-015) {
		t = NaN;
	} else {
		flixel_math_FlxVector._vector1 = flixel_math_FlxVector.clone(b,flixel_math_FlxVector._vector1);
		var _this = flixel_math_FlxVector._vector1;
		_this.set_x(_this.x - a.x);
		_this.set_y(_this.y - a.y);
		var this2 = flixel_math_FlxVector._vector1;
		t = (this2.y * v.x + -this2.x * v.y) / (this1.y * v.x + -this1.x * v.y);
	}
	if(intersection == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		intersection = point;
	}
	if(isNaN(t)) {
		var x = NaN;
		var y = NaN;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		intersection.set(x,y);
	} else {
		var x = a.x + t * this1.x;
		var y = a.y + t * this1.y;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		intersection.set(x,y);
	}
	if(a._weak) {
		a.put();
	}
	if(b._weak) {
		b.put();
	}
	if(v._weak) {
		v.put();
	}
	return intersection;
};
flixel_math_FlxVector.findIntersectionInBounds = function(this1,a,b,v,intersection) {
	if(intersection == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		intersection = point;
	}
	var t1;
	if(Math.abs(this1.x * v.y - this1.y * v.x) < 9.9999999999999984e-015) {
		t1 = NaN;
	} else if(this1.x * this1.x + this1.y * this1.y < 9.9999999999999984e-015 || v.x * v.x + v.y * v.y < 9.9999999999999984e-015) {
		t1 = NaN;
	} else {
		flixel_math_FlxVector._vector1 = flixel_math_FlxVector.clone(b,flixel_math_FlxVector._vector1);
		var _this = flixel_math_FlxVector._vector1;
		_this.set_x(_this.x - a.x);
		_this.set_y(_this.y - a.y);
		var this2 = flixel_math_FlxVector._vector1;
		t1 = (this2.y * v.x + -this2.x * v.y) / (this1.y * v.x + -this1.x * v.y);
	}
	var t2;
	if(Math.abs(v.x * this1.y - v.y * this1.x) < 9.9999999999999984e-015) {
		t2 = NaN;
	} else if(v.x * v.x + v.y * v.y < 9.9999999999999984e-015 || this1.x * this1.x + this1.y * this1.y < 9.9999999999999984e-015) {
		t2 = NaN;
	} else {
		flixel_math_FlxVector._vector1 = flixel_math_FlxVector.clone(a,flixel_math_FlxVector._vector1);
		var _this = flixel_math_FlxVector._vector1;
		_this.set_x(_this.x - b.x);
		_this.set_y(_this.y - b.y);
		var this2 = flixel_math_FlxVector._vector1;
		t2 = (this2.y * this1.x + -this2.x * this1.y) / (v.y * this1.x + -v.x * this1.y);
	}
	if(!isNaN(t1) && !isNaN(t2) && t1 > 0 && t1 <= 1 && t2 > 0 && t2 <= 1) {
		var x = a.x + t1 * this1.x;
		var y = a.y + t1 * this1.y;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		intersection.set(x,y);
	} else {
		var x = NaN;
		var y = NaN;
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		intersection.set(x,y);
	}
	if(a._weak) {
		a.put();
	}
	if(b._weak) {
		b.put();
	}
	if(v._weak) {
		v.put();
	}
	return intersection;
};
flixel_math_FlxVector.truncate = function(this1,max) {
	var l = Math.min(max,Math.sqrt(this1.x * this1.x + this1.y * this1.y));
	if(!(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001)) {
		var a = flixel_math_FlxVector.get_radians(this1);
		this1.set_x(l * Math.cos(a));
		this1.set_y(l * Math.sin(a));
	}
	return this1;
};
flixel_math_FlxVector.radiansBetween = function(this1,v) {
	var rads = Math.acos((this1.x * v.x + this1.y * v.y) / (Math.sqrt(this1.x * this1.x + this1.y * this1.y) * Math.sqrt(v.x * v.x + v.y * v.y)));
	if(v._weak) {
		v.put();
	}
	return rads;
};
flixel_math_FlxVector.degreesBetween = function(this1,v) {
	var rads = Math.acos((this1.x * v.x + this1.y * v.y) / (Math.sqrt(this1.x * this1.x + this1.y * this1.y) * Math.sqrt(v.x * v.x + v.y * v.y)));
	if(v._weak) {
		v.put();
	}
	return rads * (180 / Math.PI);
};
flixel_math_FlxVector.sign = function(this1,a,b) {
	var signFl = (a.x - this1.x) * (b.y - this1.y) - (a.y - this1.y) * (b.x - this1.x);
	if(a._weak) {
		a.put();
	}
	if(b._weak) {
		b.put();
	}
	if(signFl == 0) {
		return 0;
	}
	return Math.round(signFl / Math.abs(signFl));
};
flixel_math_FlxVector.dist = function(this1,v) {
	var dx = v.x - this1.x;
	var dy = v.y - this1.y;
	if(v._weak) {
		v.put();
	}
	return Math.sqrt(dx * dx + dy * dy);
};
flixel_math_FlxVector.distSquared = function(this1,v) {
	var dx = v.x - this1.x;
	var dy = v.y - this1.y;
	if(v._weak) {
		v.put();
	}
	return dx * dx + dy * dy;
};
flixel_math_FlxVector.bounce = function(this1,normal,bounceCoeff) {
	if(bounceCoeff == null) {
		bounceCoeff = 1;
	}
	var d = (1 + bounceCoeff) * (this1.x * normal.x + this1.y * normal.y);
	this1.set_x(this1.x - d * normal.x);
	this1.set_y(this1.y - d * normal.y);
	if(normal._weak) {
		normal.put();
	}
	return this1;
};
flixel_math_FlxVector.bounceWithFriction = function(this1,normal,bounceCoeff,friction) {
	if(friction == null) {
		friction = 0;
	}
	if(bounceCoeff == null) {
		bounceCoeff = 1;
	}
	var v = flixel_math_FlxVector.rightNormal(normal,flixel_math_FlxVector._vector3);
	var proj = flixel_math_FlxVector._vector1;
	var dp = this1.x * v.x + this1.y * v.y;
	if(proj == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		proj = point;
	}
	var x = dp * v.x;
	var y = dp * v.y;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var p1 = proj.set(x,y);
	var proj = flixel_math_FlxVector._vector2;
	var dp = this1.x * normal.x + this1.y * normal.y;
	if(proj == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		proj = point;
	}
	var x = dp * normal.x;
	var y = dp * normal.y;
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	var p2 = proj.set(x,y);
	var bounceX = -p2.x;
	var bounceY = -p2.y;
	var frictionX = p1.x;
	var frictionY = p1.y;
	this1.set_x(bounceX * bounceCoeff + frictionX * friction);
	this1.set_y(bounceY * bounceCoeff + frictionY * friction);
	if(normal._weak) {
		normal.put();
	}
	return this1;
};
flixel_math_FlxVector.isValid = function(this1) {
	var tmp;
	var tmp1;
	var f = this1.x;
	if(!isNaN(f)) {
		var f = this1.y;
		tmp1 = !isNaN(f);
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		var f = this1.x;
		tmp = isFinite(f);
	} else {
		tmp = false;
	}
	if(tmp) {
		var f = this1.y;
		return isFinite(f);
	} else {
		return false;
	}
};
flixel_math_FlxVector.clone = function(this1,vec) {
	if(vec == null) {
		var X = 0;
		var Y = 0;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		vec = point;
	}
	vec.set_x(this1.x);
	vec.set_y(this1.y);
	return vec;
};
flixel_math_FlxVector.get_x = function(this1) {
	return this1.x;
};
flixel_math_FlxVector.set_x = function(this1,x) {
	return this1.set_x(x);
};
flixel_math_FlxVector.get_y = function(this1) {
	return this1.y;
};
flixel_math_FlxVector.set_y = function(this1,y) {
	return this1.set_y(y);
};
flixel_math_FlxVector.get_dx = function(this1) {
	if(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001) {
		return 0;
	}
	return this1.x / Math.sqrt(this1.x * this1.x + this1.y * this1.y);
};
flixel_math_FlxVector.get_dy = function(this1) {
	if(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001) {
		return 0;
	}
	return this1.y / Math.sqrt(this1.x * this1.x + this1.y * this1.y);
};
flixel_math_FlxVector.get_length = function(this1) {
	return Math.sqrt(this1.x * this1.x + this1.y * this1.y);
};
flixel_math_FlxVector.set_length = function(this1,l) {
	if(!(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001)) {
		var a = flixel_math_FlxVector.get_radians(this1);
		this1.set_x(l * Math.cos(a));
		this1.set_y(l * Math.sin(a));
	}
	return l;
};
flixel_math_FlxVector.get_lengthSquared = function(this1) {
	return this1.x * this1.x + this1.y * this1.y;
};
flixel_math_FlxVector.get_degrees = function(this1) {
	return flixel_math_FlxVector.get_radians(this1) * (180 / Math.PI);
};
flixel_math_FlxVector.set_degrees = function(this1,degs) {
	var rads = degs * (Math.PI / 180);
	var len = Math.sqrt(this1.x * this1.x + this1.y * this1.y);
	this1.set_x(len * Math.cos(rads));
	this1.set_y(len * Math.sin(rads));
	return degs;
};
flixel_math_FlxVector.get_radians = function(this1) {
	if(Math.abs(this1.x) < 0.0000001 && Math.abs(this1.y) < 0.0000001) {
		return 0;
	}
	return Math.atan2(this1.y,this1.x);
};
flixel_math_FlxVector.set_radians = function(this1,rads) {
	var len = Math.sqrt(this1.x * this1.x + this1.y * this1.y);
	this1.set_x(len * Math.cos(rads));
	this1.set_y(len * Math.sin(rads));
	return rads;
};
flixel_math_FlxVector.get_rx = function(this1) {
	return -this1.y;
};
flixel_math_FlxVector.get_ry = function(this1) {
	return this1.x;
};
flixel_math_FlxVector.get_lx = function(this1) {
	return this1.y;
};
flixel_math_FlxVector.get_ly = function(this1) {
	return -this1.x;
};
flixel_math_FlxVector.get_pool = function() {
	return flixel_math_FlxPoint.get_pool();
};
var flixel_math_FlxVelocity = function() { };
$hxClasses["flixel.math.FlxVelocity"] = flixel_math_FlxVelocity;
flixel_math_FlxVelocity.__name__ = "flixel.math.FlxVelocity";
flixel_math_FlxVelocity.moveTowardsObject = function(Source,Dest,Speed,MaxTime) {
	if(MaxTime == null) {
		MaxTime = 0;
	}
	if(Speed == null) {
		Speed = 60;
	}
	var a = flixel_math_FlxAngle.angleBetween(Source,Dest);
	if(MaxTime > 0) {
		var dx = Source.x + Source.origin.x - (Dest.x + Dest.origin.x);
		var dy = Source.y + Source.origin.y - (Dest.y + Dest.origin.y);
		var d = Math.sqrt(dx * dx + dy * dy) | 0;
		Speed = d / (MaxTime / 1000) | 0;
	}
	Source.velocity.set_x(Math.cos(a) * Speed);
	Source.velocity.set_y(Math.sin(a) * Speed);
};
flixel_math_FlxVelocity.accelerateTowardsObject = function(Source,Dest,Acceleration,MaxSpeed) {
	var a = flixel_math_FlxAngle.angleBetween(Source,Dest);
	var sinA = Math.sin(a);
	var cosA = Math.cos(a);
	Source.velocity.set(0,0);
	Source.acceleration.set(cosA * Acceleration,sinA * Acceleration);
	Source.maxVelocity.set(Math.abs(cosA * MaxSpeed),Math.abs(sinA * MaxSpeed));
};
flixel_math_FlxVelocity.moveTowardsMouse = function(Source,Speed,MaxTime) {
	if(MaxTime == null) {
		MaxTime = 0;
	}
	if(Speed == null) {
		Speed = 60;
	}
	var a = flixel_math_FlxAngle.angleBetweenMouse(Source);
	if(MaxTime > 0) {
		var dx = Source.x + Source.origin.x - flixel_FlxG.mouse.screenX;
		var dy = Source.y + Source.origin.y - flixel_FlxG.mouse.screenY;
		var d = Math.sqrt(dx * dx + dy * dy) | 0;
		Speed = d / (MaxTime / 1000) | 0;
	}
	Source.velocity.set_x(Math.cos(a) * Speed);
	Source.velocity.set_y(Math.sin(a) * Speed);
};
flixel_math_FlxVelocity.moveTowardsTouch = function(Source,Touch1,Speed,MaxTime) {
	if(MaxTime == null) {
		MaxTime = 0;
	}
	if(Speed == null) {
		Speed = 60;
	}
	var a = flixel_math_FlxAngle.angleBetweenTouch(Source,Touch1);
	if(MaxTime > 0) {
		var dx = Source.x + Source.origin.x - Touch1.screenX;
		var dy = Source.y + Source.origin.y - Touch1.screenY;
		var d = Math.sqrt(dx * dx + dy * dy) | 0;
		Speed = d / (MaxTime / 1000) | 0;
	}
	Source.velocity.set_x(Math.cos(a) * Speed);
	Source.velocity.set_y(Math.sin(a) * Speed);
};
flixel_math_FlxVelocity.accelerateTowardsMouse = function(Source,Acceleration,MaxSpeed) {
	var a = flixel_math_FlxAngle.angleBetweenMouse(Source);
	var sinA = Math.sin(a);
	var cosA = Math.cos(a);
	Source.velocity.set(0,0);
	Source.acceleration.set(cosA * Acceleration,sinA * Acceleration);
	Source.maxVelocity.set(Math.abs(cosA * MaxSpeed),Math.abs(sinA * MaxSpeed));
};
flixel_math_FlxVelocity.accelerateTowardsTouch = function(Source,Touch1,Acceleration,MaxSpeed) {
	var a = flixel_math_FlxAngle.angleBetweenTouch(Source,Touch1);
	var sinA = Math.sin(a);
	var cosA = Math.cos(a);
	Source.velocity.set(0,0);
	Source.acceleration.set(cosA * Acceleration,sinA * Acceleration);
	Source.maxVelocity.set(Math.abs(cosA * MaxSpeed),Math.abs(sinA * MaxSpeed));
};
flixel_math_FlxVelocity.moveTowardsPoint = function(Source,Target,Speed,MaxTime) {
	if(MaxTime == null) {
		MaxTime = 0;
	}
	if(Speed == null) {
		Speed = 60;
	}
	var a = flixel_math_FlxAngle.angleBetweenPoint(Source,Target);
	if(MaxTime > 0) {
		var dx = Source.x + Source.origin.x - Target.x;
		var dy = Source.y + Source.origin.y - Target.y;
		if(Target._weak) {
			Target.put();
		}
		var d = Math.sqrt(dx * dx + dy * dy) | 0;
		Speed = d / (MaxTime / 1000) | 0;
	}
	Source.velocity.set_x(Math.cos(a) * Speed);
	Source.velocity.set_y(Math.sin(a) * Speed);
	if(Target._weak) {
		Target.put();
	}
};
flixel_math_FlxVelocity.accelerateTowardsPoint = function(Source,Target,Acceleration,MaxSpeed) {
	var a = flixel_math_FlxAngle.angleBetweenPoint(Source,Target);
	var sinA = Math.sin(a);
	var cosA = Math.cos(a);
	Source.velocity.set(0,0);
	Source.acceleration.set(cosA * Acceleration,sinA * Acceleration);
	Source.maxVelocity.set(Math.abs(cosA * MaxSpeed),Math.abs(sinA * MaxSpeed));
	if(Target._weak) {
		Target.put();
	}
};
flixel_math_FlxVelocity.velocityFromAngle = function(Angle,Speed) {
	var a = Angle * (Math.PI / 180);
	var X = Math.cos(a) * Speed;
	var Y = Math.sin(a) * Speed;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	return point;
};
flixel_math_FlxVelocity.velocityFromFacing = function(Parent,Speed) {
	var a = flixel_math_FlxAngle.angleFromFacing(Parent.facing);
	var X = Math.cos(a) * Speed;
	var Y = Math.sin(a) * Speed;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	return point;
};
flixel_math_FlxVelocity.computeVelocity = function(Velocity,Acceleration,Drag,Max,Elapsed) {
	if(Acceleration != 0) {
		Velocity += Acceleration * Elapsed;
	} else if(Drag != 0) {
		var drag = Drag * Elapsed;
		if(Velocity - drag > 0) {
			Velocity -= drag;
		} else if(Velocity + drag < 0) {
			Velocity += drag;
		} else {
			Velocity = 0;
		}
	}
	if(Velocity != 0 && Max != 0) {
		if(Velocity > Max) {
			Velocity = Max;
		} else if(Velocity < -Max) {
			Velocity = -Max;
		}
	}
	return Velocity;
};
flixel_math_FlxVelocity.accelerateFromAngle = function(source,radians,acceleration,maxSpeed,resetVelocity) {
	if(resetVelocity == null) {
		resetVelocity = true;
	}
	var sinA = Math.sin(radians);
	var cosA = Math.cos(radians);
	if(resetVelocity) {
		source.velocity.set(0,0);
	}
	source.acceleration.set(cosA * acceleration,sinA * acceleration);
	source.maxVelocity.set(Math.abs(cosA * maxSpeed),Math.abs(sinA * maxSpeed));
};
var flixel_system_GraphicLogo = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_GraphicLogo.preload != null) {
		this.__fromImage(flixel_system_GraphicLogo.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_GraphicLogo.resourceName),flixel_system_GraphicLogo.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_GraphicLogo.preload == null) {
				flixel_system_GraphicLogo.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.GraphicLogo"] = flixel_system_GraphicLogo;
flixel_system_GraphicLogo.__name__ = "flixel.system.GraphicLogo";
flixel_system_GraphicLogo.preload = null;
flixel_system_GraphicLogo.__super__ = openfl_display_BitmapData;
flixel_system_GraphicLogo.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_GraphicLogo
});
var flixel_system_GraphicVirtualInput = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_GraphicVirtualInput.preload != null) {
		this.__fromImage(flixel_system_GraphicVirtualInput.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_GraphicVirtualInput.resourceName),flixel_system_GraphicVirtualInput.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_GraphicVirtualInput.preload == null) {
				flixel_system_GraphicVirtualInput.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.GraphicVirtualInput"] = flixel_system_GraphicVirtualInput;
flixel_system_GraphicVirtualInput.__name__ = "flixel.system.GraphicVirtualInput";
flixel_system_GraphicVirtualInput.preload = null;
flixel_system_GraphicVirtualInput.__super__ = openfl_display_BitmapData;
flixel_system_GraphicVirtualInput.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_GraphicVirtualInput
});
var haxe_io_Bytes = function(data) {
	this.length = data.byteLength;
	this.b = new Uint8Array(data);
	this.b.bufferValue = data;
	data.hxBytes = this;
	data.bytes = this.b;
};
$hxClasses["haxe.io.Bytes"] = haxe_io_Bytes;
haxe_io_Bytes.__name__ = "haxe.io.Bytes";
haxe_io_Bytes.alloc = function(length) {
	return new haxe_io_Bytes(new ArrayBuffer(length));
};
haxe_io_Bytes.ofString = function(s,encoding) {
	var a = [];
	var i = 0;
	while(i < s.length) {
		var c = s.charCodeAt(i++);
		if(55296 <= c && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(i++) & 1023;
		}
		if(c <= 127) {
			a.push(c);
		} else if(c <= 2047) {
			a.push(192 | c >> 6);
			a.push(128 | c & 63);
		} else if(c <= 65535) {
			a.push(224 | c >> 12);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		} else {
			a.push(240 | c >> 18);
			a.push(128 | c >> 12 & 63);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		}
	}
	return new haxe_io_Bytes(new Uint8Array(a).buffer);
};
haxe_io_Bytes.ofData = function(b) {
	var hb = b.hxBytes;
	if(hb != null) {
		return hb;
	}
	return new haxe_io_Bytes(b);
};
haxe_io_Bytes.ofHex = function(s) {
	if((s.length & 1) != 0) {
		throw haxe_Exception.thrown("Not a hex string (odd number of digits)");
	}
	var a = [];
	var i = 0;
	var len = s.length >> 1;
	while(i < len) {
		var high = s.charCodeAt(i * 2);
		var low = s.charCodeAt(i * 2 + 1);
		high = (high & 15) + ((high & 64) >> 6) * 9;
		low = (low & 15) + ((low & 64) >> 6) * 9;
		a.push((high << 4 | low) & 255);
		++i;
	}
	return new haxe_io_Bytes(new Uint8Array(a).buffer);
};
haxe_io_Bytes.fastGet = function(b,pos) {
	return b.bytes[pos];
};
haxe_io_Bytes.prototype = {
	length: null
	,b: null
	,data: null
	,get: function(pos) {
		return this.b[pos];
	}
	,set: function(pos,v) {
		this.b[pos] = v & 255;
	}
	,blit: function(pos,src,srcpos,len) {
		if(pos < 0 || srcpos < 0 || len < 0 || pos + len > this.length || srcpos + len > src.length) {
			throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);
		}
		if(srcpos == 0 && len == src.b.byteLength) {
			this.b.set(src.b,pos);
		} else {
			this.b.set(src.b.subarray(srcpos,srcpos + len),pos);
		}
	}
	,fill: function(pos,len,value) {
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			this.b[pos++] = value & 255;
		}
	}
	,sub: function(pos,len) {
		if(pos < 0 || len < 0 || pos + len > this.length) {
			throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);
		}
		return new haxe_io_Bytes(this.b.buffer.slice(pos + this.b.byteOffset,pos + this.b.byteOffset + len));
	}
	,compare: function(other) {
		var b1 = this.b;
		var b2 = other.b;
		var len = this.length < other.length ? this.length : other.length;
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			if(b1[i] != b2[i]) {
				return b1[i] - b2[i];
			}
		}
		return this.length - other.length;
	}
	,initData: function() {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
	}
	,getDouble: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getFloat64(pos,true);
	}
	,getFloat: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getFloat32(pos,true);
	}
	,setDouble: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setFloat64(pos,v,true);
	}
	,setFloat: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setFloat32(pos,v,true);
	}
	,getUInt16: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getUint16(pos,true);
	}
	,setUInt16: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setUint16(pos,v,true);
	}
	,getInt32: function(pos) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		return this.data.getInt32(pos,true);
	}
	,setInt32: function(pos,v) {
		if(this.data == null) {
			this.data = new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength);
		}
		this.data.setInt32(pos,v,true);
	}
	,getInt64: function(pos) {
		var this1 = new haxe__$Int64__$_$_$Int64(this.getInt32(pos + 4),this.getInt32(pos));
		return this1;
	}
	,setInt64: function(pos,v) {
		this.setInt32(pos,v.low);
		this.setInt32(pos + 4,v.high);
	}
	,getString: function(pos,len,encoding) {
		if(pos < 0 || len < 0 || pos + len > this.length) {
			throw haxe_Exception.thrown(haxe_io_Error.OutsideBounds);
		}
		var s = "";
		var b = this.b;
		var fcc = _$String_String_$Impl_$.fromCharCode;
		var i = pos;
		var max = pos + len;
		while(i < max) {
			var c = b[i++];
			if(c < 128) {
				if(c == 0) {
					break;
				}
				s += fcc(c);
			} else if(c < 224) {
				s += fcc((c & 63) << 6 | b[i++] & 127);
			} else if(c < 240) {
				var c2 = b[i++];
				s += fcc((c & 31) << 12 | (c2 & 127) << 6 | b[i++] & 127);
			} else {
				var c21 = b[i++];
				var c3 = b[i++];
				var u = (c & 15) << 18 | (c21 & 127) << 12 | (c3 & 127) << 6 | b[i++] & 127;
				s += fcc((u >> 10) + 55232);
				s += fcc(u & 1023 | 56320);
			}
		}
		return s;
	}
	,readString: function(pos,len) {
		return this.getString(pos,len);
	}
	,toString: function() {
		return this.getString(0,this.length);
	}
	,toHex: function() {
		var s_b = "";
		var chars = [];
		var str = "0123456789abcdef";
		var _g = 0;
		var _g1 = str.length;
		while(_g < _g1) {
			var i = _g++;
			chars.push(HxOverrides.cca(str,i));
		}
		var _g = 0;
		var _g1 = this.length;
		while(_g < _g1) {
			var i = _g++;
			var c = this.b[i];
			s_b += String.fromCodePoint(chars[c >> 4]);
			s_b += String.fromCodePoint(chars[c & 15]);
		}
		return s_b;
	}
	,getData: function() {
		return this.b.bufferValue;
	}
	,__class__: haxe_io_Bytes
};
var openfl_utils_IDataOutput = function() { };
$hxClasses["openfl.utils.IDataOutput"] = openfl_utils_IDataOutput;
openfl_utils_IDataOutput.__name__ = "openfl.utils.IDataOutput";
openfl_utils_IDataOutput.__isInterface__ = true;
openfl_utils_IDataOutput.prototype = {
	get_endian: null
	,set_endian: null
	,objectEncoding: null
	,writeBoolean: null
	,writeByte: null
	,writeBytes: null
	,writeDouble: null
	,writeFloat: null
	,writeInt: null
	,writeMultiByte: null
	,writeObject: null
	,writeShort: null
	,writeUnsignedInt: null
	,writeUTF: null
	,writeUTFBytes: null
	,__class__: openfl_utils_IDataOutput
	,__properties__: {set_endian:"set_endian",get_endian:"get_endian"}
};
var openfl_utils_IDataInput = function() { };
$hxClasses["openfl.utils.IDataInput"] = openfl_utils_IDataInput;
openfl_utils_IDataInput.__name__ = "openfl.utils.IDataInput";
openfl_utils_IDataInput.__isInterface__ = true;
openfl_utils_IDataInput.prototype = {
	get_bytesAvailable: null
	,get_endian: null
	,set_endian: null
	,objectEncoding: null
	,readBoolean: null
	,readByte: null
	,readBytes: null
	,readDouble: null
	,readFloat: null
	,readInt: null
	,readMultiByte: null
	,readObject: null
	,readShort: null
	,readUnsignedByte: null
	,readUnsignedInt: null
	,readUnsignedShort: null
	,readUTF: null
	,readUTFBytes: null
	,__class__: openfl_utils_IDataInput
	,__properties__: {set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}
};
var openfl_utils_ByteArrayData = function(length) {
	if(length == null) {
		length = 0;
	}
	var bytes = new haxe_io_Bytes(new ArrayBuffer(length));
	haxe_io_Bytes.call(this,bytes.b.buffer);
	this.__length = length;
	if(openfl_utils_ByteArrayData.__defaultEndian == null) {
		if(lime_system_System.get_endianness() == lime_system_Endian.LITTLE_ENDIAN) {
			openfl_utils_ByteArrayData.__defaultEndian = 1;
		} else {
			openfl_utils_ByteArrayData.__defaultEndian = 0;
		}
	}
	this.__endian = openfl_utils_ByteArrayData.__defaultEndian;
	this.objectEncoding = openfl_utils_ByteArrayData.defaultObjectEncoding;
	this.position = 0;
};
$hxClasses["openfl.utils.ByteArrayData"] = openfl_utils_ByteArrayData;
openfl_utils_ByteArrayData.__name__ = "openfl.utils.ByteArrayData";
openfl_utils_ByteArrayData.__interfaces__ = [openfl_utils_IDataOutput,openfl_utils_IDataInput];
openfl_utils_ByteArrayData.__properties__ = {set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"};
openfl_utils_ByteArrayData.fromBytes = function(bytes) {
	var result = new openfl_utils_ByteArrayData();
	result.__fromBytes(bytes);
	return result;
};
openfl_utils_ByteArrayData.get_defaultEndian = function() {
	if(openfl_utils_ByteArrayData.__defaultEndian == null) {
		if(lime_system_System.get_endianness() == lime_system_Endian.LITTLE_ENDIAN) {
			openfl_utils_ByteArrayData.__defaultEndian = 1;
		} else {
			openfl_utils_ByteArrayData.__defaultEndian = 0;
		}
	}
	return openfl_utils_ByteArrayData.__defaultEndian;
};
openfl_utils_ByteArrayData.set_defaultEndian = function(value) {
	return openfl_utils_ByteArrayData.__defaultEndian = value;
};
openfl_utils_ByteArrayData.__super__ = haxe_io_Bytes;
openfl_utils_ByteArrayData.prototype = $extend(haxe_io_Bytes.prototype,{
	objectEncoding: null
	,position: null
	,__endian: null
	,__length: null
	,clear: function() {
		this.length = 0;
		this.position = 0;
	}
	,compress: function(algorithm) {
		if(algorithm == null) {
			algorithm = 2;
		}
		if(this.__length > this.length) {
			var cacheLength = this.length;
			this.length = this.__length;
			var data = new haxe_io_Bytes(new ArrayBuffer(cacheLength));
			data.blit(0,this,0,cacheLength);
			this.b = data.b;
			this.__length = data.length;
			this.data = data.data;
			this.length = cacheLength;
		}
		var limeBytes = this;
		var bytes;
		switch(algorithm) {
		case 0:
			bytes = lime_utils_Bytes.compress(limeBytes,lime_utils_CompressionAlgorithm.DEFLATE);
			break;
		case 1:
			bytes = lime_utils_Bytes.compress(limeBytes,lime_utils_CompressionAlgorithm.LZMA);
			break;
		default:
			bytes = lime_utils_Bytes.compress(limeBytes,lime_utils_CompressionAlgorithm.ZLIB);
		}
		if(bytes != null) {
			this.b = bytes.b;
			this.__length = bytes.length;
			this.data = bytes.data;
			this.length = this.__length;
			this.position = this.length;
		}
	}
	,deflate: function() {
		this.compress(0);
	}
	,inflate: function() {
		this.uncompress(0);
	}
	,readBoolean: function() {
		if(this.position < this.length) {
			return this.b[this.position++] != 0;
		} else {
			throw new openfl_errors_EOFError();
		}
	}
	,readByte: function() {
		var value = this.readUnsignedByte();
		if((value & 128) != 0) {
			return value - 256;
		} else {
			return value;
		}
	}
	,readBytes: function(bytes,offset,length) {
		if(length == null) {
			length = 0;
		}
		if(offset == null) {
			offset = 0;
		}
		if(length == 0) {
			length = this.length - this.position;
		}
		if(this.position + length > this.length) {
			throw new openfl_errors_EOFError();
		}
		if(bytes.length < offset + length) {
			bytes.__resize(offset + length);
		}
		bytes.blit(offset,this,this.position,length);
		this.position += length;
	}
	,readDouble: function() {
		if(this.__endian == 1) {
			if(this.position + 8 > this.length) {
				throw new openfl_errors_EOFError();
			}
			this.position += 8;
			return this.getDouble(this.position - 8);
		} else {
			var ch1 = this.readInt();
			var ch2 = this.readInt();
			return haxe_io_FPHelper.i64ToDouble(ch2,ch1);
		}
	}
	,readFloat: function() {
		if(this.__endian == 1) {
			if(this.position + 4 > this.length) {
				throw new openfl_errors_EOFError();
			}
			this.position += 4;
			return this.getFloat(this.position - 4);
		} else {
			return haxe_io_FPHelper.i32ToFloat(this.readInt());
		}
	}
	,readInt: function() {
		var ch1 = this.readUnsignedByte();
		var ch2 = this.readUnsignedByte();
		var ch3 = this.readUnsignedByte();
		var ch4 = this.readUnsignedByte();
		if(this.__endian == 1) {
			return ch4 << 24 | ch3 << 16 | ch2 << 8 | ch1;
		} else {
			return ch1 << 24 | ch2 << 16 | ch3 << 8 | ch4;
		}
	}
	,readMultiByte: function(length,charSet) {
		return this.readUTFBytes(length);
	}
	,readObject: function() {
		switch(this.objectEncoding) {
		case 10:
			var data = this.readUTF();
			return haxe_Unserializer.run(data);
		case 12:
			var data = this.readUTF();
			return JSON.parse(data);
		default:
			return null;
		}
	}
	,readShort: function() {
		var ch1 = this.readUnsignedByte();
		var ch2 = this.readUnsignedByte();
		var value;
		if(this.__endian == 1) {
			value = ch2 << 8 | ch1;
		} else {
			value = ch1 << 8 | ch2;
		}
		if((value & 32768) != 0) {
			return value - 65536;
		} else {
			return value;
		}
	}
	,readUnsignedByte: function() {
		if(this.position < this.length) {
			return this.b[this.position++];
		} else {
			throw new openfl_errors_EOFError();
		}
	}
	,readUnsignedInt: function() {
		var ch1 = this.readUnsignedByte();
		var ch2 = this.readUnsignedByte();
		var ch3 = this.readUnsignedByte();
		var ch4 = this.readUnsignedByte();
		if(this.__endian == 1) {
			return ch4 << 24 | ch3 << 16 | ch2 << 8 | ch1;
		} else {
			return ch1 << 24 | ch2 << 16 | ch3 << 8 | ch4;
		}
	}
	,readUnsignedShort: function() {
		var ch1 = this.readUnsignedByte();
		var ch2 = this.readUnsignedByte();
		if(this.__endian == 1) {
			return (ch2 << 8) + ch1;
		} else {
			return ch1 << 8 | ch2;
		}
	}
	,readUTF: function() {
		var bytesCount = this.readUnsignedShort();
		return this.readUTFBytes(bytesCount);
	}
	,readUTFBytes: function(length) {
		if(this.position + length > this.length) {
			throw new openfl_errors_EOFError();
		}
		this.position += length;
		return this.getString(this.position - length,length);
	}
	,uncompress: function(algorithm) {
		if(algorithm == null) {
			algorithm = 2;
		}
		if(this.__length > this.length) {
			var cacheLength = this.length;
			this.length = this.__length;
			var data = new haxe_io_Bytes(new ArrayBuffer(cacheLength));
			data.blit(0,this,0,cacheLength);
			this.b = data.b;
			this.__length = data.length;
			this.data = data.data;
			this.length = cacheLength;
		}
		var limeBytes = this;
		var bytes;
		switch(algorithm) {
		case 0:
			bytes = lime_utils_Bytes.decompress(limeBytes,lime_utils_CompressionAlgorithm.DEFLATE);
			break;
		case 1:
			bytes = lime_utils_Bytes.decompress(limeBytes,lime_utils_CompressionAlgorithm.LZMA);
			break;
		default:
			bytes = lime_utils_Bytes.decompress(limeBytes,lime_utils_CompressionAlgorithm.ZLIB);
		}
		if(bytes != null) {
			this.b = bytes.b;
			this.__length = bytes.length;
			this.data = bytes.data;
			this.length = this.__length;
		}
		this.position = 0;
	}
	,writeBoolean: function(value) {
		this.writeByte(value ? 1 : 0);
	}
	,writeByte: function(value) {
		this.__resize(this.position + 1);
		this.b[this.position++] = value & 255 & 255;
	}
	,writeBytes: function(bytes,offset,length) {
		if(length == null) {
			length = 0;
		}
		if(offset == null) {
			offset = 0;
		}
		if(openfl_utils_ByteArray.get_length(bytes) == 0) {
			return;
		}
		if(length == 0) {
			length = openfl_utils_ByteArray.get_length(bytes) - offset;
		}
		this.__resize(this.position + length);
		this.blit(this.position,bytes,offset,length);
		this.position = this.position + length;
	}
	,writeDouble: function(value) {
		var int64 = haxe_io_FPHelper.doubleToI64(value);
		if(this.__endian == 1) {
			this.writeInt(int64.low);
			this.writeInt(int64.high);
		} else {
			this.writeInt(int64.high);
			this.writeInt(int64.low);
		}
	}
	,writeFloat: function(value) {
		if(this.__endian == 1) {
			this.__resize(this.position + 4);
			this.setFloat(this.position,value);
			this.position += 4;
		} else {
			var int = haxe_io_FPHelper.floatToI32(value);
			this.writeInt(int);
		}
	}
	,writeInt: function(value) {
		this.__resize(this.position + 4);
		if(this.__endian == 1) {
			this.b[this.position++] = value & 255 & 255;
			this.b[this.position++] = value >> 8 & 255 & 255;
			this.b[this.position++] = value >> 16 & 255 & 255;
			this.b[this.position++] = value >> 24 & 255 & 255;
		} else {
			this.b[this.position++] = value >> 24 & 255 & 255;
			this.b[this.position++] = value >> 16 & 255 & 255;
			this.b[this.position++] = value >> 8 & 255 & 255;
			this.b[this.position++] = value & 255 & 255;
		}
	}
	,writeMultiByte: function(value,charSet) {
		this.writeUTFBytes(value);
	}
	,writeObject: function(object) {
		switch(this.objectEncoding) {
		case 10:
			var value = haxe_Serializer.run(object);
			this.writeUTF(value);
			break;
		case 12:
			var value = JSON.stringify(object);
			this.writeUTF(value);
			break;
		default:
			return;
		}
	}
	,writeShort: function(value) {
		this.__resize(this.position + 2);
		if(this.__endian == 1) {
			this.b[this.position++] = value & 255;
			this.b[this.position++] = value >> 8 & 255;
		} else {
			this.b[this.position++] = value >> 8 & 255;
			this.b[this.position++] = value & 255;
		}
	}
	,writeUnsignedInt: function(value) {
		this.writeInt(value);
	}
	,writeUTF: function(value) {
		var bytes = haxe_io_Bytes.ofString(value);
		this.writeShort(bytes.length);
		this.writeBytes(openfl_utils_ByteArray.fromBytes(bytes));
	}
	,writeUTFBytes: function(value) {
		var bytes = haxe_io_Bytes.ofString(value);
		this.writeBytes(openfl_utils_ByteArray.fromBytes(bytes));
	}
	,__fromBytes: function(bytes) {
		this.b = bytes.b;
		this.__length = bytes.length;
		this.data = bytes.data;
		this.length = bytes.length;
	}
	,__resize: function(size) {
		if(size > this.__length) {
			var bytes = new haxe_io_Bytes(new ArrayBuffer((size + 1) * 3 >> 1));
			if(this.__length > 0) {
				var cacheLength = this.length;
				this.length = this.__length;
				bytes.blit(0,this,0,this.__length);
				this.length = cacheLength;
			}
			this.b = bytes.b;
			this.__length = bytes.length;
			this.data = bytes.data;
		}
		if(this.length < size) {
			this.length = size;
		}
	}
	,__setData: function(bytes) {
		this.b = bytes.b;
		this.__length = bytes.length;
		this.data = bytes.data;
	}
	,get_bytesAvailable: function() {
		return this.length - this.position;
	}
	,get_endian: function() {
		return this.__endian;
	}
	,set_endian: function(value) {
		return this.__endian = value;
	}
	,__class__: openfl_utils_ByteArrayData
	,__properties__: {set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}
});
var flixel_system_VirtualInputData = function(length) {
	if(length == null) {
		length = 0;
	}
	openfl_utils_ByteArrayData.call(this);
	var bytes = haxe_Resource.getBytes(flixel_system_VirtualInputData.resourceName);
	this.__fromBytes(bytes);
};
$hxClasses["flixel.system.VirtualInputData"] = flixel_system_VirtualInputData;
flixel_system_VirtualInputData.__name__ = "flixel.system.VirtualInputData";
flixel_system_VirtualInputData.__super__ = openfl_utils_ByteArrayData;
flixel_system_VirtualInputData.prototype = $extend(openfl_utils_ByteArrayData.prototype,{
	__class__: flixel_system_VirtualInputData
});
var flixel_system_FlxAssets = function() { };
$hxClasses["flixel.system.FlxAssets"] = flixel_system_FlxAssets;
flixel_system_FlxAssets.__name__ = "flixel.system.FlxAssets";
flixel_system_FlxAssets.drawLogo = function(graph) {
	graph.beginFill(47394);
	graph.moveTo(50,13);
	graph.lineTo(51,13);
	graph.lineTo(87,50);
	graph.lineTo(87,51);
	graph.lineTo(51,87);
	graph.lineTo(50,87);
	graph.lineTo(13,51);
	graph.lineTo(13,50);
	graph.lineTo(50,13);
	graph.endFill();
	graph.beginFill(16761138);
	graph.moveTo(0,0);
	graph.lineTo(25,0);
	graph.lineTo(50,13);
	graph.lineTo(13,50);
	graph.lineTo(0,25);
	graph.lineTo(0,0);
	graph.endFill();
	graph.beginFill(16066382);
	graph.moveTo(100,0);
	graph.lineTo(75,0);
	graph.lineTo(51,13);
	graph.lineTo(87,50);
	graph.lineTo(100,25);
	graph.lineTo(100,0);
	graph.endFill();
	graph.beginFill(3555839);
	graph.moveTo(0,100);
	graph.lineTo(25,100);
	graph.lineTo(50,87);
	graph.lineTo(13,51);
	graph.lineTo(0,75);
	graph.lineTo(0,100);
	graph.endFill();
	graph.beginFill(314875);
	graph.moveTo(100,100);
	graph.lineTo(75,100);
	graph.lineTo(51,87);
	graph.lineTo(87,51);
	graph.lineTo(100,75);
	graph.lineTo(100,100);
	graph.endFill();
};
flixel_system_FlxAssets.getBitmapData = function(id) {
	if(openfl_utils_Assets.exists(id)) {
		return openfl_utils_Assets.getBitmapData(id,false);
	}
	return null;
};
flixel_system_FlxAssets.getBitmapFromClass = function(source) {
	return Type.createInstance(source,[]);
};
flixel_system_FlxAssets.resolveBitmapData = function(Graphic) {
	if(((Graphic) instanceof openfl_display_BitmapData)) {
		return Graphic;
	} else if(js_Boot.__instanceof(Graphic,Class)) {
		return Type.createInstance(Graphic,[]);
	} else if(typeof(Graphic) == "string") {
		if(openfl_utils_Assets.exists(Graphic)) {
			return openfl_utils_Assets.getBitmapData(Graphic,false);
		} else {
			return null;
		}
	}
	return null;
};
flixel_system_FlxAssets.resolveKey = function(Graphic,Key) {
	if(Key != null) {
		return Key;
	}
	if(((Graphic) instanceof openfl_display_BitmapData)) {
		return Key;
	} else if(js_Boot.__instanceof(Graphic,Class)) {
		var _this = flixel_FlxG.bitmap;
		return Graphic.__name__;
	} else if(typeof(Graphic) == "string") {
		return Graphic;
	}
	return null;
};
flixel_system_FlxAssets.getSound = function(id) {
	var extension = "";
	extension = ".ogg";
	return openfl_utils_Assets.getSound(id + extension);
};
flixel_system_FlxAssets.getVirtualInputFrames = function() {
	var bitmapData = new flixel_system_GraphicVirtualInput(0,0);
	Reflect.setProperty(bitmapData,"width",399);
	Reflect.setProperty(bitmapData,"height",183);
	var graphic = flixel_graphics_FlxGraphic.fromBitmapData(bitmapData);
	return flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(graphic,Std.string(new flixel_system_VirtualInputData()));
};
var flixel_system_FlxBGSprite = function() {
	flixel_FlxSprite.call(this);
	this.makeGraphic(1,1,-1,true,flixel_FlxG.bitmap.getUniqueKey("bg_graphic_"));
	this.scrollFactor.set();
};
$hxClasses["flixel.system.FlxBGSprite"] = flixel_system_FlxBGSprite;
flixel_system_FlxBGSprite.__name__ = "flixel.system.FlxBGSprite";
flixel_system_FlxBGSprite.__super__ = flixel_FlxSprite;
flixel_system_FlxBGSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	draw: function() {
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(!camera.visible || !camera.exists) {
				continue;
			}
			this._matrix.identity();
			this._matrix.scale(camera.viewWidth,camera.viewHeight);
			camera.drawPixels(this.frame,null,this._matrix,this.colorTransform);
		}
	}
	,__class__: flixel_system_FlxBGSprite
});
var flixel_system__$FlxBasePreloader_DefaultPreloader = function() {
	openfl_display_Sprite.call(this);
	this.addEventListener("addedToStage",$bind(this,this.onAddedToStage));
};
$hxClasses["flixel.system._FlxBasePreloader.DefaultPreloader"] = flixel_system__$FlxBasePreloader_DefaultPreloader;
flixel_system__$FlxBasePreloader_DefaultPreloader.__name__ = "flixel.system._FlxBasePreloader.DefaultPreloader";
flixel_system__$FlxBasePreloader_DefaultPreloader.__super__ = openfl_display_Sprite;
flixel_system__$FlxBasePreloader_DefaultPreloader.prototype = $extend(openfl_display_Sprite.prototype,{
	onAddedToStage: function(_) {
		this.removeEventListener("addedToStage",$bind(this,this.onAddedToStage));
		this.onInit();
		this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal);
		this.addEventListener("progress",$bind(this,this.onProgress));
		this.addEventListener("complete",$bind(this,this.onComplete));
	}
	,onComplete: function(event) {
		event.preventDefault();
		this.removeEventListener("progress",$bind(this,this.onProgress));
		this.removeEventListener("complete",$bind(this,this.onComplete));
		this.onLoaded();
	}
	,onProgress: function(event) {
		this.onUpdate(event.bytesLoaded | 0,event.bytesTotal | 0);
	}
	,onInit: function() {
	}
	,onLoaded: function() {
		this.dispatchEvent(new openfl_events_Event("unload"));
	}
	,onUpdate: function(bytesLoaded,bytesTotal) {
		var percentLoaded = 0.0;
		if(bytesTotal > 0) {
			percentLoaded = bytesLoaded / bytesTotal;
			if(percentLoaded > 1) {
				percentLoaded = 1;
			}
		}
	}
	,__class__: flixel_system__$FlxBasePreloader_DefaultPreloader
});
var flixel_system_FlxBasePreloader = function(MinDisplayTime,AllowedURLs) {
	if(MinDisplayTime == null) {
		MinDisplayTime = 0;
	}
	this._destroyed = false;
	this._urlChecked = false;
	this._loaded = false;
	this._percent = 0;
	this.siteLockBodyText = "It appears the website you are using is hosting an unauthorized copy of this game. " + "Storage or redistribution of this content, without the express permission of the " + "developer or other copyright holder, is prohibited under copyright law.\n\n" + "Thank you for your interest in this game! Please support the developer by " + "visiting the following website to play the game:";
	this.siteLockTitleText = "Sorry.";
	this.siteLockURLIndex = 0;
	this.minDisplayTime = 0;
	flixel_system__$FlxBasePreloader_DefaultPreloader.call(this);
	this.minDisplayTime = MinDisplayTime;
	if(AllowedURLs != null) {
		this.allowedURLs = AllowedURLs;
	} else {
		this.allowedURLs = [];
	}
	this._startTime = new Date().getTime();
};
$hxClasses["flixel.system.FlxBasePreloader"] = flixel_system_FlxBasePreloader;
flixel_system_FlxBasePreloader.__name__ = "flixel.system.FlxBasePreloader";
flixel_system_FlxBasePreloader.__super__ = flixel_system__$FlxBasePreloader_DefaultPreloader;
flixel_system_FlxBasePreloader.prototype = $extend(flixel_system__$FlxBasePreloader_DefaultPreloader.prototype,{
	minDisplayTime: null
	,allowedURLs: null
	,siteLockURLIndex: null
	,siteLockTitleText: null
	,siteLockBodyText: null
	,_percent: null
	,_width: null
	,_height: null
	,_loaded: null
	,_urlChecked: null
	,_destroyed: null
	,_startTime: null
	,create: function() {
	}
	,onInit: function() {
		flixel_system__$FlxBasePreloader_DefaultPreloader.prototype.onInit.call(this);
		openfl_Lib.get_current().stage.set_scaleMode(2);
		openfl_Lib.get_current().stage.align = 6;
		this.create();
		this.addEventListener("enterFrame",$bind(this,this.onEnterFrame));
		this.checkSiteLock();
	}
	,onUpdate: function(bytesLoaded,bytesTotal) {
		this._percent = bytesTotal != 0 ? bytesLoaded / bytesTotal : 0;
	}
	,onEnterFrame: function(E) {
		var time = new Date().getTime() - this._startTime;
		var min = this.minDisplayTime * 1000;
		var percent = this._percent;
		if(min > 0 && this._percent > time / min) {
			percent = time / min;
		}
		if(!this._destroyed) {
			this.update(percent);
		}
		if(this._loaded && (min <= 0 || time / min >= 1)) {
			this.removeEventListener("enterFrame",$bind(this,this.onEnterFrame));
			flixel_system__$FlxBasePreloader_DefaultPreloader.prototype.onLoaded.call(this);
			this.destroy();
			this._destroyed = true;
		}
	}
	,destroy: function() {
	}
	,update: function(Percent) {
	}
	,onLoaded: function() {
		this._loaded = true;
		this._percent = 1;
	}
	,createBitmap: function(bitmapDataClass,onLoad) {
		var bmp = new openfl_display_Bitmap();
		bmp.set_bitmapData(Type.createInstance(bitmapDataClass,[0,0,true,-1,function(_) {
			onLoad(bmp);
		}]));
		return bmp;
	}
	,loadBitmapData: function(bitmapDataClass,onLoad) {
		return Type.createInstance(bitmapDataClass,[0,0,true,-1,onLoad]);
	}
	,checkSiteLock: function() {
		if(this._urlChecked) {
			return;
		}
		if(!this.isHostUrlAllowed()) {
			this.removeChildren();
			this.removeEventListener("enterFrame",$bind(this,this.onEnterFrame));
			this.createSiteLockFailureScreen();
		} else {
			this._urlChecked = true;
		}
	}
	,createSiteLockFailureScreen: function() {
		this.addChild(this.createSiteLockFailureBackground(16777215,15066597));
		this.addChild(this.createSiteLockFailureIcon(15066597,0.9));
		this.addChild(this.createSiteLockFailureText(30));
	}
	,createSiteLockFailureBackground: function(innerColor,outerColor) {
		var shape = new openfl_display_Shape();
		var graphics = shape.get_graphics();
		graphics.clear();
		var fillMatrix = new openfl_geom_Matrix();
		fillMatrix.createGradientBox(1,1,0,-0.5,-0.5);
		var scaling = Math.max(this.stage.stageWidth,this.stage.stageHeight);
		fillMatrix.scale(scaling,scaling);
		fillMatrix.translate(0.5 * this.stage.stageWidth,0.5 * this.stage.stageHeight);
		graphics.beginGradientFill(1,[innerColor,outerColor],[1,1],[0,255],fillMatrix);
		graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight);
		graphics.endFill();
		return shape;
	}
	,createSiteLockFailureIcon: function(color,scale) {
		var shape = new openfl_display_Shape();
		var graphics = shape.get_graphics();
		graphics.clear();
		graphics.beginFill(color);
		var array = [1,6,2,2,2,6,6,2,2,2,6,1,6,2,6,2,6,2,6,1,6,6,2,2,2,6,6];
		var vector = openfl_Vector.toIntVector(null);
		var _g = 0;
		var _g1 = array.length;
		while(_g < _g1) {
			var i = _g++;
			vector.set(i,array[i]);
		}
		var tmp = vector;
		var array = [120.0,0,164,0,200,35,200,79,200,130,160,130,160,79,160,57,142,40,120,40,97,40,79,57,79,79,80,130,40,130,40,79,40,35,75,0,120,0,220,140,231,140,240,148,240,160,240,300,240,311,231,320,220,320,20,320,8,320,0,311,0,300,0,160,0,148,8,140,20,140,120,190,108,190,100,198,100,210,100,217,104,223,110,227,110,270,130,270,130,227,135,223,140,217,140,210,140,198,131,190,120,190];
		var vector = openfl_Vector.toFloatVector(null);
		var _g = 0;
		var _g1 = array.length;
		while(_g < _g1) {
			var i = _g++;
			vector.set(i,array[i]);
		}
		graphics.drawPath(tmp,vector,1);
		graphics.endFill();
		var transformMatrix = new openfl_geom_Matrix();
		transformMatrix.translate(-0.5 * shape.get_width(),-0.5 * shape.get_height());
		var scaling = scale * Math.min(this.stage.stageWidth / shape.get_width(),this.stage.stageHeight / shape.get_height());
		transformMatrix.scale(scaling,scaling);
		transformMatrix.translate(0.5 * this.stage.stageWidth,0.5 * this.stage.stageHeight);
		shape.get_transform().set_matrix(transformMatrix);
		return shape;
	}
	,createSiteLockFailureText: function(margin) {
		var sprite = new openfl_display_Sprite();
		var bounds = new openfl_geom_Rectangle(0,0,this.stage.stageWidth,this.stage.stageHeight);
		bounds.inflate(-margin,-margin);
		var titleText = new openfl_text_TextField();
		var titleTextFormat = new openfl_text_TextFormat("_sans",33,3355443,true);
		titleTextFormat.align = 3;
		titleText.set_defaultTextFormat(titleTextFormat);
		titleText.set_selectable(false);
		titleText.set_width(bounds.width);
		titleText.set_text(this.siteLockTitleText);
		var bodyText = new openfl_text_TextField();
		var bodyTextFormat = new openfl_text_TextFormat("_sans",22,3355443);
		bodyTextFormat.align = 2;
		bodyText.set_defaultTextFormat(bodyTextFormat);
		bodyText.set_multiline(true);
		bodyText.set_wordWrap(true);
		bodyText.set_selectable(false);
		bodyText.set_width(bounds.width);
		bodyText.set_text(this.siteLockBodyText);
		var hyperlinkText = new openfl_text_TextField();
		var hyperlinkTextFormat = new openfl_text_TextFormat("_sans",22,7247820,true,false,true);
		hyperlinkTextFormat.align = 0;
		hyperlinkTextFormat.url = this.allowedURLs[this.siteLockURLIndex];
		hyperlinkText.set_defaultTextFormat(hyperlinkTextFormat);
		hyperlinkText.set_selectable(true);
		hyperlinkText.set_width(bounds.width);
		hyperlinkText.set_text(this.allowedURLs[this.siteLockURLIndex]);
		this.adjustSiteLockTextFields(titleText,bodyText,hyperlinkText);
		var gutterSize = 4;
		titleText.set_height(titleText.get_textHeight() + gutterSize);
		bodyText.set_height(bodyText.get_textHeight() + gutterSize);
		hyperlinkText.set_height(hyperlinkText.get_textHeight() + gutterSize);
		titleText.set_x(bodyText.set_x(hyperlinkText.set_x(bounds.get_left())));
		titleText.set_y(bounds.get_top());
		bodyText.set_y(titleText.get_y() + 2.0 * titleText.get_height());
		hyperlinkText.set_y(bodyText.get_y() + bodyText.get_height() + hyperlinkText.get_height());
		sprite.addChild(titleText);
		sprite.addChild(bodyText);
		sprite.addChild(hyperlinkText);
		return sprite;
	}
	,adjustSiteLockTextFields: function(titleText,bodyText,hyperlinkText) {
	}
	,goToMyURL: function(e) {
		if(this.allowedURLs[this.siteLockURLIndex] != "localhost") {
			var URL1 = this.allowedURLs[this.siteLockURLIndex];
			var prefix = "";
			if(!new EReg("^https?://","").match(URL1)) {
				prefix = "http://";
			}
			openfl_Lib.getURL(new openfl_net_URLRequest(prefix + URL1),"_blank");
		} else {
			openfl_Lib.getURL(new openfl_net_URLRequest(this.allowedURLs[this.siteLockURLIndex]));
		}
	}
	,isHostUrlAllowed: function() {
		if(this.allowedURLs.length == 0) {
			return true;
		}
		var homeURL = $global.location.href;
		var homeDomain = flixel_util_FlxStringUtil.getDomain(homeURL);
		var _g = 0;
		var _g1 = this.allowedURLs;
		while(_g < _g1.length) {
			var allowedURL = _g1[_g];
			++_g;
			var allowedDomain = flixel_util_FlxStringUtil.getDomain(allowedURL);
			if(allowedDomain == homeDomain) {
				return true;
			}
		}
		return false;
	}
	,__class__: flixel_system_FlxBasePreloader
});
var flixel_system_FlxLinkedList = function() {
	this.exists = true;
};
$hxClasses["flixel.system.FlxLinkedList"] = flixel_system_FlxLinkedList;
flixel_system_FlxLinkedList.__name__ = "flixel.system.FlxLinkedList";
flixel_system_FlxLinkedList.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_system_FlxLinkedList._cachedListsHead = null;
flixel_system_FlxLinkedList.recycle = function() {
	if(flixel_system_FlxLinkedList._cachedListsHead != null) {
		var cachedList = flixel_system_FlxLinkedList._cachedListsHead;
		flixel_system_FlxLinkedList._cachedListsHead = flixel_system_FlxLinkedList._cachedListsHead.next;
		flixel_system_FlxLinkedList._NUM_CACHED_FLX_LIST--;
		cachedList.exists = true;
		cachedList.next = null;
		return cachedList;
	} else {
		return new flixel_system_FlxLinkedList();
	}
};
flixel_system_FlxLinkedList.clearCache = function() {
	while(flixel_system_FlxLinkedList._cachedListsHead != null) {
		var node = flixel_system_FlxLinkedList._cachedListsHead;
		flixel_system_FlxLinkedList._cachedListsHead = flixel_system_FlxLinkedList._cachedListsHead.next;
		node.object = null;
		node.next = null;
	}
	flixel_system_FlxLinkedList._NUM_CACHED_FLX_LIST = 0;
};
flixel_system_FlxLinkedList.prototype = {
	object: null
	,next: null
	,exists: null
	,destroy: function() {
		if(!this.exists) {
			return;
		}
		this.object = null;
		if(this.next != null) {
			this.next.destroy();
		}
		this.exists = false;
		this.next = flixel_system_FlxLinkedList._cachedListsHead;
		flixel_system_FlxLinkedList._cachedListsHead = this;
		flixel_system_FlxLinkedList._NUM_CACHED_FLX_LIST++;
	}
	,__class__: flixel_system_FlxLinkedList
};
var flixel_system__$FlxPreloader_GraphicLogoLight = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system__$FlxPreloader_GraphicLogoLight.preload != null) {
		this.__fromImage(flixel_system__$FlxPreloader_GraphicLogoLight.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system__$FlxPreloader_GraphicLogoLight.resourceName),flixel_system__$FlxPreloader_GraphicLogoLight.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system__$FlxPreloader_GraphicLogoLight.preload == null) {
				flixel_system__$FlxPreloader_GraphicLogoLight.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system._FlxPreloader.GraphicLogoLight"] = flixel_system__$FlxPreloader_GraphicLogoLight;
flixel_system__$FlxPreloader_GraphicLogoLight.__name__ = "flixel.system._FlxPreloader.GraphicLogoLight";
flixel_system__$FlxPreloader_GraphicLogoLight.preload = null;
flixel_system__$FlxPreloader_GraphicLogoLight.__super__ = openfl_display_BitmapData;
flixel_system__$FlxPreloader_GraphicLogoLight.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system__$FlxPreloader_GraphicLogoLight
});
var flixel_system__$FlxPreloader_GraphicLogoCorners = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system__$FlxPreloader_GraphicLogoCorners.preload != null) {
		this.__fromImage(flixel_system__$FlxPreloader_GraphicLogoCorners.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system__$FlxPreloader_GraphicLogoCorners.resourceName),flixel_system__$FlxPreloader_GraphicLogoCorners.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system__$FlxPreloader_GraphicLogoCorners.preload == null) {
				flixel_system__$FlxPreloader_GraphicLogoCorners.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system._FlxPreloader.GraphicLogoCorners"] = flixel_system__$FlxPreloader_GraphicLogoCorners;
flixel_system__$FlxPreloader_GraphicLogoCorners.__name__ = "flixel.system._FlxPreloader.GraphicLogoCorners";
flixel_system__$FlxPreloader_GraphicLogoCorners.preload = null;
flixel_system__$FlxPreloader_GraphicLogoCorners.__super__ = openfl_display_BitmapData;
flixel_system__$FlxPreloader_GraphicLogoCorners.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system__$FlxPreloader_GraphicLogoCorners
});
var flixel_system_FlxPreloader = function(MinDisplayTime,AllowedURLs) {
	if(MinDisplayTime == null) {
		MinDisplayTime = 0;
	}
	flixel_system_FlxBasePreloader.call(this,MinDisplayTime,AllowedURLs);
};
$hxClasses["flixel.system.FlxPreloader"] = flixel_system_FlxPreloader;
flixel_system_FlxPreloader.__name__ = "flixel.system.FlxPreloader";
flixel_system_FlxPreloader.__super__ = flixel_system_FlxBasePreloader;
flixel_system_FlxPreloader.prototype = $extend(flixel_system_FlxBasePreloader.prototype,{
	_buffer: null
	,_bmpBar: null
	,_text: null
	,_logo: null
	,_logoGlow: null
	,create: function() {
		var _gthis = this;
		this._buffer = new openfl_display_Sprite();
		this._buffer.set_scaleX(this._buffer.set_scaleY(2));
		this.addChild(this._buffer);
		this._width = openfl_Lib.get_current().stage.stageWidth / this._buffer.get_scaleX() | 0;
		this._height = openfl_Lib.get_current().stage.stageHeight / this._buffer.get_scaleY() | 0;
		this._buffer.addChild(new openfl_display_Bitmap(new openfl_display_BitmapData(this._width,this._height,false,13406)));
		var logoLight = this.createBitmap(flixel_system__$FlxPreloader_GraphicLogoLight,function(logoLight) {
			logoLight.set_width(logoLight.set_height(_gthis._height));
			logoLight.set_x((_gthis._width - logoLight.get_width()) / 2);
		});
		logoLight.smoothing = true;
		this._buffer.addChild(logoLight);
		this._bmpBar = new openfl_display_Bitmap(new openfl_display_BitmapData(1,7,false,6253311));
		this._bmpBar.set_x(4);
		this._bmpBar.set_y(this._height - 11);
		this._buffer.addChild(this._bmpBar);
		this._text = new openfl_text_TextField();
		this._text.set_defaultTextFormat(new openfl_text_TextFormat(flixel_system_FlxAssets.FONT_DEFAULT,8,6253311));
		this._text.set_embedFonts(true);
		this._text.set_selectable(false);
		this._text.set_multiline(false);
		this._text.set_x(2);
		this._text.set_y(this._bmpBar.get_y() - 11);
		this._text.set_width(200);
		this._buffer.addChild(this._text);
		this._logo = new openfl_display_Sprite();
		flixel_system_FlxAssets.drawLogo(this._logo.get_graphics());
		this._logo.set_scaleX(this._logo.set_scaleY(this._height / 8 * 0.04));
		this._logo.set_x((this._width - this._logo.get_width()) / 2);
		this._logo.set_y((this._height - this._logo.get_height()) / 2);
		this._buffer.addChild(this._logo);
		this._logoGlow = new openfl_display_Sprite();
		flixel_system_FlxAssets.drawLogo(this._logoGlow.get_graphics());
		this._logoGlow.set_blendMode(12);
		this._logoGlow.set_scaleX(this._logoGlow.set_scaleY(this._height / 8 * 0.04));
		this._logoGlow.set_x((this._width - this._logoGlow.get_width()) / 2);
		this._logoGlow.set_y((this._height - this._logoGlow.get_height()) / 2);
		this._buffer.addChild(this._logoGlow);
		var corners = this.createBitmap(flixel_system__$FlxPreloader_GraphicLogoCorners,function(corners) {
			corners.set_width(_gthis._width);
			corners.set_height(_gthis.get_height());
		});
		corners.smoothing = true;
		this._buffer.addChild(corners);
		var bitmap = new openfl_display_Bitmap(new openfl_display_BitmapData(this._width,this._height,false,16777215));
		var i = 0;
		var j = 0;
		while(i < this._height) {
			j = 0;
			while(j < this._width) bitmap.get_bitmapData().setPixel(j++,i,0);
			i += 2;
		}
		bitmap.set_blendMode(11);
		bitmap.set_alpha(0.25);
		this._buffer.addChild(bitmap);
		flixel_system_FlxBasePreloader.prototype.create.call(this);
	}
	,destroy: function() {
		if(this._buffer != null) {
			this.removeChild(this._buffer);
		}
		this._buffer = null;
		this._bmpBar = null;
		this._text = null;
		this._logo = null;
		this._logoGlow = null;
		flixel_system_FlxBasePreloader.prototype.destroy.call(this);
	}
	,update: function(Percent) {
		this._bmpBar.set_scaleX(Percent * (this._width - 8));
		this._text.set_text(Std.string(flixel_FlxG.VERSION) + " " + (Percent * 100 | 0) + "%");
		if(Percent < 0.1) {
			this._logoGlow.set_alpha(0);
			this._logo.set_alpha(0);
		} else if(Percent < 0.15) {
			this._logoGlow.set_alpha(Math.random());
			this._logo.set_alpha(0);
		} else if(Percent < 0.2) {
			this._logoGlow.set_alpha(0);
			this._logo.set_alpha(0);
		} else if(Percent < 0.25) {
			this._logoGlow.set_alpha(0);
			this._logo.set_alpha(Math.random());
		} else if(Percent < 0.7) {
			this._logoGlow.set_alpha((Percent - 0.45) / 0.45);
			this._logo.set_alpha(1);
		} else if(Percent > 0.8 && Percent < 0.9) {
			this._logoGlow.set_alpha(1 - (Percent - 0.8) / 0.1);
			this._logo.set_alpha(0);
		} else if(Percent > 0.9) {
			this._buffer.set_alpha(1 - (Percent - 0.9) / 0.1);
		}
	}
	,__class__: flixel_system_FlxPreloader
});
var flixel_system_FlxQuadTree = function(X,Y,Width,Height,Parent) {
	flixel_math_FlxRect.call(this);
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	this.x = X1;
	this.y = Y1;
	this.width = Width1;
	this.height = Height1;
	this.reset(X,Y,Width,Height,Parent);
};
$hxClasses["flixel.system.FlxQuadTree"] = flixel_system_FlxQuadTree;
flixel_system_FlxQuadTree.__name__ = "flixel.system.FlxQuadTree";
flixel_system_FlxQuadTree.divisions = null;
flixel_system_FlxQuadTree._min = null;
flixel_system_FlxQuadTree._object = null;
flixel_system_FlxQuadTree._objectLeftEdge = null;
flixel_system_FlxQuadTree._objectTopEdge = null;
flixel_system_FlxQuadTree._objectRightEdge = null;
flixel_system_FlxQuadTree._objectBottomEdge = null;
flixel_system_FlxQuadTree._list = null;
flixel_system_FlxQuadTree._useBothLists = null;
flixel_system_FlxQuadTree._processingCallback = null;
flixel_system_FlxQuadTree._notifyCallback = null;
flixel_system_FlxQuadTree._iterator = null;
flixel_system_FlxQuadTree._objectHullX = null;
flixel_system_FlxQuadTree._objectHullY = null;
flixel_system_FlxQuadTree._objectHullWidth = null;
flixel_system_FlxQuadTree._objectHullHeight = null;
flixel_system_FlxQuadTree._checkObjectHullX = null;
flixel_system_FlxQuadTree._checkObjectHullY = null;
flixel_system_FlxQuadTree._checkObjectHullWidth = null;
flixel_system_FlxQuadTree._checkObjectHullHeight = null;
flixel_system_FlxQuadTree._cachedTreesHead = null;
flixel_system_FlxQuadTree.recycle = function(X,Y,Width,Height,Parent) {
	if(flixel_system_FlxQuadTree._cachedTreesHead != null) {
		var cachedTree = flixel_system_FlxQuadTree._cachedTreesHead;
		flixel_system_FlxQuadTree._cachedTreesHead = flixel_system_FlxQuadTree._cachedTreesHead.next;
		flixel_system_FlxQuadTree._NUM_CACHED_QUAD_TREES--;
		cachedTree.reset(X,Y,Width,Height,Parent);
		return cachedTree;
	} else {
		return new flixel_system_FlxQuadTree(X,Y,Width,Height,Parent);
	}
};
flixel_system_FlxQuadTree.clearCache = function() {
	while(flixel_system_FlxQuadTree._cachedTreesHead != null) {
		var node = flixel_system_FlxQuadTree._cachedTreesHead;
		flixel_system_FlxQuadTree._cachedTreesHead = flixel_system_FlxQuadTree._cachedTreesHead.next;
		node.next = null;
	}
	flixel_system_FlxQuadTree._NUM_CACHED_QUAD_TREES = 0;
};
flixel_system_FlxQuadTree.__super__ = flixel_math_FlxRect;
flixel_system_FlxQuadTree.prototype = $extend(flixel_math_FlxRect.prototype,{
	exists: null
	,_canSubdivide: null
	,_headA: null
	,_tailA: null
	,_headB: null
	,_tailB: null
	,_northWestTree: null
	,_northEastTree: null
	,_southEastTree: null
	,_southWestTree: null
	,_leftEdge: null
	,_rightEdge: null
	,_topEdge: null
	,_bottomEdge: null
	,_halfWidth: null
	,_halfHeight: null
	,_midpointX: null
	,_midpointY: null
	,next: null
	,reset: function(X,Y,Width,Height,Parent) {
		this.exists = true;
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		this.x = X1;
		this.y = Y1;
		this.width = Width1;
		this.height = Height1;
		this._headA = this._tailA = flixel_system_FlxLinkedList.recycle();
		this._headB = this._tailB = flixel_system_FlxLinkedList.recycle();
		if(Parent != null) {
			var iterator;
			var ot;
			if(Parent._headA.object != null) {
				iterator = Parent._headA;
				while(iterator != null) {
					if(this._tailA.object != null) {
						ot = this._tailA;
						this._tailA = flixel_system_FlxLinkedList.recycle();
						ot.next = this._tailA;
					}
					this._tailA.object = iterator.object;
					iterator = iterator.next;
				}
			}
			if(Parent._headB.object != null) {
				iterator = Parent._headB;
				while(iterator != null) {
					if(this._tailB.object != null) {
						ot = this._tailB;
						this._tailB = flixel_system_FlxLinkedList.recycle();
						ot.next = this._tailB;
					}
					this._tailB.object = iterator.object;
					iterator = iterator.next;
				}
			}
		} else {
			flixel_system_FlxQuadTree._min = Math.floor((this.width + this.height) / (2 * flixel_system_FlxQuadTree.divisions));
		}
		this._canSubdivide = this.width > flixel_system_FlxQuadTree._min || this.height > flixel_system_FlxQuadTree._min;
		this._northWestTree = null;
		this._northEastTree = null;
		this._southEastTree = null;
		this._southWestTree = null;
		this._leftEdge = this.x;
		this._rightEdge = this.x + this.width;
		this._halfWidth = this.width / 2;
		this._midpointX = this._leftEdge + this._halfWidth;
		this._topEdge = this.y;
		this._bottomEdge = this.y + this.height;
		this._halfHeight = this.height / 2;
		this._midpointY = this._topEdge + this._halfHeight;
	}
	,destroy: function() {
		this._headA = flixel_util_FlxDestroyUtil.destroy(this._headA);
		this._headB = flixel_util_FlxDestroyUtil.destroy(this._headB);
		this._tailA = flixel_util_FlxDestroyUtil.destroy(this._tailA);
		this._tailB = flixel_util_FlxDestroyUtil.destroy(this._tailB);
		this._northWestTree = flixel_util_FlxDestroyUtil.destroy(this._northWestTree);
		this._northEastTree = flixel_util_FlxDestroyUtil.destroy(this._northEastTree);
		this._southWestTree = flixel_util_FlxDestroyUtil.destroy(this._southWestTree);
		this._southEastTree = flixel_util_FlxDestroyUtil.destroy(this._southEastTree);
		flixel_system_FlxQuadTree._object = null;
		flixel_system_FlxQuadTree._processingCallback = null;
		flixel_system_FlxQuadTree._notifyCallback = null;
		this.exists = false;
		this.next = flixel_system_FlxQuadTree._cachedTreesHead;
		flixel_system_FlxQuadTree._cachedTreesHead = this;
		flixel_system_FlxQuadTree._NUM_CACHED_QUAD_TREES++;
		flixel_math_FlxRect.prototype.destroy.call(this);
	}
	,load: function(ObjectOrGroup1,ObjectOrGroup2,NotifyCallback,ProcessCallback) {
		this.add(ObjectOrGroup1,0);
		if(ObjectOrGroup2 != null) {
			this.add(ObjectOrGroup2,1);
			flixel_system_FlxQuadTree._useBothLists = true;
		} else {
			flixel_system_FlxQuadTree._useBothLists = false;
		}
		flixel_system_FlxQuadTree._notifyCallback = NotifyCallback;
		flixel_system_FlxQuadTree._processingCallback = ProcessCallback;
	}
	,add: function(ObjectOrGroup,list) {
		flixel_system_FlxQuadTree._list = list;
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			var i = 0;
			var basic;
			var members = group.members;
			var l = group.length;
			while(i < l) {
				basic = members[i++];
				if(basic != null && basic.exists) {
					group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						this.add(group,list);
					} else {
						flixel_system_FlxQuadTree._object = basic;
						if(flixel_system_FlxQuadTree._object.exists && flixel_system_FlxQuadTree._object.allowCollisions != 0) {
							flixel_system_FlxQuadTree._objectLeftEdge = flixel_system_FlxQuadTree._object.x;
							flixel_system_FlxQuadTree._objectTopEdge = flixel_system_FlxQuadTree._object.y;
							flixel_system_FlxQuadTree._objectRightEdge = flixel_system_FlxQuadTree._object.x + flixel_system_FlxQuadTree._object.get_width();
							flixel_system_FlxQuadTree._objectBottomEdge = flixel_system_FlxQuadTree._object.y + flixel_system_FlxQuadTree._object.get_height();
							this.addObject();
						}
					}
				}
			}
		} else {
			flixel_system_FlxQuadTree._object = ObjectOrGroup;
			if(flixel_system_FlxQuadTree._object.exists && flixel_system_FlxQuadTree._object.allowCollisions != 0) {
				flixel_system_FlxQuadTree._objectLeftEdge = flixel_system_FlxQuadTree._object.x;
				flixel_system_FlxQuadTree._objectTopEdge = flixel_system_FlxQuadTree._object.y;
				flixel_system_FlxQuadTree._objectRightEdge = flixel_system_FlxQuadTree._object.x + flixel_system_FlxQuadTree._object.get_width();
				flixel_system_FlxQuadTree._objectBottomEdge = flixel_system_FlxQuadTree._object.y + flixel_system_FlxQuadTree._object.get_height();
				this.addObject();
			}
		}
	}
	,addObject: function() {
		if(!this._canSubdivide || this._leftEdge >= flixel_system_FlxQuadTree._objectLeftEdge && this._rightEdge <= flixel_system_FlxQuadTree._objectRightEdge && this._topEdge >= flixel_system_FlxQuadTree._objectTopEdge && this._bottomEdge <= flixel_system_FlxQuadTree._objectBottomEdge) {
			this.addToList();
			return;
		}
		if(flixel_system_FlxQuadTree._objectLeftEdge > this._leftEdge && flixel_system_FlxQuadTree._objectRightEdge < this._midpointX) {
			if(flixel_system_FlxQuadTree._objectTopEdge > this._topEdge && flixel_system_FlxQuadTree._objectBottomEdge < this._midpointY) {
				if(this._northWestTree == null) {
					this._northWestTree = flixel_system_FlxQuadTree.recycle(this._leftEdge,this._topEdge,this._halfWidth,this._halfHeight,this);
				}
				this._northWestTree.addObject();
				return;
			}
			if(flixel_system_FlxQuadTree._objectTopEdge > this._midpointY && flixel_system_FlxQuadTree._objectBottomEdge < this._bottomEdge) {
				if(this._southWestTree == null) {
					this._southWestTree = flixel_system_FlxQuadTree.recycle(this._leftEdge,this._midpointY,this._halfWidth,this._halfHeight,this);
				}
				this._southWestTree.addObject();
				return;
			}
		}
		if(flixel_system_FlxQuadTree._objectLeftEdge > this._midpointX && flixel_system_FlxQuadTree._objectRightEdge < this._rightEdge) {
			if(flixel_system_FlxQuadTree._objectTopEdge > this._topEdge && flixel_system_FlxQuadTree._objectBottomEdge < this._midpointY) {
				if(this._northEastTree == null) {
					this._northEastTree = flixel_system_FlxQuadTree.recycle(this._midpointX,this._topEdge,this._halfWidth,this._halfHeight,this);
				}
				this._northEastTree.addObject();
				return;
			}
			if(flixel_system_FlxQuadTree._objectTopEdge > this._midpointY && flixel_system_FlxQuadTree._objectBottomEdge < this._bottomEdge) {
				if(this._southEastTree == null) {
					this._southEastTree = flixel_system_FlxQuadTree.recycle(this._midpointX,this._midpointY,this._halfWidth,this._halfHeight,this);
				}
				this._southEastTree.addObject();
				return;
			}
		}
		if(flixel_system_FlxQuadTree._objectRightEdge > this._leftEdge && flixel_system_FlxQuadTree._objectLeftEdge < this._midpointX && flixel_system_FlxQuadTree._objectBottomEdge > this._topEdge && flixel_system_FlxQuadTree._objectTopEdge < this._midpointY) {
			if(this._northWestTree == null) {
				this._northWestTree = flixel_system_FlxQuadTree.recycle(this._leftEdge,this._topEdge,this._halfWidth,this._halfHeight,this);
			}
			this._northWestTree.addObject();
		}
		if(flixel_system_FlxQuadTree._objectRightEdge > this._midpointX && flixel_system_FlxQuadTree._objectLeftEdge < this._rightEdge && flixel_system_FlxQuadTree._objectBottomEdge > this._topEdge && flixel_system_FlxQuadTree._objectTopEdge < this._midpointY) {
			if(this._northEastTree == null) {
				this._northEastTree = flixel_system_FlxQuadTree.recycle(this._midpointX,this._topEdge,this._halfWidth,this._halfHeight,this);
			}
			this._northEastTree.addObject();
		}
		if(flixel_system_FlxQuadTree._objectRightEdge > this._midpointX && flixel_system_FlxQuadTree._objectLeftEdge < this._rightEdge && flixel_system_FlxQuadTree._objectBottomEdge > this._midpointY && flixel_system_FlxQuadTree._objectTopEdge < this._bottomEdge) {
			if(this._southEastTree == null) {
				this._southEastTree = flixel_system_FlxQuadTree.recycle(this._midpointX,this._midpointY,this._halfWidth,this._halfHeight,this);
			}
			this._southEastTree.addObject();
		}
		if(flixel_system_FlxQuadTree._objectRightEdge > this._leftEdge && flixel_system_FlxQuadTree._objectLeftEdge < this._midpointX && flixel_system_FlxQuadTree._objectBottomEdge > this._midpointY && flixel_system_FlxQuadTree._objectTopEdge < this._bottomEdge) {
			if(this._southWestTree == null) {
				this._southWestTree = flixel_system_FlxQuadTree.recycle(this._leftEdge,this._midpointY,this._halfWidth,this._halfHeight,this);
			}
			this._southWestTree.addObject();
		}
	}
	,addToList: function() {
		var ot;
		if(flixel_system_FlxQuadTree._list == 0) {
			if(this._tailA.object != null) {
				ot = this._tailA;
				this._tailA = flixel_system_FlxLinkedList.recycle();
				ot.next = this._tailA;
			}
			this._tailA.object = flixel_system_FlxQuadTree._object;
		} else {
			if(this._tailB.object != null) {
				ot = this._tailB;
				this._tailB = flixel_system_FlxLinkedList.recycle();
				ot.next = this._tailB;
			}
			this._tailB.object = flixel_system_FlxQuadTree._object;
		}
		if(!this._canSubdivide) {
			return;
		}
		if(this._northWestTree != null) {
			this._northWestTree.addToList();
		}
		if(this._northEastTree != null) {
			this._northEastTree.addToList();
		}
		if(this._southEastTree != null) {
			this._southEastTree.addToList();
		}
		if(this._southWestTree != null) {
			this._southWestTree.addToList();
		}
	}
	,execute: function() {
		var overlapProcessed = false;
		if(this._headA.object != null) {
			var iterator = this._headA;
			while(iterator != null) {
				flixel_system_FlxQuadTree._object = iterator.object;
				if(flixel_system_FlxQuadTree._useBothLists) {
					flixel_system_FlxQuadTree._iterator = this._headB;
				} else {
					flixel_system_FlxQuadTree._iterator = iterator.next;
				}
				if(flixel_system_FlxQuadTree._object != null && flixel_system_FlxQuadTree._object.exists && flixel_system_FlxQuadTree._object.allowCollisions > 0 && flixel_system_FlxQuadTree._iterator != null && flixel_system_FlxQuadTree._iterator.object != null && this.overlapNode()) {
					overlapProcessed = true;
				}
				iterator = iterator.next;
			}
		}
		if(this._northWestTree != null && this._northWestTree.execute()) {
			overlapProcessed = true;
		}
		if(this._northEastTree != null && this._northEastTree.execute()) {
			overlapProcessed = true;
		}
		if(this._southEastTree != null && this._southEastTree.execute()) {
			overlapProcessed = true;
		}
		if(this._southWestTree != null && this._southWestTree.execute()) {
			overlapProcessed = true;
		}
		return overlapProcessed;
	}
	,overlapNode: function() {
		flixel_system_FlxQuadTree._objectHullX = flixel_system_FlxQuadTree._object.x < flixel_system_FlxQuadTree._object.last.x ? flixel_system_FlxQuadTree._object.x : flixel_system_FlxQuadTree._object.last.x;
		flixel_system_FlxQuadTree._objectHullY = flixel_system_FlxQuadTree._object.y < flixel_system_FlxQuadTree._object.last.y ? flixel_system_FlxQuadTree._object.y : flixel_system_FlxQuadTree._object.last.y;
		flixel_system_FlxQuadTree._objectHullWidth = flixel_system_FlxQuadTree._object.x - flixel_system_FlxQuadTree._object.last.x;
		flixel_system_FlxQuadTree._objectHullWidth = flixel_system_FlxQuadTree._object.get_width() + (flixel_system_FlxQuadTree._objectHullWidth > 0 ? flixel_system_FlxQuadTree._objectHullWidth : -flixel_system_FlxQuadTree._objectHullWidth);
		flixel_system_FlxQuadTree._objectHullHeight = flixel_system_FlxQuadTree._object.y - flixel_system_FlxQuadTree._object.last.y;
		flixel_system_FlxQuadTree._objectHullHeight = flixel_system_FlxQuadTree._object.get_height() + (flixel_system_FlxQuadTree._objectHullHeight > 0 ? flixel_system_FlxQuadTree._objectHullHeight : -flixel_system_FlxQuadTree._objectHullHeight);
		var overlapProcessed = false;
		var checkObject;
		while(flixel_system_FlxQuadTree._iterator != null) {
			checkObject = flixel_system_FlxQuadTree._iterator.object;
			if(flixel_system_FlxQuadTree._object == checkObject || !checkObject.exists || checkObject.allowCollisions <= 0) {
				flixel_system_FlxQuadTree._iterator = flixel_system_FlxQuadTree._iterator.next;
				continue;
			}
			flixel_system_FlxQuadTree._checkObjectHullX = checkObject.x < checkObject.last.x ? checkObject.x : checkObject.last.x;
			flixel_system_FlxQuadTree._checkObjectHullY = checkObject.y < checkObject.last.y ? checkObject.y : checkObject.last.y;
			flixel_system_FlxQuadTree._checkObjectHullWidth = checkObject.x - checkObject.last.x;
			flixel_system_FlxQuadTree._checkObjectHullWidth = checkObject.get_width() + (flixel_system_FlxQuadTree._checkObjectHullWidth > 0 ? flixel_system_FlxQuadTree._checkObjectHullWidth : -flixel_system_FlxQuadTree._checkObjectHullWidth);
			flixel_system_FlxQuadTree._checkObjectHullHeight = checkObject.y - checkObject.last.y;
			flixel_system_FlxQuadTree._checkObjectHullHeight = checkObject.get_height() + (flixel_system_FlxQuadTree._checkObjectHullHeight > 0 ? flixel_system_FlxQuadTree._checkObjectHullHeight : -flixel_system_FlxQuadTree._checkObjectHullHeight);
			if(flixel_system_FlxQuadTree._objectHullX + flixel_system_FlxQuadTree._objectHullWidth > flixel_system_FlxQuadTree._checkObjectHullX && flixel_system_FlxQuadTree._objectHullX < flixel_system_FlxQuadTree._checkObjectHullX + flixel_system_FlxQuadTree._checkObjectHullWidth && flixel_system_FlxQuadTree._objectHullY + flixel_system_FlxQuadTree._objectHullHeight > flixel_system_FlxQuadTree._checkObjectHullY && flixel_system_FlxQuadTree._objectHullY < flixel_system_FlxQuadTree._checkObjectHullY + flixel_system_FlxQuadTree._checkObjectHullHeight) {
				if(flixel_system_FlxQuadTree._processingCallback == null || flixel_system_FlxQuadTree._processingCallback(flixel_system_FlxQuadTree._object,checkObject)) {
					overlapProcessed = true;
					if(flixel_system_FlxQuadTree._notifyCallback != null) {
						flixel_system_FlxQuadTree._notifyCallback(flixel_system_FlxQuadTree._object,checkObject);
					}
				}
			}
			if(flixel_system_FlxQuadTree._iterator != null) {
				flixel_system_FlxQuadTree._iterator = flixel_system_FlxQuadTree._iterator.next;
			}
		}
		return overlapProcessed;
	}
	,__class__: flixel_system_FlxQuadTree
});
var flixel_system_FlxSound = function() {
	this._alreadyPaused = false;
	this._volumeAdjust = 1.0;
	this._length = 0;
	this._time = 0;
	this.loopTime = 0;
	flixel_FlxBasic.call(this);
	this.reset();
};
$hxClasses["flixel.system.FlxSound"] = flixel_system_FlxSound;
flixel_system_FlxSound.__name__ = "flixel.system.FlxSound";
flixel_system_FlxSound.__super__ = flixel_FlxBasic;
flixel_system_FlxSound.prototype = $extend(flixel_FlxBasic.prototype,{
	x: null
	,y: null
	,persist: null
	,name: null
	,artist: null
	,amplitude: null
	,amplitudeLeft: null
	,amplitudeRight: null
	,autoDestroy: null
	,onComplete: null
	,group: null
	,looped: null
	,loopTime: null
	,endTime: null
	,fadeTween: null
	,_sound: null
	,_channel: null
	,_transform: null
	,_paused: null
	,_volume: null
	,_time: null
	,_length: null
	,_volumeAdjust: null
	,_target: null
	,_radius: null
	,_proximityPan: null
	,_alreadyPaused: null
	,reset: function() {
		this.destroy();
		this.x = 0;
		this.y = 0;
		this._time = 0;
		this._paused = false;
		this._volume = 1.0;
		this._volumeAdjust = 1.0;
		this.looped = false;
		this.loopTime = 0.0;
		this.endTime = 0.0;
		this._target = null;
		this._radius = 0;
		this._proximityPan = false;
		this.set_visible(false);
		this.amplitude = 0;
		this.amplitudeLeft = 0;
		this.amplitudeRight = 0;
		this.autoDestroy = false;
		if(this._transform == null) {
			this._transform = new openfl_media_SoundTransform();
		}
		this._transform.pan = 0;
	}
	,destroy: function() {
		this._transform = null;
		this.set_exists(false);
		this.set_active(false);
		this._target = null;
		this.name = null;
		this.artist = null;
		if(this._channel != null) {
			this._channel.removeEventListener("soundComplete",$bind(this,this.stopped));
			this._channel.stop();
			this._channel = null;
		}
		if(this._sound != null) {
			this._sound.removeEventListener("id3",$bind(this,this.gotID3));
			this._sound = null;
		}
		this.onComplete = null;
		flixel_FlxBasic.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		if(this._channel == null) {
			return;
		}
		this._time = this._channel.get_position();
		var radialMultiplier = 1.0;
		if(this._target != null) {
			var targetPosition = this._target.getPosition();
			var X = this.x;
			var Y = this.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			radialMultiplier = targetPosition.distanceTo(point1) / this._radius;
			targetPosition.put();
			var lowerBound = radialMultiplier < 0 ? 0 : radialMultiplier;
			radialMultiplier = 1 - (lowerBound > 1 ? 1 : lowerBound);
			if(this._proximityPan) {
				var d = (this.x - this._target.x) / this._radius;
				var lowerBound = d < -1 ? -1 : d;
				this._transform.pan = lowerBound > 1 ? 1 : lowerBound;
			}
		}
		this._volumeAdjust = radialMultiplier;
		this.updateTransform();
		if(this._transform.volume > 0) {
			this.amplitudeLeft = this._channel.leftPeak / this._transform.volume;
			this.amplitudeRight = this._channel.rightPeak / this._transform.volume;
			this.amplitude = (this.amplitudeLeft + this.amplitudeRight) * 0.5;
		} else {
			this.amplitudeLeft = 0;
			this.amplitudeRight = 0;
			this.amplitude = 0;
		}
		if(this.endTime != null && this._time >= this.endTime) {
			this.stopped();
		}
	}
	,kill: function() {
		flixel_FlxBasic.prototype.kill.call(this);
		this.cleanup(false);
	}
	,loadEmbedded: function(EmbeddedSound,Looped,AutoDestroy,OnComplete) {
		if(AutoDestroy == null) {
			AutoDestroy = false;
		}
		if(Looped == null) {
			Looped = false;
		}
		if(EmbeddedSound == null) {
			return this;
		}
		this.cleanup(true);
		if(((EmbeddedSound) instanceof openfl_media_Sound)) {
			this._sound = EmbeddedSound;
		} else if(js_Boot.__instanceof(EmbeddedSound,Class)) {
			this._sound = Type.createInstance(EmbeddedSound,[]);
		} else if(typeof(EmbeddedSound) == "string") {
			if(openfl_utils_Assets.exists(EmbeddedSound,"SOUND") || openfl_utils_Assets.exists(EmbeddedSound,"MUSIC")) {
				this._sound = openfl_utils_Assets.getSound(EmbeddedSound);
			}
		}
		return this.init(Looped,AutoDestroy,OnComplete);
	}
	,loadStream: function(SoundURL,Looped,AutoDestroy,OnComplete,OnLoad) {
		if(AutoDestroy == null) {
			AutoDestroy = false;
		}
		if(Looped == null) {
			Looped = false;
		}
		var _gthis = this;
		this.cleanup(true);
		this._sound = new openfl_media_Sound();
		this._sound.addEventListener("id3",$bind(this,this.gotID3));
		var loadCallback = null;
		loadCallback = function(e) {
			e.target.removeEventListener(e.type,loadCallback);
			if(openfl_utils_Object.__eq(_gthis._sound,e.target)) {
				_gthis._length = _gthis._sound.get_length();
				if(OnLoad != null) {
					OnLoad();
				}
			}
		};
		this._sound.addEventListener("complete",loadCallback,false,0,true);
		this._sound.load(new openfl_net_URLRequest(SoundURL));
		return this.init(Looped,AutoDestroy,OnComplete);
	}
	,init: function(Looped,AutoDestroy,OnComplete) {
		if(AutoDestroy == null) {
			AutoDestroy = false;
		}
		if(Looped == null) {
			Looped = false;
		}
		this.looped = Looped;
		this.autoDestroy = AutoDestroy;
		this.updateTransform();
		this.set_exists(true);
		this.onComplete = OnComplete;
		this._length = this._sound == null ? 0 : this._sound.get_length();
		this.endTime = this._length;
		return this;
	}
	,proximity: function(X,Y,TargetObject,Radius,Pan) {
		if(Pan == null) {
			Pan = true;
		}
		this.x = X;
		this.y = Y;
		this._target = TargetObject;
		this._radius = Radius;
		this._proximityPan = Pan;
		return this;
	}
	,play: function(ForceRestart,StartTime,EndTime) {
		if(StartTime == null) {
			StartTime = 0.0;
		}
		if(ForceRestart == null) {
			ForceRestart = false;
		}
		if(!this.exists) {
			return this;
		}
		if(ForceRestart) {
			this.cleanup(false,true);
		} else if(this._channel != null) {
			return this;
		}
		if(this._paused) {
			this.resume();
		} else {
			this.startSound(StartTime);
		}
		this.endTime = EndTime;
		return this;
	}
	,resume: function() {
		if(this._paused) {
			this.startSound(this._time);
		}
		return this;
	}
	,pause: function() {
		if(this._channel == null) {
			return this;
		}
		this._time = this._channel.get_position();
		this._paused = true;
		this.cleanup(false,false);
		return this;
	}
	,stop: function() {
		this.cleanup(this.autoDestroy,true);
		return this;
	}
	,fadeOut: function(Duration,To,onComplete) {
		if(To == null) {
			To = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(this.fadeTween != null) {
			this.fadeTween.cancel();
		}
		this.fadeTween = flixel_tweens_FlxTween.num(this._volume,To,Duration,{ onComplete : onComplete},$bind(this,this.volumeTween));
		return this;
	}
	,fadeIn: function(Duration,From,To,onComplete) {
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(this._channel == null) {
			this.play();
		}
		if(this.fadeTween != null) {
			this.fadeTween.cancel();
		}
		this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : onComplete},$bind(this,this.volumeTween));
		return this;
	}
	,volumeTween: function(f) {
		this.set_volume(f);
	}
	,getActualVolume: function() {
		return this._volume * this._volumeAdjust;
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
	}
	,updateTransform: function() {
		this._transform.volume = (flixel_FlxG.sound.muted ? 0 : 1) * flixel_FlxG.sound.volume * (this.group != null ? this.group.volume : 1) * this._volume * this._volumeAdjust;
		if(this._channel != null) {
			this._channel.set_soundTransform(this._transform);
		}
	}
	,startSound: function(StartTime) {
		if(this._sound == null) {
			return;
		}
		this._time = StartTime;
		this._paused = false;
		this._channel = this._sound.play(this._time,0,this._transform);
		if(this._channel != null) {
			this._channel.addEventListener("soundComplete",$bind(this,this.stopped));
			this.set_active(true);
		} else {
			this.set_exists(false);
			this.set_active(false);
		}
	}
	,stopped: function(_) {
		if(this.onComplete != null) {
			this.onComplete();
		}
		if(this.looped) {
			this.cleanup(false);
			this.play(false,this.loopTime,this.endTime);
		} else {
			this.cleanup(this.autoDestroy);
		}
	}
	,cleanup: function(destroySound,resetPosition) {
		if(resetPosition == null) {
			resetPosition = true;
		}
		if(destroySound) {
			this.reset();
			return;
		}
		if(this._channel != null) {
			this._channel.removeEventListener("soundComplete",$bind(this,this.stopped));
			this._channel.stop();
			this._channel = null;
		}
		this.set_active(false);
		if(resetPosition) {
			this._time = 0;
			this._paused = false;
		}
	}
	,gotID3: function(_) {
		this.name = this._sound.get_id3().songName;
		this.artist = this._sound.get_id3().artist;
		this._sound.removeEventListener("id3",$bind(this,this.gotID3));
	}
	,onFocus: function() {
		if(!this._alreadyPaused) {
			this.resume();
		}
	}
	,onFocusLost: function() {
		this._alreadyPaused = this._paused;
		this.pause();
	}
	,set_group: function(group) {
		if(this.group != group) {
			var oldGroup = this.group;
			this.group = group;
			if(oldGroup != null) {
				oldGroup.remove(this);
			}
			if(group != null) {
				group.add(this);
			}
			this.updateTransform();
		}
		return group;
	}
	,get_playing: function() {
		return this._channel != null;
	}
	,get_volume: function() {
		return this._volume;
	}
	,set_volume: function(Volume) {
		var lowerBound = Volume < 0 ? 0 : Volume;
		this._volume = lowerBound > 1 ? 1 : lowerBound;
		this.updateTransform();
		return Volume;
	}
	,get_pan: function() {
		return this._transform.pan;
	}
	,set_pan: function(pan) {
		return this._transform.pan = pan;
	}
	,get_time: function() {
		return this._time;
	}
	,set_time: function(time) {
		if(this._channel != null) {
			this.cleanup(false,true);
			this.startSound(time);
		}
		return this._time = time;
	}
	,get_length: function() {
		return this._length;
	}
	,toString: function() {
		var value = this._channel != null;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "playing";
		_this.value = value;
		var value = this._time;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "time";
		_this1.value = value;
		var value = this._length;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "length";
		_this2.value = value;
		var value = this._volume;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "volume";
		_this3.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
	}
	,__class__: flixel_system_FlxSound
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{set_group:"set_group",get_length:"get_length",set_time:"set_time",get_time:"get_time",set_volume:"set_volume",get_volume:"get_volume",get_playing:"get_playing",set_pan:"set_pan",get_pan:"get_pan"})
});
var flixel_system_FlxSoundGroup = function(volume) {
	if(volume == null) {
		volume = 1;
	}
	this.sounds = [];
	this.set_volume(volume);
};
$hxClasses["flixel.system.FlxSoundGroup"] = flixel_system_FlxSoundGroup;
flixel_system_FlxSoundGroup.__name__ = "flixel.system.FlxSoundGroup";
flixel_system_FlxSoundGroup.prototype = {
	sounds: null
	,volume: null
	,add: function(sound) {
		if(this.sounds.indexOf(sound) < 0) {
			this.sounds.push(sound);
			sound.set_group(this);
			return true;
		}
		return false;
	}
	,remove: function(sound) {
		if(this.sounds.indexOf(sound) >= 0) {
			sound.set_group(null);
			return HxOverrides.remove(this.sounds,sound);
		}
		return false;
	}
	,pause: function() {
		var _g = 0;
		var _g1 = this.sounds;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			sound.pause();
		}
	}
	,resume: function() {
		var _g = 0;
		var _g1 = this.sounds;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			sound.resume();
		}
	}
	,set_volume: function(volume) {
		this.volume = volume;
		var _g = 0;
		var _g1 = this.sounds;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			sound.updateTransform();
		}
		return volume;
	}
	,__class__: flixel_system_FlxSoundGroup
	,__properties__: {set_volume:"set_volume"}
};
var flixel_system_FlxSplash = function(MaxSize) {
	this._curPart = 0;
	flixel_FlxState.call(this,MaxSize);
};
$hxClasses["flixel.system.FlxSplash"] = flixel_system_FlxSplash;
flixel_system_FlxSplash.__name__ = "flixel.system.FlxSplash";
flixel_system_FlxSplash.nextState = null;
flixel_system_FlxSplash.__super__ = flixel_FlxState;
flixel_system_FlxSplash.prototype = $extend(flixel_FlxState.prototype,{
	_sprite: null
	,_gfx: null
	,_text: null
	,_times: null
	,_colors: null
	,_functions: null
	,_curPart: null
	,_cachedBgColor: null
	,_cachedTimestep: null
	,_cachedAutoPause: null
	,create: function() {
		this._cachedBgColor = flixel_FlxG.cameras.get_bgColor();
		flixel_FlxG.cameras.set_bgColor(-16777216);
		this._cachedTimestep = flixel_FlxG.fixedTimestep;
		flixel_FlxG.fixedTimestep = false;
		this._cachedAutoPause = flixel_FlxG.autoPause;
		flixel_FlxG.autoPause = false;
		flixel_FlxG.keys.enabled = false;
		this._times = [0.041,0.184,0.334,0.495,0.636];
		this._colors = [47394,16761138,16066382,3555839,314875];
		this._functions = [$bind(this,this.drawGreen),$bind(this,this.drawYellow),$bind(this,this.drawRed),$bind(this,this.drawBlue),$bind(this,this.drawLightBlue)];
		var _g = 0;
		var _g1 = this._times;
		while(_g < _g1.length) {
			var time = _g1[_g];
			++_g;
			new flixel_util_FlxTimer().start(time,$bind(this,this.timerCallback));
		}
		var stageWidth = openfl_Lib.get_current().stage.stageWidth;
		var stageHeight = openfl_Lib.get_current().stage.stageHeight;
		this._sprite = new openfl_display_Sprite();
		openfl_Lib.get_current().stage.addChild(this._sprite);
		this._gfx = this._sprite.get_graphics();
		this._text = new openfl_text_TextField();
		this._text.set_selectable(false);
		this._text.set_embedFonts(true);
		var dtf = new openfl_text_TextFormat(flixel_system_FlxAssets.FONT_DEFAULT,16,16777215);
		dtf.align = 0;
		this._text.set_defaultTextFormat(dtf);
		this._text.set_text("HaxeFlixel");
		openfl_Lib.get_current().stage.addChild(this._text);
		this.onResize(stageWidth,stageHeight);
		if(!flixel_system_FlxSplash.muted) {
			var extension = "";
			extension = ".ogg";
			flixel_FlxG.sound.load(openfl_utils_Assets.getSound("flixel/sounds/flixel" + extension)).play();
		}
	}
	,destroy: function() {
		this._sprite = null;
		this._gfx = null;
		this._text = null;
		this._times = null;
		this._colors = null;
		this._functions = null;
		flixel_FlxState.prototype.destroy.call(this);
	}
	,onResize: function(Width,Height) {
		flixel_FlxState.prototype.onResize.call(this,Width,Height);
		this._sprite.set_x(Width / 2);
		this._sprite.set_y(Height / 2 - 20 * flixel_FlxG.game.get_scaleY());
		this._text.set_width(Width / flixel_FlxG.game.get_scaleX());
		this._text.set_x(0);
		this._text.set_y(this._sprite.get_y() + 80 * flixel_FlxG.game.get_scaleY());
		this._sprite.set_scaleX(this._text.set_scaleX(flixel_FlxG.game.get_scaleX()));
		this._sprite.set_scaleY(this._text.set_scaleY(flixel_FlxG.game.get_scaleY()));
	}
	,timerCallback: function(Timer) {
		this._functions[this._curPart]();
		this._text.set_textColor(this._colors[this._curPart]);
		this._text.set_text("HaxeFlixel");
		this._curPart++;
		if(this._curPart == 5) {
			flixel_tweens_FlxTween.tween(this._sprite,{ alpha : 0},3.0,{ ease : flixel_tweens_FlxEase.quadOut, onComplete : $bind(this,this.onComplete)});
			flixel_tweens_FlxTween.tween(this._text,{ alpha : 0},3.0,{ ease : flixel_tweens_FlxEase.quadOut});
		}
	}
	,drawGreen: function() {
		this._gfx.beginFill(47394);
		this._gfx.moveTo(0,-37);
		this._gfx.lineTo(1,-37);
		this._gfx.lineTo(37,0);
		this._gfx.lineTo(37,1);
		this._gfx.lineTo(1,37);
		this._gfx.lineTo(0,37);
		this._gfx.lineTo(-37,1);
		this._gfx.lineTo(-37,0);
		this._gfx.lineTo(0,-37);
		this._gfx.endFill();
	}
	,drawYellow: function() {
		this._gfx.beginFill(16761138);
		this._gfx.moveTo(-50,-50);
		this._gfx.lineTo(-25,-50);
		this._gfx.lineTo(0,-37);
		this._gfx.lineTo(-37,0);
		this._gfx.lineTo(-50,-25);
		this._gfx.lineTo(-50,-50);
		this._gfx.endFill();
	}
	,drawRed: function() {
		this._gfx.beginFill(16066382);
		this._gfx.moveTo(50,-50);
		this._gfx.lineTo(25,-50);
		this._gfx.lineTo(1,-37);
		this._gfx.lineTo(37,0);
		this._gfx.lineTo(50,-25);
		this._gfx.lineTo(50,-50);
		this._gfx.endFill();
	}
	,drawBlue: function() {
		this._gfx.beginFill(3555839);
		this._gfx.moveTo(-50,50);
		this._gfx.lineTo(-25,50);
		this._gfx.lineTo(0,37);
		this._gfx.lineTo(-37,1);
		this._gfx.lineTo(-50,25);
		this._gfx.lineTo(-50,50);
		this._gfx.endFill();
	}
	,drawLightBlue: function() {
		this._gfx.beginFill(314875);
		this._gfx.moveTo(50,50);
		this._gfx.lineTo(25,50);
		this._gfx.lineTo(1,37);
		this._gfx.lineTo(37,1);
		this._gfx.lineTo(50,25);
		this._gfx.lineTo(50,50);
		this._gfx.endFill();
	}
	,onComplete: function(Tween) {
		flixel_FlxG.cameras.set_bgColor(this._cachedBgColor);
		flixel_FlxG.fixedTimestep = this._cachedTimestep;
		flixel_FlxG.autoPause = this._cachedAutoPause;
		flixel_FlxG.keys.enabled = true;
		openfl_Lib.get_current().stage.removeChild(this._sprite);
		openfl_Lib.get_current().stage.removeChild(this._text);
		var nextState = Type.createInstance(flixel_system_FlxSplash.nextState,[]);
		if(flixel_FlxG.game._state.switchTo(nextState)) {
			flixel_FlxG.game._requestedState = nextState;
		}
		flixel_FlxG.game._gameJustStarted = true;
	}
	,__class__: flixel_system_FlxSplash
});
var flixel_system_debug_DebuggerUtil = function() { };
$hxClasses["flixel.system.debug.DebuggerUtil"] = flixel_system_debug_DebuggerUtil;
flixel_system_debug_DebuggerUtil.__name__ = "flixel.system.debug.DebuggerUtil";
flixel_system_debug_DebuggerUtil.createTextField = function(X,Y,Color,Size) {
	if(Size == null) {
		Size = 12;
	}
	if(Color == null) {
		Color = -1;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	return flixel_system_debug_DebuggerUtil.initTextField(new openfl_text_TextField(),X,Y,Color,Size);
};
flixel_system_debug_DebuggerUtil.initTextField = function(tf,X,Y,Color,Size) {
	if(Size == null) {
		Size = 12;
	}
	if(Color == null) {
		Color = -1;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	tf.set_x(X);
	tf.set_y(Y);
	tf.set_multiline(false);
	tf.set_wordWrap(false);
	tf.set_embedFonts(true);
	tf.set_selectable(false);
	tf.set_defaultTextFormat(new openfl_text_TextFormat(flixel_system_FlxAssets.FONT_DEBUGGER,Size,Color & 16777215));
	tf.set_alpha((Color >> 24 & 255) / 255);
	tf.set_autoSize(1);
	return tf;
};
flixel_system_debug_DebuggerUtil.fixSize = function(bitmapData) {
	Reflect.setProperty(bitmapData,"width",11);
	Reflect.setProperty(bitmapData,"height",11);
	return bitmapData;
};
var flixel_system_debug__$FlxDebugger_GraphicFlixel = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug__$FlxDebugger_GraphicFlixel.preload != null) {
		this.__fromImage(flixel_system_debug__$FlxDebugger_GraphicFlixel.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug__$FlxDebugger_GraphicFlixel.resourceName),flixel_system_debug__$FlxDebugger_GraphicFlixel.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug__$FlxDebugger_GraphicFlixel.preload == null) {
				flixel_system_debug__$FlxDebugger_GraphicFlixel.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug._FlxDebugger.GraphicFlixel"] = flixel_system_debug__$FlxDebugger_GraphicFlixel;
flixel_system_debug__$FlxDebugger_GraphicFlixel.__name__ = "flixel.system.debug._FlxDebugger.GraphicFlixel";
flixel_system_debug__$FlxDebugger_GraphicFlixel.preload = null;
flixel_system_debug__$FlxDebugger_GraphicFlixel.__super__ = openfl_display_BitmapData;
flixel_system_debug__$FlxDebugger_GraphicFlixel.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug__$FlxDebugger_GraphicFlixel
});
var flixel_system_debug__$FlxDebugger_GraphicDrawDebug = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug__$FlxDebugger_GraphicDrawDebug.preload != null) {
		this.__fromImage(flixel_system_debug__$FlxDebugger_GraphicDrawDebug.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug__$FlxDebugger_GraphicDrawDebug.resourceName),flixel_system_debug__$FlxDebugger_GraphicDrawDebug.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug__$FlxDebugger_GraphicDrawDebug.preload == null) {
				flixel_system_debug__$FlxDebugger_GraphicDrawDebug.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug._FlxDebugger.GraphicDrawDebug"] = flixel_system_debug__$FlxDebugger_GraphicDrawDebug;
flixel_system_debug__$FlxDebugger_GraphicDrawDebug.__name__ = "flixel.system.debug._FlxDebugger.GraphicDrawDebug";
flixel_system_debug__$FlxDebugger_GraphicDrawDebug.preload = null;
flixel_system_debug__$FlxDebugger_GraphicDrawDebug.__super__ = openfl_display_BitmapData;
flixel_system_debug__$FlxDebugger_GraphicDrawDebug.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug__$FlxDebugger_GraphicDrawDebug
});
var flixel_system_debug_GraphicLog = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicLog.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicLog.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicLog.resourceName),flixel_system_debug_GraphicLog.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicLog.preload == null) {
				flixel_system_debug_GraphicLog.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicLog"] = flixel_system_debug_GraphicLog;
flixel_system_debug_GraphicLog.__name__ = "flixel.system.debug.GraphicLog";
flixel_system_debug_GraphicLog.preload = null;
flixel_system_debug_GraphicLog.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicLog.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicLog
});
var flixel_system_debug_GraphicStats = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicStats.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicStats.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicStats.resourceName),flixel_system_debug_GraphicStats.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicStats.preload == null) {
				flixel_system_debug_GraphicStats.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicStats"] = flixel_system_debug_GraphicStats;
flixel_system_debug_GraphicStats.__name__ = "flixel.system.debug.GraphicStats";
flixel_system_debug_GraphicStats.preload = null;
flixel_system_debug_GraphicStats.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicStats.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicStats
});
var flixel_system_debug_GraphicWatch = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicWatch.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicWatch.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicWatch.resourceName),flixel_system_debug_GraphicWatch.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicWatch.preload == null) {
				flixel_system_debug_GraphicWatch.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicWatch"] = flixel_system_debug_GraphicWatch;
flixel_system_debug_GraphicWatch.__name__ = "flixel.system.debug.GraphicWatch";
flixel_system_debug_GraphicWatch.preload = null;
flixel_system_debug_GraphicWatch.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicWatch.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicWatch
});
var flixel_system_debug_GraphicBitmapLog = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicBitmapLog.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicBitmapLog.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicBitmapLog.resourceName),flixel_system_debug_GraphicBitmapLog.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicBitmapLog.preload == null) {
				flixel_system_debug_GraphicBitmapLog.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicBitmapLog"] = flixel_system_debug_GraphicBitmapLog;
flixel_system_debug_GraphicBitmapLog.__name__ = "flixel.system.debug.GraphicBitmapLog";
flixel_system_debug_GraphicBitmapLog.preload = null;
flixel_system_debug_GraphicBitmapLog.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicBitmapLog.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicBitmapLog
});
var flixel_system_debug_GraphicConsole = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicConsole.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicConsole.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicConsole.resourceName),flixel_system_debug_GraphicConsole.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicConsole.preload == null) {
				flixel_system_debug_GraphicConsole.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicConsole"] = flixel_system_debug_GraphicConsole;
flixel_system_debug_GraphicConsole.__name__ = "flixel.system.debug.GraphicConsole";
flixel_system_debug_GraphicConsole.preload = null;
flixel_system_debug_GraphicConsole.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicConsole.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicConsole
});
var flixel_system_debug_GraphicArrowLeft = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicArrowLeft.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicArrowLeft.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicArrowLeft.resourceName),flixel_system_debug_GraphicArrowLeft.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicArrowLeft.preload == null) {
				flixel_system_debug_GraphicArrowLeft.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicArrowLeft"] = flixel_system_debug_GraphicArrowLeft;
flixel_system_debug_GraphicArrowLeft.__name__ = "flixel.system.debug.GraphicArrowLeft";
flixel_system_debug_GraphicArrowLeft.preload = null;
flixel_system_debug_GraphicArrowLeft.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicArrowLeft.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicArrowLeft
});
var flixel_system_debug_GraphicArrowRight = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicArrowRight.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicArrowRight.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicArrowRight.resourceName),flixel_system_debug_GraphicArrowRight.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicArrowRight.preload == null) {
				flixel_system_debug_GraphicArrowRight.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicArrowRight"] = flixel_system_debug_GraphicArrowRight;
flixel_system_debug_GraphicArrowRight.__name__ = "flixel.system.debug.GraphicArrowRight";
flixel_system_debug_GraphicArrowRight.preload = null;
flixel_system_debug_GraphicArrowRight.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicArrowRight.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicArrowRight
});
var flixel_system_debug_GraphicCloseButton = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicCloseButton.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicCloseButton.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicCloseButton.resourceName),flixel_system_debug_GraphicCloseButton.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicCloseButton.preload == null) {
				flixel_system_debug_GraphicCloseButton.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicCloseButton"] = flixel_system_debug_GraphicCloseButton;
flixel_system_debug_GraphicCloseButton.__name__ = "flixel.system.debug.GraphicCloseButton";
flixel_system_debug_GraphicCloseButton.preload = null;
flixel_system_debug_GraphicCloseButton.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicCloseButton.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicCloseButton
});
var flixel_system_debug_GraphicInteractive = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_GraphicInteractive.preload != null) {
		this.__fromImage(flixel_system_debug_GraphicInteractive.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_GraphicInteractive.resourceName),flixel_system_debug_GraphicInteractive.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_GraphicInteractive.preload == null) {
				flixel_system_debug_GraphicInteractive.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.GraphicInteractive"] = flixel_system_debug_GraphicInteractive;
flixel_system_debug_GraphicInteractive.__name__ = "flixel.system.debug.GraphicInteractive";
flixel_system_debug_GraphicInteractive.preload = null;
flixel_system_debug_GraphicInteractive.__super__ = openfl_display_BitmapData;
flixel_system_debug_GraphicInteractive.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_GraphicInteractive
});
var flixel_system_debug_FlxDebugger = function() {
	openfl_display_Sprite.call(this);
};
$hxClasses["flixel.system.debug.FlxDebugger"] = flixel_system_debug_FlxDebugger;
flixel_system_debug_FlxDebugger.__name__ = "flixel.system.debug.FlxDebugger";
flixel_system_debug_FlxDebugger.__super__ = openfl_display_Sprite;
flixel_system_debug_FlxDebugger.prototype = $extend(openfl_display_Sprite.prototype,{
	__class__: flixel_system_debug_FlxDebugger
});
var flixel_system_debug_FlxDebuggerLayout = $hxEnums["flixel.system.debug.FlxDebuggerLayout"] = { __ename__:"flixel.system.debug.FlxDebuggerLayout",__constructs__:null
	,STANDARD: {_hx_name:"STANDARD",_hx_index:0,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
	,MICRO: {_hx_name:"MICRO",_hx_index:1,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
	,BIG: {_hx_name:"BIG",_hx_index:2,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
	,TOP: {_hx_name:"TOP",_hx_index:3,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
	,LEFT: {_hx_name:"LEFT",_hx_index:4,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
	,RIGHT: {_hx_name:"RIGHT",_hx_index:5,__enum__:"flixel.system.debug.FlxDebuggerLayout",toString:$estr}
};
flixel_system_debug_FlxDebuggerLayout.__constructs__ = [flixel_system_debug_FlxDebuggerLayout.STANDARD,flixel_system_debug_FlxDebuggerLayout.MICRO,flixel_system_debug_FlxDebuggerLayout.BIG,flixel_system_debug_FlxDebuggerLayout.TOP,flixel_system_debug_FlxDebuggerLayout.LEFT,flixel_system_debug_FlxDebuggerLayout.RIGHT];
var flixel_system_debug_Tooltip = function() { };
$hxClasses["flixel.system.debug.Tooltip"] = flixel_system_debug_Tooltip;
flixel_system_debug_Tooltip.__name__ = "flixel.system.debug.Tooltip";
flixel_system_debug_Tooltip._container = null;
flixel_system_debug_Tooltip.init = function(container) {
	flixel_system_debug_Tooltip._container = container;
};
flixel_system_debug_Tooltip.add = function(element,text) {
	var tooltip = new flixel_system_debug_TooltipOverlay(element,text);
	flixel_system_debug_Tooltip._container.addChild(tooltip);
	flixel_system_debug_Tooltip._tooltips.push(tooltip);
	return tooltip;
};
flixel_system_debug_Tooltip.remove = function(element) {
	var removed = false;
	var _g = 0;
	var _g1 = flixel_system_debug_Tooltip._tooltips.length;
	while(_g < _g1) {
		var i = _g++;
		if(flixel_system_debug_Tooltip._tooltips[i] != null && flixel_system_debug_Tooltip._tooltips[i].owner == element) {
			var tooltip = flixel_system_debug_Tooltip._tooltips.splice(i,1)[0];
			tooltip.destroy();
			removed = true;
			break;
		}
	}
	return removed;
};
var flixel_system_debug_TooltipOverlay = function(target,text,width,height) {
	if(height == null) {
		height = 0;
	}
	if(width == null) {
		width = 0;
	}
	openfl_display_Sprite.call(this);
	this.owner = target;
	this.maxSize = new openfl_geom_Point(width,height);
	this._shadow = new openfl_display_Bitmap(new openfl_display_BitmapData(1,2,true,-16777216));
	this._background = new openfl_display_Bitmap(new openfl_display_BitmapData(1,1,true,-12961222));
	this.textField = flixel_system_debug_DebuggerUtil.createTextField(2,1);
	this.textField.set_alpha(0.8);
	this.textField.set_text(text);
	this.textField.set_wordWrap(true);
	this.addChild(this._shadow);
	this.addChild(this._background);
	this.addChild(this.textField);
	this.updateSize();
	this.setVisible(false);
	if(this.owner != null) {
		this.owner.addEventListener("mouseOver",$bind(this,this.handleMouseEvents));
		this.owner.addEventListener("mouseOut",$bind(this,this.handleMouseEvents));
	}
};
$hxClasses["flixel.system.debug.TooltipOverlay"] = flixel_system_debug_TooltipOverlay;
flixel_system_debug_TooltipOverlay.__name__ = "flixel.system.debug.TooltipOverlay";
flixel_system_debug_TooltipOverlay.__super__ = openfl_display_Sprite;
flixel_system_debug_TooltipOverlay.prototype = $extend(openfl_display_Sprite.prototype,{
	_width: null
	,_height: null
	,_background: null
	,_shadow: null
	,textField: null
	,owner: null
	,maxSize: null
	,destroy: function() {
		this._shadow = flixel_util_FlxDestroyUtil.removeChild(this,this._shadow);
		this._background = flixel_util_FlxDestroyUtil.removeChild(this,this._background);
		this.textField = flixel_util_FlxDestroyUtil.removeChild(this,this.textField);
		this.maxSize = null;
		if(this.owner != null) {
			this.owner.removeEventListener("mouseOver",$bind(this,this.handleMouseEvents));
			this.owner.removeEventListener("mouseOut",$bind(this,this.handleMouseEvents));
		}
		this.owner = null;
	}
	,resize: function(Width,Height) {
		this.maxSize.x = Math.abs(Width) | 0;
		this.maxSize.y = Math.abs(Height) | 0;
		this.updateSize();
	}
	,reposition: function(X,Y) {
		this.set_x(X);
		this.set_y(Y);
		this.ensureOnScreen();
	}
	,setVisible: function(Value) {
		this.set_visible(Value);
		if(this.get_visible()) {
			this.parent.addChild(this);
			this.ensureOnScreen();
		}
	}
	,setText: function(Text1) {
		this.textField.set_text(Text1);
		this.updateSize();
		this.ensureOnScreen();
	}
	,toggleVisible: function() {
		this.setVisible(!this.get_visible());
	}
	,putOnTop: function() {
		this.parent.addChild(this);
	}
	,update: function() {
	}
	,updateSize: function() {
		this._width = ((this.maxSize.x <= 0 ? this.textField.get_textWidth() : Math.abs(this.maxSize.x)) | 0) + 8;
		this._height = ((this.maxSize.y <= 0 ? this.textField.get_textHeight() : Math.abs(this.maxSize.y)) | 0) + 8;
		this._background.set_scaleX(this._width);
		this._background.set_scaleY(this._height);
		this._shadow.set_scaleX(this._width);
		this._shadow.set_y(this._height);
		this.textField.set_width(this._width);
	}
	,ensureOnScreen: function() {
		this.set_x(this.get_x() < 0 ? 0 : this.get_x());
		this.set_y(this.get_y() < 0 ? 0 : this.get_y());
		var offsetX = this.get_x() + this.get_width() >= openfl_Lib.get_current().stage.stageWidth ? openfl_Lib.get_current().stage.stageWidth - (this.get_x() + this.get_width()) : 0;
		var offsetY = this.get_y() + this.get_height() >= openfl_Lib.get_current().stage.stageHeight ? openfl_Lib.get_current().stage.stageHeight - (this.get_y() + this.get_height()) : 0;
		this.set_x(this.get_x() + offsetX);
		this.set_y(this.get_y() + offsetY);
	}
	,handleMouseEvents: function(event) {
		if(event.type == "mouseOver" && !this.get_visible()) {
			this.set_x(event.stageX + 10);
			this.set_y(event.stageY + 10);
			this.setVisible(true);
		} else if(event.type == "mouseOut") {
			this.setVisible(false);
		}
	}
	,__class__: flixel_system_debug_TooltipOverlay
});
var flixel_system_debug__$Window_GraphicWindowHandle = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug__$Window_GraphicWindowHandle.preload != null) {
		this.__fromImage(flixel_system_debug__$Window_GraphicWindowHandle.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug__$Window_GraphicWindowHandle.resourceName),flixel_system_debug__$Window_GraphicWindowHandle.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug__$Window_GraphicWindowHandle.preload == null) {
				flixel_system_debug__$Window_GraphicWindowHandle.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug._Window.GraphicWindowHandle"] = flixel_system_debug__$Window_GraphicWindowHandle;
flixel_system_debug__$Window_GraphicWindowHandle.__name__ = "flixel.system.debug._Window.GraphicWindowHandle";
flixel_system_debug__$Window_GraphicWindowHandle.preload = null;
flixel_system_debug__$Window_GraphicWindowHandle.__super__ = openfl_display_BitmapData;
flixel_system_debug__$Window_GraphicWindowHandle.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug__$Window_GraphicWindowHandle
});
var flixel_system_debug_Window = function(Title,Icon,Width,Height,Resizable,Bounds,Closable,AlwaysOnTop) {
	if(AlwaysOnTop == null) {
		AlwaysOnTop = true;
	}
	if(Closable == null) {
		Closable = false;
	}
	if(Resizable == null) {
		Resizable = true;
	}
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	openfl_display_Sprite.call(this);
	this.minSize = new openfl_geom_Point(50,30);
	this._width = Math.abs(Width) | 0;
	this._height = Math.abs(Height) | 0;
	this.updateBounds(Bounds);
	this._drag = new openfl_geom_Point();
	this._resizable = Resizable;
	this._closable = Closable;
	this._alwaysOnTop = AlwaysOnTop;
	this._shadow = new openfl_display_Bitmap(new openfl_display_BitmapData(1,2,true,-16777216));
	this._background = new openfl_display_Bitmap(new openfl_display_BitmapData(1,1,true,-580952225));
	this._header = new openfl_display_Bitmap(new openfl_display_BitmapData(1,15,true,-1157627904));
	this._background.set_y(this._header.get_height());
	this._title = flixel_system_debug_DebuggerUtil.createTextField(2,-1);
	this._title.set_alpha(0.8);
	this._title.set_text(Title);
	this.addChild(this._shadow);
	this.addChild(this._background);
	this.addChild(this._header);
	this.addChild(this._title);
	if(Icon != null) {
		flixel_system_debug_DebuggerUtil.fixSize(Icon);
		this._icon = new openfl_display_Bitmap(Icon);
		this._icon.set_x(5);
		this._icon.set_y(2);
		this._icon.set_alpha(0.8);
		this._title.set_x(this._icon.get_x() + this._icon.get_width() + 2);
		this.addChild(this._icon);
	}
	if(this._resizable) {
		this._handle = new openfl_display_Bitmap(flixel_system_debug_DebuggerUtil.fixSize(new flixel_system_debug__$Window_GraphicWindowHandle(0,0)));
		this.addChild(this._handle);
	}
	if(this._closable) {
		this._closeButton = new flixel_system_ui_FlxSystemButton(new flixel_system_debug_GraphicCloseButton(0,0),$bind(this,this.close));
		this._closeButton.set_alpha(0.8);
		this.addChild(this._closeButton);
	} else {
		this._id = flixel_system_debug_Window.windowAmount;
		this.loadSaveData();
		flixel_system_debug_Window.windowAmount++;
	}
	if(this._width != 0 || this._height != 0) {
		this.updateSize();
	}
	this.bound();
	this.addEventListener("enterFrame",$bind(this,this.init));
};
$hxClasses["flixel.system.debug.Window"] = flixel_system_debug_Window;
flixel_system_debug_Window.__name__ = "flixel.system.debug.Window";
flixel_system_debug_Window.__super__ = openfl_display_Sprite;
flixel_system_debug_Window.prototype = $extend(openfl_display_Sprite.prototype,{
	minSize: null
	,maxSize: null
	,toggleButton: null
	,_width: null
	,_height: null
	,_bounds: null
	,_background: null
	,_header: null
	,_shadow: null
	,_title: null
	,_handle: null
	,_icon: null
	,_closeButton: null
	,_overHeader: null
	,_overHandle: null
	,_drag: null
	,_dragging: null
	,_resizing: null
	,_resizable: null
	,_closable: null
	,_alwaysOnTop: null
	,_id: null
	,destroy: function() {
		this.minSize = null;
		this.maxSize = null;
		this._bounds = null;
		if(this._shadow != null) {
			this.removeChild(this._shadow);
		}
		this._shadow = null;
		if(this._background != null) {
			this.removeChild(this._background);
		}
		this._background = null;
		if(this._header != null) {
			this.removeChild(this._header);
		}
		this._header = null;
		if(this._title != null) {
			this.removeChild(this._title);
		}
		this._title = null;
		if(this._handle != null) {
			this.removeChild(this._handle);
		}
		this._handle = null;
		this._drag = null;
		this._closeButton = flixel_util_FlxDestroyUtil.destroy(this._closeButton);
		var stage = openfl_Lib.get_current().stage;
		if(stage.hasEventListener("mouseMove")) {
			stage.removeEventListener("mouseMove",$bind(this,this.onMouseMove));
		}
		if(this.hasEventListener("mouseDown")) {
			this.removeEventListener("mouseDown",$bind(this,this.onMouseDown));
		}
		if(stage.hasEventListener("mouseUp")) {
			stage.removeEventListener("mouseUp",$bind(this,this.onMouseUp));
		}
	}
	,resize: function(Width,Height) {
		this._width = Math.abs(Width) | 0;
		this._height = Math.abs(Height) | 0;
		this.updateSize();
	}
	,reposition: function(X,Y) {
		this.set_x(X);
		this.set_y(Y);
		this.bound();
	}
	,updateBounds: function(Bounds) {
		this._bounds = Bounds;
		if(this._bounds != null) {
			this.maxSize = new openfl_geom_Point(this._bounds.width,this._bounds.height);
		} else {
			this.maxSize = new openfl_geom_Point(1.79e+308,1.79e+308);
		}
	}
	,setVisible: function(Value) {
		this.set_visible(Value);
		if(!this._closable) {
			flixel_FlxG.save.data.windowSettings[this._id] = this.get_visible();
			flixel_FlxG.save.flush();
		}
		if(this.toggleButton != null) {
			this.toggleButton.set_toggled(!this.get_visible());
		}
		if(this.get_visible() && this._alwaysOnTop) {
			this.parent.addChild(this);
		}
	}
	,toggleVisible: function() {
		this.setVisible(!this.get_visible());
	}
	,putOnTop: function() {
		this.parent.addChild(this);
	}
	,loadSaveData: function() {
		if(flixel_FlxG.save.data.windowSettings == null) {
			var maxWindows = 10;
			var _g = [];
			var _g1 = 0;
			var _g2 = maxWindows;
			while(_g1 < _g2) {
				var _ = _g1++;
				_g.push(true);
			}
			flixel_FlxG.save.data.windowSettings = _g;
			flixel_FlxG.save.flush();
		}
		this.set_visible(flixel_FlxG.save.data.windowSettings[this._id]);
	}
	,update: function() {
	}
	,init: function(_) {
		if(this.stage == null) {
			return;
		}
		this.removeEventListener("enterFrame",$bind(this,this.init));
		this.stage.addEventListener("mouseMove",$bind(this,this.onMouseMove));
		this.stage.addEventListener("mouseUp",$bind(this,this.onMouseUp));
		this.addEventListener("mouseDown",$bind(this,this.onMouseDown));
	}
	,onMouseMove: function(_) {
		var mouseX = this.get_mouseX() < 0 ? 0 : this.get_mouseX();
		var mouseY = this.get_mouseY() < 0 ? 0 : this.get_mouseY();
		if(!this.parent.get_visible()) {
			this._overHandle = this._overHeader = false;
			return;
		}
		if(this._dragging) {
			this._overHeader = true;
			this.reposition(this.parent.get_mouseX() - this._drag.x,this.parent.get_mouseY() - this._drag.y);
		} else if(this._resizing) {
			this._overHandle = true;
			this.resize(mouseX - this._drag.x,mouseY - this._drag.y);
		} else if(mouseX >= 0 && mouseX <= this._width && mouseY >= 0 && mouseY <= this._height) {
			this._overHeader = mouseX <= this._header.get_width() && mouseY <= this._header.get_height();
			if(this._resizable) {
				this._overHandle = mouseX >= this._width - this._handle.get_width() && mouseY >= this._height - this._handle.get_height();
			}
		} else {
			this._overHandle = this._overHeader = false;
		}
	}
	,onMouseDown: function(_) {
		if(this._overHeader) {
			if(this._alwaysOnTop) {
				this.parent.addChild(this);
			}
			this._dragging = true;
			this._drag.x = this.get_mouseX();
			this._drag.y = this.get_mouseY();
		} else if(this._overHandle) {
			if(this._alwaysOnTop) {
				this.parent.addChild(this);
			}
			this._resizing = true;
			var tmp = this._width;
			var tmp1 = this.get_mouseX();
			this._drag.x = tmp - tmp1;
			var tmp = this._height;
			var tmp1 = this.get_mouseY();
			this._drag.y = tmp - tmp1;
		}
	}
	,onMouseUp: function(_) {
		this._dragging = false;
		this._resizing = false;
	}
	,bound: function() {
		if(this._bounds != null) {
			var Value = this.get_x();
			var Min = this._bounds.get_left();
			var Max = this._bounds.get_right() - this._width;
			var lowerBound = Min != null && Value < Min ? Min : Value;
			this.set_x(Max != null && lowerBound > Max ? Max : lowerBound);
			var Value = this.get_y();
			var Min = this._bounds.get_top();
			var Max = this._bounds.get_bottom() - this._height;
			var lowerBound = Min != null && Value < Min ? Min : Value;
			this.set_y(Max != null && lowerBound > Max ? Max : lowerBound);
		}
	}
	,updateSize: function() {
		var Value = this._width;
		var Min = this.minSize.x;
		var Max = this.maxSize.x;
		var lowerBound = Min != null && Value < Min ? Min : Value;
		this._width = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
		var Value = this._height;
		var Min = this.minSize.y;
		var Max = this.maxSize.y;
		var lowerBound = Min != null && Value < Min ? Min : Value;
		this._height = (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
		this._header.set_scaleX(this._width);
		this._background.set_scaleX(this._width);
		this._background.set_scaleY(this._height - this._header.get_height());
		this._shadow.set_scaleX(this._width);
		this._shadow.set_y(this._height);
		this._title.set_width(this._width - 4);
		if(this._resizable) {
			this._handle.set_x(this._width - this._handle.get_width());
			this._handle.set_y(this._height - this._handle.get_height());
		}
		if(this._closeButton != null) {
			this._closeButton.set_x(this._width - this._closeButton.get_width() - 3);
			this._closeButton.set_y(3);
		}
	}
	,close: function() {
		this.destroy();
	}
	,__class__: flixel_system_debug_Window
});
var flixel_system_debug_completion_CompletionList = function(capacity) {
	this.upperVisibleIndex = 0;
	this.lowerVisibleIndex = 0;
	this.selectedIndex = 0;
	this.entries = [];
	openfl_display_Sprite.call(this);
	this.set_visible(false);
	this.upperVisibleIndex = capacity - 1;
	this.actualHeight = capacity * 20;
	this.createPopupEntries(capacity);
	this.createScrollBar();
	this.updateSelectedItem();
	openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.onKeyDown));
};
$hxClasses["flixel.system.debug.completion.CompletionList"] = flixel_system_debug_completion_CompletionList;
flixel_system_debug_completion_CompletionList.__name__ = "flixel.system.debug.completion.CompletionList";
flixel_system_debug_completion_CompletionList.__super__ = openfl_display_Sprite;
flixel_system_debug_completion_CompletionList.prototype = $extend(openfl_display_Sprite.prototype,{
	completed: null
	,selectionChanged: null
	,closed: null
	,filter: null
	,items: null
	,entries: null
	,originalItems: null
	,selectedIndex: null
	,lowerVisibleIndex: null
	,upperVisibleIndex: null
	,scrollBar: null
	,actualHeight: null
	,show: function(x,items) {
		this.set_visible(true);
		this.set_x(x);
		this.originalItems = items;
		this.set_filter("");
		this.updateEntries();
	}
	,setY: function(y) {
		this.set_y(y - this.actualHeight);
	}
	,close: function() {
		this.set_visible(false);
		this.set_filter(null);
		if(this.closed != null) {
			this.closed();
		}
	}
	,createPopupEntries: function(amount) {
		var _g = 0;
		var _g1 = amount;
		while(_g < _g1) {
			var i = _g++;
			var entry = new flixel_system_debug_completion_CompletionListEntry();
			this.entries.push(entry);
			this.addChild(entry);
			entry.set_y(20 * i);
		}
	}
	,createScrollBar: function() {
		this.scrollBar = new flixel_system_debug_completion_CompletionListScrollBar(150,0,5,this.actualHeight);
		this.addChild(this.scrollBar);
	}
	,onKeyDown: function(e) {
		if(!this.get_visible()) {
			return;
		}
		switch(e.keyCode) {
		case 13:
			if(this.completed != null) {
				this.completed(this.items[this.selectedIndex]);
			}
			this.close();
			return;
		case 27:
			this.close();
			return;
		case 38:
			this.updateIndices(-1);
			break;
		case 40:
			this.updateIndices(1);
			break;
		}
		this.updateEntries();
	}
	,updateIndices: function(modifier) {
		this.selectedIndex = this.bound(this.selectedIndex + modifier);
		var Value = this.selectedIndex;
		var Min = this.lowerVisibleIndex;
		var Max = this.upperVisibleIndex;
		if((Min == null || Value >= Min) && (Max == null || Value <= Max)) {
			return;
		}
		this.lowerVisibleIndex = this.bound(this.lowerVisibleIndex + modifier);
		this.upperVisibleIndex = this.bound(this.upperVisibleIndex + modifier);
		var range = this.upperVisibleIndex - this.lowerVisibleIndex;
		if(range == this.items.length) {
			return;
		}
		if(this.lowerVisibleIndex == 0) {
			this.upperVisibleIndex = this.entries.length - 1;
		} else if(this.upperVisibleIndex == this.items.length - 1) {
			this.lowerVisibleIndex = this.items.length - this.entries.length;
		}
	}
	,bound: function(index) {
		var Max = this.items.length - 1;
		var lowerBound = index < 0 ? 0 : index;
		return (Max != null && lowerBound > Max ? Max : lowerBound) | 0;
	}
	,updateEntries: function() {
		this.updateLabels();
		this.updateSelectedItem();
		this.scrollBar.updateHandle(this.lowerVisibleIndex,this.items.length,this.entries.length);
	}
	,updateLabels: function() {
		var _g = 0;
		var _g1 = this.entries.length;
		while(_g < _g1) {
			var i = _g++;
			var selectedItem = this.items[this.lowerVisibleIndex + i];
			if(selectedItem == null) {
				selectedItem = "";
			}
			this.entries[i].setItem(selectedItem);
		}
	}
	,updateSelectedItem: function() {
		var _g = 0;
		var _g1 = this.entries;
		while(_g < _g1.length) {
			var entry = _g1[_g];
			++_g;
			entry.set_selected(false);
		}
		this.entries[this.selectedIndex - this.lowerVisibleIndex].set_selected(true);
		if(this.selectionChanged != null) {
			this.selectionChanged(this.items[this.selectedIndex]);
		}
	}
	,setItems: function(items) {
		if(items == null) {
			return;
		}
		if(items.length == 0) {
			this.close();
		}
		this.items = items;
		this.selectedIndex = 0;
		this.lowerVisibleIndex = 0;
		this.upperVisibleIndex = this.entries.length - 1;
		this.updateEntries();
	}
	,filterItems: function(filter) {
		if(filter == null) {
			filter = "";
		}
		var _g = [];
		var _g1 = 0;
		var _g2 = this.originalItems;
		while(_g1 < _g2.length) {
			var v = _g2[_g1];
			++_g1;
			if(v.toLowerCase().indexOf(filter.toLowerCase()) != -1) {
				_g.push(v);
			}
		}
		return this.sortItems(filter,_g);
	}
	,sortItems: function(filter,items) {
		var _gthis = this;
		if(filter == "") {
			return items;
		}
		items.sort(function(a,b) {
			var valueA = _gthis.startsWithExt(a,filter);
			var valueB = _gthis.startsWithExt(b,filter);
			if(valueA > valueB) {
				return -valueA;
			}
			if(valueB > valueA) {
				return valueB;
			}
			if(valueA == valueB) {
				return a.length - b.length | 0;
			}
			return 0;
		});
		return items;
	}
	,startsWithExt: function(s,start) {
		if(StringTools.startsWith(s,start)) {
			return 2;
		}
		var _this_r = new RegExp("^[_]+","".split("u").join(""));
		if(StringTools.startsWith(s.replace(_this_r,""),start)) {
			return 1;
		}
		return 0;
	}
	,set_filter: function(filter) {
		if(filter == this.filter) {
			return filter;
		}
		this.setItems(this.filterItems(filter));
		return this.filter = filter;
	}
	,__class__: flixel_system_debug_completion_CompletionList
	,__properties__: $extend(openfl_display_Sprite.prototype.__properties__,{set_filter:"set_filter"})
});
var flixel_system_debug_completion_CompletionListEntry = function() {
	this.selected = false;
	openfl_display_Sprite.call(this);
	this.initBitmapDatas();
	this.addChild(this.background = new openfl_display_Bitmap());
	this.background.set_bitmapData(flixel_system_debug_completion_CompletionListEntry.normalBitmapData);
	this.label = flixel_system_debug_DebuggerUtil.createTextField();
	this.label.set_x(4);
	this.addChild(this.label);
};
$hxClasses["flixel.system.debug.completion.CompletionListEntry"] = flixel_system_debug_completion_CompletionListEntry;
flixel_system_debug_completion_CompletionListEntry.__name__ = "flixel.system.debug.completion.CompletionListEntry";
flixel_system_debug_completion_CompletionListEntry.normalBitmapData = null;
flixel_system_debug_completion_CompletionListEntry.highlightBitmapData = null;
flixel_system_debug_completion_CompletionListEntry.__super__ = openfl_display_Sprite;
flixel_system_debug_completion_CompletionListEntry.prototype = $extend(openfl_display_Sprite.prototype,{
	selected: null
	,background: null
	,label: null
	,initBitmapDatas: function() {
		if(flixel_system_debug_completion_CompletionListEntry.normalBitmapData == null) {
			flixel_system_debug_completion_CompletionListEntry.normalBitmapData = new openfl_display_BitmapData(150,20,true,-10526881);
		}
		if(flixel_system_debug_completion_CompletionListEntry.highlightBitmapData == null) {
			flixel_system_debug_completion_CompletionListEntry.highlightBitmapData = new openfl_display_BitmapData(150,20,true,-9605779);
		}
	}
	,setItem: function(item) {
		this.label.set_text(item);
		if(this.label.get_width() > 150) {
			this.label.set_width(150);
			this.label.set_autoSize(2);
		}
	}
	,set_selected: function(selected) {
		if(selected == this.selected) {
			return selected;
		}
		this.background.set_bitmapData(selected ? flixel_system_debug_completion_CompletionListEntry.highlightBitmapData : flixel_system_debug_completion_CompletionListEntry.normalBitmapData);
		return this.selected = selected;
	}
	,__class__: flixel_system_debug_completion_CompletionListEntry
	,__properties__: $extend(openfl_display_Sprite.prototype.__properties__,{set_selected:"set_selected"})
});
var flixel_system_debug_completion_CompletionListScrollBar = function(x,y,width,height) {
	openfl_display_Sprite.call(this);
	this.set_x(x);
	this.set_y(y);
	this.addChild(new openfl_display_Bitmap(new openfl_display_BitmapData(width,height,true,-12303292)));
	this.handle = new openfl_display_Bitmap(new openfl_display_BitmapData(width,1,true,-14540254));
	this.addChild(this.handle);
};
$hxClasses["flixel.system.debug.completion.CompletionListScrollBar"] = flixel_system_debug_completion_CompletionListScrollBar;
flixel_system_debug_completion_CompletionListScrollBar.__name__ = "flixel.system.debug.completion.CompletionListScrollBar";
flixel_system_debug_completion_CompletionListScrollBar.__super__ = openfl_display_Sprite;
flixel_system_debug_completion_CompletionListScrollBar.prototype = $extend(openfl_display_Sprite.prototype,{
	handle: null
	,updateHandle: function(lower,items,entries) {
		this.handle.set_scaleY(Math.min(this.get_height() / items * entries,this.get_height()));
		this.handle.set_y(this.get_height() / items * lower);
		var tmp = this.handle;
		var Value = this.handle.get_y();
		var Max = this.get_height() - this.handle.get_scaleY();
		var lowerBound = Value < 0 ? 0 : Value;
		tmp.set_y(Max != null && lowerBound > Max ? Max : lowerBound);
	}
	,__class__: flixel_system_debug_completion_CompletionListScrollBar
});
var flixel_system_debug_console_ConsoleUtil = function() { };
$hxClasses["flixel.system.debug.console.ConsoleUtil"] = flixel_system_debug_console_ConsoleUtil;
flixel_system_debug_console_ConsoleUtil.__name__ = "flixel.system.debug.console.ConsoleUtil";
flixel_system_debug_console_ConsoleUtil.parser = null;
flixel_system_debug_console_ConsoleUtil.interp = null;
flixel_system_debug_console_ConsoleUtil.init = function() {
	flixel_system_debug_console_ConsoleUtil.parser = new hscript_Parser();
	flixel_system_debug_console_ConsoleUtil.parser.allowJSON = true;
	flixel_system_debug_console_ConsoleUtil.parser.allowTypes = true;
	flixel_system_debug_console_ConsoleUtil.interp = new flixel_system_debug_console__$ConsoleUtil_Interp();
};
flixel_system_debug_console_ConsoleUtil.parseCommand = function(Input) {
	if(StringTools.endsWith(Input,";")) {
		Input = HxOverrides.substr(Input,0,-1);
	}
	return flixel_system_debug_console_ConsoleUtil.parser.parseString(Input);
};
flixel_system_debug_console_ConsoleUtil.runCommand = function(Input) {
	return flixel_system_debug_console_ConsoleUtil.interp.expr(flixel_system_debug_console_ConsoleUtil.parseCommand(Input));
};
flixel_system_debug_console_ConsoleUtil.runExpr = function(expr) {
	return flixel_system_debug_console_ConsoleUtil.interp.expr(expr);
};
flixel_system_debug_console_ConsoleUtil.registerObject = function(ObjectAlias,AnyObject) {
	if(AnyObject == null || Reflect.isObject(AnyObject)) {
		flixel_system_debug_console_ConsoleUtil.interp.variables.h[ObjectAlias] = AnyObject;
	}
};
flixel_system_debug_console_ConsoleUtil.registerFunction = function(FunctionAlias,Function1) {
	if(Reflect.isFunction(Function1)) {
		flixel_system_debug_console_ConsoleUtil.interp.variables.h[FunctionAlias] = Function1;
	}
};
flixel_system_debug_console_ConsoleUtil.getFields = function(Object1) {
	var fields = [];
	if(js_Boot.__instanceof(Object1,Class)) {
		fields = Type.getClassFields(Object1);
	} else if(js_Boot.__instanceof(Object1,Enum)) {
		var _this = Object1.__constructs__;
		var result = new Array(_this.length);
		var _g = 0;
		var _g1 = _this.length;
		while(_g < _g1) {
			var i = _g++;
			result[i] = _this[i]._hx_name;
		}
		fields = result;
	} else if(Reflect.isObject(Object1)) {
		fields = Type.getInstanceFields(js_Boot.getClass(Object1));
	}
	HxOverrides.remove(fields,"__constructs__");
	var filteredFields = [];
	var _g = 0;
	while(_g < fields.length) {
		var field = fields[_g];
		++_g;
		if(StringTools.startsWith(field,"get_") || StringTools.startsWith(field,"set_")) {
			var name = HxOverrides.substr(field,4,null);
			if(fields.indexOf(name) == -1 && filteredFields.indexOf(name) == -1) {
				filteredFields.push(name);
			}
		} else {
			filteredFields.push(field);
		}
	}
	return flixel_system_debug_console_ConsoleUtil.sortFields(filteredFields);
};
flixel_system_debug_console_ConsoleUtil.sortFields = function(fields) {
	var underscoreList = [];
	var _g = [];
	var _g1 = 0;
	var _g2 = fields;
	while(_g1 < _g2.length) {
		var v = _g2[_g1];
		++_g1;
		var fields1;
		if(StringTools.startsWith(v,"_")) {
			underscoreList.push(v);
			fields1 = false;
		} else {
			fields1 = true;
		}
		if(fields1) {
			_g.push(v);
		}
	}
	fields = _g;
	flixel_util_FlxStringUtil.sortAlphabetically(fields);
	flixel_util_FlxStringUtil.sortAlphabetically(underscoreList);
	return fields.concat(underscoreList);
};
flixel_system_debug_console_ConsoleUtil.log = function(Text1) {
	flixel_FlxG.log.advanced([Text1],flixel_system_debug_log_LogStyle.CONSOLE);
};
var hscript_Interp = function() {
	this.locals = new haxe_ds_StringMap();
	this.declared = [];
	this.resetVariables();
	this.initOps();
};
$hxClasses["hscript.Interp"] = hscript_Interp;
hscript_Interp.__name__ = "hscript.Interp";
hscript_Interp.prototype = {
	variables: null
	,locals: null
	,binops: null
	,depth: null
	,inTry: null
	,declared: null
	,returnValue: null
	,resetVariables: function() {
		var _gthis = this;
		this.variables = new haxe_ds_StringMap();
		this.variables.h["null"] = null;
		this.variables.h["true"] = true;
		this.variables.h["false"] = false;
		var this1 = this.variables;
		var value = Reflect.makeVarArgs(function(el) {
			var inf = _gthis.posInfos();
			var v = el.shift();
			if(el.length > 0) {
				inf.customParams = el;
			}
			haxe_Log.trace(Std.string(v),inf);
		});
		this1.h["trace"] = value;
	}
	,posInfos: function() {
		return { fileName : "hscript", lineNumber : 0};
	}
	,initOps: function() {
		var me = this;
		this.binops = new haxe_ds_StringMap();
		this.binops.h["+"] = function(e1,e2) {
			return me.expr(e1) + me.expr(e2);
		};
		this.binops.h["-"] = function(e1,e2) {
			return me.expr(e1) - me.expr(e2);
		};
		this.binops.h["*"] = function(e1,e2) {
			return me.expr(e1) * me.expr(e2);
		};
		this.binops.h["/"] = function(e1,e2) {
			return me.expr(e1) / me.expr(e2);
		};
		this.binops.h["%"] = function(e1,e2) {
			return me.expr(e1) % me.expr(e2);
		};
		this.binops.h["&"] = function(e1,e2) {
			return me.expr(e1) & me.expr(e2);
		};
		this.binops.h["|"] = function(e1,e2) {
			return me.expr(e1) | me.expr(e2);
		};
		this.binops.h["^"] = function(e1,e2) {
			return me.expr(e1) ^ me.expr(e2);
		};
		this.binops.h["<<"] = function(e1,e2) {
			return me.expr(e1) << me.expr(e2);
		};
		this.binops.h[">>"] = function(e1,e2) {
			return me.expr(e1) >> me.expr(e2);
		};
		this.binops.h[">>>"] = function(e1,e2) {
			return me.expr(e1) >>> me.expr(e2);
		};
		this.binops.h["=="] = function(e1,e2) {
			return me.expr(e1) == me.expr(e2);
		};
		this.binops.h["!="] = function(e1,e2) {
			return me.expr(e1) != me.expr(e2);
		};
		this.binops.h[">="] = function(e1,e2) {
			return me.expr(e1) >= me.expr(e2);
		};
		this.binops.h["<="] = function(e1,e2) {
			return me.expr(e1) <= me.expr(e2);
		};
		this.binops.h[">"] = function(e1,e2) {
			return me.expr(e1) > me.expr(e2);
		};
		this.binops.h["<"] = function(e1,e2) {
			return me.expr(e1) < me.expr(e2);
		};
		this.binops.h["||"] = function(e1,e2) {
			if(me.expr(e1) != true) {
				return me.expr(e2) == true;
			} else {
				return true;
			}
		};
		this.binops.h["&&"] = function(e1,e2) {
			if(me.expr(e1) == true) {
				return me.expr(e2) == true;
			} else {
				return false;
			}
		};
		this.binops.h["="] = $bind(this,this.assign);
		this.binops.h["..."] = function(e1,e2) {
			return new IntIterator(me.expr(e1),me.expr(e2));
		};
		this.assignOp("+=",function(v1,v2) {
			return v1 + v2;
		});
		this.assignOp("-=",function(v1,v2) {
			return v1 - v2;
		});
		this.assignOp("*=",function(v1,v2) {
			return v1 * v2;
		});
		this.assignOp("/=",function(v1,v2) {
			return v1 / v2;
		});
		this.assignOp("%=",function(v1,v2) {
			return v1 % v2;
		});
		this.assignOp("&=",function(v1,v2) {
			return v1 & v2;
		});
		this.assignOp("|=",function(v1,v2) {
			return v1 | v2;
		});
		this.assignOp("^=",function(v1,v2) {
			return v1 ^ v2;
		});
		this.assignOp("<<=",function(v1,v2) {
			return v1 << v2;
		});
		this.assignOp(">>=",function(v1,v2) {
			return v1 >> v2;
		});
		this.assignOp(">>>=",function(v1,v2) {
			return v1 >>> v2;
		});
	}
	,setVar: function(name,v) {
		this.variables.h[name] = v;
	}
	,assign: function(e1,e2) {
		var v = this.expr(e2);
		switch(e1._hx_index) {
		case 1:
			var id = e1.v;
			var l = this.locals.h[id];
			if(l == null) {
				this.setVar(id,v);
			} else {
				l.r = v;
			}
			break;
		case 5:
			var e = e1.e;
			var f = e1.f;
			v = this.set(this.expr(e),f,v);
			break;
		case 16:
			var e = e1.e;
			var index = e1.index;
			var arr = this.expr(e);
			var index1 = this.expr(index);
			if(js_Boot.__implements(arr,haxe_IMap)) {
				(js_Boot.__cast(arr , haxe_IMap)).set(index1,v);
			} else {
				arr[index1] = v;
			}
			break;
		default:
			var e = hscript_Error.EInvalidOp("=");
			throw haxe_Exception.thrown(e);
		}
		return v;
	}
	,assignOp: function(op,fop) {
		var me = this;
		this.binops.h[op] = function(e1,e2) {
			return me.evalAssignOp(op,fop,e1,e2);
		};
	}
	,evalAssignOp: function(op,fop,e1,e2) {
		var v;
		switch(e1._hx_index) {
		case 1:
			var id = e1.v;
			var l = this.locals.h[id];
			v = fop(this.expr(e1),this.expr(e2));
			if(l == null) {
				this.setVar(id,v);
			} else {
				l.r = v;
			}
			break;
		case 5:
			var e = e1.e;
			var f = e1.f;
			var obj = this.expr(e);
			v = fop(this.get(obj,f),this.expr(e2));
			v = this.set(obj,f,v);
			break;
		case 16:
			var e = e1.e;
			var index = e1.index;
			var arr = this.expr(e);
			var index1 = this.expr(index);
			if(js_Boot.__implements(arr,haxe_IMap)) {
				v = fop((js_Boot.__cast(arr , haxe_IMap)).get(index1),this.expr(e2));
				(js_Boot.__cast(arr , haxe_IMap)).set(index1,v);
			} else {
				v = fop(arr[index1],this.expr(e2));
				arr[index1] = v;
			}
			break;
		default:
			var e = hscript_Error.EInvalidOp(op);
			throw haxe_Exception.thrown(e);
		}
		return v;
	}
	,increment: function(e,prefix,delta) {
		switch(e._hx_index) {
		case 1:
			var id = e.v;
			var l = this.locals.h[id];
			var v = l == null ? this.resolve(id) : l.r;
			if(prefix) {
				v += delta;
				if(l == null) {
					this.setVar(id,v);
				} else {
					l.r = v;
				}
			} else if(l == null) {
				this.setVar(id,v + delta);
			} else {
				l.r = v + delta;
			}
			return v;
		case 5:
			var e1 = e.e;
			var f = e.f;
			var obj = this.expr(e1);
			var v = this.get(obj,f);
			if(prefix) {
				v += delta;
				this.set(obj,f,v);
			} else {
				this.set(obj,f,v + delta);
			}
			return v;
		case 16:
			var e1 = e.e;
			var index = e.index;
			var arr = this.expr(e1);
			var index1 = this.expr(index);
			if(js_Boot.__implements(arr,haxe_IMap)) {
				var v = (js_Boot.__cast(arr , haxe_IMap)).get(index1);
				if(prefix) {
					v += delta;
					(js_Boot.__cast(arr , haxe_IMap)).set(index1,v);
				} else {
					(js_Boot.__cast(arr , haxe_IMap)).set(index1,v + delta);
				}
				return v;
			} else {
				var v = arr[index1];
				if(prefix) {
					v += delta;
					arr[index1] = v;
				} else {
					arr[index1] = v + delta;
				}
				return v;
			}
			break;
		default:
			var e = hscript_Error.EInvalidOp(delta > 0 ? "++" : "--");
			throw haxe_Exception.thrown(e);
		}
	}
	,execute: function(expr) {
		this.depth = 0;
		this.locals = new haxe_ds_StringMap();
		this.declared = [];
		return this.exprReturn(expr);
	}
	,exprReturn: function(e) {
		try {
			return this.expr(e);
		} catch( _g ) {
			haxe_NativeStackTrace.lastError = _g;
			var _g1 = haxe_Exception.caught(_g).unwrap();
			if(js_Boot.__instanceof(_g1,hscript__$Interp_Stop)) {
				var e = _g1;
				switch(e._hx_index) {
				case 0:
					throw haxe_Exception.thrown("Invalid break");
				case 1:
					throw haxe_Exception.thrown("Invalid continue");
				case 2:
					var v = this.returnValue;
					this.returnValue = null;
					return v;
				}
			} else {
				throw _g;
			}
		}
	}
	,duplicate: function(h) {
		var h2 = new haxe_ds_StringMap();
		var h1 = h.h;
		var k_h = h1;
		var k_keys = Object.keys(h1);
		var k_length = k_keys.length;
		var k_current = 0;
		while(k_current < k_length) {
			var k = k_keys[k_current++];
			h2.h[k] = h.h[k];
		}
		return h2;
	}
	,restore: function(old) {
		while(this.declared.length > old) {
			var d = this.declared.pop();
			this.locals.h[d.n] = d.old;
		}
	}
	,error: function(e,rethrow) {
		if(rethrow == null) {
			rethrow = false;
		}
		if(rethrow) {
			throw haxe_Exception.thrown(e);
		} else {
			throw haxe_Exception.thrown(e);
		}
	}
	,rethrow: function(e) {
		throw haxe_Exception.thrown(e);
	}
	,resolve: function(id) {
		var l = this.locals.h[id];
		if(l != null) {
			return l.r;
		}
		var v = this.variables.h[id];
		if(v == null && !Object.prototype.hasOwnProperty.call(this.variables.h,id)) {
			var e = hscript_Error.EUnknownVariable(id);
			throw haxe_Exception.thrown(e);
		}
		return v;
	}
	,expr: function(e) {
		var _gthis = this;
		switch(e._hx_index) {
		case 0:
			var c = e.c;
			switch(c._hx_index) {
			case 0:
				var v = c.v;
				return v;
			case 1:
				var f = c.f;
				return f;
			case 2:
				var s = c.s;
				return s;
			}
			break;
		case 1:
			var id = e.v;
			return this.resolve(id);
		case 2:
			var _g = e.t;
			var n = e.n;
			var e1 = e.e;
			this.declared.push({ n : n, old : this.locals.h[n]});
			var this1 = this.locals;
			var value = e1 == null ? null : this.expr(e1);
			this1.h[n] = { r : value};
			return null;
		case 3:
			var e1 = e.e;
			return this.expr(e1);
		case 4:
			var exprs = e.e;
			var old = this.declared.length;
			var v = null;
			var _g = 0;
			while(_g < exprs.length) {
				var e1 = exprs[_g];
				++_g;
				v = this.expr(e1);
			}
			this.restore(old);
			return v;
		case 5:
			var e1 = e.e;
			var f = e.f;
			return this.get(this.expr(e1),f);
		case 6:
			var op = e.op;
			var e1 = e.e1;
			var e2 = e.e2;
			var fop = this.binops.h[op];
			if(fop == null) {
				var e3 = hscript_Error.EInvalidOp(op);
				throw haxe_Exception.thrown(e3);
			}
			return fop(e1,e2);
		case 7:
			var op = e.op;
			var prefix = e.prefix;
			var e1 = e.e;
			switch(op) {
			case "!":
				return this.expr(e1) != true;
			case "++":
				return this.increment(e1,prefix,1);
			case "-":
				return -this.expr(e1);
			case "--":
				return this.increment(e1,prefix,-1);
			case "~":
				return ~this.expr(e1);
			default:
				var e1 = hscript_Error.EInvalidOp(op);
				throw haxe_Exception.thrown(e1);
			}
			break;
		case 8:
			var e1 = e.e;
			var params = e.params;
			var args = [];
			var _g = 0;
			while(_g < params.length) {
				var p = params[_g];
				++_g;
				args.push(this.expr(p));
			}
			if(e1._hx_index == 5) {
				var e2 = e1.e;
				var f = e1.f;
				var obj = this.expr(e2);
				if(obj == null) {
					var e2 = hscript_Error.EInvalidAccess(f);
					throw haxe_Exception.thrown(e2);
				}
				return this.fcall(obj,f,args);
			} else {
				return this.call(null,this.expr(e1),args);
			}
			break;
		case 9:
			var econd = e.cond;
			var e1 = e.e1;
			var e2 = e.e2;
			if(this.expr(econd) == true) {
				return this.expr(e1);
			} else if(e2 == null) {
				return null;
			} else {
				return this.expr(e2);
			}
			break;
		case 10:
			var econd = e.cond;
			var e1 = e.e;
			this.whileLoop(econd,e1);
			return null;
		case 11:
			var v = e.v;
			var it = e.it;
			var e1 = e.e;
			this.forLoop(v,it,e1);
			return null;
		case 12:
			throw haxe_Exception.thrown(hscript__$Interp_Stop.SBreak);
		case 13:
			throw haxe_Exception.thrown(hscript__$Interp_Stop.SContinue);
		case 14:
			var _g = e.ret;
			var params = e.args;
			var fexpr = e.e;
			var name = e.name;
			var capturedLocals = this.duplicate(this.locals);
			var me = this;
			var hasOpt = false;
			var minParams = 0;
			var _g = 0;
			while(_g < params.length) {
				var p = params[_g];
				++_g;
				if(p.opt) {
					hasOpt = true;
				} else {
					minParams += 1;
				}
			}
			var f = function(args) {
				if((args == null ? 0 : args.length) != params.length) {
					if(args.length < minParams) {
						var str = "Invalid number of parameters. Got " + args.length + ", required " + minParams;
						if(name != null) {
							str += " for function '" + name + "'";
						}
						var e = hscript_Error.ECustom(str);
						throw haxe_Exception.thrown(e);
					}
					var args2 = [];
					var extraParams = args.length - minParams;
					var pos = 0;
					var _g = 0;
					while(_g < params.length) {
						var p = params[_g];
						++_g;
						if(p.opt) {
							if(extraParams > 0) {
								args2.push(args[pos++]);
								--extraParams;
							} else {
								args2.push(null);
							}
						} else {
							args2.push(args[pos++]);
						}
					}
					args = args2;
				}
				var old = me.locals;
				var depth = me.depth;
				me.depth++;
				me.locals = me.duplicate(capturedLocals);
				var _g = 0;
				var _g1 = params.length;
				while(_g < _g1) {
					var i = _g++;
					me.locals.h[params[i].name] = { r : args[i]};
				}
				var r = null;
				var oldDecl = _gthis.declared.length;
				if(_gthis.inTry) {
					try {
						r = me.exprReturn(fexpr);
					} catch( _g ) {
						haxe_NativeStackTrace.lastError = _g;
						var e = haxe_Exception.caught(_g).unwrap();
						me.locals = old;
						me.depth = depth;
						throw haxe_Exception.thrown(e);
					}
				} else {
					r = me.exprReturn(fexpr);
				}
				_gthis.restore(oldDecl);
				me.locals = old;
				me.depth = depth;
				return r;
			};
			var f1 = Reflect.makeVarArgs(f);
			if(name != null) {
				if(this.depth == 0) {
					this.variables.h[name] = f1;
				} else {
					this.declared.push({ n : name, old : this.locals.h[name]});
					var ref = { r : f1};
					this.locals.h[name] = ref;
					capturedLocals.h[name] = ref;
				}
			}
			return f1;
		case 15:
			var e1 = e.e;
			this.returnValue = e1 == null ? null : this.expr(e1);
			throw haxe_Exception.thrown(hscript__$Interp_Stop.SReturn);
		case 16:
			var e1 = e.e;
			var index = e.index;
			var arr = this.expr(e1);
			var index1 = this.expr(index);
			if(js_Boot.__implements(arr,haxe_IMap)) {
				return (js_Boot.__cast(arr , haxe_IMap)).get(index1);
			} else {
				return arr[index1];
			}
			break;
		case 17:
			var arr = e.e;
			var tmp;
			if(arr.length > 0) {
				var _g = arr[0];
				if(_g._hx_index == 6) {
					var _g1 = _g.e1;
					var _g1 = _g.e2;
					tmp = _g.op == "=>";
				} else {
					tmp = false;
				}
			} else {
				tmp = false;
			}
			if(tmp) {
				var isAllString = true;
				var isAllInt = true;
				var isAllObject = true;
				var isAllEnum = true;
				var keys = [];
				var values = [];
				var _g = 0;
				while(_g < arr.length) {
					var e1 = arr[_g];
					++_g;
					if(e1._hx_index == 6) {
						if(e1.op == "=>") {
							var eKey = e1.e1;
							var eValue = e1.e2;
							var key = this.expr(eKey);
							var value = this.expr(eValue);
							isAllString = isAllString && typeof(key) == "string";
							isAllInt = isAllInt && (typeof(key) == "number" && ((key | 0) === key));
							isAllObject = isAllObject && Reflect.isObject(key);
							isAllEnum = isAllEnum && Reflect.isEnumValue(key);
							keys.push(key);
							values.push(value);
						} else {
							throw haxe_Exception.thrown("=> expected");
						}
					} else {
						throw haxe_Exception.thrown("=> expected");
					}
				}
				var map;
				if(isAllInt) {
					map = new haxe_ds_IntMap();
				} else if(isAllString) {
					map = new haxe_ds_StringMap();
				} else if(isAllEnum) {
					map = new haxe_ds_EnumValueMap();
				} else if(isAllObject) {
					map = new haxe_ds_ObjectMap();
				} else {
					throw haxe_Exception.thrown("Inconsistent key types");
				}
				var _g = 0;
				var _g1 = keys.length;
				while(_g < _g1) {
					var n = _g++;
					(js_Boot.__cast(map , haxe_IMap)).set(keys[n],values[n]);
				}
				return map;
			} else {
				var a = [];
				var _g = 0;
				while(_g < arr.length) {
					var e1 = arr[_g];
					++_g;
					a.push(this.expr(e1));
				}
				return a;
			}
			break;
		case 18:
			var cl = e.cl;
			var params1 = e.params;
			var a = [];
			var _g = 0;
			while(_g < params1.length) {
				var e1 = params1[_g];
				++_g;
				a.push(this.expr(e1));
			}
			return this.cnew(cl,a);
		case 19:
			var e1 = e.e;
			throw haxe_Exception.thrown(this.expr(e1));
		case 20:
			var _g = e.t;
			var e1 = e.e;
			var n = e.v;
			var ecatch = e.ecatch;
			var old = this.declared.length;
			var oldTry = this.inTry;
			try {
				this.inTry = true;
				var v = this.expr(e1);
				this.restore(old);
				this.inTry = oldTry;
				return v;
			} catch( _g ) {
				haxe_NativeStackTrace.lastError = _g;
				var _g1 = haxe_Exception.caught(_g).unwrap();
				if(js_Boot.__instanceof(_g1,hscript__$Interp_Stop)) {
					var err = _g1;
					this.inTry = oldTry;
					throw haxe_Exception.thrown(err);
				} else {
					var err = _g1;
					this.restore(old);
					this.inTry = oldTry;
					this.declared.push({ n : n, old : this.locals.h[n]});
					this.locals.h[n] = { r : err};
					var v = this.expr(ecatch);
					this.restore(old);
					return v;
				}
			}
			break;
		case 21:
			var fl = e.fl;
			var o = { };
			var _g = 0;
			while(_g < fl.length) {
				var f = fl[_g];
				++_g;
				this.set(o,f.name,this.expr(f.e));
			}
			return o;
		case 22:
			var econd = e.cond;
			var e1 = e.e1;
			var e2 = e.e2;
			if(this.expr(econd) == true) {
				return this.expr(e1);
			} else {
				return this.expr(e2);
			}
			break;
		case 23:
			var e1 = e.e;
			var cases = e.cases;
			var def = e.defaultExpr;
			var val = this.expr(e1);
			var match = false;
			var _g = 0;
			while(_g < cases.length) {
				var c = cases[_g];
				++_g;
				var _g1 = 0;
				var _g2 = c.values;
				while(_g1 < _g2.length) {
					var v = _g2[_g1];
					++_g1;
					if(this.expr(v) == val) {
						match = true;
						break;
					}
				}
				if(match) {
					val = this.expr(c.expr);
					break;
				}
			}
			if(!match) {
				val = def == null ? null : this.expr(def);
			}
			return val;
		case 24:
			var econd = e.cond;
			var e1 = e.e;
			this.doWhileLoop(econd,e1);
			return null;
		case 25:
			var _g = e.name;
			var _g = e.args;
			var e1 = e.e;
			return this.expr(e1);
		case 26:
			var _g = e.t;
			var e1 = e.e;
			return this.expr(e1);
		}
	}
	,doWhileLoop: function(econd,e) {
		var old = this.declared.length;
		_hx_loop1: while(true) {
			try {
				this.expr(e);
			} catch( _g ) {
				haxe_NativeStackTrace.lastError = _g;
				var _g1 = haxe_Exception.caught(_g).unwrap();
				if(js_Boot.__instanceof(_g1,hscript__$Interp_Stop)) {
					var err = _g1;
					switch(err._hx_index) {
					case 0:
						break _hx_loop1;
					case 1:
						break;
					case 2:
						throw haxe_Exception.thrown(err);
					}
				} else {
					throw _g;
				}
			}
			if(!(this.expr(econd) == true)) {
				break;
			}
		}
		this.restore(old);
	}
	,whileLoop: function(econd,e) {
		var old = this.declared.length;
		_hx_loop1: while(this.expr(econd) == true) try {
			this.expr(e);
		} catch( _g ) {
			haxe_NativeStackTrace.lastError = _g;
			var _g1 = haxe_Exception.caught(_g).unwrap();
			if(js_Boot.__instanceof(_g1,hscript__$Interp_Stop)) {
				var err = _g1;
				switch(err._hx_index) {
				case 0:
					break _hx_loop1;
				case 1:
					break;
				case 2:
					throw haxe_Exception.thrown(err);
				}
			} else {
				throw _g;
			}
		}
		this.restore(old);
	}
	,makeIterator: function(v) {
		try {
			v = $getIterator(v);
		} catch( _g ) {
			haxe_NativeStackTrace.lastError = _g;
		}
		if(v.hasNext == null || v.next == null) {
			var e = hscript_Error.EInvalidIterator(v);
			throw haxe_Exception.thrown(e);
		}
		return v;
	}
	,forLoop: function(n,it,e) {
		var old = this.declared.length;
		this.declared.push({ n : n, old : this.locals.h[n]});
		var it1 = this.makeIterator(this.expr(it));
		_hx_loop1: while(it1.hasNext()) {
			var this1 = this.locals;
			var value = { r : it1.next()};
			this1.h[n] = value;
			try {
				this.expr(e);
			} catch( _g ) {
				haxe_NativeStackTrace.lastError = _g;
				var _g1 = haxe_Exception.caught(_g).unwrap();
				if(js_Boot.__instanceof(_g1,hscript__$Interp_Stop)) {
					var err = _g1;
					switch(err._hx_index) {
					case 0:
						break _hx_loop1;
					case 1:
						break;
					case 2:
						throw haxe_Exception.thrown(err);
					}
				} else {
					throw _g;
				}
			}
		}
		this.restore(old);
	}
	,isMap: function(o) {
		return js_Boot.__implements(o,haxe_IMap);
	}
	,getMapValue: function(map,key) {
		return (js_Boot.__cast(map , haxe_IMap)).get(key);
	}
	,setMapValue: function(map,key,value) {
		(js_Boot.__cast(map , haxe_IMap)).set(key,value);
	}
	,get: function(o,f) {
		if(o == null) {
			var e = hscript_Error.EInvalidAccess(f);
			throw haxe_Exception.thrown(e);
		}
		return Reflect.getProperty(o,f);
	}
	,set: function(o,f,v) {
		if(o == null) {
			var e = hscript_Error.EInvalidAccess(f);
			throw haxe_Exception.thrown(e);
		}
		Reflect.setProperty(o,f,v);
		return v;
	}
	,fcall: function(o,f,args) {
		return this.call(o,this.get(o,f),args);
	}
	,call: function(o,f,args) {
		return f.apply(o,args);
	}
	,cnew: function(cl,args) {
		var c = $hxClasses[cl];
		if(c == null) {
			c = this.resolve(cl);
		}
		return Type.createInstance(c,args);
	}
	,__class__: hscript_Interp
};
var flixel_system_debug_console__$ConsoleUtil_Interp = function() {
	hscript_Interp.call(this);
};
$hxClasses["flixel.system.debug.console._ConsoleUtil.Interp"] = flixel_system_debug_console__$ConsoleUtil_Interp;
flixel_system_debug_console__$ConsoleUtil_Interp.__name__ = "flixel.system.debug.console._ConsoleUtil.Interp";
flixel_system_debug_console__$ConsoleUtil_Interp.__super__ = hscript_Interp;
flixel_system_debug_console__$ConsoleUtil_Interp.prototype = $extend(hscript_Interp.prototype,{
	getGlobals: function() {
		return this.toArray(new haxe_ds__$StringMap_StringMapKeyIterator(this.locals.h)).concat(this.toArray(new haxe_ds__$StringMap_StringMapKeyIterator(this.variables.h)));
	}
	,toArray: function(iterator) {
		var array = [];
		var element = iterator;
		while(element.hasNext()) {
			var element1 = element.next();
			array.push(element1);
		}
		return array;
	}
	,get: function(o,f) {
		if(o == null) {
			var e = hscript_Error.EInvalidAccess(f);
			throw haxe_Exception.thrown(e);
		}
		return Reflect.getProperty(o,f);
	}
	,set: function(o,f,v) {
		if(o == null) {
			var e = hscript_Error.EInvalidAccess(f);
			throw haxe_Exception.thrown(e);
		}
		Reflect.setProperty(o,f,v);
		return v;
	}
	,__class__: flixel_system_debug_console__$ConsoleUtil_Interp
});
var flixel_system_debug_interaction_Interaction = function(container) {
	this._flixelPointer = new flixel_input_FlxPointer();
	this._debuggerInteraction = false;
	this._keysUp = new haxe_ds_IntMap();
	this._keysDown = new haxe_ds_IntMap();
	this._turn = 2;
	this._tools = [];
	this.shouldDrawItemsSelection = true;
	this.pointerPressed = false;
	this.pointerJustReleased = false;
	this.pointerJustPressed = false;
	this.flixelPointer = new flixel_math_FlxPoint();
	this.selectedItems = new flixel_group_FlxTypedGroup();
	flixel_system_debug_Window.call(this,"Tools",new flixel_system_debug_GraphicInteractive(0,0),40,25,false);
	this.reposition(2,100);
	this._container = container;
	this._customCursor = new openfl_display_Sprite();
	this._customCursor.mouseEnabled = false;
	this._container.addChild(this._customCursor);
	this.addTool(new flixel_system_debug_interaction_tools_Pointer());
	this.addTool(new flixel_system_debug_interaction_tools_Mover());
	this.addTool(new flixel_system_debug_interaction_tools_Eraser());
	this.addTool(new flixel_system_debug_interaction_tools_Transform());
	flixel_FlxG.signals.postDraw.add($bind(this,this.postDraw));
	flixel_FlxG.debugger.visibilityChanged.add($bind(this,this.handleDebuggerVisibilityChanged));
	openfl_Lib.get_current().stage.addEventListener("mouseMove",$bind(this,this.updateMouse));
	openfl_Lib.get_current().stage.addEventListener("mouseDown",$bind(this,this.handleMouseClick));
	openfl_Lib.get_current().stage.addEventListener("mouseUp",$bind(this,this.handleMouseClick));
	openfl_Lib.get_current().stage.addEventListener("keyDown",$bind(this,this.handleKeyEvent));
	openfl_Lib.get_current().stage.addEventListener("keyUp",$bind(this,this.handleKeyEvent));
	this._container.addEventListener("mouseOver",$bind(this,this.handleMouseInDebugger));
	this._container.addEventListener("mouseOut",$bind(this,this.handleMouseInDebugger));
};
$hxClasses["flixel.system.debug.interaction.Interaction"] = flixel_system_debug_interaction_Interaction;
flixel_system_debug_interaction_Interaction.__name__ = "flixel.system.debug.interaction.Interaction";
flixel_system_debug_interaction_Interaction.__super__ = flixel_system_debug_Window;
flixel_system_debug_interaction_Interaction.prototype = $extend(flixel_system_debug_Window.prototype,{
	activeTool: null
	,selectedItems: null
	,flixelPointer: null
	,pointerJustPressed: null
	,pointerJustReleased: null
	,pointerPressed: null
	,shouldDrawItemsSelection: null
	,_container: null
	,_customCursor: null
	,_tools: null
	,_turn: null
	,_keysDown: null
	,_keysUp: null
	,_wasMouseVisible: null
	,_wasUsingSystemCursor: null
	,_debuggerInteraction: null
	,_flixelPointer: null
	,handleDebuggerVisibilityChanged: function() {
		if(flixel_FlxG.debugger.visible) {
			this.saveSystemCursorInfo();
		} else {
			this.restoreSystemCursor();
		}
	}
	,updateMouse: function(event) {
		if(event.stageX == null || event.stageY == null) {
			return;
		}
		var offsetX = 0.0;
		var offsetY = 0.0;
		if(this.activeTool != null) {
			var cursorIcon = this.activeTool.cursor;
			if(cursorIcon != null) {
				offsetX = cursorIcon.width / flixel_FlxG.scaleMode.scale.x / 2;
				offsetY = cursorIcon.height / flixel_FlxG.scaleMode.scale.y / 2;
			}
		}
		this._customCursor.set_x(event.stageX + offsetX);
		this._customCursor.set_y(event.stageY + offsetY);
		var _this = this._flixelPointer;
		_this._globalScreenX = event.stageX / flixel_FlxG.scaleMode.scale.x | 0;
		_this._globalScreenY = event.stageY / flixel_FlxG.scaleMode.scale.y | 0;
		_this.updatePositions();
		this.flixelPointer.set_x(this._flixelPointer.x + offsetX);
		this.flixelPointer.set_y(this._flixelPointer.y + offsetY);
	}
	,handleMouseClick: function(event) {
		if(event.type == "mouseDown" && this.belongsToDebugger(event.target)) {
			return;
		}
		this.pointerJustPressed = event.type == "mouseDown";
		this.pointerJustReleased = event.type == "mouseUp";
		if(this.pointerJustPressed) {
			this.pointerPressed = true;
		} else if(this.pointerJustReleased) {
			this.pointerPressed = false;
		}
	}
	,belongsToDebugger: function(object) {
		if(object == null) {
			return false;
		} else if(((object) instanceof flixel_system_debug_FlxDebugger)) {
			return true;
		}
		return this.belongsToDebugger(object.parent);
	}
	,handleMouseInDebugger: function(event) {
		if(!this.isActive()) {
			return;
		}
		if(event.type == "mouseOver") {
			this._debuggerInteraction = true;
		} else if(event.type == "mouseOut") {
			this._debuggerInteraction = false;
		}
		event.stopPropagation();
	}
	,handleKeyEvent: function(event) {
		if(event.type == "keyDown") {
			this._keysDown.h[event.keyCode] = true;
		} else if(event.type == "keyUp") {
			this._keysDown.h[event.keyCode] = false;
			this._keysUp.h[event.keyCode] = this._turn;
		}
	}
	,countToolsWithUIButton: function() {
		var count = 0;
		var _g = 0;
		var _g1 = this._tools;
		while(_g < _g1.length) {
			var tool = _g1[_g];
			++_g;
			if(tool.button != null) {
				++count;
			}
		}
		return count;
	}
	,addTool: function(tool) {
		tool.init(this);
		this._tools.push(tool);
		var button = tool.button;
		if(button == null) {
			return;
		}
		var buttonsPerLine = 2;
		var buttons = this.countToolsWithUIButton();
		var lines = Math.ceil(buttons / buttonsPerLine) | 0;
		var slot = buttons / lines | 0;
		button.set_x(-15 + slot * 25);
		button.set_y(20 * lines);
		this.addChild(button);
		this.resize(25 * Math.min(buttons,buttonsPerLine) + 10,25 * lines + 10);
	}
	,destroy: function() {
		flixel_FlxG.signals.postDraw.remove($bind(this,this.postDraw));
		flixel_FlxG.debugger.visibilityChanged.remove($bind(this,this.handleDebuggerVisibilityChanged));
		openfl_Lib.get_current().stage.removeEventListener("mouseMove",$bind(this,this.updateMouse));
		openfl_Lib.get_current().stage.removeEventListener("mouseDown",$bind(this,this.handleMouseClick));
		openfl_Lib.get_current().stage.removeEventListener("mouseUp",$bind(this,this.handleMouseClick));
		openfl_Lib.get_current().stage.removeEventListener("keyDown",$bind(this,this.handleKeyEvent));
		openfl_Lib.get_current().stage.removeEventListener("keyUp",$bind(this,this.handleKeyEvent));
		if(this._container != null) {
			this._container.removeEventListener("mouseOver",$bind(this,this.handleMouseInDebugger));
			this._container.removeEventListener("mouseOut",$bind(this,this.handleMouseInDebugger));
		}
		if(this._customCursor != null) {
			this._customCursor.parent.removeChild(this._customCursor);
			this._customCursor = null;
		}
		this._tools = flixel_util_FlxDestroyUtil.destroyArray(this._tools);
		this.selectedItems = flixel_util_FlxDestroyUtil.destroy(this.selectedItems);
		this.flixelPointer = flixel_util_FlxDestroyUtil.destroy(this.flixelPointer);
		this._keysDown = null;
		this._keysUp = null;
	}
	,isActive: function() {
		if(flixel_FlxG.debugger.visible) {
			return this.get_visible();
		} else {
			return false;
		}
	}
	,update: function() {
		if(!this.isActive()) {
			return;
		}
		this.updateCustomCursors();
		var _g = 0;
		var _g1 = this._tools;
		while(_g < _g1.length) {
			var tool = _g1[_g];
			++_g;
			tool.update();
		}
		this.pointerJustPressed = false;
		this.pointerJustReleased = false;
		this._turn++;
	}
	,postDraw: function() {
		if(!this.isActive()) {
			return;
		}
		var _g = 0;
		var _g1 = this._tools;
		while(_g < _g1.length) {
			var tool = _g1[_g];
			++_g;
			tool.draw();
		}
		if(this.shouldDrawItemsSelection) {
			this.drawItemsSelection();
		}
	}
	,getDebugGraphics: function() {
		if(flixel_FlxG.renderBlit) {
			flixel_util_FlxSpriteUtil.flashGfx.clear();
			return flixel_util_FlxSpriteUtil.flashGfx;
		}
		return null;
	}
	,drawItemsSelection: function() {
		var gfx = this.getDebugGraphics();
		if(gfx == null) {
			return;
		}
		var member = new flixel_group_FlxTypedGroupIterator(this.selectedItems.members,null);
		while(member.hasNext()) {
			var member1 = member.next();
			if(member1 != null && member1.scrollFactor != null && member1.isOnScreen()) {
				gfx.lineStyle(0.9,16711680);
				gfx.drawRect(member1.x - flixel_FlxG.camera.scroll.x,member1.y - flixel_FlxG.camera.scroll.y,member1.get_width(),member1.get_height());
			}
		}
		if(flixel_FlxG.renderBlit) {
			flixel_FlxG.camera.buffer.draw(flixel_util_FlxSpriteUtil.flashGfxSprite);
		}
	}
	,getTool: function(className) {
		var _g = 0;
		var _g1 = this._tools;
		while(_g < _g1.length) {
			var tool = _g1[_g];
			++_g;
			if(js_Boot.__instanceof(tool,className)) {
				return tool;
			}
		}
		return null;
	}
	,toggleVisible: function() {
		flixel_system_debug_Window.prototype.toggleVisible.call(this);
		if(!this.get_visible()) {
			this.setActiveTool(null);
			this.restoreSystemCursor();
		}
	}
	,registerCustomCursor: function(name,icon) {
		if(icon == null) {
			return;
		}
		var sprite = new openfl_display_Sprite();
		sprite.set_visible(false);
		sprite.set_name(name);
		sprite.addChild(new openfl_display_Bitmap(icon));
		this._customCursor.addChild(sprite);
	}
	,updateCustomCursors: function() {
		if(this.activeTool != null && !this._debuggerInteraction) {
			if(this.activeTool.cursor != null) {
				var cursorInUse = this.activeTool.cursorInUse == "" ? this.activeTool.getName() : this.activeTool.cursorInUse;
				var _g = 0;
				var _g1 = this._customCursor.get_numChildren();
				while(_g < _g1) {
					var i = _g++;
					var sprite = this._customCursor.getChildAt(i);
					sprite.set_visible(sprite.get_name() == cursorInUse);
				}
				if(flixel_FlxG.mouse.visible) {
					flixel_FlxG.mouse.set_visible(false);
				}
			} else {
				flixel_FlxG.mouse.set_useSystemCursor(true);
			}
		} else {
			flixel_FlxG.mouse.set_useSystemCursor(true);
		}
	}
	,saveSystemCursorInfo: function() {
		this._wasMouseVisible = flixel_FlxG.mouse.visible;
		this._wasUsingSystemCursor = flixel_FlxG.mouse.useSystemCursor;
	}
	,restoreSystemCursor: function() {
		flixel_FlxG.mouse.set_useSystemCursor(this._wasUsingSystemCursor);
		flixel_FlxG.mouse.set_visible(this._wasMouseVisible);
		this._customCursor.set_visible(false);
	}
	,setActiveTool: function(value) {
		if(this.activeTool != null) {
			this.activeTool.deactivate();
			this.activeTool.button.set_toggled(true);
		}
		if(this.activeTool == value) {
			value = null;
		}
		this.activeTool = value;
		if(this.activeTool != null) {
			this.setToolsCursorVisibility(true);
			this.activeTool.button.set_toggled(false);
			this.activeTool.activate();
			this.updateCustomCursors();
		} else {
			this.setSystemCursorVisibility(true);
		}
		flixel_FlxG.mouse.enabled = !this.isInUse();
	}
	,setSystemCursorVisibility: function(status) {
		flixel_FlxG.mouse.set_useSystemCursor(status);
		this._customCursor.set_visible(!status);
	}
	,setToolsCursorVisibility: function(status) {
		flixel_FlxG.mouse.set_useSystemCursor(false);
		this._customCursor.set_visible(status);
		if(status) {
			return;
		}
		var _g = 0;
		var _g1 = this._customCursor.get_numChildren();
		while(_g < _g1) {
			var i = _g++;
			this._customCursor.getChildAt(i).set_visible(false);
		}
	}
	,clearSelection: function() {
		this.selectedItems.clear();
	}
	,keyPressed: function(key) {
		return this._keysDown.h[key];
	}
	,keyJustPressed: function(key) {
		var value = this._keysUp.h[key] == null ? 0 : this._keysUp.h[key];
		return this._turn - value == 1;
	}
	,isInUse: function() {
		if(flixel_FlxG.debugger.visible && this.get_visible()) {
			return this.activeTool != null;
		} else {
			return false;
		}
	}
	,findItemsWithinState: function(items,state,area) {
		this.findItemsWithinArea(items,state.members,area);
		if(state.subState != null) {
			this.findItemsWithinState(items,state.subState,area);
		}
	}
	,findItemsWithinArea: function(items,members,area) {
		var i = members.length;
		while(i-- > 0) {
			var member = members[i];
			if(member == null || !member.visible || !member.exists) {
				continue;
			}
			var group = flixel_group_FlxTypedGroup.resolveGroup(member);
			if(group != null) {
				this.findItemsWithinArea(items,group.members,area);
			} else {
				var tmp;
				if(((member) instanceof flixel_FlxSprite)) {
					var Rect = (js_Boot.__cast(member , flixel_FlxSprite)).getHitbox();
					var result = Rect.x + Rect.width > area.x && Rect.x < area.x + area.width && Rect.y + Rect.height > area.y && Rect.y < area.y + area.height;
					if(Rect._weak) {
						if(!Rect._inPool) {
							Rect._inPool = true;
							Rect._weak = false;
							flixel_math_FlxRect._pool.putUnsafe(Rect);
						}
					}
					tmp = result;
				} else {
					tmp = false;
				}
				if(tmp) {
					items.push(member);
				}
			}
		}
	}
	,__class__: flixel_system_debug_interaction_Interaction
});
var flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.resourceName),flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.preload == null) {
				flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Eraser.GraphicEraserTool"] = flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool;
flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.__name__ = "flixel.system.debug.interaction.tools._Eraser.GraphicEraserTool";
flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.preload = null;
flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Eraser_GraphicEraserTool
});
var flixel_system_debug_interaction_tools_Tool = function() {
	this._name = "(Unknown tool)";
	this.cursorInUse = "";
	openfl_display_Sprite.call(this);
};
$hxClasses["flixel.system.debug.interaction.tools.Tool"] = flixel_system_debug_interaction_tools_Tool;
flixel_system_debug_interaction_tools_Tool.__name__ = "flixel.system.debug.interaction.tools.Tool";
flixel_system_debug_interaction_tools_Tool.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_system_debug_interaction_tools_Tool.__super__ = openfl_display_Sprite;
flixel_system_debug_interaction_tools_Tool.prototype = $extend(openfl_display_Sprite.prototype,{
	button: null
	,cursor: null
	,cursorInUse: null
	,_name: null
	,_shortcut: null
	,_brain: null
	,init: function(brain) {
		this._brain = brain;
		return this;
	}
	,update: function() {
	}
	,draw: function() {
	}
	,activate: function() {
	}
	,deactivate: function() {
	}
	,destroy: function() {
	}
	,isActive: function() {
		if(this._brain.activeTool == this) {
			return this._brain.get_visible();
		} else {
			return false;
		}
	}
	,setButton: function(Icon) {
		this.button = new flixel_system_ui_FlxSystemButton(Type.createInstance(Icon,[0,0]),$bind(this,this.onButtonClicked),true);
		this.button.set_toggled(true);
		var tooltip = this._name;
		if(this._shortcut != null) {
			tooltip += " (" + this._shortcut + ")";
		}
		flixel_system_debug_Tooltip.add(this.button,tooltip);
	}
	,setCursor: function(Icon) {
		this.cursor = Icon;
		this._brain.registerCustomCursor(this._name,this.cursor);
	}
	,setCursorInUse: function(customCursorName) {
		this.cursorInUse = customCursorName;
	}
	,useDefaultCursor: function() {
		if(this.cursorInUse != "") {
			this.cursorInUse = "";
		}
	}
	,onButtonClicked: function() {
		this._brain.setActiveTool(this);
	}
	,getName: function() {
		return this._name;
	}
	,__class__: flixel_system_debug_interaction_tools_Tool
});
var flixel_system_debug_interaction_tools_Eraser = function() {
	flixel_system_debug_interaction_tools_Tool.call(this);
};
$hxClasses["flixel.system.debug.interaction.tools.Eraser"] = flixel_system_debug_interaction_tools_Eraser;
flixel_system_debug_interaction_tools_Eraser.__name__ = "flixel.system.debug.interaction.tools.Eraser";
flixel_system_debug_interaction_tools_Eraser.__super__ = flixel_system_debug_interaction_tools_Tool;
flixel_system_debug_interaction_tools_Eraser.prototype = $extend(flixel_system_debug_interaction_tools_Tool.prototype,{
	init: function(Brain) {
		flixel_system_debug_interaction_tools_Tool.prototype.init.call(this,Brain);
		this._name = "Eraser";
		return this;
	}
	,update: function() {
		if(this._brain.keyJustPressed(46)) {
			this.doDeletion(this._brain.keyPressed(16));
		}
	}
	,activate: function() {
		this.doDeletion(this._brain.keyPressed(16));
		this._brain.setActiveTool(null);
	}
	,doDeletion: function(remove) {
		var selectedItems = this._brain.selectedItems;
		if(selectedItems != null) {
			this.findAndDelete(selectedItems,remove);
			selectedItems.clear();
		}
	}
	,findAndDelete: function(items,remove) {
		if(remove == null) {
			remove = false;
		}
		var member = new flixel_group_FlxTypedGroupIterator(items.members,null);
		while(member.hasNext()) {
			var member1 = member.next();
			if(member1 == null) {
				continue;
			}
			if(!((member1) instanceof flixel_group_FlxTypedGroup)) {
				member1.kill();
				if(remove) {
					this.removeFromMemory(member1,flixel_FlxG.game._state);
				}
			}
		}
	}
	,removeFromMemory: function(item,parentGroup) {
		var _g = 0;
		var _g1 = parentGroup.members;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			if(((member) instanceof flixel_group_FlxTypedGroup)) {
				this.removeFromMemory(item,member);
			} else if(member == item) {
				parentGroup.remove(member);
			}
		}
	}
	,__class__: flixel_system_debug_interaction_tools_Eraser
});
var flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.resourceName),flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.preload == null) {
				flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Mover.GraphicMoverTool"] = flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool;
flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.__name__ = "flixel.system.debug.interaction.tools._Mover.GraphicMoverTool";
flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.preload = null;
flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool
});
var flixel_system_debug_interaction_tools_Mover = function() {
	this._dragging = false;
	flixel_system_debug_interaction_tools_Tool.call(this);
};
$hxClasses["flixel.system.debug.interaction.tools.Mover"] = flixel_system_debug_interaction_tools_Mover;
flixel_system_debug_interaction_tools_Mover.__name__ = "flixel.system.debug.interaction.tools.Mover";
flixel_system_debug_interaction_tools_Mover.__super__ = flixel_system_debug_interaction_tools_Tool;
flixel_system_debug_interaction_tools_Mover.prototype = $extend(flixel_system_debug_interaction_tools_Tool.prototype,{
	_dragging: null
	,_lastCursorPosition: null
	,init: function(brain) {
		flixel_system_debug_interaction_tools_Tool.prototype.init.call(this,brain);
		this._lastCursorPosition = new flixel_math_FlxPoint(brain.flixelPointer.x,brain.flixelPointer.x);
		this._name = "Mover";
		this._shortcut = "Shift";
		this.setButton(flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool);
		this.setCursor(new flixel_system_debug_interaction_tools__$Mover_GraphicMoverTool(0,0));
		return this;
	}
	,update: function() {
		if(!this.isActive() && !this._brain.keyPressed(16)) {
			return;
		}
		if(this._brain.pointerPressed && !this._dragging) {
			this.startDragging();
		} else if(this._brain.pointerPressed && this._dragging) {
			this.doDragging();
		} else if(this._brain.pointerJustReleased) {
			this.stopDragging();
		}
		this._lastCursorPosition.set_x(this._brain.flixelPointer.x);
		this._lastCursorPosition.set_y(this._brain.flixelPointer.y);
	}
	,stopDragging: function() {
		this._dragging = false;
	}
	,startDragging: function() {
		if(this._dragging) {
			return;
		}
		this._dragging = true;
		if(!this.isActive() && ((this._brain.activeTool) instanceof flixel_system_debug_interaction_tools_Pointer)) {
			this._brain.activeTool.cancelSelection();
		}
	}
	,doDragging: function() {
		var dx = this._brain.flixelPointer.x - this._lastCursorPosition.x;
		var dy = this._brain.flixelPointer.y - this._lastCursorPosition.y;
		var _g = 0;
		var _g1 = this._brain.selectedItems.members;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(!((member) instanceof flixel_FlxObject)) {
				continue;
			}
			var object = member;
			if(object != null) {
				object.set_x(object.x + dx);
				object.set_y(object.y + dy);
			}
		}
	}
	,__class__: flixel_system_debug_interaction_tools_Mover
});
var flixel_system_debug_interaction_tools_GraphicCursorCross = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools_GraphicCursorCross.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools_GraphicCursorCross.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools_GraphicCursorCross.resourceName),flixel_system_debug_interaction_tools_GraphicCursorCross.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools_GraphicCursorCross.preload == null) {
				flixel_system_debug_interaction_tools_GraphicCursorCross.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools.GraphicCursorCross"] = flixel_system_debug_interaction_tools_GraphicCursorCross;
flixel_system_debug_interaction_tools_GraphicCursorCross.__name__ = "flixel.system.debug.interaction.tools.GraphicCursorCross";
flixel_system_debug_interaction_tools_GraphicCursorCross.preload = null;
flixel_system_debug_interaction_tools_GraphicCursorCross.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools_GraphicCursorCross.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools_GraphicCursorCross
});
var flixel_system_debug_interaction_tools_Pointer = function() {
	this._itemsInSelectionArea = [];
	this._selectionArea = new flixel_math_FlxRect();
	this._selectionCancelled = false;
	this._selectionHappening = false;
	this._selectionEndPoint = new flixel_math_FlxPoint();
	this._selectionStartPoint = new flixel_math_FlxPoint();
	flixel_system_debug_interaction_tools_Tool.call(this);
};
$hxClasses["flixel.system.debug.interaction.tools.Pointer"] = flixel_system_debug_interaction_tools_Pointer;
flixel_system_debug_interaction_tools_Pointer.__name__ = "flixel.system.debug.interaction.tools.Pointer";
flixel_system_debug_interaction_tools_Pointer.__super__ = flixel_system_debug_interaction_tools_Tool;
flixel_system_debug_interaction_tools_Pointer.prototype = $extend(flixel_system_debug_interaction_tools_Tool.prototype,{
	_selectionStartPoint: null
	,_selectionEndPoint: null
	,_selectionHappening: null
	,_selectionCancelled: null
	,_selectionArea: null
	,_itemsInSelectionArea: null
	,init: function(brain) {
		flixel_system_debug_interaction_tools_Tool.prototype.init.call(this,brain);
		this._name = "Pointer";
		this.setButton(flixel_system_debug_interaction_tools_GraphicCursorCross);
		this.setCursor(new flixel_system_debug_interaction_tools_GraphicCursorCross(0,0));
		return this;
	}
	,update: function() {
		if(!this.isActive()) {
			return;
		}
		if(this._brain.pointerJustPressed && !this._selectionHappening) {
			this.startSelection();
		}
		if(this._selectionHappening) {
			this._selectionEndPoint.set(this._brain.flixelPointer.x,this._brain.flixelPointer.y);
			this.calculateSelectionArea();
		}
		if(!this._brain.pointerJustReleased) {
			return;
		}
		if(this._selectionHappening) {
			this.stopSelection();
		}
		if(this._itemsInSelectionArea.length > 0) {
			this.handleItemAddition(this._itemsInSelectionArea);
		} else if(!this._brain.keyPressed(17) && !this._selectionCancelled) {
			this._brain.clearSelection();
		}
	}
	,calculateSelectionArea: function() {
		this._selectionArea.x = this._selectionStartPoint.x;
		this._selectionArea.y = this._selectionStartPoint.y;
		this._selectionArea.width = this._selectionEndPoint.x - this._selectionArea.x;
		this._selectionArea.height = this._selectionEndPoint.y - this._selectionArea.y;
		if(this._selectionArea.width < 0) {
			this._selectionArea.width *= -1;
			this._selectionArea.x -= this._selectionArea.width;
		}
		if(this._selectionArea.height < 0) {
			this._selectionArea.height *= -1;
			this._selectionArea.y -= this._selectionArea.height;
		}
	}
	,startSelection: function() {
		this._selectionHappening = true;
		this._selectionCancelled = false;
		this._selectionStartPoint.set(this._brain.flixelPointer.x,this._brain.flixelPointer.y);
		flixel_util_FlxArrayUtil.clearArray(this._itemsInSelectionArea);
		this.updateConsoleSelection();
	}
	,cancelSelection: function() {
		if(!this._selectionHappening) {
			return;
		}
		this._selectionCancelled = true;
		this.stopSelection(false);
	}
	,stopSelection: function(findItems) {
		if(findItems == null) {
			findItems = true;
		}
		if(!this._selectionHappening) {
			return;
		}
		this._selectionEndPoint.set(this._brain.flixelPointer.x,this._brain.flixelPointer.y);
		this.calculateSelectionArea();
		if(findItems) {
			this._brain.findItemsWithinState(this._itemsInSelectionArea,flixel_FlxG.game._state,this._selectionArea);
			this.updateConsoleSelection();
		}
		this._selectionHappening = false;
		var _this = this._selectionArea;
		var X = 0;
		var Y = 0;
		var Width = 0;
		var Height = 0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
	}
	,updateConsoleSelection: function() {
	}
	,handleItemAddition: function(itemsInSelectionArea) {
		var adding = this._brain.keyPressed(17);
		var selectedItems = this._brain.selectedItems;
		if(itemsInSelectionArea.length == 0) {
			return;
		}
		if(!adding) {
			this._brain.clearSelection();
		}
		var _g = 0;
		while(_g < itemsInSelectionArea.length) {
			var item = itemsInSelectionArea[_g];
			++_g;
			if(selectedItems.members.indexOf(item) != -1 && adding) {
				selectedItems.remove(item);
			} else {
				selectedItems.add(item);
			}
		}
	}
	,draw: function() {
		var gfx = this._brain.getDebugGraphics();
		if(gfx == null) {
			return;
		}
		if(this._selectionHappening) {
			gfx.lineStyle(0.9,12255232);
			gfx.drawRect(this._selectionArea.x - flixel_FlxG.camera.scroll.x,this._selectionArea.y - flixel_FlxG.camera.scroll.y,this._selectionArea.width,this._selectionArea.height);
		}
		if(flixel_FlxG.renderBlit) {
			flixel_FlxG.camera.buffer.draw(flixel_util_FlxSpriteUtil.flashGfxSprite);
		}
	}
	,__class__: flixel_system_debug_interaction_tools_Pointer
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformTool"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformTool";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorDefault"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorDefault";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleY"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleY";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleX"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleX";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleXY"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorScaleXY";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY
});
var flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.preload != null) {
		this.__fromImage(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.resourceName),flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.preload == null) {
				flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorRotate"] = flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.__name__ = "flixel.system.debug.interaction.tools._Transform.GraphicTransformCursorRotate";
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.preload = null;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.__super__ = openfl_display_BitmapData;
flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate
});
var flixel_system_debug_interaction_tools_Transform = function() {
	this._mouseCursor = new flixel_math_FlxPoint();
	this._targetArea = new flixel_math_FlxRect();
	this._markers = [];
	this._actionScaleDirection = new flixel_math_FlxPoint();
	this._actionStartPoint = new flixel_math_FlxPoint();
	this._actionTargetStartScale = new flixel_math_FlxPoint();
	flixel_system_debug_interaction_tools_Tool.call(this);
};
$hxClasses["flixel.system.debug.interaction.tools.Transform"] = flixel_system_debug_interaction_tools_Transform;
flixel_system_debug_interaction_tools_Transform.__name__ = "flixel.system.debug.interaction.tools.Transform";
flixel_system_debug_interaction_tools_Transform.__super__ = flixel_system_debug_interaction_tools_Tool;
flixel_system_debug_interaction_tools_Transform.prototype = $extend(flixel_system_debug_interaction_tools_Tool.prototype,{
	_actionTargetStartScale: null
	,_actionTargetStartAngle: null
	,_actionStartPoint: null
	,_actionHappening: null
	,_actionMarker: null
	,_actionScaleDirection: null
	,_tooltip: null
	,_markers: null
	,_target: null
	,_targetArea: null
	,_mouseCursor: null
	,init: function(brain) {
		var _gthis = this;
		flixel_system_debug_interaction_tools_Tool.prototype.init.call(this,brain);
		this._name = "Transform";
		this.setButton(flixel_system_debug_interaction_tools__$Transform_GraphicTransformTool);
		this.setCursor(new flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorDefault(0,0));
		brain.registerCustomCursor("transformRotate",new flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorRotate(0,0));
		brain.registerCustomCursor("transformScaleX",new flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleX(0,0));
		brain.registerCustomCursor("transformScaleY",new flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleY(0,0));
		brain.registerCustomCursor("transformScaleXY",new flixel_system_debug_interaction_tools__$Transform_GraphicTransformCursorScaleXY(0,0));
		this._tooltip = flixel_system_debug_Tooltip.add(null,"");
		this._tooltip.textField.set_wordWrap(false);
		this._markers.push(new flixel_math_FlxPoint());
		this._markers.push(new flixel_math_FlxPoint());
		this._markers.push(new flixel_math_FlxPoint());
		this._markers.push(new flixel_math_FlxPoint());
		this.stopAction();
		flixel_FlxG.signals.preStateSwitch.add(function() {
			_gthis._target = null;
		});
		return this;
	}
	,updateTargetArea: function() {
		if(this._target == null) {
			var _this = this._targetArea;
			_this.x = 0;
			_this.y = 0;
			var _this = this._targetArea;
			_this.width = 0;
			_this.height = 0;
		} else {
			var _this = this._targetArea;
			_this.x = this._target.x - flixel_FlxG.camera.scroll.x;
			_this.y = this._target.y - flixel_FlxG.camera.scroll.y;
			var _this = this._targetArea;
			var Width = this._target.get_width();
			var Height = this._target.get_height();
			_this.width = Width;
			_this.height = Height;
		}
	}
	,startAction: function(whichMarker) {
		if(this._actionHappening) {
			return;
		}
		this._actionHappening = true;
		this._actionMarker = whichMarker;
		this._actionStartPoint.set(this._brain.flixelPointer.x - flixel_FlxG.camera.scroll.x,this._brain.flixelPointer.y - flixel_FlxG.camera.scroll.y);
		this._actionTargetStartAngle = flixel_math_FlxAngle.angleBetweenPoint(this._target,this._markers[0],true);
		this._actionTargetStartScale.set(this._target.scale.x,this._target.scale.y);
	}
	,stopAction: function() {
		this._actionHappening = false;
		this._actionMarker = -1;
		this._tooltip.setVisible(false);
	}
	,getCursorNameByMarker: function(marker) {
		switch(marker) {
		case 0:
			return "transformRotate";
		case 1:
			return "transformScaleX";
		case 2:
			return "transformScaleXY";
		case 3:
			return "transformScaleY";
		default:
			return "";
		}
	}
	,handleInteractionsWithMarkersUI: function() {
		if(this._actionHappening) {
			return;
		}
		var cursorName = "";
		var _g = 0;
		var _g1 = this._markers.length;
		while(_g < _g1) {
			var i = _g++;
			if(this._mouseCursor.distanceTo(this._markers[i]) <= 5.0) {
				cursorName = this.getCursorNameByMarker(i);
				if(this._brain.pointerJustPressed) {
					this.startAction(i);
					break;
				}
			}
		}
		if(cursorName != "") {
			this.setCursorInUse(cursorName);
		} else {
			this.useDefaultCursor();
		}
	}
	,formatFloat: function(number) {
		var value = flixel_math_FlxMath.roundDecimal(number,flixel_FlxG.debugger.precision);
		if(value == null) {
			return "null";
		} else {
			return "" + value;
		}
	}
	,showTooltip: function(text) {
		if(!this._tooltip.get_visible()) {
			this._tooltip.setVisible(true);
		}
		this._tooltip.set_x(this._target.x - flixel_FlxG.camera.scroll.x);
		this._tooltip.set_y(this._target.y - flixel_FlxG.camera.scroll.y);
		this._tooltip.setText(text);
	}
	,updateScaleActionDirection: function() {
		var deltaX = this._mouseCursor.x - this._actionStartPoint.x;
		var deltaY = this._mouseCursor.y - this._actionStartPoint.y;
		this._actionScaleDirection.set_x(deltaX >= 0 ? 1 : -1);
		this._actionScaleDirection.set_y(deltaY >= 0 ? 1 : -1);
	}
	,updateScaleAction: function() {
		this.updateScaleActionDirection();
		var deltaX = this._actionScaleDirection.x * Math.abs(this._mouseCursor.x - this._actionStartPoint.x) / 10.0;
		var deltaY = this._actionScaleDirection.y * Math.abs(this._mouseCursor.y - this._actionStartPoint.y) / 10.0;
		if(this._actionMarker == 1 || this._actionMarker == 2) {
			this._target.scale.set_x(this._actionTargetStartScale.x + deltaX);
		}
		if(this._actionMarker == 2 || this._actionMarker == 3) {
			this._target.scale.set_y(this._actionTargetStartScale.y + deltaY);
		}
		this._target.updateHitbox();
		var _this = this._target;
		_this.origin.set(_this.frameWidth * 0.5,_this.frameHeight * 0.5);
		this.showTooltip("w: " + this.formatFloat(this._target.get_width()) + "\nh: " + this.formatFloat(this._target.get_height()));
	}
	,updateRotateAction: function() {
		this._target.set_angle(flixel_math_FlxAngle.angleBetweenPoint(this._target,this._brain.flixelPointer,true) - this._actionTargetStartAngle);
		this.showTooltip("deg: " + this.formatFloat(this._target.angle) + "\nrad: " + this.formatFloat(this._target.angle * (Math.PI / 180)));
	}
	,updateAction: function() {
		if(!this._actionHappening || this._actionMarker < 0) {
			return;
		}
		if(this._actionMarker == 0) {
			this.updateRotateAction();
		} else {
			this.updateScaleAction();
		}
	}
	,updateMarkersPosition: function() {
		var topLeftX = this._targetArea.x - 5.0;
		var topLeftY = this._targetArea.y - 5.0;
		var width = this._targetArea.width + 10.;
		var height = this._targetArea.height + 10.;
		this._markers[0].set(topLeftX,topLeftY);
		this._markers[1].set(topLeftX + width,topLeftY);
		this._markers[2].set(topLeftX + width,topLeftY + height);
		this._markers[3].set(topLeftX,topLeftY + height);
		if(this._target.angle != 0) {
			this.updateMarkersRotation(width,height);
		}
	}
	,updateMarkersRotation: function(outlineWidth,outlineHeight) {
		var rotationAngleRad = this._target.angle * (Math.PI / 180);
		var originX = this._markers[0].x + outlineWidth / 2;
		var originY = this._markers[0].y + outlineHeight / 2;
		var n = rotationAngleRad + 1.570796327;
		n *= 0.3183098862;
		if(n > 1) {
			n -= Math.ceil(n) >> 1 << 1;
		} else if(n < -1) {
			n += Math.ceil(-n) >> 1 << 1;
		}
		var cos = n > 0 ? n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6))) : n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
		var n = rotationAngleRad;
		n *= 0.3183098862;
		if(n > 1) {
			n -= Math.ceil(n) >> 1 << 1;
		} else if(n < -1) {
			n += Math.ceil(-n) >> 1 << 1;
		}
		var sin = n > 0 ? n * (3.1 + n * (0.5 + n * (-7.2 + n * 3.6))) : n * (3.1 - n * (0.5 + n * (7.2 + n * 3.6)));
		var _g = 0;
		var _g1 = this._markers;
		while(_g < _g1.length) {
			var marker = _g1[_g];
			++_g;
			var rotatedX = (marker.x - originX) * cos - (marker.y - originY) * sin;
			var rotatedY = (marker.x - originX) * sin + (marker.y - originY) * cos;
			marker.set(rotatedX + originX,rotatedY + originY);
		}
	}
	,update: function() {
		if(!this.isActive() || this._target == null) {
			return;
		}
		this._mouseCursor.set_x(this._brain.flixelPointer.x - flixel_FlxG.camera.scroll.x);
		this._mouseCursor.set_y(this._brain.flixelPointer.y - flixel_FlxG.camera.scroll.y);
		this.updateTargetArea();
		this.updateMarkersPosition();
		this.handleInteractionsWithMarkersUI();
		if(this._actionHappening) {
			this.updateAction();
			if(this._brain.pointerJustReleased) {
				this.stopAction();
			}
		}
	}
	,drawTargetAreaOutline: function(gfx) {
		gfx.lineStyle(0.9,-65281,1.0,false,2,2);
		gfx.moveTo(this._markers[0].x,this._markers[0].y);
		var _g = 0;
		var _g1 = this._markers.length;
		while(_g < _g1) {
			var i = _g++;
			gfx.lineTo(this._markers[i].x,this._markers[i].y);
		}
		gfx.lineTo(this._markers[0].x,this._markers[0].y);
	}
	,drawMarkers: function(gfx) {
		gfx.lineStyle(0.9,-65281,1.0,false,2,2);
		gfx.beginFill(-65281);
		var _g = 0;
		var _g1 = this._markers.length;
		while(_g < _g1) {
			var i = _g++;
			if(i == 0) {
				gfx.drawCircle(this._markers[i].x,this._markers[i].y,2.7);
			} else {
				gfx.drawRect(this._markers[i].x - 1.5,this._markers[i].y - 1.5,3.0,3.0);
			}
		}
		gfx.endFill();
	}
	,draw: function() {
		var gfx = this._brain.getDebugGraphics();
		if(gfx == null || this._target == null || !this.isActive()) {
			return;
		}
		this.drawTargetAreaOutline(gfx);
		this.drawMarkers(gfx);
		if(flixel_FlxG.renderBlit) {
			flixel_FlxG.camera.buffer.draw(flixel_util_FlxSpriteUtil.flashGfxSprite);
		}
	}
	,activate: function() {
		this._target = null;
		if(this._brain.selectedItems.length == 0) {
			return;
		}
		var member = new flixel_group_FlxTypedGroupIterator(this._brain.selectedItems.members,null);
		while(member.hasNext()) {
			var member1 = member.next();
			if(member1 != null && member1.scrollFactor != null && member1.isOnScreen()) {
				this._target = member1;
				break;
			}
		}
		this._brain.shouldDrawItemsSelection = false;
	}
	,deactivate: function() {
		this._brain.shouldDrawItemsSelection = true;
	}
	,__class__: flixel_system_debug_interaction_tools_Transform
});
var flixel_system_debug_log_LogStyle = function(Prefix,Color,Size,Bold,Italic,Underlined,ErrorSound,OpenConsole,CallbackFunction) {
	if(OpenConsole == null) {
		OpenConsole = false;
	}
	if(Underlined == null) {
		Underlined = false;
	}
	if(Italic == null) {
		Italic = false;
	}
	if(Bold == null) {
		Bold = false;
	}
	if(Size == null) {
		Size = 12;
	}
	if(Color == null) {
		Color = "FFFFFF";
	}
	if(Prefix == null) {
		Prefix = "";
	}
	this.prefix = Prefix;
	this.color = Color;
	this.size = Size;
	this.bold = Bold;
	this.italic = Italic;
	this.underlined = Underlined;
	this.errorSound = ErrorSound;
	this.openConsole = OpenConsole;
	this.callbackFunction = CallbackFunction;
};
$hxClasses["flixel.system.debug.log.LogStyle"] = flixel_system_debug_log_LogStyle;
flixel_system_debug_log_LogStyle.__name__ = "flixel.system.debug.log.LogStyle";
flixel_system_debug_log_LogStyle.prototype = {
	prefix: null
	,color: null
	,size: null
	,bold: null
	,italic: null
	,underlined: null
	,errorSound: null
	,openConsole: null
	,callbackFunction: null
	,__class__: flixel_system_debug_log_LogStyle
};
var flixel_system_debug_stats__$Stats_GraphicMinimizeButton = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_stats__$Stats_GraphicMinimizeButton.preload != null) {
		this.__fromImage(flixel_system_debug_stats__$Stats_GraphicMinimizeButton.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_stats__$Stats_GraphicMinimizeButton.resourceName),flixel_system_debug_stats__$Stats_GraphicMinimizeButton.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_stats__$Stats_GraphicMinimizeButton.preload == null) {
				flixel_system_debug_stats__$Stats_GraphicMinimizeButton.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.stats._Stats.GraphicMinimizeButton"] = flixel_system_debug_stats__$Stats_GraphicMinimizeButton;
flixel_system_debug_stats__$Stats_GraphicMinimizeButton.__name__ = "flixel.system.debug.stats._Stats.GraphicMinimizeButton";
flixel_system_debug_stats__$Stats_GraphicMinimizeButton.preload = null;
flixel_system_debug_stats__$Stats_GraphicMinimizeButton.__super__ = openfl_display_BitmapData;
flixel_system_debug_stats__$Stats_GraphicMinimizeButton.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_stats__$Stats_GraphicMinimizeButton
});
var flixel_system_debug_stats__$Stats_GraphicMaximizeButton = function(width,height,transparent,fillRGBA,onload) {
	if(fillRGBA == null) {
		fillRGBA = -1;
	}
	if(transparent == null) {
		transparent = true;
	}
	openfl_display_BitmapData.call(this,0,0,transparent,fillRGBA);
	if(flixel_system_debug_stats__$Stats_GraphicMaximizeButton.preload != null) {
		this.__fromImage(flixel_system_debug_stats__$Stats_GraphicMaximizeButton.preload);
	} else {
		var _gthis = this;
		lime_graphics_Image.loadFromBase64(haxe_Resource.getString(flixel_system_debug_stats__$Stats_GraphicMaximizeButton.resourceName),flixel_system_debug_stats__$Stats_GraphicMaximizeButton.resourceType).then(function(image) {
			_gthis.__fromImage(image);
			return lime_app_Future.withValue(_gthis);
		}).onComplete(function(b) {
			if(flixel_system_debug_stats__$Stats_GraphicMaximizeButton.preload == null) {
				flixel_system_debug_stats__$Stats_GraphicMaximizeButton.preload = b.image;
			}
			if(onload != null && Reflect.isFunction(onload)) {
				onload(b);
			}
		});
	}
};
$hxClasses["flixel.system.debug.stats._Stats.GraphicMaximizeButton"] = flixel_system_debug_stats__$Stats_GraphicMaximizeButton;
flixel_system_debug_stats__$Stats_GraphicMaximizeButton.__name__ = "flixel.system.debug.stats._Stats.GraphicMaximizeButton";
flixel_system_debug_stats__$Stats_GraphicMaximizeButton.preload = null;
flixel_system_debug_stats__$Stats_GraphicMaximizeButton.__super__ = openfl_display_BitmapData;
flixel_system_debug_stats__$Stats_GraphicMaximizeButton.prototype = $extend(openfl_display_BitmapData.prototype,{
	__class__: flixel_system_debug_stats__$Stats_GraphicMaximizeButton
});
var flixel_system_debug_watch_Watch = function(Title,Icon,Width,Height,Resizable,Bounds,Closable,AlwaysOnTop) {
	flixel_system_debug_Window.call(this,Title,Icon,Width,Height,Resizable,Bounds,Closable,AlwaysOnTop);
};
$hxClasses["flixel.system.debug.watch.Watch"] = flixel_system_debug_watch_Watch;
flixel_system_debug_watch_Watch.__name__ = "flixel.system.debug.watch.Watch";
flixel_system_debug_watch_Watch.__super__ = flixel_system_debug_Window;
flixel_system_debug_watch_Watch.prototype = $extend(flixel_system_debug_Window.prototype,{
	__class__: flixel_system_debug_watch_Watch
});
var flixel_system_debug_watch_Tracker = function(Title,Icon,Width,Height,Resizable,Bounds,Closable,AlwaysOnTop) {
	flixel_system_debug_watch_Watch.call(this,Title,Icon,Width,Height,Resizable,Bounds,Closable,AlwaysOnTop);
};
$hxClasses["flixel.system.debug.watch.Tracker"] = flixel_system_debug_watch_Tracker;
flixel_system_debug_watch_Tracker.__name__ = "flixel.system.debug.watch.Tracker";
flixel_system_debug_watch_Tracker.__super__ = flixel_system_debug_watch_Watch;
flixel_system_debug_watch_Tracker.prototype = $extend(flixel_system_debug_watch_Watch.prototype,{
	__class__: flixel_system_debug_watch_Tracker
});
var flixel_system_debug_watch_TrackerProfile = function(ObjectClass,Variables,Extensions) {
	this.objectClass = ObjectClass;
	this.variables = Variables;
	this.extensions = Extensions;
};
$hxClasses["flixel.system.debug.watch.TrackerProfile"] = flixel_system_debug_watch_TrackerProfile;
flixel_system_debug_watch_TrackerProfile.__name__ = "flixel.system.debug.watch.TrackerProfile";
flixel_system_debug_watch_TrackerProfile.prototype = {
	objectClass: null
	,variables: null
	,extensions: null
	,toString: function() {
		var value = this.variables;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "variables";
		_this.value = value;
		var value = this.extensions;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "extensions";
		_this1.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1]);
	}
	,__class__: flixel_system_debug_watch_TrackerProfile
};
var flixel_system_frontEnds_FlxBrowser = $hxEnums["flixel.system.frontEnds.FlxBrowser"] = { __ename__:"flixel.system.frontEnds.FlxBrowser",__constructs__:null
	,INTERNET_EXPLORER: {_hx_name:"INTERNET_EXPLORER",_hx_index:0,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
	,CHROME: {_hx_name:"CHROME",_hx_index:1,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
	,FIREFOX: {_hx_name:"FIREFOX",_hx_index:2,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
	,SAFARI: {_hx_name:"SAFARI",_hx_index:3,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
	,OPERA: {_hx_name:"OPERA",_hx_index:4,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
	,UNKNOWN: {_hx_name:"UNKNOWN",_hx_index:5,__enum__:"flixel.system.frontEnds.FlxBrowser",toString:$estr}
};
flixel_system_frontEnds_FlxBrowser.__constructs__ = [flixel_system_frontEnds_FlxBrowser.INTERNET_EXPLORER,flixel_system_frontEnds_FlxBrowser.CHROME,flixel_system_frontEnds_FlxBrowser.FIREFOX,flixel_system_frontEnds_FlxBrowser.SAFARI,flixel_system_frontEnds_FlxBrowser.OPERA,flixel_system_frontEnds_FlxBrowser.UNKNOWN];
var flixel_system_frontEnds_FlxPlatform = $hxEnums["flixel.system.frontEnds.FlxPlatform"] = { __ename__:"flixel.system.frontEnds.FlxPlatform",__constructs__:null
	,WINDOWS: {_hx_name:"WINDOWS",_hx_index:0,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,LINUX: {_hx_name:"LINUX",_hx_index:1,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,MAC: {_hx_name:"MAC",_hx_index:2,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,ANDROID: {_hx_name:"ANDROID",_hx_index:3,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,BLACKBERRY: {_hx_name:"BLACKBERRY",_hx_index:4,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,WINDOWS_PHONE: {_hx_name:"WINDOWS_PHONE",_hx_index:5,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
	,IOS: ($_=function(device) { return {_hx_index:6,device:device,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}; },$_._hx_name="IOS",$_.__params__ = ["device"],$_)
	,UNKNOWN: {_hx_name:"UNKNOWN",_hx_index:7,__enum__:"flixel.system.frontEnds.FlxPlatform",toString:$estr}
};
flixel_system_frontEnds_FlxPlatform.__constructs__ = [flixel_system_frontEnds_FlxPlatform.WINDOWS,flixel_system_frontEnds_FlxPlatform.LINUX,flixel_system_frontEnds_FlxPlatform.MAC,flixel_system_frontEnds_FlxPlatform.ANDROID,flixel_system_frontEnds_FlxPlatform.BLACKBERRY,flixel_system_frontEnds_FlxPlatform.WINDOWS_PHONE,flixel_system_frontEnds_FlxPlatform.IOS,flixel_system_frontEnds_FlxPlatform.UNKNOWN];
var flixel_system_frontEnds_FlxIOSDevice = $hxEnums["flixel.system.frontEnds.FlxIOSDevice"] = { __ename__:"flixel.system.frontEnds.FlxIOSDevice",__constructs__:null
	,IPHONE: {_hx_name:"IPHONE",_hx_index:0,__enum__:"flixel.system.frontEnds.FlxIOSDevice",toString:$estr}
	,IPAD: {_hx_name:"IPAD",_hx_index:1,__enum__:"flixel.system.frontEnds.FlxIOSDevice",toString:$estr}
	,IPOD: {_hx_name:"IPOD",_hx_index:2,__enum__:"flixel.system.frontEnds.FlxIOSDevice",toString:$estr}
};
flixel_system_frontEnds_FlxIOSDevice.__constructs__ = [flixel_system_frontEnds_FlxIOSDevice.IPHONE,flixel_system_frontEnds_FlxIOSDevice.IPAD,flixel_system_frontEnds_FlxIOSDevice.IPOD];
var flixel_system_frontEnds_PluginFrontEnd = function() {
	this.list = [];
	this.add_flixel_util_FlxTimerManager(flixel_util_FlxTimer.globalManager = new flixel_util_FlxTimerManager());
	this.add_flixel_tweens_FlxTweenManager(flixel_tweens_FlxTween.globalManager = new flixel_tweens_FlxTweenManager());
};
$hxClasses["flixel.system.frontEnds.PluginFrontEnd"] = flixel_system_frontEnds_PluginFrontEnd;
flixel_system_frontEnds_PluginFrontEnd.__name__ = "flixel.system.frontEnds.PluginFrontEnd";
flixel_system_frontEnds_PluginFrontEnd.prototype = {
	add_flixel_tweens_FlxTweenManager: function(Plugin1) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Plugin1,true) == flixel_util_FlxStringUtil.getClassName(plugin,true)) {
				return Plugin1;
			}
		}
		this.list.push(Plugin1);
		return Plugin1;
	}
	,add_flixel_util_FlxTimerManager: function(Plugin1) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(flixel_util_FlxStringUtil.getClassName(Plugin1,true) == flixel_util_FlxStringUtil.getClassName(plugin,true)) {
				return Plugin1;
			}
		}
		this.list.push(Plugin1);
		return Plugin1;
	}
	,list: null
	,get: function(ClassType) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(js_Boot.__instanceof(plugin,ClassType)) {
				return plugin;
			}
		}
		return null;
	}
	,remove: function(Plugin1) {
		var i = this.list.length - 1;
		while(i >= 0) {
			if(this.list[i] == Plugin1) {
				this.list.splice(i,1);
				return Plugin1;
			}
			--i;
		}
		return Plugin1;
	}
	,removeType: function(ClassType) {
		var results = false;
		var i = this.list.length - 1;
		while(i >= 0) {
			if(js_Boot.__instanceof(this.list[i],ClassType)) {
				this.list.splice(i,1);
				results = true;
			}
			--i;
		}
		return results;
	}
	,update: function(elapsed) {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(plugin.exists && plugin.active) {
				plugin.update(elapsed);
			}
		}
	}
	,draw: function() {
		var _g = 0;
		var _g1 = this.list;
		while(_g < _g1.length) {
			var plugin = _g1[_g];
			++_g;
			if(plugin.exists && plugin.visible) {
				plugin.draw();
			}
		}
	}
	,__class__: flixel_system_frontEnds_PluginFrontEnd
};
var flixel_system_frontEnds_SoundFrontEnd = function() {
	this.volume = 1;
	this.list = new flixel_group_FlxTypedGroup();
	this.defaultSoundGroup = new flixel_system_FlxSoundGroup();
	this.defaultMusicGroup = new flixel_system_FlxSoundGroup();
	this.soundTrayEnabled = true;
	this.muteKeys = [48,96];
	this.volumeDownKeys = [189,109];
	this.volumeUpKeys = [187,107];
	this.muted = false;
	this.loadSavedPrefs();
};
$hxClasses["flixel.system.frontEnds.SoundFrontEnd"] = flixel_system_frontEnds_SoundFrontEnd;
flixel_system_frontEnds_SoundFrontEnd.__name__ = "flixel.system.frontEnds.SoundFrontEnd";
flixel_system_frontEnds_SoundFrontEnd.prototype = {
	music: null
	,muted: null
	,volumeHandler: null
	,volumeUpKeys: null
	,volumeDownKeys: null
	,muteKeys: null
	,soundTrayEnabled: null
	,defaultMusicGroup: null
	,defaultSoundGroup: null
	,list: null
	,volume: null
	,playMusic: function(Music,Volume,Looped,Group) {
		if(Looped == null) {
			Looped = true;
		}
		if(Volume == null) {
			Volume = 1;
		}
		if(this.music == null) {
			this.music = new flixel_system_FlxSound();
		} else if(this.music.active) {
			var _this = this.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		this.music.loadEmbedded(Music,Looped);
		this.music.set_volume(Volume);
		this.music.persist = true;
		this.music.set_group(Group == null ? this.defaultMusicGroup : Group);
		this.music.play();
	}
	,load: function(EmbeddedSound,Volume,Looped,Group,AutoDestroy,AutoPlay,URL1,OnComplete,OnLoad) {
		if(AutoPlay == null) {
			AutoPlay = false;
		}
		if(AutoDestroy == null) {
			AutoDestroy = false;
		}
		if(Looped == null) {
			Looped = false;
		}
		if(Volume == null) {
			Volume = 1;
		}
		if(EmbeddedSound == null && URL1 == null) {
			return null;
		}
		var sound = this.list.recycle(flixel_system_FlxSound);
		if(EmbeddedSound != null) {
			sound.loadEmbedded(EmbeddedSound,Looped,AutoDestroy,OnComplete);
			this.loadHelper(sound,Volume,Group,AutoPlay);
			if(OnLoad != null && sound._sound != null) {
				OnLoad();
			}
		} else {
			var loadCallback = OnLoad;
			if(AutoPlay) {
				loadCallback = function() {
					sound.play();
					if(OnLoad != null) {
						OnLoad();
					}
				};
			}
			sound.loadStream(URL1,Looped,AutoDestroy,OnComplete,loadCallback);
			this.loadHelper(sound,Volume,Group);
		}
		return sound;
	}
	,loadHelper: function(sound,Volume,Group,AutoPlay) {
		if(AutoPlay == null) {
			AutoPlay = false;
		}
		sound.set_volume(Volume);
		if(AutoPlay) {
			sound.play();
		}
		sound.set_group(Group == null ? this.defaultSoundGroup : Group);
		return sound;
	}
	,cache: function(EmbeddedSound) {
		if(openfl_utils_Assets.exists(EmbeddedSound,"SOUND") || openfl_utils_Assets.exists(EmbeddedSound,"MUSIC")) {
			return openfl_utils_Assets.getSound(EmbeddedSound,true);
		}
		return null;
	}
	,cacheAll: function() {
		var _g = 0;
		var _g1 = openfl_utils_Assets.list("SOUND");
		while(_g < _g1.length) {
			var id = _g1[_g];
			++_g;
			if(openfl_utils_Assets.exists(id,"SOUND") || openfl_utils_Assets.exists(id,"MUSIC")) {
				openfl_utils_Assets.getSound(id,true);
			}
		}
	}
	,play: function(EmbeddedSound,Volume,Looped,Group,AutoDestroy,OnComplete) {
		if(AutoDestroy == null) {
			AutoDestroy = true;
		}
		if(Looped == null) {
			Looped = false;
		}
		if(Volume == null) {
			Volume = 1;
		}
		if(typeof(EmbeddedSound) == "string") {
			EmbeddedSound = openfl_utils_Assets.exists(EmbeddedSound,"SOUND") || openfl_utils_Assets.exists(EmbeddedSound,"MUSIC") ? openfl_utils_Assets.getSound(EmbeddedSound,true) : null;
		}
		var sound = this.list.recycle(flixel_system_FlxSound).loadEmbedded(EmbeddedSound,Looped,AutoDestroy,OnComplete);
		return this.loadHelper(sound,Volume,Group,true);
	}
	,stream: function(URL1,Volume,Looped,Group,AutoDestroy,OnComplete,OnLoad) {
		if(AutoDestroy == null) {
			AutoDestroy = true;
		}
		if(Looped == null) {
			Looped = false;
		}
		if(Volume == null) {
			Volume = 1;
		}
		return this.load(null,Volume,Looped,Group,AutoDestroy,true,URL1,OnComplete,OnLoad);
	}
	,pause: function() {
		if(this.music != null && this.music.exists && this.music.active) {
			this.music.pause();
		}
		var _g = 0;
		var _g1 = this.list.members;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			if(sound != null && sound.exists && sound.active) {
				sound.pause();
			}
		}
	}
	,resume: function() {
		if(this.music != null && this.music.exists) {
			this.music.resume();
		}
		var _g = 0;
		var _g1 = this.list.members;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			if(sound != null && sound.exists) {
				sound.resume();
			}
		}
	}
	,destroy: function(ForceDestroy) {
		if(ForceDestroy == null) {
			ForceDestroy = false;
		}
		if(this.music != null && (ForceDestroy || !this.music.persist)) {
			this.destroySound(this.music);
			this.music = null;
		}
		var _g = 0;
		var _g1 = this.list.members;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			if(sound != null && (ForceDestroy || !sound.persist)) {
				this.destroySound(sound);
			}
		}
	}
	,destroySound: function(sound) {
		this.defaultMusicGroup.remove(sound);
		this.defaultSoundGroup.remove(sound);
		sound.destroy();
	}
	,toggleMuted: function() {
		this.muted = !this.muted;
		if(this.volumeHandler != null) {
			this.volumeHandler(this.muted ? 0 : this.volume);
		}
		this.showSoundTray();
	}
	,changeVolume: function(Amount) {
		this.muted = false;
		this.set_volume(this.volume + Amount);
		this.showSoundTray();
	}
	,showSoundTray: function() {
		if(flixel_FlxG.game.soundTray != null && this.soundTrayEnabled) {
			flixel_FlxG.game.soundTray.show();
		}
	}
	,update: function(elapsed) {
		if(this.music != null && this.music.active) {
			this.music.update(elapsed);
		}
		if(this.list != null && this.list.active) {
			this.list.update(elapsed);
		}
		if(flixel_FlxG.keys.checkKeyArrayState(this.muteKeys,-1)) {
			this.toggleMuted();
		} else if(flixel_FlxG.keys.checkKeyArrayState(this.volumeUpKeys,-1)) {
			this.changeVolume(0.1);
		} else if(flixel_FlxG.keys.checkKeyArrayState(this.volumeDownKeys,-1)) {
			this.changeVolume(-0.1);
		}
	}
	,onFocusLost: function() {
		if(this.music != null) {
			this.music.onFocusLost();
		}
		var _g = 0;
		var _g1 = this.list.members;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			if(sound != null) {
				sound.onFocusLost();
			}
		}
	}
	,onFocus: function() {
		if(this.music != null) {
			this.music.onFocus();
		}
		var _g = 0;
		var _g1 = this.list.members;
		while(_g < _g1.length) {
			var sound = _g1[_g];
			++_g;
			if(sound != null) {
				sound.onFocus();
			}
		}
	}
	,loadSavedPrefs: function() {
		if(flixel_FlxG.save.data.volume != null) {
			this.set_volume(flixel_FlxG.save.data.volume);
		}
		if(flixel_FlxG.save.data.mute != null) {
			this.muted = flixel_FlxG.save.data.mute;
		}
	}
	,set_volume: function(Volume) {
		var lowerBound = Volume < 0 ? 0 : Volume;
		Volume = lowerBound > 1 ? 1 : lowerBound;
		if(this.volumeHandler != null) {
			var param = this.muted ? 0 : Volume;
			this.volumeHandler(param);
		}
		return this.volume = Volume;
	}
	,__class__: flixel_system_frontEnds_SoundFrontEnd
	,__properties__: {set_volume:"set_volume"}
};
var flixel_system_frontEnds_VCRFrontEnd = function() {
	this.stepRequested = false;
	this.paused = false;
};
$hxClasses["flixel.system.frontEnds.VCRFrontEnd"] = flixel_system_frontEnds_VCRFrontEnd;
flixel_system_frontEnds_VCRFrontEnd.__name__ = "flixel.system.frontEnds.VCRFrontEnd";
flixel_system_frontEnds_VCRFrontEnd.prototype = {
	paused: null
	,stepRequested: null
	,pause: function() {
		if(!this.paused) {
			if(!flixel_FlxG.mouse.useSystemCursor) {
				openfl_ui_Mouse.show();
			}
			this.paused = true;
		}
	}
	,resume: function() {
		if(this.paused) {
			if(!flixel_FlxG.mouse.useSystemCursor) {
				openfl_ui_Mouse.hide();
			}
			this.paused = false;
		}
	}
	,__class__: flixel_system_frontEnds_VCRFrontEnd
};
var flixel_system_macros_FlxMacroUtil = function() { };
$hxClasses["flixel.system.macros.FlxMacroUtil"] = flixel_system_macros_FlxMacroUtil;
flixel_system_macros_FlxMacroUtil.__name__ = "flixel.system.macros.FlxMacroUtil";
var flixel_system_replay_CodeValuePair = function(code,value) {
	this.code = code;
	this.value = value;
};
$hxClasses["flixel.system.replay.CodeValuePair"] = flixel_system_replay_CodeValuePair;
flixel_system_replay_CodeValuePair.__name__ = "flixel.system.replay.CodeValuePair";
flixel_system_replay_CodeValuePair.prototype = {
	code: null
	,value: null
	,__class__: flixel_system_replay_CodeValuePair
};
var flixel_system_replay_MouseRecord = function(x,y,button,wheel) {
	this.x = x;
	this.y = y;
	this.button = button;
	this.wheel = wheel;
};
$hxClasses["flixel.system.replay.MouseRecord"] = flixel_system_replay_MouseRecord;
flixel_system_replay_MouseRecord.__name__ = "flixel.system.replay.MouseRecord";
flixel_system_replay_MouseRecord.prototype = {
	x: null
	,y: null
	,button: null
	,wheel: null
	,__class__: flixel_system_replay_MouseRecord
};
var flixel_system_ui_FlxSoundTray = function() {
	this._defaultScale = 2.0;
	this._width = 80;
	openfl_display_Sprite.call(this);
	this.set_visible(false);
	this.set_scaleX(this._defaultScale);
	this.set_scaleY(this._defaultScale);
	var tmp = new openfl_display_Bitmap(new openfl_display_BitmapData(this._width,30,true,2130706432));
	this.screenCenter();
	this.addChild(tmp);
	var text = new openfl_text_TextField();
	text.set_width(tmp.get_width());
	text.set_height(tmp.get_height());
	text.set_multiline(true);
	text.set_wordWrap(true);
	text.set_selectable(false);
	var dtf = new openfl_text_TextFormat(flixel_system_FlxAssets.FONT_DEFAULT,10,16777215);
	dtf.align = 0;
	text.set_defaultTextFormat(dtf);
	this.addChild(text);
	text.set_text("VOLUME");
	text.set_y(16);
	var bx = 10;
	var by = 14;
	this._bars = [];
	var _g = 0;
	while(_g < 10) {
		var i = _g++;
		tmp = new openfl_display_Bitmap(new openfl_display_BitmapData(4,i + 1,false,-1));
		tmp.set_x(bx);
		tmp.set_y(by);
		this.addChild(tmp);
		this._bars.push(tmp);
		bx += 6;
		--by;
	}
	this.set_y(-this.get_height());
	this.set_visible(false);
};
$hxClasses["flixel.system.ui.FlxSoundTray"] = flixel_system_ui_FlxSoundTray;
flixel_system_ui_FlxSoundTray.__name__ = "flixel.system.ui.FlxSoundTray";
flixel_system_ui_FlxSoundTray.__super__ = openfl_display_Sprite;
flixel_system_ui_FlxSoundTray.prototype = $extend(openfl_display_Sprite.prototype,{
	active: null
	,_timer: null
	,_bars: null
	,_width: null
	,_defaultScale: null
	,update: function(MS) {
		if(this._timer > 0) {
			this._timer -= MS / 1000;
		} else if(this.get_y() > -this.get_height()) {
			this.set_y(this.get_y() - MS / 1000 * flixel_FlxG.height * 2);
			if(this.get_y() <= -this.get_height()) {
				this.set_visible(false);
				this.active = false;
				flixel_FlxG.save.data.mute = flixel_FlxG.sound.muted;
				flixel_FlxG.save.data.volume = flixel_FlxG.sound.volume;
				flixel_FlxG.save.flush();
			}
		}
	}
	,show: function(Silent) {
		if(Silent == null) {
			Silent = false;
		}
		if(!Silent) {
			var extension = "";
			extension = ".ogg";
			var sound = openfl_utils_Assets.getSound("flixel/sounds/beep" + extension);
			if(sound != null) {
				flixel_FlxG.sound.load(sound).play();
			}
		}
		this._timer = 1;
		this.set_y(0);
		this.set_visible(true);
		this.active = true;
		var globalVolume = Math.round(flixel_FlxG.sound.volume * 10);
		if(flixel_FlxG.sound.muted) {
			globalVolume = 0;
		}
		var _g = 0;
		var _g1 = this._bars.length;
		while(_g < _g1) {
			var i = _g++;
			if(i < globalVolume) {
				this._bars[i].set_alpha(1);
			} else {
				this._bars[i].set_alpha(0.5);
			}
		}
	}
	,screenCenter: function() {
		this.set_scaleX(this._defaultScale);
		this.set_scaleY(this._defaultScale);
		this.set_x(0.5 * (openfl_Lib.get_current().stage.stageWidth - this._width * this._defaultScale) - flixel_FlxG.game.get_x());
	}
	,__class__: flixel_system_ui_FlxSoundTray
});
var flixel_system_ui_FlxSystemButton = function(Icon,UpHandler,ToggleMode) {
	if(ToggleMode == null) {
		ToggleMode = false;
	}
	this._mouseDown = false;
	this.toggled = false;
	this.toggleMode = false;
	this.enabled = true;
	openfl_display_Sprite.call(this);
	if(Icon != null) {
		this.changeIcon(Icon);
	}
	this.upHandler = UpHandler;
	this.toggleMode = ToggleMode;
	this.addEventListener("mouseUp",$bind(this,this.onMouseUp));
	this.addEventListener("mouseDown",$bind(this,this.onMouseDown));
	this.addEventListener("mouseOut",$bind(this,this.onMouseOut));
	this.addEventListener("mouseOver",$bind(this,this.onMouseOver));
};
$hxClasses["flixel.system.ui.FlxSystemButton"] = flixel_system_ui_FlxSystemButton;
flixel_system_ui_FlxSystemButton.__name__ = "flixel.system.ui.FlxSystemButton";
flixel_system_ui_FlxSystemButton.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_system_ui_FlxSystemButton.__super__ = openfl_display_Sprite;
flixel_system_ui_FlxSystemButton.prototype = $extend(openfl_display_Sprite.prototype,{
	upHandler: null
	,enabled: null
	,toggleMode: null
	,toggled: null
	,_icon: null
	,_mouseDown: null
	,changeIcon: function(Icon) {
		if(this._icon != null) {
			this.removeChild(this._icon);
		}
		flixel_system_debug_DebuggerUtil.fixSize(Icon);
		this._icon = new openfl_display_Bitmap(Icon);
		this.addChild(this._icon);
	}
	,destroy: function() {
		this.removeEventListener("mouseUp",$bind(this,this.onMouseUp));
		this.removeEventListener("mouseDown",$bind(this,this.onMouseDown));
		this.removeEventListener("mouseOut",$bind(this,this.onMouseOut));
		this.removeEventListener("mouseOver",$bind(this,this.onMouseOver));
		this._icon = null;
		this.upHandler = null;
	}
	,onMouseUp: function(_) {
		if(this.enabled && this._mouseDown) {
			this.set_toggled(!this.toggled);
			this._mouseDown = false;
			if(this.upHandler != null) {
				this.upHandler();
			}
		}
	}
	,onMouseDown: function(_) {
		this._mouseDown = true;
	}
	,onMouseOver: function(_) {
		if(this.enabled) {
			this.set_alpha(this.get_alpha() - 0.2);
		}
	}
	,onMouseOut: function(_) {
		if(this.enabled) {
			this.set_alpha(this.get_alpha() + 0.2);
		}
	}
	,set_toggled: function(Value) {
		if(this.toggleMode) {
			this.set_alpha(Value ? 0.3 : 1);
		}
		return this.toggled = Value;
	}
	,__class__: flixel_system_ui_FlxSystemButton
	,__properties__: $extend(openfl_display_Sprite.prototype.__properties__,{set_toggled:"set_toggled"})
});
var flixel_text_FlxTextFormat = function(FontColor,Bold,Italic,BorderColor) {
	this.format = new openfl_text_TextFormat(null,null,FontColor,Bold,Italic);
	this.borderColor = BorderColor == null ? 0 : BorderColor;
};
$hxClasses["flixel.text.FlxTextFormat"] = flixel_text_FlxTextFormat;
flixel_text_FlxTextFormat.__name__ = "flixel.text.FlxTextFormat";
flixel_text_FlxTextFormat.prototype = {
	leading: null
	,borderColor: null
	,format: null
	,set_leading: function(value) {
		this.format.leading = value;
		return value;
	}
	,__class__: flixel_text_FlxTextFormat
	,__properties__: {set_leading:"set_leading"}
};
var flixel_text__$FlxText_FlxTextFormatRange = function(format,start,end) {
	this.range = new flixel_util_helpers_FlxRange(start,end);
	this.format = format;
};
$hxClasses["flixel.text._FlxText.FlxTextFormatRange"] = flixel_text__$FlxText_FlxTextFormatRange;
flixel_text__$FlxText_FlxTextFormatRange.__name__ = "flixel.text._FlxText.FlxTextFormatRange";
flixel_text__$FlxText_FlxTextFormatRange.prototype = {
	range: null
	,format: null
	,__class__: flixel_text__$FlxText_FlxTextFormatRange
};
var flixel_text_FlxTextFormatMarkerPair = function(format,marker) {
	this.format = format;
	this.marker = marker;
};
$hxClasses["flixel.text.FlxTextFormatMarkerPair"] = flixel_text_FlxTextFormatMarkerPair;
flixel_text_FlxTextFormatMarkerPair.__name__ = "flixel.text.FlxTextFormatMarkerPair";
flixel_text_FlxTextFormatMarkerPair.prototype = {
	format: null
	,marker: null
	,__class__: flixel_text_FlxTextFormatMarkerPair
};
var flixel_text_FlxTextBorderStyle = $hxEnums["flixel.text.FlxTextBorderStyle"] = { __ename__:"flixel.text.FlxTextBorderStyle",__constructs__:null
	,NONE: {_hx_name:"NONE",_hx_index:0,__enum__:"flixel.text.FlxTextBorderStyle",toString:$estr}
	,SHADOW: {_hx_name:"SHADOW",_hx_index:1,__enum__:"flixel.text.FlxTextBorderStyle",toString:$estr}
	,OUTLINE: {_hx_name:"OUTLINE",_hx_index:2,__enum__:"flixel.text.FlxTextBorderStyle",toString:$estr}
	,OUTLINE_FAST: {_hx_name:"OUTLINE_FAST",_hx_index:3,__enum__:"flixel.text.FlxTextBorderStyle",toString:$estr}
};
flixel_text_FlxTextBorderStyle.__constructs__ = [flixel_text_FlxTextBorderStyle.NONE,flixel_text_FlxTextBorderStyle.SHADOW,flixel_text_FlxTextBorderStyle.OUTLINE,flixel_text_FlxTextBorderStyle.OUTLINE_FAST];
var flixel_text_FlxTextAlign = {};
flixel_text_FlxTextAlign.fromOpenFL = function(align) {
	switch(align) {
	case 0:
		return "center";
	case 2:
		return "justify";
	case 3:
		return "left";
	case 4:
		return "right";
	default:
		return "left";
	}
};
flixel_text_FlxTextAlign.toOpenFL = function(align) {
	switch(align) {
	case "center":
		return 0;
	case "justify":
		return 2;
	case "left":
		return 3;
	case "right":
		return 4;
	default:
		return 3;
	}
};
var flixel_tile_FlxBaseTilemap = function() {
	this._collideIndex = 0;
	this._drawIndex = 0;
	this._startingIndex = 0;
	this._tileObjects = [];
	this.totalTiles = 0;
	this.heightInTiles = 0;
	this.widthInTiles = 0;
	this.auto = flixel_tile_FlxTilemapAutoTiling.OFF;
	flixel_FlxObject.call(this);
	this.flixelType = 3;
	this.set_immovable(true);
	this.set_moves(false);
};
$hxClasses["flixel.tile.FlxBaseTilemap"] = flixel_tile_FlxBaseTilemap;
flixel_tile_FlxBaseTilemap.__name__ = "flixel.tile.FlxBaseTilemap";
flixel_tile_FlxBaseTilemap.__super__ = flixel_FlxObject;
flixel_tile_FlxBaseTilemap.prototype = $extend(flixel_FlxObject.prototype,{
	auto: null
	,widthInTiles: null
	,heightInTiles: null
	,totalTiles: null
	,customTileRemap: null
	,_randomIndices: null
	,_randomChoices: null
	,_randomLambda: null
	,_tileObjects: null
	,_startingIndex: null
	,_data: null
	,_drawIndex: null
	,_collideIndex: null
	,updateTile: function(Index) {
		throw haxe_Exception.thrown("updateTile must be implemented");
	}
	,cacheGraphics: function(TileWidth,TileHeight,TileGraphic) {
		throw haxe_Exception.thrown("cacheGraphics must be implemented");
	}
	,initTileObjects: function() {
		throw haxe_Exception.thrown("initTileObjects must be implemented");
	}
	,updateMap: function() {
		throw haxe_Exception.thrown("updateMap must be implemented");
	}
	,computeDimensions: function() {
		throw haxe_Exception.thrown("computeDimensions must be implemented");
	}
	,getTileIndexByCoords: function(Coord) {
		throw haxe_Exception.thrown("getTileIndexByCoords must be implemented");
	}
	,getTileCoordsByIndex: function(Index,Midpoint) {
		if(Midpoint == null) {
			Midpoint = true;
		}
		throw haxe_Exception.thrown("getTileCoordsByIndex must be implemented");
	}
	,ray: function(Start,End,Result,Resolution) {
		if(Resolution == null) {
			Resolution = 1;
		}
		throw haxe_Exception.thrown("ray must be implemented");
	}
	,overlapsWithCallback: function(Object1,Callback,FlipCallbackParams,Position) {
		if(FlipCallbackParams == null) {
			FlipCallbackParams = false;
		}
		throw haxe_Exception.thrown("overlapsWithCallback must be implemented");
	}
	,setDirty: function(Dirty) {
		if(Dirty == null) {
			Dirty = true;
		}
		throw haxe_Exception.thrown("setDirty must be implemented");
	}
	,destroy: function() {
		this._data = null;
		flixel_FlxObject.prototype.destroy.call(this);
	}
	,loadMapFromCSV: function(MapData,TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex) {
		if(CollideIndex == null) {
			CollideIndex = 1;
		}
		if(DrawIndex == null) {
			DrawIndex = 1;
		}
		if(StartingIndex == null) {
			StartingIndex = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		if(openfl_utils_Assets.exists(MapData)) {
			MapData = openfl_utils_Assets.getText(MapData);
		}
		this._data = [];
		var columns;
		var regex = new EReg("[ \t]*((\r\n)|\r|\n)[ \t]*","g");
		var lines = regex.split(MapData);
		var _g = [];
		var _g1 = 0;
		var _g2 = lines;
		while(_g1 < _g2.length) {
			var v = _g2[_g1];
			++_g1;
			if(v != "") {
				_g.push(v);
			}
		}
		var rows = _g;
		this.heightInTiles = rows.length;
		this.widthInTiles = 0;
		var row = 0;
		while(row < this.heightInTiles) {
			var rowString = rows[row];
			if(StringTools.endsWith(rowString,",")) {
				rowString = HxOverrides.substr(rowString,0,rowString.length - 1);
			}
			columns = rowString.split(",");
			if(columns.length == 0) {
				this.heightInTiles--;
				continue;
			}
			if(this.widthInTiles == 0) {
				this.widthInTiles = columns.length;
			}
			var column = 0;
			while(column < this.widthInTiles) {
				var columnString = columns[column];
				var curTile = Std.parseInt(columnString);
				if(curTile == null) {
					throw haxe_Exception.thrown("String in row " + row + ", column " + column + " is not a valid integer: \"" + columnString + "\"");
				}
				this._data.push(curTile);
				++column;
			}
			++row;
		}
		this.loadMapHelper(TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex);
		return this;
	}
	,loadMapFromArray: function(MapData,WidthInTiles,HeightInTiles,TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex) {
		if(CollideIndex == null) {
			CollideIndex = 1;
		}
		if(DrawIndex == null) {
			DrawIndex = 1;
		}
		if(StartingIndex == null) {
			StartingIndex = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		this.widthInTiles = WidthInTiles;
		this.heightInTiles = HeightInTiles;
		this._data = MapData.slice();
		this.loadMapHelper(TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex);
		return this;
	}
	,loadMapFrom2DArray: function(MapData,TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex) {
		if(CollideIndex == null) {
			CollideIndex = 1;
		}
		if(DrawIndex == null) {
			DrawIndex = 1;
		}
		if(StartingIndex == null) {
			StartingIndex = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		this.widthInTiles = MapData[0].length;
		this.heightInTiles = MapData.length;
		this._data = flixel_util_FlxArrayUtil.flatten2DArray_Int(MapData);
		this.loadMapHelper(TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex);
		return this;
	}
	,loadMapFromGraphic: function(MapGraphic,Invert,Scale,ColorMap,TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex) {
		if(CollideIndex == null) {
			CollideIndex = 1;
		}
		if(DrawIndex == null) {
			DrawIndex = 1;
		}
		if(StartingIndex == null) {
			StartingIndex = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		if(Scale == null) {
			Scale = 1;
		}
		if(Invert == null) {
			Invert = false;
		}
		var mapBitmap = flixel_system_FlxAssets.resolveBitmapData(MapGraphic);
		var mapData = flixel_util_FlxStringUtil.bitmapToCSV(mapBitmap,Invert,Scale,ColorMap);
		return this.loadMapFromCSV(mapData,TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex);
	}
	,loadMapHelper: function(TileGraphic,TileWidth,TileHeight,AutoTile,StartingIndex,DrawIndex,CollideIndex) {
		if(CollideIndex == null) {
			CollideIndex = 1;
		}
		if(DrawIndex == null) {
			DrawIndex = 1;
		}
		if(StartingIndex == null) {
			StartingIndex = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		var _g = 0;
		var _g1 = this._data.length;
		while(_g < _g1) {
			var i = _g++;
			if(this._data[i] < 0) {
				this._data[i] = 0;
			}
		}
		this.totalTiles = this._data.length;
		this.auto = AutoTile == null ? flixel_tile_FlxTilemapAutoTiling.OFF : AutoTile;
		this._startingIndex = StartingIndex <= 0 ? 0 : StartingIndex;
		if(this.auto != flixel_tile_FlxTilemapAutoTiling.OFF) {
			this._startingIndex = 1;
			DrawIndex = 1;
			CollideIndex = 1;
		}
		this._drawIndex = DrawIndex;
		this._collideIndex = CollideIndex;
		this.applyAutoTile();
		this.applyCustomRemap();
		this.randomizeIndices();
		this.cacheGraphics(TileWidth,TileHeight,TileGraphic);
		this.postGraphicLoad();
	}
	,postGraphicLoad: function() {
		this.initTileObjects();
		this.computeDimensions();
		this.updateMap();
	}
	,applyAutoTile: function() {
		if(this.auto != flixel_tile_FlxTilemapAutoTiling.OFF) {
			var i = 0;
			while(i < this.totalTiles) this.autoTile(i++);
		}
	}
	,applyCustomRemap: function() {
		var i = 0;
		if(this.customTileRemap != null) {
			while(i < this.totalTiles) {
				var oldIndex = this._data[i];
				var newIndex = oldIndex;
				if(oldIndex < this.customTileRemap.length) {
					newIndex = this.customTileRemap[oldIndex];
				}
				this._data[i] = newIndex;
				++i;
			}
		}
	}
	,randomizeIndices: function() {
		var i = 0;
		if(this._randomIndices != null) {
			var randLambda = this._randomLambda != null ? this._randomLambda : function() {
				return flixel_FlxG.random.float();
			};
			while(i < this.totalTiles) {
				var oldIndex = this._data[i];
				var j = 0;
				var newIndex = oldIndex;
				var _g = 0;
				var _g1 = this._randomIndices;
				while(_g < _g1.length) {
					var rand = _g1[_g];
					++_g;
					if(oldIndex == rand) {
						var k = randLambda() * this._randomChoices[j].length | 0;
						newIndex = this._randomChoices[j][k];
					}
					++j;
				}
				this._data[i] = newIndex;
				++i;
			}
		}
	}
	,autoTile: function(Index) {
		if(this._data[Index] == 0) {
			return;
		}
		if(this.auto == flixel_tile_FlxTilemapAutoTiling.FULL) {
			this.autoTileFull(Index);
			return;
		}
		this._data[Index] = 0;
		if(Index - this.widthInTiles < 0 || this._data[Index - this.widthInTiles] > 0) {
			this._data[Index] += 1;
		}
		if(Index % this.widthInTiles >= this.widthInTiles - 1 || this._data[Index + 1] > 0) {
			this._data[Index] += 2;
		}
		if((Index + this.widthInTiles | 0) >= this.totalTiles || this._data[Index + this.widthInTiles] > 0) {
			this._data[Index] += 4;
		}
		if(Index % this.widthInTiles <= 0 || this._data[Index - 1] > 0) {
			this._data[Index] += 8;
		}
		if(this.auto == flixel_tile_FlxTilemapAutoTiling.ALT && this._data[Index] == 15) {
			if(Index % this.widthInTiles > 0 && (Index + this.widthInTiles | 0) < this.totalTiles && this._data[Index + this.widthInTiles - 1] <= 0) {
				this._data[Index] = 1;
			}
			if(Index % this.widthInTiles > 0 && Index - this.widthInTiles >= 0 && this._data[Index - this.widthInTiles - 1] <= 0) {
				this._data[Index] = 2;
			}
			if(Index % this.widthInTiles < this.widthInTiles - 1 && Index - this.widthInTiles >= 0 && this._data[Index - this.widthInTiles + 1] <= 0) {
				this._data[Index] = 4;
			}
			if(Index % this.widthInTiles < this.widthInTiles - 1 && (Index + this.widthInTiles | 0) < this.totalTiles && this._data[Index + this.widthInTiles + 1] <= 0) {
				this._data[Index] = 8;
			}
		}
		this._data[Index] += 1;
	}
	,autoTileFull: function(Index) {
		this._data[Index] = 0;
		var wallUp = Index - this.widthInTiles < 0;
		var wallRight = Index % this.widthInTiles >= this.widthInTiles - 1;
		var wallDown = (Index + this.widthInTiles | 0) >= this.totalTiles;
		var wallLeft = Index % this.widthInTiles <= 0;
		var up = wallUp || this._data[Index - this.widthInTiles] > 0;
		var upRight = wallUp || wallRight || this._data[Index - this.widthInTiles + 1] > 0;
		var right = wallRight || this._data[Index + 1] > 0;
		var rightDown = wallRight || wallDown || this._data[Index + this.widthInTiles + 1] > 0;
		var down = wallDown || this._data[Index + this.widthInTiles] > 0;
		var downLeft = wallDown || wallLeft || this._data[Index + this.widthInTiles - 1] > 0;
		var left = wallLeft || this._data[Index - 1] > 0;
		var leftUp = wallLeft || wallUp || this._data[Index - this.widthInTiles - 1] > 0;
		if(up) {
			this._data[Index] += 1;
		}
		if(upRight && up && right) {
			this._data[Index] += 2;
		}
		if(right) {
			this._data[Index] += 4;
		}
		if(rightDown && right && down) {
			this._data[Index] += 8;
		}
		if(down) {
			this._data[Index] += 16;
		}
		if(downLeft && down && left) {
			this._data[Index] += 32;
		}
		if(left) {
			this._data[Index] += 64;
		}
		if(leftUp && left && up) {
			this._data[Index] += 128;
		}
		this._data[Index] -= flixel_tile_FlxBaseTilemap.offsetAutoTile[this._data[Index]] - 1;
	}
	,setCustomTileMappings: function(mappings,randomIndices,randomChoices,randomLambda) {
		this.customTileRemap = mappings;
		this._randomIndices = randomIndices;
		this._randomChoices = randomChoices;
		this._randomLambda = randomLambda;
		if(this._randomIndices != null && (this._randomChoices == null || this._randomChoices.length == 0)) {
			throw haxe_Exception.thrown("You must provide valid 'randomChoices' if you wish to randomize tilemap indices, please read documentation of 'setCustomTileMappings' function.");
		}
	}
	,getTile: function(X,Y) {
		return this._data[Y * this.widthInTiles + X];
	}
	,getTileByIndex: function(Index) {
		return this._data[Index];
	}
	,getTileCollisions: function(Index) {
		return this._tileObjects[Index].allowCollisions;
	}
	,getTileInstances: function(Index) {
		var array = null;
		var i = 0;
		var l = this.widthInTiles * this.heightInTiles;
		while(i < l) {
			if(this._data[i] == Index) {
				if(array == null) {
					array = [];
				}
				array.push(i);
			}
			++i;
		}
		return array;
	}
	,setTile: function(X,Y,Tile,UpdateGraphics) {
		if(UpdateGraphics == null) {
			UpdateGraphics = true;
		}
		if(X >= this.widthInTiles || Y >= this.heightInTiles) {
			return false;
		}
		return this.setTileByIndex(Y * this.widthInTiles + X,Tile,UpdateGraphics);
	}
	,setTileByIndex: function(Index,Tile,UpdateGraphics) {
		if(UpdateGraphics == null) {
			UpdateGraphics = true;
		}
		if(Index >= this._data.length) {
			return false;
		}
		var ok = true;
		this._data[Index] = Tile;
		if(!UpdateGraphics) {
			return ok;
		}
		this.setDirty();
		if(this.auto == flixel_tile_FlxTilemapAutoTiling.OFF) {
			this.updateTile(this._data[Index]);
			return ok;
		}
		var i;
		var row = (Index / this.widthInTiles | 0) - 1;
		var rowLength = row + 3;
		var column = Index % this.widthInTiles - 1;
		var columnHeight = column + 3;
		while(row < rowLength) {
			column = columnHeight - 3;
			while(column < columnHeight) {
				if(row >= 0 && row < this.heightInTiles && column >= 0 && column < this.widthInTiles) {
					i = row * this.widthInTiles + column;
					this.autoTile(i);
					this.updateTile(this._data[i]);
				}
				++column;
			}
			++row;
		}
		return ok;
	}
	,setTileProperties: function(Tile,AllowCollisions,Callback,CallbackFilter,Range1) {
		if(Range1 == null) {
			Range1 = 1;
		}
		if(AllowCollisions == null) {
			AllowCollisions = 4369;
		}
		if(Range1 <= 0) {
			Range1 = 1;
		}
		var tile;
		var i = Tile;
		var l = Tile + Range1;
		var maxIndex = this._tileObjects.length;
		if(l > maxIndex) {
			throw haxe_Exception.thrown("Index " + l + " exceeds the maximum tile index of " + maxIndex + ". Please verify the Tile (" + Tile + ") and Range (" + Range1 + ") parameters.");
		}
		while(i < l) {
			tile = this._tileObjects[i++];
			tile.set_allowCollisions(AllowCollisions);
			tile.callbackFunction = Callback;
			tile.filter = CallbackFilter;
		}
	}
	,getData: function(Simple) {
		if(Simple == null) {
			Simple = false;
		}
		if(!Simple) {
			return this._data;
		}
		var i = 0;
		var l = this._data.length;
		var data = [];
		flixel_util_FlxArrayUtil.setLength_Int(data,l);
		while(i < l) {
			data[i] = this._tileObjects[this._data[i]].allowCollisions > 0 ? 1 : 0;
			++i;
		}
		return data;
	}
	,findPath: function(Start,End,Simplify,RaySimplify,DiagonalPolicy) {
		if(DiagonalPolicy == null) {
			DiagonalPolicy = 2;
		}
		if(RaySimplify == null) {
			RaySimplify = false;
		}
		if(Simplify == null) {
			Simplify = true;
		}
		var startIndex = this.getTileIndexByCoords(Start);
		var endIndex = this.getTileIndexByCoords(End);
		if(startIndex < 0 || endIndex < 0) {
			return null;
		}
		if(this._tileObjects[this._data[startIndex]].allowCollisions > 0 || this._tileObjects[this._data[endIndex]].allowCollisions > 0) {
			return null;
		}
		var distances = this.computePathDistance(startIndex,endIndex,DiagonalPolicy);
		if(distances == null) {
			return null;
		}
		var points = [];
		this.walkPath(distances,endIndex,points);
		var node = points[points.length - 1];
		node.set_x(Start.x);
		node.set_y(Start.y);
		if(Start._weak) {
			Start.put();
		}
		node = points[0];
		node.set_x(End.x);
		node.set_y(End.y);
		if(End._weak) {
			End.put();
		}
		if(Simplify) {
			this.simplifyPath(points);
		}
		if(RaySimplify) {
			this.raySimplifyPath(points);
		}
		var path = [];
		var i = points.length - 1;
		while(i >= 0) {
			node = points[i--];
			if(node != null) {
				path.push(node);
			}
		}
		return path;
	}
	,computePathDistance: function(StartIndex,EndIndex,DiagonalPolicy,StopOnEnd) {
		if(StopOnEnd == null) {
			StopOnEnd = true;
		}
		var mapSize = this.widthInTiles * this.heightInTiles;
		var distances = [];
		flixel_util_FlxArrayUtil.setLength_Int(distances,mapSize);
		var i = 0;
		while(i < mapSize) {
			if(this._tileObjects[this._data[i]].allowCollisions != 0) {
				distances[i] = -2;
			} else {
				distances[i] = -1;
			}
			++i;
		}
		distances[StartIndex] = 0;
		var distance = 1;
		var neighbors = [StartIndex];
		var current;
		var currentIndex;
		var left;
		var right;
		var up;
		var down;
		var currentLength;
		var foundEnd = false;
		while(neighbors.length > 0) {
			current = neighbors;
			neighbors = [];
			i = 0;
			currentLength = current.length;
			while(i < currentLength) {
				currentIndex = current[i++];
				if(currentIndex == (EndIndex | 0)) {
					foundEnd = true;
					if(StopOnEnd) {
						neighbors = [];
						break;
					}
				}
				left = currentIndex % this.widthInTiles > 0;
				right = currentIndex % this.widthInTiles < this.widthInTiles - 1;
				up = currentIndex / this.widthInTiles > 0;
				down = currentIndex / this.widthInTiles < this.heightInTiles - 1;
				var index;
				if(up) {
					index = currentIndex - this.widthInTiles;
					if(distances[index] == -1) {
						distances[index] = distance;
						neighbors.push(index);
					}
				}
				if(right) {
					index = currentIndex + 1;
					if(distances[index] == -1) {
						distances[index] = distance;
						neighbors.push(index);
					}
				}
				if(down) {
					index = currentIndex + this.widthInTiles;
					if(distances[index] == -1) {
						distances[index] = distance;
						neighbors.push(index);
					}
				}
				if(left) {
					index = currentIndex - 1;
					if(distances[index] == -1) {
						distances[index] = distance;
						neighbors.push(index);
					}
				}
				if(DiagonalPolicy != 0) {
					var wideDiagonal = DiagonalPolicy == 2;
					if(up && right) {
						index = currentIndex - this.widthInTiles + 1;
						if(wideDiagonal && distances[index] == -1 && distances[currentIndex - this.widthInTiles] >= -1 && distances[currentIndex + 1] >= -1) {
							distances[index] = distance;
							neighbors.push(index);
						} else if(!wideDiagonal && distances[index] == -1) {
							distances[index] = distance;
							neighbors.push(index);
						}
					}
					if(right && down) {
						index = currentIndex + this.widthInTiles + 1;
						if(wideDiagonal && distances[index] == -1 && distances[currentIndex + this.widthInTiles] >= -1 && distances[currentIndex + 1] >= -1) {
							distances[index] = distance;
							neighbors.push(index);
						} else if(!wideDiagonal && distances[index] == -1) {
							distances[index] = distance;
							neighbors.push(index);
						}
					}
					if(left && down) {
						index = currentIndex + this.widthInTiles - 1;
						if(wideDiagonal && distances[index] == -1 && distances[currentIndex + this.widthInTiles] >= -1 && distances[currentIndex - 1] >= -1) {
							distances[index] = distance;
							neighbors.push(index);
						} else if(!wideDiagonal && distances[index] == -1) {
							distances[index] = distance;
							neighbors.push(index);
						}
					}
					if(up && left) {
						index = currentIndex - this.widthInTiles - 1;
						if(wideDiagonal && distances[index] == -1 && distances[currentIndex - this.widthInTiles] >= -1 && distances[currentIndex - 1] >= -1) {
							distances[index] = distance;
							neighbors.push(index);
						} else if(!wideDiagonal && distances[index] == -1) {
							distances[index] = distance;
							neighbors.push(index);
						}
					}
				}
			}
			++distance;
		}
		if(!foundEnd) {
			distances = null;
		}
		return distances;
	}
	,walkPath: function(Data,Start,Points) {
		Points.push(this.getTileCoordsByIndex(Start));
		if(Data[Start] == 0) {
			return;
		}
		var left = Start % this.widthInTiles > 0;
		var right = Start % this.widthInTiles < this.widthInTiles - 1;
		var up = Start / this.widthInTiles > 0;
		var down = Start / this.widthInTiles < this.heightInTiles - 1;
		var current = Data[Start];
		var i;
		if(up) {
			i = Start - this.widthInTiles;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(right) {
			i = Start + 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(down) {
			i = Start + this.widthInTiles;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(left) {
			i = Start - 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(up && right) {
			i = Start - this.widthInTiles + 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(right && down) {
			i = Start + this.widthInTiles + 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(left && down) {
			i = Start + this.widthInTiles - 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
		if(up && left) {
			i = Start - this.widthInTiles - 1;
			if(i >= 0 && Data[i] >= 0 && Data[i] < current) {
				this.walkPath(Data,i,Points);
				return;
			}
		}
	}
	,simplifyPath: function(Points) {
		var deltaPrevious;
		var deltaNext;
		var last = Points[0];
		var node;
		var i = 1;
		var l = Points.length - 1;
		while(i < l) {
			node = Points[i];
			deltaPrevious = (node.x - last.x) / (node.y - last.y);
			deltaNext = (node.x - Points[i + 1].x) / (node.y - Points[i + 1].y);
			if(last.x == Points[i + 1].x || last.y == Points[i + 1].y || deltaPrevious == deltaNext) {
				Points[i] = null;
			} else {
				last = node;
			}
			++i;
		}
	}
	,raySimplifyPath: function(Points) {
		var source = Points[0];
		var lastIndex = -1;
		var node;
		var i = 1;
		var l = Points.length;
		while(i < l) {
			node = Points[i++];
			if(node == null) {
				continue;
			}
			if(this.ray(source,node,this._point)) {
				if(lastIndex >= 0) {
					Points[lastIndex] = null;
				}
			} else {
				source = Points[lastIndex];
			}
			lastIndex = i - 1;
		}
	}
	,overlaps: function(ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.tilemapOverlapsCallback),group,0,0,InScreenSpace,Camera);
		} else if(ObjectOrGroup.flixelType == 1 || ObjectOrGroup.flixelType == 3 ? this.overlapsWithCallback(ObjectOrGroup) : this.overlaps(ObjectOrGroup,false,null)) {
			return true;
		}
		return false;
	}
	,tilemapOverlapsCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		if(ObjectOrGroup.flixelType == 1 || ObjectOrGroup.flixelType == 3) {
			return this.overlapsWithCallback(ObjectOrGroup);
		} else {
			return this.overlaps(ObjectOrGroup,InScreenSpace,Camera);
		}
	}
	,overlapsAt: function(X,Y,ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.tilemapOverlapsAtCallback),group,X,Y,InScreenSpace,Camera);
		} else if(ObjectOrGroup.flixelType == 1 || ObjectOrGroup.flixelType == 3 ? this.overlapsWithCallback(ObjectOrGroup,null,false,this._point.set(X,Y)) : this.overlapsAt(X,Y,ObjectOrGroup,InScreenSpace,Camera)) {
			return true;
		}
		return false;
	}
	,tilemapOverlapsAtCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		if(ObjectOrGroup.flixelType == 1 || ObjectOrGroup.flixelType == 3) {
			return this.overlapsWithCallback(ObjectOrGroup,null,false,this._point.set(X,Y));
		} else {
			return this.overlapsAt(X,Y,ObjectOrGroup,InScreenSpace,Camera);
		}
	}
	,overlapsPoint: function(WorldPoint,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		if(InScreenSpace) {
			if(Camera == null) {
				Camera = flixel_FlxG.camera;
			}
			WorldPoint.subtractPoint(Camera.scroll);
			if(WorldPoint._weak) {
				WorldPoint.put();
			}
		}
		return this.tileAtPointAllowsCollisions(WorldPoint);
	}
	,tileAtPointAllowsCollisions: function(point) {
		var tileIndex = this.getTileIndexByCoords(point);
		if(tileIndex < 0 || tileIndex >= this._data.length) {
			return false;
		}
		return this._tileObjects[this._data[tileIndex]].allowCollisions > 0;
	}
	,getBounds: function(Bounds) {
		if(Bounds == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect = _this;
			rect._inPool = false;
			Bounds = rect;
		}
		var X = this.x;
		var Y = this.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		Bounds.x = X;
		Bounds.y = Y;
		Bounds.width = Width;
		Bounds.height = Height;
		return Bounds;
	}
	,__class__: flixel_tile_FlxBaseTilemap
});
var flixel_tile_FlxTilemapAutoTiling = $hxEnums["flixel.tile.FlxTilemapAutoTiling"] = { __ename__:"flixel.tile.FlxTilemapAutoTiling",__constructs__:null
	,OFF: {_hx_name:"OFF",_hx_index:0,__enum__:"flixel.tile.FlxTilemapAutoTiling",toString:$estr}
	,AUTO: {_hx_name:"AUTO",_hx_index:1,__enum__:"flixel.tile.FlxTilemapAutoTiling",toString:$estr}
	,ALT: {_hx_name:"ALT",_hx_index:2,__enum__:"flixel.tile.FlxTilemapAutoTiling",toString:$estr}
	,FULL: {_hx_name:"FULL",_hx_index:3,__enum__:"flixel.tile.FlxTilemapAutoTiling",toString:$estr}
};
flixel_tile_FlxTilemapAutoTiling.__constructs__ = [flixel_tile_FlxTilemapAutoTiling.OFF,flixel_tile_FlxTilemapAutoTiling.AUTO,flixel_tile_FlxTilemapAutoTiling.ALT,flixel_tile_FlxTilemapAutoTiling.FULL];
var flixel_tile_FlxTileblock = function(X,Y,Width,Height) {
	flixel_FlxSprite.call(this,X,Y);
	this.makeGraphic(Width,Height,0,true);
	this.set_active(false);
	this.set_immovable(true);
	this.set_moves(false);
};
$hxClasses["flixel.tile.FlxTileblock"] = flixel_tile_FlxTileblock;
flixel_tile_FlxTileblock.__name__ = "flixel.tile.FlxTileblock";
flixel_tile_FlxTileblock.__super__ = flixel_FlxSprite;
flixel_tile_FlxTileblock.prototype = $extend(flixel_FlxSprite.prototype,{
	tileSprite: null
	,destroy: function() {
		this.tileSprite = flixel_util_FlxDestroyUtil.destroy(this.tileSprite);
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,loadFrames: function(tileFrames,empties) {
		if(empties == null) {
			empties = 0;
		}
		if(tileFrames == null) {
			return this;
		}
		this.tileSprite = this.tileSprite == null ? new flixel_FlxSprite() : this.tileSprite;
		this.tileSprite.set_frames(tileFrames);
		var spriteWidth = this.tileSprite.get_width() | 0;
		var spriteHeight = this.tileSprite.get_height() | 0;
		var total = this.tileSprite.numFrames + empties;
		var regen = false;
		if(this.get_width() % this.tileSprite.get_width() != 0) {
			this.set_width((this.get_width() / spriteWidth + 1 | 0) * spriteWidth);
			regen = true;
		}
		if(this.get_height() % this.tileSprite.get_height() != 0) {
			this.set_height((this.get_height() / spriteHeight + 1 | 0) * spriteHeight);
			regen = true;
		}
		if(regen) {
			this.makeGraphic(this.get_width() | 0,this.get_height() | 0,0,true);
		} else {
			flixel_util_FlxSpriteUtil.fill(this,0);
		}
		var row = 0;
		var column;
		var destinationX;
		var destinationY = 0;
		var widthInTiles = this.get_width() / spriteWidth | 0;
		var heightInTiles = this.get_height() / spriteHeight | 0;
		while(row < heightInTiles) {
			destinationX = 0;
			column = 0;
			while(column < widthInTiles) {
				if(flixel_FlxG.random.float() * total > empties) {
					this.tileSprite.animation.randomFrame();
					this.tileSprite.drawFrame();
					this.stamp(this.tileSprite,destinationX,destinationY);
				}
				destinationX += spriteWidth;
				++column;
			}
			destinationY += spriteHeight;
			++row;
		}
		this.dirty = true;
		return this;
	}
	,loadTiles: function(TileGraphic,TileWidth,TileHeight,Empties) {
		if(Empties == null) {
			Empties = 0;
		}
		if(TileHeight == null) {
			TileHeight = 0;
		}
		if(TileWidth == null) {
			TileWidth = 0;
		}
		if(TileGraphic == null) {
			return this;
		}
		var graph = flixel_FlxG.bitmap.add(TileGraphic);
		if(graph == null) {
			return this;
		}
		if(TileWidth == 0) {
			TileWidth = graph.height;
			if(TileWidth > graph.width) {
				TileWidth = graph.width;
			}
		}
		if(TileHeight == 0) {
			TileHeight = TileWidth;
			if(TileHeight > graph.height) {
				TileHeight = graph.height;
			}
		}
		var X = TileWidth;
		var Y = TileHeight;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		var tileFrames = flixel_graphics_frames_FlxTileFrames.fromGraphic(graph,point);
		return this.loadFrames(tileFrames,Empties);
	}
	,setTile: function(x,y,index) {
		this.tileSprite.animation.set_frameIndex(index);
		this.stamp(this.tileSprite,x * (this.tileSprite.get_width() | 0),y * (this.tileSprite.get_height() | 0));
		this.dirty = true;
	}
	,__class__: flixel_tile_FlxTileblock
});
var flixel_tweens_FlxEase = function() { };
$hxClasses["flixel.tweens.FlxEase"] = flixel_tweens_FlxEase;
flixel_tweens_FlxEase.__name__ = "flixel.tweens.FlxEase";
flixel_tweens_FlxEase.linear = function(t) {
	return t;
};
flixel_tweens_FlxEase.quadIn = function(t) {
	return t * t;
};
flixel_tweens_FlxEase.quadOut = function(t) {
	return -t * (t - 2);
};
flixel_tweens_FlxEase.quadInOut = function(t) {
	if(t <= .5) {
		return t * t * 2;
	} else {
		return 1 - --t * t * 2;
	}
};
flixel_tweens_FlxEase.cubeIn = function(t) {
	return t * t * t;
};
flixel_tweens_FlxEase.cubeOut = function(t) {
	return 1 + --t * t * t;
};
flixel_tweens_FlxEase.cubeInOut = function(t) {
	if(t <= .5) {
		return t * t * t * 4;
	} else {
		return 1 + --t * t * t * 4;
	}
};
flixel_tweens_FlxEase.quartIn = function(t) {
	return t * t * t * t;
};
flixel_tweens_FlxEase.quartOut = function(t) {
	return 1 - --t * t * t * t;
};
flixel_tweens_FlxEase.quartInOut = function(t) {
	if(t <= .5) {
		return t * t * t * t * 8;
	} else {
		t = t * 2 - 2;
		return (1 - t * t * t * t) / 2 + .5;
	}
};
flixel_tweens_FlxEase.quintIn = function(t) {
	return t * t * t * t * t;
};
flixel_tweens_FlxEase.quintOut = function(t) {
	return --t * t * t * t * t + 1;
};
flixel_tweens_FlxEase.quintInOut = function(t) {
	if((t *= 2) < 1) {
		return t * t * t * t * t / 2;
	} else {
		return ((t -= 2) * t * t * t * t + 2) / 2;
	}
};
flixel_tweens_FlxEase.smoothStepIn = function(t) {
	var t1 = t / 2;
	return 2 * (t1 * t1 * (t1 * -2 + 3));
};
flixel_tweens_FlxEase.smoothStepOut = function(t) {
	var t1 = t / 2 + 0.5;
	return 2 * (t1 * t1 * (t1 * -2 + 3)) - 1;
};
flixel_tweens_FlxEase.smoothStepInOut = function(t) {
	return t * t * (t * -2 + 3);
};
flixel_tweens_FlxEase.smootherStepIn = function(t) {
	var t1 = t / 2;
	return 2 * (t1 * t1 * t1 * (t1 * (t1 * 6 - 15) + 10));
};
flixel_tweens_FlxEase.smootherStepOut = function(t) {
	var t1 = t / 2 + 0.5;
	return 2 * (t1 * t1 * t1 * (t1 * (t1 * 6 - 15) + 10)) - 1;
};
flixel_tweens_FlxEase.smootherStepInOut = function(t) {
	return t * t * t * (t * (t * 6 - 15) + 10);
};
flixel_tweens_FlxEase.sineIn = function(t) {
	return -Math.cos(flixel_tweens_FlxEase.PI2 * t) + 1;
};
flixel_tweens_FlxEase.sineOut = function(t) {
	return Math.sin(flixel_tweens_FlxEase.PI2 * t);
};
flixel_tweens_FlxEase.sineInOut = function(t) {
	return -Math.cos(Math.PI * t) / 2 + .5;
};
flixel_tweens_FlxEase.bounceIn = function(t) {
	t = 1 - t;
	if(t < flixel_tweens_FlxEase.B1) {
		return 1 - 7.5625 * t * t;
	}
	if(t < flixel_tweens_FlxEase.B2) {
		return 1 - (7.5625 * (t - flixel_tweens_FlxEase.B3) * (t - flixel_tweens_FlxEase.B3) + .75);
	}
	if(t < flixel_tweens_FlxEase.B4) {
		return 1 - (7.5625 * (t - flixel_tweens_FlxEase.B5) * (t - flixel_tweens_FlxEase.B5) + .9375);
	}
	return 1 - (7.5625 * (t - flixel_tweens_FlxEase.B6) * (t - flixel_tweens_FlxEase.B6) + .984375);
};
flixel_tweens_FlxEase.bounceOut = function(t) {
	if(t < flixel_tweens_FlxEase.B1) {
		return 7.5625 * t * t;
	}
	if(t < flixel_tweens_FlxEase.B2) {
		return 7.5625 * (t - flixel_tweens_FlxEase.B3) * (t - flixel_tweens_FlxEase.B3) + .75;
	}
	if(t < flixel_tweens_FlxEase.B4) {
		return 7.5625 * (t - flixel_tweens_FlxEase.B5) * (t - flixel_tweens_FlxEase.B5) + .9375;
	}
	return 7.5625 * (t - flixel_tweens_FlxEase.B6) * (t - flixel_tweens_FlxEase.B6) + .984375;
};
flixel_tweens_FlxEase.bounceInOut = function(t) {
	if(t < .5) {
		t = 1 - t * 2;
		if(t < flixel_tweens_FlxEase.B1) {
			return (1 - 7.5625 * t * t) / 2;
		}
		if(t < flixel_tweens_FlxEase.B2) {
			return (1 - (7.5625 * (t - flixel_tweens_FlxEase.B3) * (t - flixel_tweens_FlxEase.B3) + .75)) / 2;
		}
		if(t < flixel_tweens_FlxEase.B4) {
			return (1 - (7.5625 * (t - flixel_tweens_FlxEase.B5) * (t - flixel_tweens_FlxEase.B5) + .9375)) / 2;
		}
		return (1 - (7.5625 * (t - flixel_tweens_FlxEase.B6) * (t - flixel_tweens_FlxEase.B6) + .984375)) / 2;
	}
	t = t * 2 - 1;
	if(t < flixel_tweens_FlxEase.B1) {
		return 7.5625 * t * t / 2 + .5;
	}
	if(t < flixel_tweens_FlxEase.B2) {
		return (7.5625 * (t - flixel_tweens_FlxEase.B3) * (t - flixel_tweens_FlxEase.B3) + .75) / 2 + .5;
	}
	if(t < flixel_tweens_FlxEase.B4) {
		return (7.5625 * (t - flixel_tweens_FlxEase.B5) * (t - flixel_tweens_FlxEase.B5) + .9375) / 2 + .5;
	}
	return (7.5625 * (t - flixel_tweens_FlxEase.B6) * (t - flixel_tweens_FlxEase.B6) + .984375) / 2 + .5;
};
flixel_tweens_FlxEase.circIn = function(t) {
	return -(Math.sqrt(1 - t * t) - 1);
};
flixel_tweens_FlxEase.circOut = function(t) {
	return Math.sqrt(1 - (t - 1) * (t - 1));
};
flixel_tweens_FlxEase.circInOut = function(t) {
	if(t <= .5) {
		return (Math.sqrt(1 - t * t * 4) - 1) / -2;
	} else {
		return (Math.sqrt(1 - (t * 2 - 2) * (t * 2 - 2)) + 1) / 2;
	}
};
flixel_tweens_FlxEase.expoIn = function(t) {
	return Math.pow(2,10 * (t - 1));
};
flixel_tweens_FlxEase.expoOut = function(t) {
	return -Math.pow(2,-10 * t) + 1;
};
flixel_tweens_FlxEase.expoInOut = function(t) {
	if(t < .5) {
		return Math.pow(2,10 * (t * 2 - 1)) / 2;
	} else {
		return (-Math.pow(2,-10 * (t * 2 - 1)) + 2) / 2;
	}
};
flixel_tweens_FlxEase.backIn = function(t) {
	return t * t * (2.70158 * t - 1.70158);
};
flixel_tweens_FlxEase.backOut = function(t) {
	return 1 - --t * t * (-2.70158 * t - 1.70158);
};
flixel_tweens_FlxEase.backInOut = function(t) {
	t *= 2;
	if(t < 1) {
		return t * t * (2.70158 * t - 1.70158) / 2;
	}
	--t;
	return (1 - --t * t * (-2.70158 * t - 1.70158)) / 2 + .5;
};
flixel_tweens_FlxEase.elasticIn = function(t) {
	return -(flixel_tweens_FlxEase.ELASTIC_AMPLITUDE * Math.pow(2,10 * --t) * Math.sin((t - flixel_tweens_FlxEase.ELASTIC_PERIOD / (2 * Math.PI) * Math.asin(1 / flixel_tweens_FlxEase.ELASTIC_AMPLITUDE)) * (2 * Math.PI) / flixel_tweens_FlxEase.ELASTIC_PERIOD));
};
flixel_tweens_FlxEase.elasticOut = function(t) {
	return flixel_tweens_FlxEase.ELASTIC_AMPLITUDE * Math.pow(2,-10 * t) * Math.sin((t - flixel_tweens_FlxEase.ELASTIC_PERIOD / (2 * Math.PI) * Math.asin(1 / flixel_tweens_FlxEase.ELASTIC_AMPLITUDE)) * (2 * Math.PI) / flixel_tweens_FlxEase.ELASTIC_PERIOD) + 1;
};
flixel_tweens_FlxEase.elasticInOut = function(t) {
	if(t < 0.5) {
		return -0.5 * (Math.pow(2,10 * (t -= 0.5)) * Math.sin((t - flixel_tweens_FlxEase.ELASTIC_PERIOD / 4) * (2 * Math.PI) / flixel_tweens_FlxEase.ELASTIC_PERIOD));
	}
	return Math.pow(2,-10 * (t -= 0.5)) * Math.sin((t - flixel_tweens_FlxEase.ELASTIC_PERIOD / 4) * (2 * Math.PI) / flixel_tweens_FlxEase.ELASTIC_PERIOD) * 0.5 + 1;
};
var flixel_tweens_FlxTween = function(Options,manager) {
	this._waitingForRestart = false;
	this._running = false;
	this._delayToUse = 0;
	this._secondsSinceStart = 0;
	this.loopDelay = 0;
	this.startDelay = 0;
	this.executions = 0;
	this.scale = 0;
	this.duration = 0;
	this.active = false;
	Options = this.resolveTweenOptions(Options);
	this.set_type(Options.type);
	this.onStart = Options.onStart;
	this.onUpdate = Options.onUpdate;
	this.onComplete = Options.onComplete;
	this.ease = Options.ease;
	this.setDelays(Options.startDelay,Options.loopDelay);
	this.manager = manager != null ? manager : flixel_tweens_FlxTween.globalManager;
};
$hxClasses["flixel.tweens.FlxTween"] = flixel_tweens_FlxTween;
flixel_tweens_FlxTween.__name__ = "flixel.tweens.FlxTween";
flixel_tweens_FlxTween.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_tweens_FlxTween.globalManager = null;
flixel_tweens_FlxTween.tween = function(Object1,Values,Duration,Options) {
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_tweens_FlxTween.globalManager.tween(Object1,Values,Duration,Options);
};
flixel_tweens_FlxTween.num = function(FromValue,ToValue,Duration,Options,TweenFunction) {
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_tweens_FlxTween.globalManager.num(FromValue,ToValue,Duration,Options,TweenFunction);
};
flixel_tweens_FlxTween.angle = function(Sprite,FromAngle,ToAngle,Duration,Options) {
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_tweens_FlxTween.globalManager.angle(Sprite,FromAngle,ToAngle,Duration,Options);
};
flixel_tweens_FlxTween.color = function(Sprite,Duration,FromColor,ToColor,Options) {
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_tweens_FlxTween.globalManager.color(Sprite,Duration,FromColor,ToColor,Options);
};
flixel_tweens_FlxTween.linearMotion = function(Object1,FromX,FromY,ToX,ToY,DurationOrSpeed,UseDuration,Options) {
	if(UseDuration == null) {
		UseDuration = true;
	}
	if(DurationOrSpeed == null) {
		DurationOrSpeed = 1;
	}
	return flixel_tweens_FlxTween.globalManager.linearMotion(Object1,FromX,FromY,ToX,ToY,DurationOrSpeed,UseDuration,Options);
};
flixel_tweens_FlxTween.quadMotion = function(Object1,FromX,FromY,ControlX,ControlY,ToX,ToY,DurationOrSpeed,UseDuration,Options) {
	if(UseDuration == null) {
		UseDuration = true;
	}
	if(DurationOrSpeed == null) {
		DurationOrSpeed = 1;
	}
	return flixel_tweens_FlxTween.globalManager.quadMotion(Object1,FromX,FromY,ControlX,ControlY,ToX,ToY,DurationOrSpeed,UseDuration,Options);
};
flixel_tweens_FlxTween.cubicMotion = function(Object1,FromX,FromY,aX,aY,bX,bY,ToX,ToY,Duration,Options) {
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_tweens_FlxTween.globalManager.cubicMotion(Object1,FromX,FromY,aX,aY,bX,bY,ToX,ToY,Duration,Options);
};
flixel_tweens_FlxTween.circularMotion = function(Object1,CenterX,CenterY,Radius,Angle,Clockwise,DurationOrSpeed,UseDuration,Options) {
	if(UseDuration == null) {
		UseDuration = true;
	}
	if(DurationOrSpeed == null) {
		DurationOrSpeed = 1;
	}
	return flixel_tweens_FlxTween.globalManager.circularMotion(Object1,CenterX,CenterY,Radius,Angle,Clockwise,DurationOrSpeed,UseDuration,Options);
};
flixel_tweens_FlxTween.linearPath = function(Object1,Points,DurationOrSpeed,UseDuration,Options) {
	if(UseDuration == null) {
		UseDuration = true;
	}
	if(DurationOrSpeed == null) {
		DurationOrSpeed = 1;
	}
	return flixel_tweens_FlxTween.globalManager.linearPath(Object1,Points,DurationOrSpeed,UseDuration,Options);
};
flixel_tweens_FlxTween.quadPath = function(Object1,Points,DurationOrSpeed,UseDuration,Options) {
	if(UseDuration == null) {
		UseDuration = true;
	}
	if(DurationOrSpeed == null) {
		DurationOrSpeed = 1;
	}
	return flixel_tweens_FlxTween.globalManager.quadPath(Object1,Points,DurationOrSpeed,UseDuration,Options);
};
flixel_tweens_FlxTween.cancelTweensOf = function(Object1,FieldPaths) {
	flixel_tweens_FlxTween.globalManager.cancelTweensOf(Object1,FieldPaths);
};
flixel_tweens_FlxTween.completeTweensOf = function(Object1,FieldPaths) {
	flixel_tweens_FlxTween.globalManager.completeTweensOf(Object1,FieldPaths);
};
flixel_tweens_FlxTween.prototype = {
	manager: null
	,active: null
	,duration: null
	,ease: null
	,onStart: null
	,onUpdate: null
	,onComplete: null
	,type: null
	,finished: null
	,scale: null
	,backward: null
	,executions: null
	,startDelay: null
	,loopDelay: null
	,_secondsSinceStart: null
	,_delayToUse: null
	,_running: null
	,_waitingForRestart: null
	,_chainedTweens: null
	,_nextTweenInChain: null
	,resolveTweenOptions: function(Options) {
		if(Options == null) {
			Options = { type : 8};
		}
		if(Options.type == null) {
			Options.type = 8;
		}
		return Options;
	}
	,destroy: function() {
		this.onStart = null;
		this.onUpdate = null;
		this.onComplete = null;
		this.ease = null;
		this.manager = null;
		this._chainedTweens = null;
		this._nextTweenInChain = null;
	}
	,then: function(tween) {
		return this.addChainedTween(tween);
	}
	,wait: function(delay) {
		return this.addChainedTween(flixel_tweens_FlxTween.num(0,0,delay));
	}
	,addChainedTween: function(tween) {
		tween.setVarsOnEnd();
		tween.manager.remove(tween,false);
		if(this._chainedTweens == null) {
			this._chainedTweens = [];
		}
		this._chainedTweens.push(tween);
		return this;
	}
	,update: function(elapsed) {
		this._secondsSinceStart += elapsed;
		var delay = this.executions > 0 ? this.loopDelay : this.startDelay;
		if(this._secondsSinceStart < delay) {
			return;
		}
		this.scale = Math.max(this._secondsSinceStart - delay,0) / this.duration;
		if(this.ease != null) {
			this.scale = this.ease(this.scale);
		}
		if(this.backward) {
			this.scale = 1 - this.scale;
		}
		if(this._secondsSinceStart > delay && !this._running) {
			this._running = true;
			if(this.onStart != null) {
				this.onStart(this);
			}
		}
		if(this._secondsSinceStart >= this.duration + delay) {
			this.scale = this.backward ? 0 : 1;
			this.finished = true;
		} else if(this.onUpdate != null) {
			this.onUpdate(this);
		}
	}
	,start: function() {
		this._waitingForRestart = false;
		this._secondsSinceStart = 0;
		this._delayToUse = this.executions > 0 ? this.loopDelay : this.startDelay;
		if(this.duration == 0) {
			this.set_active(false);
			return this;
		}
		this.set_active(true);
		this._running = false;
		this.finished = false;
		return this;
	}
	,cancel: function() {
		this.onEnd();
		if(this.manager != null) {
			this.manager.remove(this);
		}
	}
	,cancelChain: function() {
		if(this._nextTweenInChain != null) {
			this._nextTweenInChain.cancelChain();
		}
		if(this._chainedTweens != null) {
			this._chainedTweens = null;
		}
		this.cancel();
	}
	,finish: function() {
		this.executions++;
		if(this.onComplete != null) {
			this.onComplete(this);
		}
		var type = this.type & ~16;
		if(type == 1 || type == 8) {
			this.onEnd();
			this._secondsSinceStart = this.duration + this.startDelay;
			if(type == 8 && this.manager != null) {
				this.manager.remove(this);
			}
		}
		if(type == 2 || type == 4) {
			this._secondsSinceStart = (this._secondsSinceStart - this._delayToUse) % this.duration + this._delayToUse;
			this.scale = Math.max(this._secondsSinceStart - this._delayToUse,0) / this.duration;
			if(this.ease != null && this.scale > 0 && this.scale < 1) {
				this.scale = this.ease(this.scale);
			}
			if(type == 4) {
				this.backward = !this.backward;
				if(this.backward) {
					this.scale = 1 - this.scale;
				}
			}
			this.restart();
		}
	}
	,onEnd: function() {
		this.setVarsOnEnd();
		this.processTweenChain();
	}
	,setVarsOnEnd: function() {
		this.set_active(false);
		this._running = false;
		this.finished = true;
	}
	,processTweenChain: function() {
		if(this._chainedTweens == null || this._chainedTweens.length <= 0) {
			return;
		}
		this._nextTweenInChain = this._chainedTweens.shift();
		this.doNextTween(this._nextTweenInChain);
		this._chainedTweens = null;
	}
	,doNextTween: function(tween) {
		if(!tween.active) {
			tween.start();
			this.manager.add_flixel_tweens_FlxTween(tween);
		}
		tween.setChain(this._chainedTweens);
	}
	,setChain: function(previousChain) {
		if(previousChain == null) {
			return;
		}
		if(this._chainedTweens == null) {
			this._chainedTweens = previousChain;
		} else {
			this._chainedTweens = this._chainedTweens.concat(previousChain);
		}
	}
	,restart: function() {
		if(this.active) {
			this.start();
		} else {
			this._waitingForRestart = true;
		}
	}
	,isTweenOf: function(Object1,Field) {
		return false;
	}
	,setDelays: function(StartDelay,LoopDelay) {
		this.set_startDelay(StartDelay != null ? StartDelay : 0);
		this.set_loopDelay(LoopDelay != null ? LoopDelay : 0);
		return this;
	}
	,set_startDelay: function(value) {
		var dly = Math.abs(value);
		if(this.executions == 0) {
			this._delayToUse = dly;
		}
		return this.startDelay = dly;
	}
	,set_loopDelay: function(value) {
		var dly = Math.abs(value);
		if(this.executions > 0) {
			this._secondsSinceStart = this.duration * (Math.max(this._secondsSinceStart - this._delayToUse,0) / this.duration) + Math.max(dly - this.loopDelay,0);
			this._delayToUse = dly;
		}
		return this.loopDelay = dly;
	}
	,get_percent: function() {
		return Math.max(this._secondsSinceStart - this._delayToUse,0) / this.duration;
	}
	,set_percent: function(value) {
		return this._secondsSinceStart = this.duration * value + this._delayToUse;
	}
	,set_type: function(value) {
		if(value == 0) {
			value = 8;
		} else if(value == 16) {
			value = 1 | 16;
		}
		this.backward = (value & 16) > 0;
		return this.type = value;
	}
	,set_active: function(active) {
		this.active = active;
		if(this._waitingForRestart) {
			this.restart();
		}
		return active;
	}
	,__class__: flixel_tweens_FlxTween
	,__properties__: {set_loopDelay:"set_loopDelay",set_startDelay:"set_startDelay",set_percent:"set_percent",get_percent:"get_percent",set_type:"set_type",set_active:"set_active"}
};
var flixel_tweens_FlxTweenManager = function() {
	this._tweens = [];
	flixel_FlxBasic.call(this);
	this.set_visible(false);
	flixel_FlxG.signals.preStateSwitch.add($bind(this,this.clear));
};
$hxClasses["flixel.tweens.FlxTweenManager"] = flixel_tweens_FlxTweenManager;
flixel_tweens_FlxTweenManager.__name__ = "flixel.tweens.FlxTweenManager";
flixel_tweens_FlxTweenManager.__super__ = flixel_FlxBasic;
flixel_tweens_FlxTweenManager.prototype = $extend(flixel_FlxBasic.prototype,{
	add_flixel_tweens_motion_QuadPath: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_motion_LinearPath: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_motion_CircularMotion: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_motion_CubicMotion: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_motion_QuadMotion: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_motion_LinearMotion: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_misc_AngleTween: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_misc_ColorTween: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_misc_NumTween: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_FlxTween: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,add_flixel_tweens_misc_VarTween: function(Tween,Start) {
		if(Start == null) {
			Start = false;
		}
		if(Tween == null) {
			return null;
		}
		this._tweens.push(Tween);
		if(Start) {
			Tween.start();
		}
		return Tween;
	}
	,_tweens: null
	,tween: function(Object1,Values,Duration,Options) {
		if(Duration == null) {
			Duration = 1;
		}
		var tween = new flixel_tweens_misc_VarTween(Options,this);
		tween.tween(Object1,Values,Duration);
		return this.add_flixel_tweens_misc_VarTween(tween);
	}
	,num: function(FromValue,ToValue,Duration,Options,TweenFunction) {
		if(Duration == null) {
			Duration = 1;
		}
		var tween = new flixel_tweens_misc_NumTween(Options,this);
		tween.tween(FromValue,ToValue,Duration,TweenFunction);
		return this.add_flixel_tweens_misc_NumTween(tween);
	}
	,angle: function(Sprite,FromAngle,ToAngle,Duration,Options) {
		if(Duration == null) {
			Duration = 1;
		}
		var tween = new flixel_tweens_misc_AngleTween(Options,this);
		tween.tween(FromAngle,ToAngle,Duration,Sprite);
		return this.add_flixel_tweens_misc_AngleTween(tween);
	}
	,color: function(Sprite,Duration,FromColor,ToColor,Options) {
		if(Duration == null) {
			Duration = 1;
		}
		var tween = new flixel_tweens_misc_ColorTween(Options,this);
		tween.tween(Duration,FromColor,ToColor,Sprite);
		return this.add_flixel_tweens_misc_ColorTween(tween);
	}
	,linearMotion: function(Object1,FromX,FromY,ToX,ToY,DurationOrSpeed,UseDuration,Options) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		if(DurationOrSpeed == null) {
			DurationOrSpeed = 1;
		}
		var tween = new flixel_tweens_motion_LinearMotion(Options,this);
		tween.setObject(Object1);
		tween.setMotion(FromX,FromY,ToX,ToY,DurationOrSpeed,UseDuration);
		return this.add_flixel_tweens_motion_LinearMotion(tween);
	}
	,quadMotion: function(Object1,FromX,FromY,ControlX,ControlY,ToX,ToY,DurationOrSpeed,UseDuration,Options) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		if(DurationOrSpeed == null) {
			DurationOrSpeed = 1;
		}
		var tween = new flixel_tweens_motion_QuadMotion(Options,this);
		tween.setObject(Object1);
		tween.setMotion(FromX,FromY,ControlX,ControlY,ToX,ToY,DurationOrSpeed,UseDuration);
		return this.add_flixel_tweens_motion_QuadMotion(tween);
	}
	,cubicMotion: function(Object1,FromX,FromY,aX,aY,bX,bY,ToX,ToY,Duration,Options) {
		if(Duration == null) {
			Duration = 1;
		}
		var tween = new flixel_tweens_motion_CubicMotion(Options,this);
		tween.setObject(Object1);
		tween.setMotion(FromX,FromY,aX,aY,bX,bY,ToX,ToY,Duration);
		return this.add_flixel_tweens_motion_CubicMotion(tween);
	}
	,circularMotion: function(Object1,CenterX,CenterY,Radius,Angle,Clockwise,DurationOrSpeed,UseDuration,Options) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		if(DurationOrSpeed == null) {
			DurationOrSpeed = 1;
		}
		var tween = new flixel_tweens_motion_CircularMotion(Options,this);
		tween.setObject(Object1);
		tween.setMotion(CenterX,CenterY,Radius,Angle,Clockwise,DurationOrSpeed,UseDuration);
		return this.add_flixel_tweens_motion_CircularMotion(tween);
	}
	,linearPath: function(Object1,Points,DurationOrSpeed,UseDuration,Options) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		if(DurationOrSpeed == null) {
			DurationOrSpeed = 1;
		}
		var tween = new flixel_tweens_motion_LinearPath(Options,this);
		if(Points != null) {
			var _g = 0;
			while(_g < Points.length) {
				var point = Points[_g];
				++_g;
				tween.addPoint(point.x,point.y);
			}
		}
		tween.setObject(Object1);
		tween.setMotion(DurationOrSpeed,UseDuration);
		return this.add_flixel_tweens_motion_LinearPath(tween);
	}
	,quadPath: function(Object1,Points,DurationOrSpeed,UseDuration,Options) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		if(DurationOrSpeed == null) {
			DurationOrSpeed = 1;
		}
		var tween = new flixel_tweens_motion_QuadPath(Options,this);
		if(Points != null) {
			var _g = 0;
			while(_g < Points.length) {
				var point = Points[_g];
				++_g;
				tween.addPoint(point.x,point.y);
			}
		}
		tween.setObject(Object1);
		tween.setMotion(DurationOrSpeed,UseDuration);
		return this.add_flixel_tweens_motion_QuadPath(tween);
	}
	,destroy: function() {
		flixel_FlxBasic.prototype.destroy.call(this);
		flixel_FlxG.signals.preStateSwitch.remove($bind(this,this.clear));
	}
	,update: function(elapsed) {
		var finishedTweens = null;
		var _g = 0;
		var _g1 = this._tweens;
		while(_g < _g1.length) {
			var tween = _g1[_g];
			++_g;
			if(!tween.active) {
				continue;
			}
			tween.update(elapsed);
			if(tween.finished) {
				if(finishedTweens == null) {
					finishedTweens = [];
				}
				finishedTweens.push(tween);
			}
		}
		if(finishedTweens != null) {
			while(finishedTweens.length > 0) finishedTweens.shift().finish();
		}
	}
	,remove: function(Tween,Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		if(Tween == null) {
			return null;
		}
		Tween.set_active(false);
		if(Destroy) {
			Tween.destroy();
		}
		var array = this._tweens;
		var index = array.indexOf(Tween);
		if(index != -1) {
			array[index] = array[array.length - 1];
			array.pop();
		}
		return Tween;
	}
	,clear: function() {
		var _g = 0;
		var _g1 = this._tweens;
		while(_g < _g1.length) {
			var tween = _g1[_g];
			++_g;
			if(tween != null) {
				tween.set_active(false);
				tween.destroy();
			}
		}
		this._tweens.splice(0,this._tweens.length);
	}
	,cancelTweensOf: function(Object1,FieldPaths) {
		this.forEachTweensOf(Object1,FieldPaths,function(tween) {
			tween.cancel();
		});
	}
	,completeTweensOf: function(Object1,FieldPaths) {
		this.forEachTweensOf(Object1,FieldPaths,function(tween) {
			if((tween.type & 2) == 0 && (tween.type & 4) == 0 && tween.active) {
				tween.update(1.79e+308);
			}
		});
	}
	,forEachTweensOf: function(Object1,FieldPaths,Function1) {
		if(Object1 == null) {
			throw haxe_Exception.thrown("Cannot cancel tween variables of an object that is null.");
		}
		if(FieldPaths == null || FieldPaths.length == 0) {
			var i = this._tweens.length;
			while(i-- > 0) {
				var tween = this._tweens[i];
				if(tween.isTweenOf(Object1)) {
					Function1(tween);
				}
			}
		} else {
			var propertyInfos = [];
			var _g = 0;
			while(_g < FieldPaths.length) {
				var fieldPath = FieldPaths[_g];
				++_g;
				var target = Object1;
				var path = fieldPath.split(".");
				var field = path.pop();
				var _g1 = 0;
				while(_g1 < path.length) {
					var component = path[_g1];
					++_g1;
					target = Reflect.getProperty(target,component);
					if(!Reflect.isObject(target)) {
						break;
					}
				}
				if(Reflect.isObject(target)) {
					propertyInfos.push({ object : target, field : field});
				}
			}
			var i = this._tweens.length;
			while(i-- > 0) {
				var tween = this._tweens[i];
				var _g = 0;
				while(_g < propertyInfos.length) {
					var info = propertyInfos[_g];
					++_g;
					if(tween.isTweenOf(info.object,info.field)) {
						Function1(tween);
						break;
					}
				}
			}
		}
	}
	,completeAll: function() {
		var _g = 0;
		var _g1 = this._tweens;
		while(_g < _g1.length) {
			var tween = _g1[_g];
			++_g;
			if((tween.type & 2) == 0 && (tween.type & 4) == 0 && tween.active) {
				tween.update(1.79e+308);
			}
		}
	}
	,forEach: function(Function1) {
		var _g = 0;
		var _g1 = this._tweens;
		while(_g < _g1.length) {
			var tween = _g1[_g];
			++_g;
			Function1(tween);
		}
	}
	,__class__: flixel_tweens_FlxTweenManager
});
var flixel_tweens_misc_AngleTween = function(Options,manager) {
	flixel_tweens_FlxTween.call(this,Options,manager);
};
$hxClasses["flixel.tweens.misc.AngleTween"] = flixel_tweens_misc_AngleTween;
flixel_tweens_misc_AngleTween.__name__ = "flixel.tweens.misc.AngleTween";
flixel_tweens_misc_AngleTween.__super__ = flixel_tweens_FlxTween;
flixel_tweens_misc_AngleTween.prototype = $extend(flixel_tweens_FlxTween.prototype,{
	angle: null
	,sprite: null
	,_start: null
	,_range: null
	,destroy: function() {
		flixel_tweens_FlxTween.prototype.destroy.call(this);
		this.sprite = null;
	}
	,tween: function(FromAngle,ToAngle,Duration,Sprite) {
		this._start = this.angle = FromAngle;
		this._range = ToAngle - this.angle;
		this.duration = Duration;
		this.sprite = Sprite;
		if(this.sprite != null) {
			this.sprite.set_angle(this.angle % 360);
		}
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
		this.angle = this._start + this._range * this.scale;
		if(this.sprite != null) {
			var spriteAngle = this.angle % 360;
			this.sprite.set_angle(spriteAngle);
		}
	}
	,isTweenOf: function(object,field) {
		if(this.sprite == object) {
			if(field != null) {
				return field == "angle";
			} else {
				return true;
			}
		} else {
			return false;
		}
	}
	,__class__: flixel_tweens_misc_AngleTween
});
var flixel_tweens_misc_ColorTween = function(Options,manager) {
	flixel_tweens_FlxTween.call(this,Options,manager);
};
$hxClasses["flixel.tweens.misc.ColorTween"] = flixel_tweens_misc_ColorTween;
flixel_tweens_misc_ColorTween.__name__ = "flixel.tweens.misc.ColorTween";
flixel_tweens_misc_ColorTween.__super__ = flixel_tweens_FlxTween;
flixel_tweens_misc_ColorTween.prototype = $extend(flixel_tweens_FlxTween.prototype,{
	color: null
	,startColor: null
	,endColor: null
	,sprite: null
	,destroy: function() {
		flixel_tweens_FlxTween.prototype.destroy.call(this);
		this.sprite = null;
	}
	,tween: function(Duration,FromColor,ToColor,Sprite) {
		this.color = this.startColor = FromColor;
		this.endColor = ToColor;
		this.duration = Duration;
		this.sprite = Sprite;
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
		var Color1 = this.startColor;
		var Color2 = this.endColor;
		var Factor = this.scale;
		if(Factor == null) {
			Factor = 0.5;
		}
		var r = ((Color2 >> 16 & 255) - (Color1 >> 16 & 255)) * Factor + (Color1 >> 16 & 255) | 0;
		var g = ((Color2 >> 8 & 255) - (Color1 >> 8 & 255)) * Factor + (Color1 >> 8 & 255) | 0;
		var b = ((Color2 & 255) - (Color1 & 255)) * Factor + (Color1 & 255) | 0;
		var a = ((Color2 >> 24 & 255) - (Color1 >> 24 & 255)) * Factor + (Color1 >> 24 & 255) | 0;
		var Alpha = a;
		if(Alpha == null) {
			Alpha = 255;
		}
		var color = flixel_util_FlxColor._new();
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 255;
		}
		color &= -16711681;
		color |= (r > 255 ? 255 : r < 0 ? 0 : r) << 16;
		color &= -65281;
		color |= (g > 255 ? 255 : g < 0 ? 0 : g) << 8;
		color &= -256;
		color |= b > 255 ? 255 : b < 0 ? 0 : b;
		color &= 16777215;
		color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
		this.color = color;
		if(this.sprite != null) {
			this.sprite.set_color(this.color);
			this.sprite.set_alpha((this.color >> 24 & 255) / 255);
		}
	}
	,isTweenOf: function(object,field) {
		if(this.sprite == object) {
			if(field != null) {
				return field == "color";
			} else {
				return true;
			}
		} else {
			return false;
		}
	}
	,__class__: flixel_tweens_misc_ColorTween
});
var flixel_tweens_misc_NumTween = function(Options,manager) {
	flixel_tweens_FlxTween.call(this,Options,manager);
};
$hxClasses["flixel.tweens.misc.NumTween"] = flixel_tweens_misc_NumTween;
flixel_tweens_misc_NumTween.__name__ = "flixel.tweens.misc.NumTween";
flixel_tweens_misc_NumTween.__super__ = flixel_tweens_FlxTween;
flixel_tweens_misc_NumTween.prototype = $extend(flixel_tweens_FlxTween.prototype,{
	value: null
	,_tweenFunction: null
	,_start: null
	,_range: null
	,destroy: function() {
		flixel_tweens_FlxTween.prototype.destroy.call(this);
		this._tweenFunction = null;
	}
	,tween: function(fromValue,toValue,duration,tweenFunction) {
		this._tweenFunction = tweenFunction;
		this._start = this.value = fromValue;
		this._range = toValue - this.value;
		this.duration = duration;
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
		this.value = this._start + this._range * this.scale;
		if(this._tweenFunction != null) {
			this._tweenFunction(this.value);
		}
	}
	,__class__: flixel_tweens_misc_NumTween
});
var flixel_tweens_misc_VarTween = function(options,manager) {
	flixel_tweens_FlxTween.call(this,options,manager);
};
$hxClasses["flixel.tweens.misc.VarTween"] = flixel_tweens_misc_VarTween;
flixel_tweens_misc_VarTween.__name__ = "flixel.tweens.misc.VarTween";
flixel_tweens_misc_VarTween.__super__ = flixel_tweens_FlxTween;
flixel_tweens_misc_VarTween.prototype = $extend(flixel_tweens_FlxTween.prototype,{
	_object: null
	,_properties: null
	,_propertyInfos: null
	,tween: function(object,properties,duration) {
		this._object = object;
		this._properties = properties;
		this._propertyInfos = [];
		this.duration = duration;
		this.start();
		this.initializeVars();
		return this;
	}
	,update: function(elapsed) {
		var delay = this.executions > 0 ? this.loopDelay : this.startDelay;
		if(this._secondsSinceStart < delay) {
			flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
		} else {
			var f = this._propertyInfos[0].startValue;
			if(isNaN(f)) {
				this.setStartValues();
			}
			flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
			if(this.active) {
				var _g = 0;
				var _g1 = this._propertyInfos;
				while(_g < _g1.length) {
					var info = _g1[_g];
					++_g;
					Reflect.setProperty(info.object,info.field,info.startValue + info.range * this.scale);
				}
			}
		}
	}
	,initializeVars: function() {
		var fieldPaths;
		if(Reflect.isObject(this._properties)) {
			fieldPaths = Reflect.fields(this._properties);
		} else {
			throw haxe_Exception.thrown("Unsupported properties container - use an object containing key/value pairs.");
		}
		var _g = 0;
		while(_g < fieldPaths.length) {
			var fieldPath = fieldPaths[_g];
			++_g;
			var target = this._object;
			var path = fieldPath.split(".");
			var field = path.pop();
			var _g1 = 0;
			while(_g1 < path.length) {
				var component = path[_g1];
				++_g1;
				target = Reflect.getProperty(target,component);
				if(!Reflect.isObject(target)) {
					throw haxe_Exception.thrown("The object does not have the property \"" + component + "\" in \"" + fieldPath + "\"");
				}
			}
			this._propertyInfos.push({ object : target, field : field, startValue : NaN, range : Reflect.getProperty(this._properties,fieldPath)});
		}
	}
	,setStartValues: function() {
		var _g = 0;
		var _g1 = this._propertyInfos;
		while(_g < _g1.length) {
			var info = _g1[_g];
			++_g;
			if(Reflect.getProperty(info.object,info.field) == null) {
				throw haxe_Exception.thrown("The object does not have the property \"" + info.field + "\"");
			}
			var value = Reflect.getProperty(info.object,info.field);
			if(isNaN(value)) {
				throw haxe_Exception.thrown("The property \"" + info.field + "\" is not numeric.");
			}
			info.startValue = value;
			info.range -= value;
		}
	}
	,destroy: function() {
		flixel_tweens_FlxTween.prototype.destroy.call(this);
		this._object = null;
		this._properties = null;
		this._propertyInfos = null;
	}
	,isTweenOf: function(object,field) {
		if(object == this._object && field == null) {
			return true;
		}
		var _g = 0;
		var _g1 = this._propertyInfos;
		while(_g < _g1.length) {
			var property = _g1[_g];
			++_g;
			if(object == property.object && (field == property.field || field == null)) {
				return true;
			}
		}
		return false;
	}
	,__class__: flixel_tweens_misc_VarTween
});
var flixel_tweens_motion_Motion = function(Options,manager) {
	this.y = 0;
	this.x = 0;
	flixel_tweens_FlxTween.call(this,Options,manager);
};
$hxClasses["flixel.tweens.motion.Motion"] = flixel_tweens_motion_Motion;
flixel_tweens_motion_Motion.__name__ = "flixel.tweens.motion.Motion";
flixel_tweens_motion_Motion.__super__ = flixel_tweens_FlxTween;
flixel_tweens_motion_Motion.prototype = $extend(flixel_tweens_FlxTween.prototype,{
	x: null
	,y: null
	,_object: null
	,_wasObjectImmovable: null
	,destroy: function() {
		flixel_tweens_FlxTween.prototype.destroy.call(this);
		this._object = null;
	}
	,setObject: function(object) {
		this._object = object;
		this._wasObjectImmovable = this._object.immovable;
		this._object.set_immovable(true);
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_FlxTween.prototype.update.call(this,elapsed);
		this.postUpdate();
	}
	,onEnd: function() {
		this._object.set_immovable(this._wasObjectImmovable);
		flixel_tweens_FlxTween.prototype.onEnd.call(this);
	}
	,postUpdate: function() {
		if(this._object != null) {
			this._object.setPosition(this.x,this.y);
		}
	}
	,isTweenOf: function(object,field) {
		if(this._object == object) {
			if(!(field == null || field == "x")) {
				return field == "y";
			} else {
				return true;
			}
		} else {
			return false;
		}
	}
	,__class__: flixel_tweens_motion_Motion
});
var flixel_tweens_motion_CircularMotion = function(Options,manager) {
	this._angleFinish = 0;
	this._angleStart = 0;
	this._radius = 0;
	this._centerY = 0;
	this._centerX = 0;
	this.angle = 0;
	flixel_tweens_motion_Motion.call(this,Options,manager);
};
$hxClasses["flixel.tweens.motion.CircularMotion"] = flixel_tweens_motion_CircularMotion;
flixel_tweens_motion_CircularMotion.__name__ = "flixel.tweens.motion.CircularMotion";
flixel_tweens_motion_CircularMotion.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_CircularMotion.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	angle: null
	,_centerX: null
	,_centerY: null
	,_radius: null
	,_angleStart: null
	,_angleFinish: null
	,setMotion: function(CenterX,CenterY,Radius,Angle,Clockwise,DurationOrSpeed,UseDuration) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		this._centerX = CenterX;
		this._centerY = CenterY;
		this._radius = Radius;
		this.angle = this._angleStart = Angle * Math.PI / -180;
		this._angleFinish = Math.PI * 2 * (Clockwise ? 1 : -1);
		if(UseDuration) {
			this.duration = DurationOrSpeed;
		} else {
			this.duration = this._radius * (Math.PI * 2) / DurationOrSpeed;
		}
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		this.angle = this._angleStart + this._angleFinish * this.scale;
		this.x = this._centerX + Math.cos(this.angle) * this._radius;
		this.y = this._centerY + Math.sin(this.angle) * this._radius;
		if(this.finished) {
			this.postUpdate();
		}
	}
	,get_circumference: function() {
		return this._radius * (Math.PI * 2);
	}
	,__class__: flixel_tweens_motion_CircularMotion
	,__properties__: $extend(flixel_tweens_motion_Motion.prototype.__properties__,{get_circumference:"get_circumference"})
});
var flixel_tweens_motion_CubicMotion = function(Options,manager) {
	this._tt = 0;
	this._ttt = 0;
	this._bY = 0;
	this._bX = 0;
	this._aY = 0;
	this._aX = 0;
	this._toY = 0;
	this._toX = 0;
	this._fromY = 0;
	this._fromX = 0;
	flixel_tweens_motion_Motion.call(this,Options,manager);
};
$hxClasses["flixel.tweens.motion.CubicMotion"] = flixel_tweens_motion_CubicMotion;
flixel_tweens_motion_CubicMotion.__name__ = "flixel.tweens.motion.CubicMotion";
flixel_tweens_motion_CubicMotion.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_CubicMotion.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	_fromX: null
	,_fromY: null
	,_toX: null
	,_toY: null
	,_aX: null
	,_aY: null
	,_bX: null
	,_bY: null
	,_ttt: null
	,_tt: null
	,setMotion: function(fromX,fromY,aX,aY,bX,bY,toX,toY,duration) {
		this.x = this._fromX = fromX;
		this.y = this._fromY = fromY;
		this._aX = aX;
		this._aY = aY;
		this._bX = bX;
		this._bY = bY;
		this._toX = toX;
		this._toY = toY;
		this.duration = duration;
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		this.x = this.scale * this.scale * this.scale * (this._toX + 3 * (this._aX - this._bX) - this._fromX) + 3 * this.scale * this.scale * (this._fromX - 2 * this._aX + this._bX) + 3 * this.scale * (this._aX - this._fromX) + this._fromX;
		this.y = this.scale * this.scale * this.scale * (this._toY + 3 * (this._aY - this._bY) - this._fromY) + 3 * this.scale * this.scale * (this._fromY - 2 * this._aY + this._bY) + 3 * this.scale * (this._aY - this._fromY) + this._fromY;
		if(this.finished) {
			this.postUpdate();
		}
	}
	,__class__: flixel_tweens_motion_CubicMotion
});
var flixel_tweens_motion_LinearMotion = function(Options,manager) {
	this._distance = -1;
	this._moveY = 0;
	this._moveX = 0;
	this._fromY = 0;
	this._fromX = 0;
	flixel_tweens_motion_Motion.call(this,Options,manager);
};
$hxClasses["flixel.tweens.motion.LinearMotion"] = flixel_tweens_motion_LinearMotion;
flixel_tweens_motion_LinearMotion.__name__ = "flixel.tweens.motion.LinearMotion";
flixel_tweens_motion_LinearMotion.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_LinearMotion.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	_fromX: null
	,_fromY: null
	,_moveX: null
	,_moveY: null
	,_distance: null
	,setMotion: function(FromX,FromY,ToX,ToY,DurationOrSpeed,UseDuration) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		this._distance = -1;
		this.x = this._fromX = FromX;
		this.y = this._fromY = FromY;
		this._moveX = ToX - FromX;
		this._moveY = ToY - FromY;
		if(UseDuration) {
			this.duration = DurationOrSpeed;
		} else {
			this.duration = this.get_distance() / DurationOrSpeed;
		}
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		this.x = this._fromX + this._moveX * this.scale;
		this.y = this._fromY + this._moveY * this.scale;
		if(this.x == this._fromX + this._moveX && this.y == this._fromY + this._moveY && this.active && this._secondsSinceStart >= this.duration) {
			this.finished = true;
		}
		if(this.finished) {
			this.postUpdate();
		}
	}
	,get_distance: function() {
		if(this._distance >= 0) {
			return this._distance;
		}
		return this._distance = Math.sqrt(this._moveX * this._moveX + this._moveY * this._moveY);
	}
	,__class__: flixel_tweens_motion_LinearMotion
	,__properties__: $extend(flixel_tweens_motion_Motion.prototype.__properties__,{get_distance:"get_distance"})
});
var flixel_tweens_motion_LinearPath = function(Options,manager) {
	this._index = 0;
	this._speed = 0;
	this.distance = 0;
	flixel_tweens_motion_Motion.call(this,Options,manager);
	this.points = [];
	this._pointD = [0];
	this._pointT = [0];
};
$hxClasses["flixel.tweens.motion.LinearPath"] = flixel_tweens_motion_LinearPath;
flixel_tweens_motion_LinearPath.__name__ = "flixel.tweens.motion.LinearPath";
flixel_tweens_motion_LinearPath.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_LinearPath.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	distance: null
	,points: null
	,_pointD: null
	,_pointT: null
	,_speed: null
	,_index: null
	,_last: null
	,_prevPoint: null
	,_nextPoint: null
	,destroy: function() {
		flixel_tweens_motion_Motion.prototype.destroy.call(this);
		var _g = 0;
		var _g1 = this.points;
		while(_g < _g1.length) {
			var point = _g1[_g];
			++_g;
			point = flixel_util_FlxDestroyUtil.put(point);
		}
		this._last = flixel_util_FlxDestroyUtil.put(this._last);
		this._prevPoint = flixel_util_FlxDestroyUtil.put(this._prevPoint);
		this._nextPoint = flixel_util_FlxDestroyUtil.put(this._nextPoint);
	}
	,setMotion: function(DurationOrSpeed,UseDuration) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		this.updatePath();
		if(UseDuration) {
			this.duration = DurationOrSpeed;
			this._speed = this.distance / DurationOrSpeed;
		} else {
			this.duration = this.distance / DurationOrSpeed;
			this._speed = DurationOrSpeed;
		}
		this.start();
		return this;
	}
	,addPoint: function(x,y) {
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		if(this._last != null) {
			this.distance += Math.sqrt((x - this._last.x) * (x - this._last.x) + (y - this._last.y) * (y - this._last.y));
			this._pointD[this.points.length] = this.distance;
		}
		var tmp = this.points;
		var tmp1 = this.points.length;
		var X = x;
		var Y = y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		tmp[tmp1] = this._last = point;
		return this;
	}
	,getPoint: function(index) {
		if(index == null) {
			index = 0;
		}
		if(this.points.length == 0) {
			throw haxe_Exception.thrown("No points have been added to the path yet.");
		}
		return this.points[index % this.points.length];
	}
	,start: function() {
		this._index = this.backward ? this.points.length - 1 : 0;
		flixel_tweens_motion_Motion.prototype.start.call(this);
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		var td;
		var tt;
		if(this.points == null) {
			return;
		}
		if(!this.backward) {
			if(this._index < this.points.length - 1) {
				while(this.scale > this._pointT[this._index + 1]) {
					this._index++;
					if(this._index == this.points.length - 1) {
						this._index -= 1;
						break;
					}
				}
			}
			td = this._pointT[this._index];
			tt = this._pointT[this._index + 1] - td;
			td = (this.scale - td) / tt;
			this._prevPoint = this.points[this._index];
			this._nextPoint = this.points[this._index + 1];
			this.x = this._prevPoint.x + (this._nextPoint.x - this._prevPoint.x) * td;
			this.y = this._prevPoint.y + (this._nextPoint.y - this._prevPoint.y) * td;
		} else {
			if(this._index > 0) {
				while(this.scale < this._pointT[this._index - 1]) {
					this._index -= 1;
					if(this._index == 0) {
						this._index += 1;
						break;
					}
				}
			}
			td = this._pointT[this._index];
			tt = this._pointT[this._index - 1] - td;
			td = (this.scale - td) / tt;
			this._prevPoint = this.points[this._index];
			this._nextPoint = this.points[this._index - 1];
			this.x = this._prevPoint.x + (this._nextPoint.x - this._prevPoint.x) * td;
			this.y = this._prevPoint.y + (this._nextPoint.y - this._prevPoint.y) * td;
		}
		flixel_tweens_motion_Motion.prototype.postUpdate.call(this);
	}
	,updatePath: function() {
		if(this.points.length < 2) {
			throw haxe_Exception.thrown("A LinearPath must have at least 2 points to operate.");
		}
		if(this._pointD.length == this._pointT.length) {
			return;
		}
		var i = 0;
		while(i < this.points.length) this._pointT[i] = this._pointD[i++] / this.distance;
	}
	,__class__: flixel_tweens_motion_LinearPath
});
var flixel_tweens_motion_QuadMotion = function(Options,manager) {
	this._controlY = 0;
	this._controlX = 0;
	this._toY = 0;
	this._toX = 0;
	this._fromY = 0;
	this._fromX = 0;
	this._distance = -1;
	flixel_tweens_motion_Motion.call(this,Options,manager);
};
$hxClasses["flixel.tweens.motion.QuadMotion"] = flixel_tweens_motion_QuadMotion;
flixel_tweens_motion_QuadMotion.__name__ = "flixel.tweens.motion.QuadMotion";
flixel_tweens_motion_QuadMotion.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_QuadMotion.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	_distance: null
	,_fromX: null
	,_fromY: null
	,_toX: null
	,_toY: null
	,_controlX: null
	,_controlY: null
	,setMotion: function(FromX,FromY,ControlX,ControlY,ToX,ToY,DurationOrSpeed,UseDuration) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		this._distance = -1;
		this.x = this._fromX = FromX;
		this.y = this._fromY = FromY;
		this._controlX = ControlX;
		this._controlY = ControlY;
		this._toX = ToX;
		this._toY = ToY;
		if(UseDuration) {
			this.duration = DurationOrSpeed;
		} else {
			this.duration = this.get_distance() / DurationOrSpeed;
		}
		this.start();
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		this.x = this._fromX * (1 - this.scale) * (1 - this.scale) + this._controlX * 2 * (1 - this.scale) * this.scale + this._toX * this.scale * this.scale;
		this.y = this._fromY * (1 - this.scale) * (1 - this.scale) + this._controlY * 2 * (1 - this.scale) * this.scale + this._toY * this.scale * this.scale;
		if(this.finished) {
			this.postUpdate();
		}
	}
	,get_distance: function() {
		if(this._distance >= 0) {
			return this._distance;
		}
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var p1 = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var p2 = point;
		p1.set_x(this.x - 2 * this._controlX + this._toX);
		p1.set_y(this.y - 2 * this._controlY + this._toY);
		p2.set_x(2 * this._controlX - 2 * this.x);
		p2.set_y(2 * this._controlY - 2 * this.y);
		var a = 4 * (p1.x * p1.x + p1.y * p1.y);
		var b = 4 * (p1.x * p2.x + p1.y * p2.y);
		var c = p2.x * p2.x + p2.y * p2.y;
		var abc = 2 * Math.sqrt(a + b + c);
		var a2 = Math.sqrt(a);
		var a32 = 2 * a * a2;
		var c2 = 2 * Math.sqrt(c);
		var ba = b / a2;
		p1.put();
		p2.put();
		return (a32 * abc + a2 * b * (abc - c2) + (4 * c * a - b * b) * Math.log((2 * a2 + ba + abc) / (ba + c2))) / (4 * a32);
	}
	,__class__: flixel_tweens_motion_QuadMotion
	,__properties__: $extend(flixel_tweens_motion_Motion.prototype.__properties__,{get_distance:"get_distance"})
});
var flixel_tweens_motion_QuadPath = function(Options,manager) {
	this._updateCurve = true;
	this._numSegs = 0;
	this._index = 0;
	this._speed = 0;
	this._distance = 0;
	flixel_tweens_motion_Motion.call(this,Options,manager);
	this._points = [];
	this._curveT = [];
	this._curveD = [];
};
$hxClasses["flixel.tweens.motion.QuadPath"] = flixel_tweens_motion_QuadPath;
flixel_tweens_motion_QuadPath.__name__ = "flixel.tweens.motion.QuadPath";
flixel_tweens_motion_QuadPath.__super__ = flixel_tweens_motion_Motion;
flixel_tweens_motion_QuadPath.prototype = $extend(flixel_tweens_motion_Motion.prototype,{
	_points: null
	,_distance: null
	,_speed: null
	,_index: null
	,_numSegs: null
	,_updateCurve: null
	,_curveT: null
	,_curveD: null
	,_a: null
	,_b: null
	,_c: null
	,destroy: function() {
		flixel_tweens_motion_Motion.prototype.destroy.call(this);
		var _g = 0;
		var _g1 = this._points;
		while(_g < _g1.length) {
			var point = _g1[_g];
			++_g;
			point = flixel_util_FlxDestroyUtil.put(point);
		}
		this._a = flixel_util_FlxDestroyUtil.put(this._a);
		this._b = flixel_util_FlxDestroyUtil.put(this._b);
		this._c = flixel_util_FlxDestroyUtil.put(this._c);
	}
	,setMotion: function(DurationOrSpeed,UseDuration) {
		if(UseDuration == null) {
			UseDuration = true;
		}
		this.updatePath();
		if(UseDuration) {
			this.duration = DurationOrSpeed;
			this._speed = this._distance / DurationOrSpeed;
		} else {
			this.duration = this._distance / DurationOrSpeed;
			this._speed = DurationOrSpeed;
		}
		this.start();
		return this;
	}
	,addPoint: function(x,y) {
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		this._updateCurve = true;
		var tmp = this._points;
		var X = x;
		var Y = y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		tmp.push(point);
		return this;
	}
	,getPoint: function(index) {
		if(index == null) {
			index = 0;
		}
		if(this._points.length == 0) {
			throw haxe_Exception.thrown("No points have been added to the path yet.");
		}
		return this._points[index % this._points.length];
	}
	,start: function() {
		this._index = this.backward ? this._numSegs - 1 : 0;
		flixel_tweens_motion_Motion.prototype.start.call(this);
		return this;
	}
	,update: function(elapsed) {
		flixel_tweens_motion_Motion.prototype.update.call(this,elapsed);
		var td;
		var tt;
		if(!this.backward && this._points != null) {
			if(this._index < this._numSegs - 1) {
				while(this.scale > this._curveT[this._index + 1]) {
					this._index++;
					if(this._index == this._numSegs - 1) {
						break;
					}
				}
			}
			td = this._curveT[this._index];
			tt = this._curveT[this._index + 1] - td;
			td = (this.scale - td) / tt;
			this._a = this._points[this._index * 2];
			this._b = this._points[this._index * 2 + 1];
			this._c = this._points[this._index * 2 + 2];
			this.x = this._a.x * (1 - td) * (1 - td) + this._b.x * 2 * (1 - td) * td + this._c.x * td * td;
			this.y = this._a.y * (1 - td) * (1 - td) + this._b.y * 2 * (1 - td) * td + this._c.y * td * td;
		} else if(this._points != null) {
			if(this._index > 0) {
				while(this.scale < this._curveT[this._index]) {
					this._index--;
					if(this._index == 0) {
						break;
					}
				}
			}
			td = this._curveT[this._index + 1];
			tt = this._curveT[this._index] - td;
			td = (this.scale - td) / tt;
			this._a = this._points[this._index * 2 + 2];
			this._b = this._points[this._index * 2 + 1];
			this._c = this._points[this._index * 2];
			this.x = this._a.x * (1 - td) * (1 - td) + this._b.x * 2 * (1 - td) * td + this._c.x * td * td;
			this.y = this._a.y * (1 - td) * (1 - td) + this._b.y * 2 * (1 - td) * td + this._c.y * td * td;
		}
		flixel_tweens_motion_Motion.prototype.postUpdate.call(this);
	}
	,updatePath: function() {
		if((this._points.length - 1) % 2 != 0 || this._points.length < 3) {
			throw haxe_Exception.thrown("A QuadPath must have at least 3 points to operate and number of points must be a odd.");
		}
		if(!this._updateCurve) {
			return;
		}
		this._updateCurve = false;
		var i = 0;
		var j = 0;
		this._distance = 0;
		this._numSegs = (this._points.length - 1) / 2 | 0;
		while(i < this._numSegs) {
			j = i * 2;
			this._curveD[i] = this.getCurveLength(this._points[j],this._points[j + 1],this._points[j + 2]);
			this._distance += this._curveD[i++];
		}
		i = 0;
		var d = 0;
		while(i < this._numSegs) {
			d += this._curveD[i];
			this._curveT[i++] = d / this._distance;
		}
		this._curveT[this._numSegs - 1] = 1;
		this._curveT.unshift(0);
	}
	,getCurveLength: function(start,control,finish) {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var p1 = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		var p2 = point;
		p1.set_x(start.x - 2 * control.x + finish.x);
		p1.set_y(start.y - 2 * control.y + finish.y);
		p2.set_x(2 * control.x - 2 * start.x);
		p2.set_y(2 * control.y - 2 * start.y);
		var a = 4 * (p1.x * p1.x + p1.y * p1.y);
		var b = 4 * (p1.x * p2.x + p1.y * p2.y);
		var c = p2.x * p2.x + p2.y * p2.y;
		var abc = 2 * Math.sqrt(a + b + c);
		var a2 = Math.sqrt(a);
		var a32 = 2 * a * a2;
		var c2 = 2 * Math.sqrt(c);
		var ba = b / a2;
		p1.put();
		p2.put();
		return (a32 * abc + a2 * b * (abc - c2) + (4 * c * a - b * b) * Math.log((2 * a2 + ba + abc) / (ba + c2))) / (4 * a32);
	}
	,__class__: flixel_tweens_motion_QuadPath
});
var flixel_ui_FlxBarFillDirection = $hxEnums["flixel.ui.FlxBarFillDirection"] = { __ename__:"flixel.ui.FlxBarFillDirection",__constructs__:null
	,LEFT_TO_RIGHT: {_hx_name:"LEFT_TO_RIGHT",_hx_index:0,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,RIGHT_TO_LEFT: {_hx_name:"RIGHT_TO_LEFT",_hx_index:1,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,TOP_TO_BOTTOM: {_hx_name:"TOP_TO_BOTTOM",_hx_index:2,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,BOTTOM_TO_TOP: {_hx_name:"BOTTOM_TO_TOP",_hx_index:3,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,HORIZONTAL_INSIDE_OUT: {_hx_name:"HORIZONTAL_INSIDE_OUT",_hx_index:4,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,HORIZONTAL_OUTSIDE_IN: {_hx_name:"HORIZONTAL_OUTSIDE_IN",_hx_index:5,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,VERTICAL_INSIDE_OUT: {_hx_name:"VERTICAL_INSIDE_OUT",_hx_index:6,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
	,VERTICAL_OUTSIDE_IN: {_hx_name:"VERTICAL_OUTSIDE_IN",_hx_index:7,__enum__:"flixel.ui.FlxBarFillDirection",toString:$estr}
};
flixel_ui_FlxBarFillDirection.__constructs__ = [flixel_ui_FlxBarFillDirection.LEFT_TO_RIGHT,flixel_ui_FlxBarFillDirection.RIGHT_TO_LEFT,flixel_ui_FlxBarFillDirection.TOP_TO_BOTTOM,flixel_ui_FlxBarFillDirection.BOTTOM_TO_TOP,flixel_ui_FlxBarFillDirection.HORIZONTAL_INSIDE_OUT,flixel_ui_FlxBarFillDirection.HORIZONTAL_OUTSIDE_IN,flixel_ui_FlxBarFillDirection.VERTICAL_INSIDE_OUT,flixel_ui_FlxBarFillDirection.VERTICAL_OUTSIDE_IN];
var flixel_ui_FlxTypedButton_$flixel_$text_$FlxText = function(X,Y,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.lastStatus = -1;
	this.maxInputMovement = Infinity;
	this.mouseButtons = [-1];
	this.allowSwiping = true;
	this.statusAnimations = ["normal","highlight","pressed"];
	this.labelAlphas = [0.8,1.0,0.5];
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
	point1._inPool = false;
	var X1 = 0;
	var Y1 = 1;
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var point2 = flixel_math_FlxPoint._pool.get().set(X1,Y1);
	point2._inPool = false;
	this.labelOffsets = [point,point1,point2];
	flixel_FlxSprite.call(this,X,Y);
	this.loadDefaultGraphic();
	this.onUp = new flixel_ui__$FlxButton_FlxButtonEvent(OnClick);
	this.onDown = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOver = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOut = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.set_status(0);
	this.scrollFactor.set();
	openfl_Lib.get_current().stage.addEventListener("mouseUp",$bind(this,this.onUpEventListener));
	this.input = new flixel_input_FlxInput(0);
};
$hxClasses["flixel.ui.FlxTypedButton_flixel_text_FlxText"] = flixel_ui_FlxTypedButton_$flixel_$text_$FlxText;
flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.__name__ = "flixel.ui.FlxTypedButton_flixel_text_FlxText";
flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.__interfaces__ = [flixel_input_IFlxInput];
flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.__super__ = flixel_FlxSprite;
flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.prototype = $extend(flixel_FlxSprite.prototype,{
	label: null
	,labelOffsets: null
	,labelAlphas: null
	,statusAnimations: null
	,allowSwiping: null
	,mouseButtons: null
	,maxInputMovement: null
	,status: null
	,onUp: null
	,onDown: null
	,onOver: null
	,onOut: null
	,_spriteLabel: null
	,input: null
	,currentInput: null
	,lastStatus: null
	,graphicLoaded: function() {
		flixel_FlxSprite.prototype.graphicLoaded.call(this);
		this.setupAnimation("normal",0);
		this.setupAnimation("highlight",1);
		this.setupAnimation("pressed",2);
	}
	,loadDefaultGraphic: function() {
		this.loadGraphic("flixel/images/ui/button.png",true,80,20);
	}
	,setupAnimation: function(animationName,frameIndex) {
		frameIndex = Math.min(frameIndex,this.animation._sprite.numFrames - 1) | 0;
		this.animation.add(animationName,[frameIndex]);
	}
	,destroy: function() {
		this.set_label(flixel_util_FlxDestroyUtil.destroy(this.label));
		this._spriteLabel = null;
		this.onUp = flixel_util_FlxDestroyUtil.destroy(this.onUp);
		this.onDown = flixel_util_FlxDestroyUtil.destroy(this.onDown);
		this.onOver = flixel_util_FlxDestroyUtil.destroy(this.onOver);
		this.onOut = flixel_util_FlxDestroyUtil.destroy(this.onOut);
		this.labelOffsets = flixel_util_FlxDestroyUtil.putArray(this.labelOffsets);
		this.labelAlphas = null;
		this.currentInput = null;
		this.input = null;
		openfl_Lib.get_current().stage.removeEventListener("mouseUp",$bind(this,this.onUpEventListener));
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.visible) {
			this.updateButton();
			if(this.lastStatus != this.status) {
				this.updateStatusAnimation();
				this.lastStatus = this.status;
			}
		}
		this.input.update();
	}
	,updateStatusAnimation: function() {
		this.animation.play(this.statusAnimations[this.status]);
	}
	,draw: function() {
		flixel_FlxSprite.prototype.draw.call(this);
		if(this._spriteLabel != null && this._spriteLabel.visible) {
			this._spriteLabel.set_cameras(this.get_cameras());
			this._spriteLabel.draw();
		}
	}
	,stampOnAtlas: function(atlas) {
		var buttonNode = atlas.addNode(this.graphic.bitmap,this.graphic.key);
		var result = buttonNode != null;
		if(buttonNode != null) {
			var buttonFrames = this.frames;
			var X = buttonFrames.tileSize.x;
			var Y = buttonFrames.tileSize.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var tileSize = point;
			var tileFrames = buttonNode.getTileFrames(tileSize);
			this.set_frames(tileFrames);
		}
		if(result && this.label != null) {
			var labelNode = atlas.addNode(this.label.graphic.bitmap,this.label.graphic.key);
			result = result && labelNode != null;
			if(labelNode != null) {
				this.label.set_frames(labelNode.getImageFrame());
			}
		}
		return result;
	}
	,updateButton: function() {
		var overlapFound = this.checkMouseOverlap();
		if(!overlapFound) {
			overlapFound = this.checkTouchOverlap();
		}
		if(this.currentInput != null && this.currentInput.get_justReleased() && overlapFound) {
			this.onUpHandler();
		}
		if(this.status != 0 && (!overlapFound || this.currentInput != null && this.currentInput.get_justReleased())) {
			this.onOutHandler();
		}
	}
	,checkMouseOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = this.mouseButtons;
			while(_g2 < _g3.length) {
				var buttonID = _g3[_g2];
				++_g2;
				var button = flixel_input_mouse_FlxMouseButton.getByID(buttonID);
				if(button != null && this.checkInput(flixel_FlxG.mouse,button,button.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkTouchOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = flixel_FlxG.touches.list;
			while(_g2 < _g3.length) {
				var touch = _g3[_g2];
				++_g2;
				if(this.checkInput(touch,touch,touch.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkInput: function(pointer,input,justPressedPosition,camera) {
		var tmp;
		if(this.maxInputMovement != Infinity) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			tmp = justPressedPosition.distanceTo(pointer.getScreenPosition(null,point1)) > this.maxInputMovement;
		} else {
			tmp = false;
		}
		if(tmp && input == this.currentInput) {
			this.currentInput = null;
		} else if(this.overlapsPoint(pointer.getWorldPosition(camera,this._point),true,camera)) {
			this.updateStatus(input);
			return true;
		}
		return false;
	}
	,updateStatus: function(input) {
		if(input.get_justPressed()) {
			this.currentInput = input;
			this.onDownHandler();
		} else if(this.status == 0) {
			if(this.allowSwiping && input.get_pressed()) {
				this.onDownHandler();
			} else {
				this.onOverHandler();
			}
		}
	}
	,updateLabelPosition: function() {
		if(this._spriteLabel != null) {
			this._spriteLabel.set_x((this.pixelPerfectPosition ? Math.floor(this.x) : this.x) + this.labelOffsets[this.status].x);
			this._spriteLabel.set_y((this.pixelPerfectPosition ? Math.floor(this.y) : this.y) + this.labelOffsets[this.status].y);
		}
	}
	,updateLabelAlpha: function() {
		if(this._spriteLabel != null && this.labelAlphas.length > this.status) {
			this._spriteLabel.set_alpha(this.alpha * this.labelAlphas[this.status]);
		}
	}
	,onUpEventListener: function(_) {
		if(this.visible && this.exists && this.active && this.status == 2) {
			this.onUpHandler();
		}
	}
	,onUpHandler: function() {
		this.set_status(0);
		this.input.release();
		this.currentInput = null;
		var _this = this.onUp;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onDownHandler: function() {
		this.set_status(2);
		this.input.press();
		var _this = this.onDown;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOverHandler: function() {
		if(!flixel_FlxG.mouse.enabled) {
			this.set_status(0);
			return;
		}
		this.set_status(1);
		var _this = this.onOver;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOutHandler: function() {
		this.set_status(0);
		this.input.release();
		var _this = this.onOut;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,set_label: function(Value) {
		if(Value != null) {
			Value.scrollFactor.put();
			Value.scrollFactor = this.scrollFactor;
		}
		this.label = Value;
		this._spriteLabel = this.label;
		this.updateLabelPosition();
		return Value;
	}
	,set_status: function(Value) {
		this.status = Value;
		this.updateLabelAlpha();
		return this.status;
	}
	,set_alpha: function(Value) {
		flixel_FlxSprite.prototype.set_alpha.call(this,Value);
		this.updateLabelAlpha();
		return this.alpha;
	}
	,set_x: function(Value) {
		flixel_FlxSprite.prototype.set_x.call(this,Value);
		this.updateLabelPosition();
		return this.x;
	}
	,set_y: function(Value) {
		flixel_FlxSprite.prototype.set_y.call(this,Value);
		this.updateLabelPosition();
		return this.y;
	}
	,get_justReleased: function() {
		return this.input.current == -1;
	}
	,get_released: function() {
		var _this = this.input;
		if(_this.current != 0) {
			return _this.current == -1;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		var _this = this.input;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this.input.current == 2;
	}
	,__class__: flixel_ui_FlxTypedButton_$flixel_$text_$FlxText
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased",set_status:"set_status",set_label:"set_label"})
});
var flixel_ui_FlxButton = function(X,Y,Text1,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.call(this,X,Y,OnClick);
	var _g = 0;
	var _g1 = this.labelOffsets;
	while(_g < _g1.length) {
		var point = _g1[_g];
		++_g;
		point.set(point.x - 1,point.y + 3);
	}
	if(Text1 != null) {
		this.set_label(new flixel_text_FlxText(this.x + this.labelOffsets[0].x,this.y + this.labelOffsets[0].y,80,Text1));
		this.label.setFormat(null,8,3355443,"center");
		this.label.set_alpha(this.labelAlphas[this.status]);
		this.label.drawFrame(true);
	}
};
$hxClasses["flixel.ui.FlxButton"] = flixel_ui_FlxButton;
flixel_ui_FlxButton.__name__ = "flixel.ui.FlxButton";
flixel_ui_FlxButton.__super__ = flixel_ui_FlxTypedButton_$flixel_$text_$FlxText;
flixel_ui_FlxButton.prototype = $extend(flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.prototype,{
	resetHelpers: function() {
		flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.prototype.resetHelpers.call(this);
		if(this.label != null) {
			var tmp = this.label;
			var tmp1 = this.get_width() | 0;
			tmp.set_fieldWidth(this.label.frameWidth = tmp1);
			this.label.set_size(this.label._defaultFormat.size | 0);
		}
	}
	,initLabel: function(Text1) {
		if(Text1 != null) {
			this.set_label(new flixel_text_FlxText(this.x + this.labelOffsets[0].x,this.y + this.labelOffsets[0].y,80,Text1));
			this.label.setFormat(null,8,3355443,"center");
			this.label.set_alpha(this.labelAlphas[this.status]);
			this.label.drawFrame(true);
		}
	}
	,get_text: function() {
		if(this.label != null) {
			return this.label.text;
		} else {
			return null;
		}
	}
	,set_text: function(Text1) {
		if(this.label == null) {
			if(Text1 != null) {
				this.set_label(new flixel_text_FlxText(this.x + this.labelOffsets[0].x,this.y + this.labelOffsets[0].y,80,Text1));
				this.label.setFormat(null,8,3355443,"center");
				this.label.set_alpha(this.labelAlphas[this.status]);
				this.label.drawFrame(true);
			}
		} else {
			this.label.set_text(Text1);
		}
		return Text1;
	}
	,__class__: flixel_ui_FlxButton
	,__properties__: $extend(flixel_ui_FlxTypedButton_$flixel_$text_$FlxText.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})
});
var flixel_ui__$FlxButton_FlxButtonEvent = function(Callback,sound) {
	this.callback = Callback;
	this.sound = sound;
};
$hxClasses["flixel.ui._FlxButton.FlxButtonEvent"] = flixel_ui__$FlxButton_FlxButtonEvent;
flixel_ui__$FlxButton_FlxButtonEvent.__name__ = "flixel.ui._FlxButton.FlxButtonEvent";
flixel_ui__$FlxButton_FlxButtonEvent.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_ui__$FlxButton_FlxButtonEvent.prototype = {
	callback: null
	,sound: null
	,destroy: function() {
		this.callback = null;
		this.sound = flixel_util_FlxDestroyUtil.destroy(this.sound);
	}
	,fire: function() {
		if(this.callback != null) {
			this.callback();
		}
		if(this.sound != null) {
			this.sound.play(true);
		}
	}
	,__class__: flixel_ui__$FlxButton_FlxButtonEvent
};
var flixel_ui_FlxTypedButton_$flixel_$FlxSprite = function(X,Y,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this.lastStatus = -1;
	this.maxInputMovement = Infinity;
	this.mouseButtons = [-1];
	this.allowSwiping = true;
	this.statusAnimations = ["normal","highlight","pressed"];
	this.labelAlphas = [0.8,1.0,0.5];
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
	point1._inPool = false;
	var X1 = 0;
	var Y1 = 1;
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var point2 = flixel_math_FlxPoint._pool.get().set(X1,Y1);
	point2._inPool = false;
	this.labelOffsets = [point,point1,point2];
	flixel_FlxSprite.call(this,X,Y);
	this.loadDefaultGraphic();
	this.onUp = new flixel_ui__$FlxButton_FlxButtonEvent(OnClick);
	this.onDown = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOver = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.onOut = new flixel_ui__$FlxButton_FlxButtonEvent();
	this.set_status(0);
	this.scrollFactor.set();
	openfl_Lib.get_current().stage.addEventListener("mouseUp",$bind(this,this.onUpEventListener));
	this.input = new flixel_input_FlxInput(0);
};
$hxClasses["flixel.ui.FlxTypedButton_flixel_FlxSprite"] = flixel_ui_FlxTypedButton_$flixel_$FlxSprite;
flixel_ui_FlxTypedButton_$flixel_$FlxSprite.__name__ = "flixel.ui.FlxTypedButton_flixel_FlxSprite";
flixel_ui_FlxTypedButton_$flixel_$FlxSprite.__interfaces__ = [flixel_input_IFlxInput];
flixel_ui_FlxTypedButton_$flixel_$FlxSprite.__super__ = flixel_FlxSprite;
flixel_ui_FlxTypedButton_$flixel_$FlxSprite.prototype = $extend(flixel_FlxSprite.prototype,{
	label: null
	,labelOffsets: null
	,labelAlphas: null
	,statusAnimations: null
	,allowSwiping: null
	,mouseButtons: null
	,maxInputMovement: null
	,status: null
	,onUp: null
	,onDown: null
	,onOver: null
	,onOut: null
	,_spriteLabel: null
	,input: null
	,currentInput: null
	,lastStatus: null
	,graphicLoaded: function() {
		flixel_FlxSprite.prototype.graphicLoaded.call(this);
		this.setupAnimation("normal",0);
		this.setupAnimation("highlight",1);
		this.setupAnimation("pressed",2);
	}
	,loadDefaultGraphic: function() {
		this.loadGraphic("flixel/images/ui/button.png",true,80,20);
	}
	,setupAnimation: function(animationName,frameIndex) {
		frameIndex = Math.min(frameIndex,this.animation._sprite.numFrames - 1) | 0;
		this.animation.add(animationName,[frameIndex]);
	}
	,destroy: function() {
		this.set_label(flixel_util_FlxDestroyUtil.destroy(this.label));
		this._spriteLabel = null;
		this.onUp = flixel_util_FlxDestroyUtil.destroy(this.onUp);
		this.onDown = flixel_util_FlxDestroyUtil.destroy(this.onDown);
		this.onOver = flixel_util_FlxDestroyUtil.destroy(this.onOver);
		this.onOut = flixel_util_FlxDestroyUtil.destroy(this.onOut);
		this.labelOffsets = flixel_util_FlxDestroyUtil.putArray(this.labelOffsets);
		this.labelAlphas = null;
		this.currentInput = null;
		this.input = null;
		openfl_Lib.get_current().stage.removeEventListener("mouseUp",$bind(this,this.onUpEventListener));
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.visible) {
			this.updateButton();
			if(this.lastStatus != this.status) {
				this.updateStatusAnimation();
				this.lastStatus = this.status;
			}
		}
		this.input.update();
	}
	,updateStatusAnimation: function() {
		this.animation.play(this.statusAnimations[this.status]);
	}
	,draw: function() {
		flixel_FlxSprite.prototype.draw.call(this);
		if(this._spriteLabel != null && this._spriteLabel.visible) {
			this._spriteLabel.set_cameras(this.get_cameras());
			this._spriteLabel.draw();
		}
	}
	,stampOnAtlas: function(atlas) {
		var buttonNode = atlas.addNode(this.graphic.bitmap,this.graphic.key);
		var result = buttonNode != null;
		if(buttonNode != null) {
			var buttonFrames = this.frames;
			var X = buttonFrames.tileSize.x;
			var Y = buttonFrames.tileSize.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var tileSize = point;
			var tileFrames = buttonNode.getTileFrames(tileSize);
			this.set_frames(tileFrames);
		}
		if(result && this.label != null) {
			var labelNode = atlas.addNode(this.label.graphic.bitmap,this.label.graphic.key);
			result = result && labelNode != null;
			if(labelNode != null) {
				this.label.set_frames(labelNode.getImageFrame());
			}
		}
		return result;
	}
	,updateButton: function() {
		var overlapFound = this.checkMouseOverlap();
		if(!overlapFound) {
			overlapFound = this.checkTouchOverlap();
		}
		if(this.currentInput != null && this.currentInput.get_justReleased() && overlapFound) {
			this.onUpHandler();
		}
		if(this.status != 0 && (!overlapFound || this.currentInput != null && this.currentInput.get_justReleased())) {
			this.onOutHandler();
		}
	}
	,checkMouseOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = this.mouseButtons;
			while(_g2 < _g3.length) {
				var buttonID = _g3[_g2];
				++_g2;
				var button = flixel_input_mouse_FlxMouseButton.getByID(buttonID);
				if(button != null && this.checkInput(flixel_FlxG.mouse,button,button.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkTouchOverlap: function() {
		var overlap = false;
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = flixel_FlxG.touches.list;
			while(_g2 < _g3.length) {
				var touch = _g3[_g2];
				++_g2;
				if(this.checkInput(touch,touch,touch.justPressedPosition,camera)) {
					overlap = true;
				}
			}
		}
		return overlap;
	}
	,checkInput: function(pointer,input,justPressedPosition,camera) {
		var tmp;
		if(this.maxInputMovement != Infinity) {
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			tmp = justPressedPosition.distanceTo(pointer.getScreenPosition(null,point1)) > this.maxInputMovement;
		} else {
			tmp = false;
		}
		if(tmp && input == this.currentInput) {
			this.currentInput = null;
		} else if(this.overlapsPoint(pointer.getWorldPosition(camera,this._point),true,camera)) {
			this.updateStatus(input);
			return true;
		}
		return false;
	}
	,updateStatus: function(input) {
		if(input.get_justPressed()) {
			this.currentInput = input;
			this.onDownHandler();
		} else if(this.status == 0) {
			if(this.allowSwiping && input.get_pressed()) {
				this.onDownHandler();
			} else {
				this.onOverHandler();
			}
		}
	}
	,updateLabelPosition: function() {
		if(this._spriteLabel != null) {
			this._spriteLabel.set_x((this.pixelPerfectPosition ? Math.floor(this.x) : this.x) + this.labelOffsets[this.status].x);
			this._spriteLabel.set_y((this.pixelPerfectPosition ? Math.floor(this.y) : this.y) + this.labelOffsets[this.status].y);
		}
	}
	,updateLabelAlpha: function() {
		if(this._spriteLabel != null && this.labelAlphas.length > this.status) {
			this._spriteLabel.set_alpha(this.alpha * this.labelAlphas[this.status]);
		}
	}
	,onUpEventListener: function(_) {
		if(this.visible && this.exists && this.active && this.status == 2) {
			this.onUpHandler();
		}
	}
	,onUpHandler: function() {
		this.set_status(0);
		this.input.release();
		this.currentInput = null;
		var _this = this.onUp;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onDownHandler: function() {
		this.set_status(2);
		this.input.press();
		var _this = this.onDown;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOverHandler: function() {
		if(!flixel_FlxG.mouse.enabled) {
			this.set_status(0);
			return;
		}
		this.set_status(1);
		var _this = this.onOver;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,onOutHandler: function() {
		this.set_status(0);
		this.input.release();
		var _this = this.onOut;
		if(_this.callback != null) {
			_this.callback();
		}
		if(_this.sound != null) {
			_this.sound.play(true);
		}
	}
	,set_label: function(Value) {
		if(Value != null) {
			Value.scrollFactor.put();
			Value.scrollFactor = this.scrollFactor;
		}
		this.label = Value;
		this._spriteLabel = this.label;
		this.updateLabelPosition();
		return Value;
	}
	,set_status: function(Value) {
		this.status = Value;
		this.updateLabelAlpha();
		return this.status;
	}
	,set_alpha: function(Value) {
		flixel_FlxSprite.prototype.set_alpha.call(this,Value);
		this.updateLabelAlpha();
		return this.alpha;
	}
	,set_x: function(Value) {
		flixel_FlxSprite.prototype.set_x.call(this,Value);
		this.updateLabelPosition();
		return this.x;
	}
	,set_y: function(Value) {
		flixel_FlxSprite.prototype.set_y.call(this,Value);
		this.updateLabelPosition();
		return this.y;
	}
	,get_justReleased: function() {
		return this.input.current == -1;
	}
	,get_released: function() {
		var _this = this.input;
		if(_this.current != 0) {
			return _this.current == -1;
		} else {
			return true;
		}
	}
	,get_pressed: function() {
		var _this = this.input;
		if(_this.current != 1) {
			return _this.current == 2;
		} else {
			return true;
		}
	}
	,get_justPressed: function() {
		return this.input.current == 2;
	}
	,__class__: flixel_ui_FlxTypedButton_$flixel_$FlxSprite
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{get_justPressed:"get_justPressed",get_pressed:"get_pressed",get_released:"get_released",get_justReleased:"get_justReleased",set_status:"set_status",set_label:"set_label"})
});
var flixel_ui_FlxSpriteButton = function(X,Y,Label,OnClick) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	flixel_ui_FlxTypedButton_$flixel_$FlxSprite.call(this,X,Y,OnClick);
	var _g = 0;
	var _g1 = this.labelOffsets;
	while(_g < _g1.length) {
		var point = _g1[_g];
		++_g;
		point.set(point.x - 1,point.y + 4);
	}
	this.set_label(Label);
};
$hxClasses["flixel.ui.FlxSpriteButton"] = flixel_ui_FlxSpriteButton;
flixel_ui_FlxSpriteButton.__name__ = "flixel.ui.FlxSpriteButton";
flixel_ui_FlxSpriteButton.__interfaces__ = [flixel_input_IFlxInput];
flixel_ui_FlxSpriteButton.__super__ = flixel_ui_FlxTypedButton_$flixel_$FlxSprite;
flixel_ui_FlxSpriteButton.prototype = $extend(flixel_ui_FlxTypedButton_$flixel_$FlxSprite.prototype,{
	createTextLabel: function(Text1,font,size,color,align) {
		if(align == null) {
			align = "center";
		}
		if(color == null) {
			color = 3355443;
		}
		if(size == null) {
			size = 8;
		}
		if(Text1 != null) {
			var text = new flixel_text_FlxText(0,0,this.frameWidth,Text1);
			text.setFormat(font,size,color,align);
			text.set_alpha(this.labelAlphas[this.status]);
			text.drawFrame(true);
			var labelBitmap = text.graphic.bitmap.clone();
			var labelKey = text.graphic.key;
			text.destroy();
			if(this.label == null) {
				this.set_label(new flixel_FlxSprite());
			}
			var labelGraphic = flixel_FlxG.bitmap.add(labelBitmap,false,labelKey);
			this.label.set_frames(flixel_graphics_frames_FlxImageFrame.fromGraphic(labelGraphic));
		}
		return this;
	}
	,__class__: flixel_ui_FlxSpriteButton
});
var flixel_util_FlxArrayUtil = function() { };
$hxClasses["flixel.util.FlxArrayUtil"] = flixel_util_FlxArrayUtil;
flixel_util_FlxArrayUtil.__name__ = "flixel.util.FlxArrayUtil";
flixel_util_FlxArrayUtil.setLength_Int = function(array,newLength) {
	if(newLength < 0) {
		return array;
	}
	var oldLength = array.length;
	var diff = newLength - oldLength;
	if(diff >= 0) {
		return array;
	}
	diff = -diff;
	var _g = 0;
	var _g1 = diff;
	while(_g < _g1) {
		var i = _g++;
		array.pop();
	}
	return array;
};
flixel_util_FlxArrayUtil.flatten2DArray_Int = function(array) {
	var result = [];
	var _g = 0;
	while(_g < array.length) {
		var innerArray = array[_g];
		++_g;
		var _g1 = 0;
		while(_g1 < innerArray.length) {
			var element = innerArray[_g1];
			++_g1;
			result.push(element);
		}
	}
	return result;
};
flixel_util_FlxArrayUtil.setLength_cacheValue_T = function(array,newLength) {
	if(newLength < 0) {
		return array;
	}
	var oldLength = array.length;
	var diff = newLength - oldLength;
	if(diff >= 0) {
		return array;
	}
	diff = -diff;
	var _g = 0;
	var _g1 = diff;
	while(_g < _g1) {
		var i = _g++;
		array.pop();
	}
	return array;
};
flixel_util_FlxArrayUtil.fastSplice_flixel_util_FlxTimer = function(array,element) {
	var index = array.indexOf(element);
	if(index != -1) {
		array[index] = array[array.length - 1];
		array.pop();
		return array;
	}
	return array;
};
flixel_util_FlxArrayUtil.fastSplice_flixel_tweens_FlxTween = function(array,element) {
	var index = array.indexOf(element);
	if(index != -1) {
		array[index] = array[array.length - 1];
		array.pop();
		return array;
	}
	return array;
};
flixel_util_FlxArrayUtil.swapAndPop_fastSplice_T = function(array,index) {
	array[index] = array[array.length - 1];
	array.pop();
	return array;
};
flixel_util_FlxArrayUtil.setLength_flixel_group_FlxTypedGroup_T = function(array,newLength) {
	if(newLength < 0) {
		return array;
	}
	var oldLength = array.length;
	var diff = newLength - oldLength;
	if(diff >= 0) {
		return array;
	}
	diff = -diff;
	var _g = 0;
	var _g1 = diff;
	while(_g < _g1) {
		var i = _g++;
		array.pop();
	}
	return array;
};
flixel_util_FlxArrayUtil.clearArray = function(array,recursive) {
	if(recursive == null) {
		recursive = false;
	}
	if(array == null) {
		return array;
	}
	if(recursive) {
		while(array.length > 0) {
			var thing = array.pop();
			if(((thing) instanceof Array)) {
				flixel_util_FlxArrayUtil.clearArray(array,recursive);
			}
		}
	} else {
		while(array.length > 0) array.pop();
	}
	return array;
};
flixel_util_FlxArrayUtil.equals = function(array1,array2) {
	if(array1 == null && array2 == null) {
		return true;
	}
	if(array1 == null && array2 != null) {
		return false;
	}
	if(array1 != null && array2 == null) {
		return false;
	}
	if(array1.length != array2.length) {
		return false;
	}
	var _g = 0;
	var _g1 = array1.length;
	while(_g < _g1) {
		var i = _g++;
		if(array1[i] != array2[i]) {
			return false;
		}
	}
	return true;
};
flixel_util_FlxArrayUtil.last = function(array) {
	if(array == null || array.length == 0) {
		return null;
	}
	return array[array.length - 1];
};
flixel_util_FlxArrayUtil.safePush = function(array,element) {
	if(array == null) {
		array = [];
	}
	array.push(element);
	return array;
};
flixel_util_FlxArrayUtil.contains = function(array,element) {
	return array.indexOf(element) != -1;
};
var flixel_util_FlxAxes = $hxEnums["flixel.util.FlxAxes"] = { __ename__:"flixel.util.FlxAxes",__constructs__:null
	,X: {_hx_name:"X",_hx_index:0,__enum__:"flixel.util.FlxAxes",toString:$estr}
	,Y: {_hx_name:"Y",_hx_index:1,__enum__:"flixel.util.FlxAxes",toString:$estr}
	,XY: {_hx_name:"XY",_hx_index:2,__enum__:"flixel.util.FlxAxes",toString:$estr}
};
flixel_util_FlxAxes.__constructs__ = [flixel_util_FlxAxes.X,flixel_util_FlxAxes.Y,flixel_util_FlxAxes.XY];
var flixel_util_FlxBitmapDataPool = function() { };
$hxClasses["flixel.util.FlxBitmapDataPool"] = flixel_util_FlxBitmapDataPool;
flixel_util_FlxBitmapDataPool.__name__ = "flixel.util.FlxBitmapDataPool";
flixel_util_FlxBitmapDataPool.__properties__ = {set_maxLength:"set_maxLength"};
flixel_util_FlxBitmapDataPool.get = function(w,h,transparent,fillColor,exactSize) {
	if(exactSize == null) {
		exactSize = false;
	}
	if(transparent == null) {
		transparent = true;
	}
	var res = null;
	var node = flixel_util_FlxBitmapDataPool._head;
	while(node != null) {
		var bmd = node.bmd;
		if(bmd.transparent == transparent && bmd.width >= w && bmd.height >= h && (!exactSize || exactSize && bmd.width == w && bmd.height == h)) {
			res = bmd;
			if(node.prev != null) {
				node.prev.next = node.next;
			}
			if(node.next != null) {
				node.next.prev = node.prev;
			}
			if(node == flixel_util_FlxBitmapDataPool._head) {
				flixel_util_FlxBitmapDataPool._head = node.next;
			}
			if(node == flixel_util_FlxBitmapDataPool._tail) {
				flixel_util_FlxBitmapDataPool._tail = node.prev;
			}
			node = null;
			flixel_util_FlxBitmapDataPool.$length--;
			break;
		}
		node = node.next;
	}
	if(res != null) {
		if(fillColor != null) {
			flixel_util_FlxBitmapDataPool._rect.x = 0;
			flixel_util_FlxBitmapDataPool._rect.y = 0;
			flixel_util_FlxBitmapDataPool._rect.width = w;
			flixel_util_FlxBitmapDataPool._rect.height = h;
			res.fillRect(flixel_util_FlxBitmapDataPool._rect,fillColor);
		}
	} else {
		res = new openfl_display_BitmapData(w,h,transparent,fillColor != null ? fillColor : -1);
	}
	return res;
};
flixel_util_FlxBitmapDataPool.put = function(bmd) {
	if(flixel_util_FlxBitmapDataPool.$length >= flixel_util_FlxBitmapDataPool.maxLength) {
		var last = flixel_util_FlxBitmapDataPool._tail;
		last.bmd.dispose();
		if(last.prev != null) {
			last.prev.next = null;
			flixel_util_FlxBitmapDataPool._tail = last.prev;
		}
		last = null;
		flixel_util_FlxBitmapDataPool.$length--;
	}
	var node = new flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode(bmd);
	node.next = flixel_util_FlxBitmapDataPool._head;
	if(flixel_util_FlxBitmapDataPool._head == null) {
		flixel_util_FlxBitmapDataPool._head = flixel_util_FlxBitmapDataPool._tail = node;
	} else {
		flixel_util_FlxBitmapDataPool._head = node;
		node.next.prev = node;
	}
	flixel_util_FlxBitmapDataPool.$length++;
};
flixel_util_FlxBitmapDataPool.clear = function() {
	var node = flixel_util_FlxBitmapDataPool._head;
	while(node != null) {
		var bmd = node.bmd;
		bmd.dispose();
		bmd = null;
		node = node.next;
	}
	flixel_util_FlxBitmapDataPool.$length = 0;
	flixel_util_FlxBitmapDataPool._head = flixel_util_FlxBitmapDataPool._tail = null;
};
flixel_util_FlxBitmapDataPool.set_maxLength = function(value) {
	if(flixel_util_FlxBitmapDataPool.maxLength != value) {
		var node = flixel_util_FlxBitmapDataPool._tail;
		while(node != null && flixel_util_FlxBitmapDataPool.$length > value) {
			var bmd = node.bmd;
			bmd.dispose();
			bmd = null;
			node = node.prev;
			flixel_util_FlxBitmapDataPool.$length--;
		}
	}
	return flixel_util_FlxBitmapDataPool.maxLength = value;
};
var flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode = function(bmd,prev,next) {
	this.bmd = bmd;
	this.prev = prev;
	this.next = next;
};
$hxClasses["flixel.util._FlxBitmapDataPool.FlxBitmapDataPoolNode"] = flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode;
flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode.__name__ = "flixel.util._FlxBitmapDataPool.FlxBitmapDataPoolNode";
flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode.prototype = {
	bmd: null
	,prev: null
	,next: null
	,__class__: flixel_util__$FlxBitmapDataPool_FlxBitmapDataPoolNode
};
var flixel_util_FlxBitmapDataUtil = function() { };
$hxClasses["flixel.util.FlxBitmapDataUtil"] = flixel_util_FlxBitmapDataUtil;
flixel_util_FlxBitmapDataUtil.__name__ = "flixel.util.FlxBitmapDataUtil";
flixel_util_FlxBitmapDataUtil.merge = function(sourceBitmapData,sourceRect,destBitmapData,destPoint,redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier) {
	if(destPoint.x >= destBitmapData.width || destPoint.y >= destBitmapData.height || sourceRect.x >= sourceBitmapData.width || sourceRect.y >= sourceBitmapData.height || sourceRect.x + sourceRect.width <= 0 || sourceRect.y + sourceRect.height <= 0) {
		return;
	}
	while(sourceRect.x + sourceRect.width > sourceBitmapData.width || sourceRect.y + sourceRect.height > sourceBitmapData.height || sourceRect.x < 0 || sourceRect.y < 0 || destPoint.x < 0 || destPoint.y < 0) {
		if(sourceRect.x + sourceRect.width > sourceBitmapData.width) {
			sourceRect.width = sourceBitmapData.width - sourceRect.x;
		}
		if(sourceRect.y + sourceRect.height > sourceBitmapData.height) {
			sourceRect.height = sourceBitmapData.height - sourceRect.y;
		}
		if(sourceRect.x < 0) {
			destPoint.x -= sourceRect.x;
			sourceRect.width += sourceRect.x;
			sourceRect.x = 0;
		}
		if(sourceRect.y < 0) {
			destPoint.y -= sourceRect.y;
			sourceRect.height += sourceRect.y;
			sourceRect.y = 0;
		}
		if(destPoint.x >= destBitmapData.width || destPoint.y >= destBitmapData.height) {
			return;
		}
		if(destPoint.x < 0) {
			sourceRect.x -= destPoint.x;
			sourceRect.width += destPoint.x;
			destPoint.x = 0;
		}
		if(destPoint.y < 0) {
			sourceRect.y -= destPoint.y;
			sourceRect.height += destPoint.y;
			destPoint.y = 0;
		}
	}
	if(sourceRect.width <= 0 || sourceRect.height <= 0) {
		return;
	}
	var startSourceX = Math.round(sourceRect.x);
	var startSourceY = Math.round(sourceRect.y);
	var width = Math.round(sourceRect.width);
	var height = Math.round(sourceRect.height);
	var sourceX = startSourceX;
	var sourceY = startSourceY;
	var destX = Math.round(destPoint.x);
	var destY = Math.round(destPoint.y);
	var currX = destX;
	var currY = destY;
	var sourceColor;
	var destColor;
	var resultRed;
	var resultGreen;
	var resultBlue;
	var resultAlpha;
	var resultColor = 0;
	destBitmapData.lock();
	var _g = 0;
	var _g1 = width;
	while(_g < _g1) {
		var i = _g++;
		var _g2 = 0;
		var _g3 = height;
		while(_g2 < _g3) {
			var j = _g2++;
			sourceX = startSourceX + i;
			sourceY = startSourceY + j;
			currX = destX + i;
			currY = destY + j;
			sourceColor = sourceBitmapData.getPixel32(sourceX,sourceY);
			destColor = destBitmapData.getPixel32(currX,currY);
			resultRed = ((sourceColor >> 16 & 255) * redMultiplier + (destColor >> 16 & 255) * (256 - redMultiplier)) / 256 | 0;
			resultGreen = ((sourceColor >> 8 & 255) * greenMultiplier + (destColor >> 8 & 255) * (256 - greenMultiplier)) / 256 | 0;
			resultBlue = ((sourceColor & 255) * blueMultiplier + (destColor & 255) * (256 - blueMultiplier)) / 256 | 0;
			resultAlpha = ((sourceColor >> 24 & 255) * alphaMultiplier + (destColor >> 24 & 255) * (256 - alphaMultiplier)) / 256 | 0;
			var Alpha = resultAlpha;
			if(Alpha == null) {
				Alpha = 255;
			}
			var color = flixel_util_FlxColor._new();
			var Alpha1 = Alpha;
			if(Alpha1 == null) {
				Alpha1 = 255;
			}
			color &= -16711681;
			color |= (resultRed > 255 ? 255 : resultRed < 0 ? 0 : resultRed) << 16;
			color &= -65281;
			color |= (resultGreen > 255 ? 255 : resultGreen < 0 ? 0 : resultGreen) << 8;
			color &= -256;
			color |= resultBlue > 255 ? 255 : resultBlue < 0 ? 0 : resultBlue;
			color &= 16777215;
			color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
			resultColor = color;
			destBitmapData.setPixel32(currX,currY,resultColor);
		}
	}
	destBitmapData.unlock();
};
flixel_util_FlxBitmapDataUtil.mergeColorComponent = function(source,dest,multiplier) {
	return (source * multiplier + dest * (256 - multiplier)) / 256 | 0;
};
flixel_util_FlxBitmapDataUtil.compare = function(Bitmap1,Bitmap2) {
	if(Bitmap1 == Bitmap2) {
		return 0;
	}
	if(Bitmap1.width != Bitmap2.width) {
		return -3;
	} else if(Bitmap1.height != Bitmap2.height) {
		return -4;
	} else {
		var width = Bitmap1.width;
		var height = Bitmap1.height;
		var result = new openfl_display_BitmapData(width,height,true,0);
		var identical = true;
		var _g = 0;
		var _g1 = width;
		while(_g < _g1) {
			var i = _g++;
			var _g2 = 0;
			var _g3 = height;
			while(_g2 < _g3) {
				var j = _g2++;
				var pixel1 = Bitmap1.getPixel32(i,j);
				var pixel2 = Bitmap2.getPixel32(i,j);
				if(pixel1 != pixel2) {
					identical = false;
					if((pixel1 & 16777215) != (pixel2 & 16777215)) {
						var diff = (pixel1 >> 16 & 255) - (pixel2 >> 16 & 255);
						var Red = diff >= 0 ? diff : 256 + diff;
						var diff1 = (pixel1 >> 8 & 255) - (pixel2 >> 8 & 255);
						var Green = diff1 >= 0 ? diff1 : 256 + diff1;
						var diff2 = (pixel1 & 255) - (pixel2 & 255);
						var Blue = diff2 >= 0 ? diff2 : 256 + diff2;
						var color = flixel_util_FlxColor._new();
						var Alpha = 255;
						if(Alpha == null) {
							Alpha = 255;
						}
						color &= -16711681;
						color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
						color &= -65281;
						color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
						color &= -256;
						color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
						color &= 16777215;
						color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
						result.setPixel32(i,j,color);
					} else {
						var alpha1 = pixel1 >> 24 & 255;
						var alpha2 = pixel2 >> 24 & 255;
						if(alpha1 != alpha2) {
							var diff3 = alpha1 - alpha2;
							var Alpha1 = diff3 >= 0 ? diff3 : 256 + diff3;
							if(Alpha1 == null) {
								Alpha1 = 255;
							}
							var color1 = flixel_util_FlxColor._new();
							var Alpha2 = Alpha1;
							if(Alpha2 == null) {
								Alpha2 = 255;
							}
							color1 &= -16711681;
							color1 |= 16711680;
							color1 &= -65281;
							color1 |= 65280;
							color1 &= -256;
							color1 |= 255;
							color1 &= 16777215;
							color1 |= (Alpha2 > 255 ? 255 : Alpha2 < 0 ? 0 : Alpha2) << 24;
							result.setPixel32(i,j,color1);
						}
					}
				}
			}
		}
		if(!identical) {
			return result;
		}
	}
	return 0;
};
flixel_util_FlxBitmapDataUtil.getDiff = function(value1,value2) {
	var diff = value1 - value2;
	if(diff >= 0) {
		return diff;
	} else {
		return 256 + diff;
	}
};
flixel_util_FlxBitmapDataUtil.getMemorySize = function(bitmapData) {
	return bitmapData.width * bitmapData.height * 4;
};
flixel_util_FlxBitmapDataUtil.replaceColor = function(bitmapData,color,newColor,fetchPositions,rect) {
	if(fetchPositions == null) {
		fetchPositions = false;
	}
	var positions = null;
	if(fetchPositions) {
		positions = [];
	}
	var startX = 0;
	var startY = 0;
	var columns = bitmapData.width;
	var rows = bitmapData.height;
	if(rect != null) {
		startX = rect.x | 0;
		startY = rect.y | 0;
		columns = rect.width | 0;
		rows = rect.height | 0;
	}
	columns = Math.max(columns,bitmapData.width) | 0;
	rows = Math.max(rows,bitmapData.height) | 0;
	var row = 0;
	var column = 0;
	var x;
	var y;
	var changed = false;
	bitmapData.lock();
	while(row < rows) {
		column = 0;
		while(column < columns) {
			x = startX + column;
			y = startY + row;
			if(bitmapData.getPixel32(x,y) == color) {
				bitmapData.setPixel32(x,y,newColor);
				changed = true;
				if(fetchPositions) {
					var X = x;
					var Y = y;
					if(Y == null) {
						Y = 0;
					}
					if(X == null) {
						X = 0;
					}
					var point = flixel_math_FlxPoint._pool.get().set(X,Y);
					point._inPool = false;
					positions.push(point);
				}
			}
			++column;
		}
		++row;
	}
	bitmapData.unlock();
	if(changed && positions == null) {
		positions = [];
	}
	return positions;
};
flixel_util_FlxBitmapDataUtil.addSpacesAndBorders = function(bitmapData,frameSize,spacing,border,region) {
	if(region == null) {
		var X = 0;
		var Y = 0;
		var Width = bitmapData.width;
		var Height = bitmapData.height;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _this = flixel_math_FlxRect._pool.get();
		var X1 = X;
		var Y1 = Y;
		var Width1 = Width;
		var Height1 = Height;
		if(Height1 == null) {
			Height1 = 0;
		}
		if(Width1 == null) {
			Width1 = 0;
		}
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		_this.x = X1;
		_this.y = Y1;
		_this.width = Width1;
		_this.height = Height1;
		var rect = _this;
		rect._inPool = false;
		region = rect;
	}
	var frameWidth = region.width | 0;
	var frameHeight = region.height | 0;
	if(frameSize != null) {
		frameWidth = frameSize.x | 0;
		frameHeight = frameSize.y | 0;
	}
	var numHorizontalFrames = region.width / frameWidth | 0;
	var numVerticalFrames = region.height / frameHeight | 0;
	var spaceX = 0;
	var spaceY = 0;
	if(spacing != null) {
		spaceX = spacing.x | 0;
		spaceY = spacing.y | 0;
	}
	var borderX = 0;
	var borderY = 0;
	if(border != null) {
		borderX = border.x | 0;
		borderY = border.y | 0;
	}
	var result = new openfl_display_BitmapData(region.width + (numHorizontalFrames - 1) * spaceX + 2 * numHorizontalFrames * borderX | 0,region.height + (numVerticalFrames - 1) * spaceY + 2 * numVerticalFrames * borderY | 0,true,0);
	result.lock();
	var tempRect = new openfl_geom_Rectangle(0,0,frameWidth,frameHeight);
	var tempPoint = new openfl_geom_Point();
	var _g = 0;
	var _g1 = numHorizontalFrames;
	while(_g < _g1) {
		var i = _g++;
		tempPoint.x = i * (frameWidth + spaceX + 2 * borderX) + borderX;
		tempRect.x = i * frameWidth + region.x;
		var _g2 = 0;
		var _g3 = numVerticalFrames;
		while(_g2 < _g3) {
			var j = _g2++;
			tempPoint.y = j * (frameHeight + spaceY + 2 * borderY) + borderY;
			tempRect.y = j * frameHeight + region.y;
			result.copyPixels(bitmapData,tempRect,tempPoint);
		}
	}
	result.unlock();
	flixel_util_FlxBitmapDataUtil.copyBorderPixels(result,frameWidth,frameHeight,spaceX,spaceY,borderX,borderY,numHorizontalFrames,numVerticalFrames);
	return result;
};
flixel_util_FlxBitmapDataUtil.copyBorderPixels = function(bitmapData,frameWidth,frameHeight,spaceX,spaceY,borderX,borderY,horizontalFrames,verticalFrames) {
	var tempRect = new openfl_geom_Rectangle(0,0,1,bitmapData.height);
	var tempPoint = new openfl_geom_Point();
	bitmapData.lock();
	var _g = 0;
	var _g1 = horizontalFrames;
	while(_g < _g1) {
		var i = _g++;
		tempRect.x = i * (frameWidth + 2 * borderX + spaceX) + borderX;
		var _g2 = 0;
		var _g3 = borderX;
		while(_g2 < _g3) {
			var j = _g2++;
			tempPoint.x = tempRect.x - j - 1;
			bitmapData.copyPixels(bitmapData,tempRect,tempPoint);
		}
		tempRect.x += frameWidth - 1;
		var _g4 = 0;
		var _g5 = borderX;
		while(_g4 < _g5) {
			var j1 = _g4++;
			tempPoint.x = tempRect.x + j1 + 1;
			bitmapData.copyPixels(bitmapData,tempRect,tempPoint);
		}
	}
	tempPoint.setTo(0,0);
	tempRect.setTo(0,0,bitmapData.width,1);
	var _g = 0;
	var _g1 = verticalFrames;
	while(_g < _g1) {
		var i = _g++;
		tempRect.y = i * (frameHeight + 2 * borderY + spaceY) + borderY;
		var _g2 = 0;
		var _g3 = borderY;
		while(_g2 < _g3) {
			var j = _g2++;
			tempPoint.y = tempRect.y - j - 1;
			bitmapData.copyPixels(bitmapData,tempRect,tempPoint);
		}
		tempRect.y += frameHeight - 1;
		var _g4 = 0;
		var _g5 = borderY;
		while(_g4 < _g5) {
			var j1 = _g4++;
			tempPoint.y = tempRect.y + j1 + 1;
			bitmapData.copyPixels(bitmapData,tempRect,tempPoint);
		}
	}
	bitmapData.unlock();
	return bitmapData;
};
flixel_util_FlxBitmapDataUtil.generateRotations = function(brush,rotations,antiAliasing,autoBuffer) {
	if(autoBuffer == null) {
		autoBuffer = false;
	}
	if(antiAliasing == null) {
		antiAliasing = false;
	}
	if(rotations == null) {
		rotations = 16;
	}
	var brushWidth = brush.width;
	var brushHeight = brush.height;
	var max = brushHeight > brushWidth ? brushHeight : brushWidth;
	if(autoBuffer) {
		max = max * 1.5 | 0;
	}
	var rows = Math.sqrt(rotations) | 0;
	var columns = Math.ceil(rotations / rows);
	var bakedRotationAngle = 360 / rotations;
	var width = max * columns;
	var height = max * rows;
	var result = new openfl_display_BitmapData(width,height,true,0);
	var row = 0;
	var column = 0;
	var bakedAngle = 0;
	var halfBrushWidth = brushWidth * 0.5 | 0;
	var halfBrushHeight = brushHeight * 0.5 | 0;
	var midpointX = max * 0.5 | 0;
	var midpointY = max * 0.5 | 0;
	while(row < rows) {
		column = 0;
		while(column < columns) {
			flixel_util_FlxBitmapDataUtil.matrix.identity();
			flixel_util_FlxBitmapDataUtil.matrix.translate(-halfBrushWidth,-halfBrushHeight);
			flixel_util_FlxBitmapDataUtil.matrix.rotate(bakedAngle * (Math.PI / 180));
			flixel_util_FlxBitmapDataUtil.matrix.translate(max * column + midpointX,midpointY);
			bakedAngle += bakedRotationAngle;
			result.draw(brush,flixel_util_FlxBitmapDataUtil.matrix,null,null,null,antiAliasing);
			++column;
		}
		midpointY += max;
		++row;
	}
	return result;
};
var flixel_util_FlxCollision = function() { };
$hxClasses["flixel.util.FlxCollision"] = flixel_util_FlxCollision;
flixel_util_FlxCollision.__name__ = "flixel.util.FlxCollision";
flixel_util_FlxCollision.pixelPerfectCheck = function(Contact,Target,AlphaTolerance,Camera) {
	if(AlphaTolerance == null) {
		AlphaTolerance = 1;
	}
	var advanced = Contact.angle != 0 || Target.angle != 0 || Contact.scale.x != 1 || Contact.scale.y != 1 || Target.scale.x != 1 || Target.scale.y != 1;
	Contact.getScreenBounds(flixel_util_FlxCollision.boundsA,Camera);
	Target.getScreenBounds(flixel_util_FlxCollision.boundsB,Camera);
	var _this = flixel_util_FlxCollision.intersect;
	_this.x = 0;
	_this.y = 0;
	_this.width = 0;
	_this.height = 0;
	flixel_util_FlxCollision.boundsA.intersection(flixel_util_FlxCollision.boundsB,_this);
	var _this = flixel_util_FlxCollision.intersect;
	if(_this.width == 0 || _this.height == 0 || flixel_util_FlxCollision.intersect.width < 1 || flixel_util_FlxCollision.intersect.height < 1) {
		return false;
	}
	flixel_util_FlxCollision.matrixA.identity();
	flixel_util_FlxCollision.matrixA.translate(-(flixel_util_FlxCollision.intersect.x - flixel_util_FlxCollision.boundsA.x),-(flixel_util_FlxCollision.intersect.y - flixel_util_FlxCollision.boundsA.y));
	flixel_util_FlxCollision.matrixB.identity();
	flixel_util_FlxCollision.matrixB.translate(-(flixel_util_FlxCollision.intersect.x - flixel_util_FlxCollision.boundsB.x),-(flixel_util_FlxCollision.intersect.y - flixel_util_FlxCollision.boundsB.y));
	Contact.drawFrame();
	Target.drawFrame();
	var testA = Contact.framePixels;
	var testB = Target.framePixels;
	var overlapWidth = flixel_util_FlxCollision.intersect.width | 0;
	var overlapHeight = flixel_util_FlxCollision.intersect.height | 0;
	if(advanced) {
		flixel_util_FlxCollision.testMatrix.identity();
		flixel_util_FlxCollision.testMatrix.translate(-Contact.origin.x,-Contact.origin.y);
		flixel_util_FlxCollision.testMatrix.rotate(Contact.angle * (Math.PI / 180));
		flixel_util_FlxCollision.testMatrix.scale(Contact.scale.x,Contact.scale.y);
		flixel_util_FlxCollision.testMatrix.translate(flixel_util_FlxCollision.boundsA.width / 2,flixel_util_FlxCollision.boundsA.height / 2);
		var testA2 = flixel_util_FlxBitmapDataPool.get(Math.floor(flixel_util_FlxCollision.boundsA.width),Math.floor(flixel_util_FlxCollision.boundsA.height),true,0,false);
		testA2.draw(testA,flixel_util_FlxCollision.testMatrix,null,null,null,false);
		testA = testA2;
		flixel_util_FlxCollision.testMatrix.identity();
		flixel_util_FlxCollision.testMatrix.translate(-Target.origin.x,-Target.origin.y);
		flixel_util_FlxCollision.testMatrix.rotate(Target.angle * (Math.PI / 180));
		flixel_util_FlxCollision.testMatrix.scale(Target.scale.x,Target.scale.y);
		flixel_util_FlxCollision.testMatrix.translate(flixel_util_FlxCollision.boundsB.width / 2,flixel_util_FlxCollision.boundsB.height / 2);
		var testB2 = flixel_util_FlxBitmapDataPool.get(Math.floor(flixel_util_FlxCollision.boundsB.width),Math.floor(flixel_util_FlxCollision.boundsB.height),true,0,false);
		testB2.draw(testB,flixel_util_FlxCollision.testMatrix,null,null,null,false);
		testB = testB2;
	}
	flixel_util_FlxCollision.boundsA.x = -flixel_util_FlxCollision.matrixA.tx | 0;
	flixel_util_FlxCollision.boundsA.y = -flixel_util_FlxCollision.matrixA.ty | 0;
	flixel_util_FlxCollision.boundsA.width = overlapWidth;
	flixel_util_FlxCollision.boundsA.height = overlapHeight;
	flixel_util_FlxCollision.boundsB.x = -flixel_util_FlxCollision.matrixB.tx | 0;
	flixel_util_FlxCollision.boundsB.y = -flixel_util_FlxCollision.matrixB.ty | 0;
	flixel_util_FlxCollision.boundsB.width = overlapWidth;
	flixel_util_FlxCollision.boundsB.height = overlapHeight;
	var _this = flixel_util_FlxCollision.boundsA;
	var FlashRect = flixel_util_FlxCollision.flashRect;
	if(FlashRect == null) {
		FlashRect = new openfl_geom_Rectangle();
	}
	FlashRect.x = _this.x;
	FlashRect.y = _this.y;
	FlashRect.width = _this.width;
	FlashRect.height = _this.height;
	var pixelsA = testA.getPixels(flixel_util_FlxCollision.flashRect);
	var _this = flixel_util_FlxCollision.boundsB;
	var FlashRect = flixel_util_FlxCollision.flashRect;
	if(FlashRect == null) {
		FlashRect = new openfl_geom_Rectangle();
	}
	FlashRect.x = _this.x;
	FlashRect.y = _this.y;
	FlashRect.width = _this.width;
	FlashRect.height = _this.height;
	var pixelsB = testB.getPixels(flixel_util_FlxCollision.flashRect);
	var hit = false;
	var alphaA = 0;
	var alphaB = 0;
	var overlapPixels = overlapWidth * overlapHeight;
	var alphaIdx = 0;
	var _g = 0;
	var _g1 = Math.ceil(overlapPixels / 2);
	while(_g < _g1) {
		var i = _g++;
		alphaIdx = i << 3;
		pixelsA.position = pixelsB.position = alphaIdx;
		alphaA = pixelsA.readUnsignedByte();
		alphaB = pixelsB.readUnsignedByte();
		if(alphaA >= AlphaTolerance && alphaB >= AlphaTolerance) {
			hit = true;
			break;
		}
	}
	if(!hit) {
		var _g = 0;
		var _g1 = overlapPixels >> 1;
		while(_g < _g1) {
			var i = _g++;
			alphaIdx = (i << 3) + 4;
			pixelsA.position = pixelsB.position = alphaIdx;
			alphaA = pixelsA.readUnsignedByte();
			alphaB = pixelsB.readUnsignedByte();
			if(alphaA >= AlphaTolerance && alphaB >= AlphaTolerance) {
				hit = true;
				break;
			}
		}
	}
	if(advanced) {
		flixel_util_FlxBitmapDataPool.put(testA);
		flixel_util_FlxBitmapDataPool.put(testB);
	}
	return hit;
};
flixel_util_FlxCollision.pixelPerfectPointCheck = function(PointX,PointY,Target,AlphaTolerance) {
	if(AlphaTolerance == null) {
		AlphaTolerance = 1;
	}
	if(!flixel_math_FlxMath.pointInCoordinates(PointX,PointY,Math.floor(Target.x),Math.floor(Target.y),Target.get_width() | 0,Target.get_height() | 0)) {
		return false;
	}
	if(flixel_FlxG.renderTile) {
		Target.drawFrame();
	}
	var test = Target.framePixels;
	var pixelAlpha = flixel_util_FlxColor._new(test.getPixel32(Math.floor(PointX - Target.x),Math.floor(PointY - Target.y))) >> 24 & 255;
	if(flixel_FlxG.renderTile) {
		pixelAlpha = pixelAlpha * Target.alpha | 0;
	}
	return pixelAlpha >= AlphaTolerance;
};
flixel_util_FlxCollision.createCameraWall = function(Camera,PlaceOutside,Thickness,AdjustWorldBounds) {
	if(AdjustWorldBounds == null) {
		AdjustWorldBounds = false;
	}
	if(PlaceOutside == null) {
		PlaceOutside = true;
	}
	var left = null;
	var right = null;
	var top = null;
	var bottom = null;
	if(PlaceOutside) {
		left = new flixel_tile_FlxTileblock(Math.floor(Camera.x - Thickness),Math.floor(Camera.y + Thickness),Thickness,Camera.height - Thickness * 2);
		right = new flixel_tile_FlxTileblock(Math.floor(Camera.x + Camera.width),Math.floor(Camera.y + Thickness),Thickness,Camera.height - Thickness * 2);
		top = new flixel_tile_FlxTileblock(Math.floor(Camera.x - Thickness),Math.floor(Camera.y - Thickness),Camera.width + Thickness * 2,Thickness);
		bottom = new flixel_tile_FlxTileblock(Math.floor(Camera.x - Thickness),Camera.height,Camera.width + Thickness * 2,Thickness);
		if(AdjustWorldBounds) {
			var _this = flixel_FlxG.worldBounds;
			var X = Camera.x - Thickness;
			var Y = Camera.y - Thickness;
			var Width = Camera.width + Thickness * 2;
			var Height = Camera.height + Thickness * 2;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
		}
	} else {
		left = new flixel_tile_FlxTileblock(Math.floor(Camera.x),Math.floor(Camera.y + Thickness),Thickness,Camera.height - Thickness * 2);
		right = new flixel_tile_FlxTileblock(Math.floor(Camera.x + Camera.width - Thickness),Math.floor(Camera.y + Thickness),Thickness,Camera.height - Thickness * 2);
		top = new flixel_tile_FlxTileblock(Math.floor(Camera.x),Math.floor(Camera.y),Camera.width,Thickness);
		bottom = new flixel_tile_FlxTileblock(Math.floor(Camera.x),Camera.height - Thickness,Camera.width,Thickness);
		if(AdjustWorldBounds) {
			var _this = flixel_FlxG.worldBounds;
			var X = Camera.x;
			var Y = Camera.y;
			var Width = Camera.width;
			var Height = Camera.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
		}
	}
	var result = new flixel_group_FlxTypedGroup();
	result.add(left);
	result.add(right);
	result.add(top);
	result.add(bottom);
	return result;
};
var flixel_util_FlxColor = {};
flixel_util_FlxColor.__properties__ = {set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_alphaFloat:"set_alphaFloat",get_alphaFloat:"get_alphaFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_alpha:"set_alpha",get_alpha:"get_alpha",set_green:"set_green",get_green:"get_green",set_blue:"set_blue",get_blue:"get_blue",set_red:"set_red",get_red:"get_red"};
flixel_util_FlxColor.fromInt = function(Value) {
	return flixel_util_FlxColor._new(Value);
};
flixel_util_FlxColor.fromRGB = function(Red,Green,Blue,Alpha) {
	if(Alpha == null) {
		Alpha = 255;
	}
	var color = flixel_util_FlxColor._new();
	var Alpha1 = Alpha;
	if(Alpha1 == null) {
		Alpha1 = 255;
	}
	color &= -16711681;
	color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
	color &= -65281;
	color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
	color &= -256;
	color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
	color &= 16777215;
	color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
	return color;
};
flixel_util_FlxColor.fromRGBFloat = function(Red,Green,Blue,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var color = flixel_util_FlxColor._new();
	var Alpha1 = Alpha;
	if(Alpha1 == null) {
		Alpha1 = 1;
	}
	var Value = Math.round(Red * 255);
	color &= -16711681;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
	var Value = Math.round(Green * 255);
	color &= -65281;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
	var Value = Math.round(Blue * 255);
	color &= -256;
	color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
	var Value = Math.round(Alpha1 * 255);
	color &= 16777215;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return color;
};
flixel_util_FlxColor.fromCMYK = function(Cyan,Magenta,Yellow,Black,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var color = flixel_util_FlxColor._new();
	var Alpha1 = Alpha;
	if(Alpha1 == null) {
		Alpha1 = 1;
	}
	var Value = (1 - Cyan) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	color &= -16711681;
	color |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
	var Value = (1 - Magenta) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	color &= -65281;
	color |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
	var Value = (1 - Yellow) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	color &= -256;
	color |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
	var Value = Math.round(Alpha1 * 255);
	color &= 16777215;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return color;
};
flixel_util_FlxColor.fromHSB = function(Hue,Saturation,Brightness,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var color = flixel_util_FlxColor._new();
	var chroma = Brightness * Saturation;
	var match = Brightness - chroma;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return color;
};
flixel_util_FlxColor.fromHSL = function(Hue,Saturation,Lightness,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var color = flixel_util_FlxColor._new();
	var chroma = (1 - Math.abs(2 * Lightness - 1)) * Saturation;
	var match = Lightness - chroma / 2;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return color;
};
flixel_util_FlxColor.fromString = function(str) {
	var result = null;
	str = StringTools.trim(str);
	if(flixel_util_FlxColor.COLOR_REGEX.match(str)) {
		var hexColor = "0x" + flixel_util_FlxColor.COLOR_REGEX.matched(2);
		result = flixel_util_FlxColor._new(Std.parseInt(hexColor));
		if(hexColor.length == 8) {
			var Value = Math.round(255);
			result &= 16777215;
			result |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		}
	} else {
		str = str.toUpperCase();
		var h = flixel_util_FlxColor.colorLookup.h;
		var key_h = h;
		var key_keys = Object.keys(h);
		var key_length = key_keys.length;
		var key_current = 0;
		while(key_current < key_length) {
			var key = key_keys[key_current++];
			if(key.toUpperCase() == str) {
				result = flixel_util_FlxColor._new(flixel_util_FlxColor.colorLookup.h[key]);
				break;
			}
		}
	}
	return result;
};
flixel_util_FlxColor.getHSBColorWheel = function(Alpha) {
	if(Alpha == null) {
		Alpha = 255;
	}
	var _g = [];
	var _g1 = 0;
	while(_g1 < 360) {
		var c = _g1++;
		_g.push(flixel_util_FlxColor.fromHSB(c,1.0,1.0,Alpha));
	}
	return _g;
};
flixel_util_FlxColor.interpolate = function(Color1,Color2,Factor) {
	if(Factor == null) {
		Factor = 0.5;
	}
	var r = ((Color2 >> 16 & 255) - (Color1 >> 16 & 255)) * Factor + (Color1 >> 16 & 255) | 0;
	var g = ((Color2 >> 8 & 255) - (Color1 >> 8 & 255)) * Factor + (Color1 >> 8 & 255) | 0;
	var b = ((Color2 & 255) - (Color1 & 255)) * Factor + (Color1 & 255) | 0;
	var a = ((Color2 >> 24 & 255) - (Color1 >> 24 & 255)) * Factor + (Color1 >> 24 & 255) | 0;
	var Alpha = a;
	if(Alpha == null) {
		Alpha = 255;
	}
	var color = flixel_util_FlxColor._new();
	var Alpha1 = Alpha;
	if(Alpha1 == null) {
		Alpha1 = 255;
	}
	color &= -16711681;
	color |= (r > 255 ? 255 : r < 0 ? 0 : r) << 16;
	color &= -65281;
	color |= (g > 255 ? 255 : g < 0 ? 0 : g) << 8;
	color &= -256;
	color |= b > 255 ? 255 : b < 0 ? 0 : b;
	color &= 16777215;
	color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
	return color;
};
flixel_util_FlxColor.gradient = function(Color1,Color2,Steps,Ease) {
	var output = [];
	if(Ease == null) {
		Ease = function(t) {
			return t;
		};
	}
	var _g = 0;
	var _g1 = Steps;
	while(_g < _g1) {
		var step = _g++;
		var Factor = Ease(step / (Steps - 1));
		if(Factor == null) {
			Factor = 0.5;
		}
		var r = ((Color2 >> 16 & 255) - (Color1 >> 16 & 255)) * Factor + (Color1 >> 16 & 255) | 0;
		var g = ((Color2 >> 8 & 255) - (Color1 >> 8 & 255)) * Factor + (Color1 >> 8 & 255) | 0;
		var b = ((Color2 & 255) - (Color1 & 255)) * Factor + (Color1 & 255) | 0;
		var a = ((Color2 >> 24 & 255) - (Color1 >> 24 & 255)) * Factor + (Color1 >> 24 & 255) | 0;
		var Alpha = a;
		if(Alpha == null) {
			Alpha = 255;
		}
		var color = flixel_util_FlxColor._new();
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 255;
		}
		color &= -16711681;
		color |= (r > 255 ? 255 : r < 0 ? 0 : r) << 16;
		color &= -65281;
		color |= (g > 255 ? 255 : g < 0 ? 0 : g) << 8;
		color &= -256;
		color |= b > 255 ? 255 : b < 0 ? 0 : b;
		color &= 16777215;
		color |= (Alpha1 > 255 ? 255 : Alpha1 < 0 ? 0 : Alpha1) << 24;
		output[step] = color;
	}
	return output;
};
flixel_util_FlxColor.multiply = function(lhs,rhs) {
	var Red = (lhs >> 16 & 255) / 255 * ((rhs >> 16 & 255) / 255);
	var Green = (lhs >> 8 & 255) / 255 * ((rhs >> 8 & 255) / 255);
	var Blue = (lhs & 255) / 255 * ((rhs & 255) / 255);
	var color = flixel_util_FlxColor._new();
	var Alpha = 1;
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value = Math.round(Red * 255);
	color &= -16711681;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
	var Value = Math.round(Green * 255);
	color &= -65281;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
	var Value = Math.round(Blue * 255);
	color &= -256;
	color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
	var Value = Math.round(Alpha * 255);
	color &= 16777215;
	color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return color;
};
flixel_util_FlxColor.add = function(lhs,rhs) {
	var Red = (lhs >> 16 & 255) + (rhs >> 16 & 255);
	var Green = (lhs >> 8 & 255) + (rhs >> 8 & 255);
	var Blue = (lhs & 255) + (rhs & 255);
	var color = flixel_util_FlxColor._new();
	var Alpha = 255;
	if(Alpha == null) {
		Alpha = 255;
	}
	color &= -16711681;
	color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
	color &= -65281;
	color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
	color &= -256;
	color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
	color &= 16777215;
	color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
	return color;
};
flixel_util_FlxColor.subtract = function(lhs,rhs) {
	var Red = (lhs >> 16 & 255) - (rhs >> 16 & 255);
	var Green = (lhs >> 8 & 255) - (rhs >> 8 & 255);
	var Blue = (lhs & 255) - (rhs & 255);
	var color = flixel_util_FlxColor._new();
	var Alpha = 255;
	if(Alpha == null) {
		Alpha = 255;
	}
	color &= -16711681;
	color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
	color &= -65281;
	color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
	color &= -256;
	color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
	color &= 16777215;
	color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
	return color;
};
flixel_util_FlxColor.getComplementHarmony = function(this1) {
	return flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(this1) | 0) + 180,0,350),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
};
flixel_util_FlxColor.getAnalogousHarmony = function(this1,Threshold) {
	if(Threshold == null) {
		Threshold = 30;
	}
	var warmer = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(this1) | 0) - Threshold,0,350),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	var colder = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(this1) | 0) + Threshold,0,350),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	return { original : this1, warmer : warmer, colder : colder};
};
flixel_util_FlxColor.getSplitComplementHarmony = function(this1,Threshold) {
	if(Threshold == null) {
		Threshold = 30;
	}
	var oppositeHue = flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(this1) | 0) + 180,0,350);
	var warmer = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap(oppositeHue - Threshold,0,350),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	var colder = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap(oppositeHue + Threshold,0,350),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	return { original : this1, warmer : warmer, colder : colder};
};
flixel_util_FlxColor.getTriadicHarmony = function(this1) {
	var triadic1 = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(this1) | 0) + 120,0,359),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	var triadic2 = flixel_util_FlxColor.fromHSB(flixel_math_FlxMath.wrap((flixel_util_FlxColor.get_hue(triadic1) | 0) + 120,0,359),(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),(this1 >> 24 & 255) / 255);
	return { color1 : this1, color2 : triadic1, color3 : triadic2};
};
flixel_util_FlxColor.to24Bit = function(this1) {
	return this1 & 16777215;
};
flixel_util_FlxColor.toHexString = function(this1,Alpha,Prefix) {
	if(Prefix == null) {
		Prefix = true;
	}
	if(Alpha == null) {
		Alpha = true;
	}
	var tmp = Alpha ? StringTools.hex(this1 >> 24 & 255,2) : "";
	return (Prefix ? "0x" : "") + tmp + StringTools.hex(this1 >> 16 & 255,2) + StringTools.hex(this1 >> 8 & 255,2) + StringTools.hex(this1 & 255,2);
};
flixel_util_FlxColor.toWebString = function(this1) {
	var Alpha = false;
	var Prefix = false;
	if(Prefix == null) {
		Prefix = true;
	}
	if(Alpha == null) {
		Alpha = true;
	}
	var tmp = Alpha ? StringTools.hex(this1 >> 24 & 255,2) : "";
	return "#" + ((Prefix ? "0x" : "") + tmp + StringTools.hex(this1 >> 16 & 255,2) + StringTools.hex(this1 >> 8 & 255,2) + StringTools.hex(this1 & 255,2));
};
flixel_util_FlxColor.getColorInfo = function(this1) {
	var result = "0x" + StringTools.hex(this1 >> 24 & 255,2) + StringTools.hex(this1 >> 16 & 255,2) + StringTools.hex(this1 >> 8 & 255,2) + StringTools.hex(this1 & 255,2) + "\n";
	result += "Alpha: " + (this1 >> 24 & 255) + " Red: " + (this1 >> 16 & 255) + " Green: " + (this1 >> 8 & 255) + " Blue: " + (this1 & 255) + "\n";
	result += "Hue: " + flixel_math_FlxMath.roundDecimal(flixel_util_FlxColor.get_hue(this1),2) + " Saturation: " + flixel_math_FlxMath.roundDecimal((Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),2) + " Brightness: " + flixel_math_FlxMath.roundDecimal(Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)),2) + " Lightness: " + flixel_math_FlxMath.roundDecimal((Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) + Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / 2,2);
	return result;
};
flixel_util_FlxColor.getDarkened = function(this1,Factor) {
	if(Factor == null) {
		Factor = 0.2;
	}
	var lowerBound = Factor < 0 ? 0 : Factor;
	Factor = lowerBound > 1 ? 1 : lowerBound;
	var output = this1;
	var Value = (Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)) + Math.min((output >> 16 & 255) / 255,Math.min((output >> 8 & 255) / 255,(output & 255) / 255))) / 2 * (1 - Factor);
	var Hue = flixel_util_FlxColor.get_hue(output);
	var Alpha = (output >> 24 & 255) / 255;
	var chroma = (1 - Math.abs(2 * Value - 1)) * ((Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)) - Math.min((output >> 16 & 255) / 255,Math.min((output >> 8 & 255) / 255,(output & 255) / 255))) / Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)));
	var match = Value - chroma / 2;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return output;
};
flixel_util_FlxColor.getLightened = function(this1,Factor) {
	if(Factor == null) {
		Factor = 0.2;
	}
	var lowerBound = Factor < 0 ? 0 : Factor;
	Factor = lowerBound > 1 ? 1 : lowerBound;
	var output = this1;
	var Value = (Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)) + Math.min((output >> 16 & 255) / 255,Math.min((output >> 8 & 255) / 255,(output & 255) / 255))) / 2 + (1 - (Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) + Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / 2) * Factor;
	var Hue = flixel_util_FlxColor.get_hue(output);
	var Alpha = (output >> 24 & 255) / 255;
	var chroma = (1 - Math.abs(2 * Value - 1)) * ((Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)) - Math.min((output >> 16 & 255) / 255,Math.min((output >> 8 & 255) / 255,(output & 255) / 255))) / Math.max((output >> 16 & 255) / 255,Math.max((output >> 8 & 255) / 255,(output & 255) / 255)));
	var match = Value - chroma / 2;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		output &= -16711681;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		output &= -65281;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		output &= -256;
		output |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		output &= 16777215;
		output |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return output;
};
flixel_util_FlxColor.getInverted = function(this1) {
	var oldAlpha = this1 >> 24 & 255;
	var lhs = -1;
	var Red = (lhs >> 16 & 255) - (this1 >> 16 & 255);
	var Green = (lhs >> 8 & 255) - (this1 >> 8 & 255);
	var Blue = (lhs & 255) - (this1 & 255);
	var color = flixel_util_FlxColor._new();
	var Alpha = 255;
	if(Alpha == null) {
		Alpha = 255;
	}
	color &= -16711681;
	color |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
	color &= -65281;
	color |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
	color &= -256;
	color |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
	color &= 16777215;
	color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
	var output = color;
	output &= 16777215;
	output |= (oldAlpha > 255 ? 255 : oldAlpha < 0 ? 0 : oldAlpha) << 24;
	return output;
};
flixel_util_FlxColor.setRGB = function(this1,Red,Green,Blue,Alpha) {
	if(Alpha == null) {
		Alpha = 255;
	}
	this1 &= -16711681;
	this1 |= (Red > 255 ? 255 : Red < 0 ? 0 : Red) << 16;
	this1 &= -65281;
	this1 |= (Green > 255 ? 255 : Green < 0 ? 0 : Green) << 8;
	this1 &= -256;
	this1 |= Blue > 255 ? 255 : Blue < 0 ? 0 : Blue;
	this1 &= 16777215;
	this1 |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
	return this1;
};
flixel_util_FlxColor.setRGBFloat = function(this1,Red,Green,Blue,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value = Math.round(Red * 255);
	this1 &= -16711681;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
	var Value = Math.round(Green * 255);
	this1 &= -65281;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
	var Value = Math.round(Blue * 255);
	this1 &= -256;
	this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
	var Value = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return this1;
};
flixel_util_FlxColor.setCMYK = function(this1,Cyan,Magenta,Yellow,Black,Alpha) {
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value = (1 - Cyan) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	this1 &= -16711681;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
	var Value = (1 - Magenta) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	this1 &= -65281;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
	var Value = (1 - Yellow) * (1 - Black);
	var Value1 = Math.round(Value * 255);
	this1 &= -256;
	this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
	var Value = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return this1;
};
flixel_util_FlxColor.setHSB = function(this1,Hue,Saturation,Brightness,Alpha) {
	var chroma = Brightness * Saturation;
	var match = Brightness - chroma;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return this1;
};
flixel_util_FlxColor.setHSL = function(this1,Hue,Saturation,Lightness,Alpha) {
	var chroma = (1 - Math.abs(2 * Lightness - 1)) * Saturation;
	var match = Lightness - chroma / 2;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return this1;
};
flixel_util_FlxColor.setHSChromaMatch = function(this1,Hue,Saturation,Chroma,Match,Alpha) {
	Hue %= 360;
	var hueD = Hue / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + Match;
	Chroma += Match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Match * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Match * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(Match * 255);
		this1 &= -65281;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		break;
	}
	return this1;
};
flixel_util_FlxColor._new = function(Value) {
	if(Value == null) {
		Value = 0;
	}
	var this1 = Value;
	return this1;
};
flixel_util_FlxColor.getThis = function(this1) {
	return this1;
};
flixel_util_FlxColor.validate = function(this1) {
};
flixel_util_FlxColor.get_red = function(this1) {
	return this1 >> 16 & 255;
};
flixel_util_FlxColor.get_green = function(this1) {
	return this1 >> 8 & 255;
};
flixel_util_FlxColor.get_blue = function(this1) {
	return this1 & 255;
};
flixel_util_FlxColor.get_alpha = function(this1) {
	return this1 >> 24 & 255;
};
flixel_util_FlxColor.get_redFloat = function(this1) {
	return (this1 >> 16 & 255) / 255;
};
flixel_util_FlxColor.get_greenFloat = function(this1) {
	return (this1 >> 8 & 255) / 255;
};
flixel_util_FlxColor.get_blueFloat = function(this1) {
	return (this1 & 255) / 255;
};
flixel_util_FlxColor.get_alphaFloat = function(this1) {
	return (this1 >> 24 & 255) / 255;
};
flixel_util_FlxColor.set_red = function(this1,Value) {
	this1 &= -16711681;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
	return Value;
};
flixel_util_FlxColor.set_green = function(this1,Value) {
	this1 &= -65281;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
	return Value;
};
flixel_util_FlxColor.set_blue = function(this1,Value) {
	this1 &= -256;
	this1 |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
	return Value;
};
flixel_util_FlxColor.set_alpha = function(this1,Value) {
	this1 &= 16777215;
	this1 |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
	return Value;
};
flixel_util_FlxColor.set_redFloat = function(this1,Value) {
	var Value1 = Math.round(Value * 255);
	this1 &= -16711681;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
	return Value;
};
flixel_util_FlxColor.set_greenFloat = function(this1,Value) {
	var Value1 = Math.round(Value * 255);
	this1 &= -65281;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
	return Value;
};
flixel_util_FlxColor.set_blueFloat = function(this1,Value) {
	var Value1 = Math.round(Value * 255);
	this1 &= -256;
	this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
	return Value;
};
flixel_util_FlxColor.set_alphaFloat = function(this1,Value) {
	var Value1 = Math.round(Value * 255);
	this1 &= 16777215;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
	return Value;
};
flixel_util_FlxColor.get_cyan = function(this1) {
	return (1 - (this1 >> 16 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.get_magenta = function(this1) {
	return (1 - (this1 >> 8 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.get_yellow = function(this1) {
	return (1 - (this1 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.get_black = function(this1) {
	return 1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.set_cyan = function(this1,Value) {
	var Magenta = (1 - (this1 >> 8 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Yellow = (1 - (this1 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Black = 1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value1 = (1 - Value) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -16711681;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 16;
	var Value1 = (1 - Magenta) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -65281;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 8;
	var Value1 = (1 - Yellow) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -256;
	this1 |= Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2;
	var Value1 = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
	return Value;
};
flixel_util_FlxColor.set_magenta = function(this1,Value) {
	var Yellow = (1 - (this1 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Black = 1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value1 = (1 - (1 - (this1 >> 16 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -16711681;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 16;
	var Value1 = (1 - Value) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -65281;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 8;
	var Value1 = (1 - Yellow) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -256;
	this1 |= Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2;
	var Value1 = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
	return Value;
};
flixel_util_FlxColor.set_yellow = function(this1,Value) {
	var Magenta = (1 - (this1 >> 8 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Black = 1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value1 = (1 - (1 - (this1 >> 16 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -16711681;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 16;
	var Value1 = (1 - Magenta) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -65281;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 8;
	var Value1 = (1 - Value) * (1 - Black);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -256;
	this1 |= Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2;
	var Value1 = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
	return Value;
};
flixel_util_FlxColor.set_black = function(this1,Value) {
	var Magenta = (1 - (this1 >> 8 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Yellow = (1 - (this1 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	if(Alpha == null) {
		Alpha = 1;
	}
	var Value1 = (1 - (1 - (this1 >> 16 & 255) / 255 - (1 - Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) * (1 - Value);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -16711681;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 16;
	var Value1 = (1 - Magenta) * (1 - Value);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -65281;
	this1 |= (Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2) << 8;
	var Value1 = (1 - Yellow) * (1 - Value);
	var Value2 = Math.round(Value1 * 255);
	this1 &= -256;
	this1 |= Value2 > 255 ? 255 : Value2 < 0 ? 0 : Value2;
	var Value1 = Math.round(Alpha * 255);
	this1 &= 16777215;
	this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
	return Value;
};
flixel_util_FlxColor.get_hue = function(this1) {
	var hueRad = Math.atan2(Math.sqrt(3) * ((this1 >> 8 & 255) / 255 - (this1 & 255) / 255),2 * ((this1 >> 16 & 255) / 255) - (this1 >> 8 & 255) / 255 - (this1 & 255) / 255);
	var hue = 0;
	if(hueRad != 0) {
		hue = 180 / Math.PI * Math.atan2(Math.sqrt(3) * ((this1 >> 8 & 255) / 255 - (this1 & 255) / 255),2 * ((this1 >> 16 & 255) / 255) - (this1 >> 8 & 255) / 255 - (this1 & 255) / 255);
	}
	if(hue < 0) {
		return hue + 360;
	} else {
		return hue;
	}
};
flixel_util_FlxColor.get_brightness = function(this1) {
	return Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.get_saturation = function(this1) {
	return (Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.get_lightness = function(this1) {
	return (Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) + Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / 2;
};
flixel_util_FlxColor.set_hue = function(this1,Value) {
	var Brightness = Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	var chroma = Brightness * ((Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)));
	var match = Brightness - chroma;
	var Hue = Value;
	var Chroma = chroma;
	Hue %= 360;
	var hueD = Hue / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	}
	return Value;
};
flixel_util_FlxColor.set_saturation = function(this1,Value) {
	var Hue = flixel_util_FlxColor.get_hue(this1);
	var Brightness = Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
	var Alpha = (this1 >> 24 & 255) / 255;
	var chroma = Brightness * Value;
	var match = Brightness - chroma;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	}
	return Value;
};
flixel_util_FlxColor.set_brightness = function(this1,Value) {
	var Hue = flixel_util_FlxColor.get_hue(this1);
	var Alpha = (this1 >> 24 & 255) / 255;
	var chroma = Value * ((Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)));
	var match = Value - chroma;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	}
	return Value;
};
flixel_util_FlxColor.set_lightness = function(this1,Value) {
	var Hue = flixel_util_FlxColor.get_hue(this1);
	var Alpha = (this1 >> 24 & 255) / 255;
	var chroma = (1 - Math.abs(2 * Value - 1)) * ((Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)) - Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255))) / Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255)));
	var match = Value - chroma / 2;
	var Hue1 = Hue;
	var Chroma = chroma;
	Hue1 %= 360;
	var hueD = Hue1 / 60;
	var mid = Chroma * (1 - Math.abs(hueD % 2 - 1)) + match;
	Chroma += match;
	switch(hueD | 0) {
	case 0:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 1:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(match * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 2:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 3:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(match * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(mid * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 4:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(mid * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(Chroma * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	case 5:
		var Alpha1 = Alpha;
		if(Alpha1 == null) {
			Alpha1 = 1;
		}
		var Value1 = Math.round(Chroma * 255);
		this1 &= -16711681;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 16;
		var Value1 = Math.round(match * 255);
		this1 &= -65281;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 8;
		var Value1 = Math.round(mid * 255);
		this1 &= -256;
		this1 |= Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1;
		var Value1 = Math.round(Alpha1 * 255);
		this1 &= 16777215;
		this1 |= (Value1 > 255 ? 255 : Value1 < 0 ? 0 : Value1) << 24;
		break;
	}
	return Value;
};
flixel_util_FlxColor.maxColor = function(this1) {
	return Math.max((this1 >> 16 & 255) / 255,Math.max((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.minColor = function(this1) {
	return Math.min((this1 >> 16 & 255) / 255,Math.min((this1 >> 8 & 255) / 255,(this1 & 255) / 255));
};
flixel_util_FlxColor.boundChannel = function(this1,Value) {
	if(Value > 255) {
		return 255;
	} else if(Value < 0) {
		return 0;
	} else {
		return Value;
	}
};
var flixel_util_FlxColorTransformUtil = function() { };
$hxClasses["flixel.util.FlxColorTransformUtil"] = flixel_util_FlxColorTransformUtil;
flixel_util_FlxColorTransformUtil.__name__ = "flixel.util.FlxColorTransformUtil";
flixel_util_FlxColorTransformUtil.setMultipliers = function(transform,red,green,blue,alpha) {
	transform.redMultiplier = red;
	transform.greenMultiplier = green;
	transform.blueMultiplier = blue;
	transform.alphaMultiplier = alpha;
	return transform;
};
flixel_util_FlxColorTransformUtil.setOffsets = function(transform,red,green,blue,alpha) {
	transform.redOffset = red;
	transform.greenOffset = green;
	transform.blueOffset = blue;
	transform.alphaOffset = alpha;
	return transform;
};
flixel_util_FlxColorTransformUtil.hasRGBMultipliers = function(transform) {
	if(!(transform.redMultiplier != 1 || transform.greenMultiplier != 1)) {
		return transform.blueMultiplier != 1;
	} else {
		return true;
	}
};
flixel_util_FlxColorTransformUtil.hasRGBAMultipliers = function(transform) {
	if(!flixel_util_FlxColorTransformUtil.hasRGBMultipliers(transform)) {
		return transform.alphaMultiplier != 1;
	} else {
		return true;
	}
};
flixel_util_FlxColorTransformUtil.hasRGBOffsets = function(transform) {
	if(!(transform.redOffset != 0 || transform.greenOffset != 0)) {
		return transform.blueOffset != 0;
	} else {
		return true;
	}
};
flixel_util_FlxColorTransformUtil.hasRGBAOffsets = function(transform) {
	if(!flixel_util_FlxColorTransformUtil.hasRGBOffsets(transform)) {
		return transform.alphaOffset != 0;
	} else {
		return true;
	}
};
var flixel_util_FlxDestroyUtil = function() { };
$hxClasses["flixel.util.FlxDestroyUtil"] = flixel_util_FlxDestroyUtil;
flixel_util_FlxDestroyUtil.__name__ = "flixel.util.FlxDestroyUtil";
flixel_util_FlxDestroyUtil.destroy = function(object) {
	if(object != null) {
		object.destroy();
	}
	return null;
};
flixel_util_FlxDestroyUtil.destroyArray = function(array) {
	if(array != null) {
		var _g = 0;
		while(_g < array.length) {
			var e = array[_g];
			++_g;
			flixel_util_FlxDestroyUtil.destroy(e);
		}
		array.splice(0,array.length);
	}
	return null;
};
flixel_util_FlxDestroyUtil.put = function(object) {
	if(object != null) {
		object.put();
	}
	return null;
};
flixel_util_FlxDestroyUtil.putArray = function(array) {
	if(array != null) {
		var _g = 0;
		while(_g < array.length) {
			var e = array[_g];
			++_g;
			flixel_util_FlxDestroyUtil.put(e);
		}
		array.splice(0,array.length);
	}
	return null;
};
flixel_util_FlxDestroyUtil.dispose = function(bitmapData) {
	if(bitmapData != null) {
		bitmapData.dispose();
	}
	return null;
};
flixel_util_FlxDestroyUtil.disposeIfNotEqual = function(bitmapData,width,height) {
	if(bitmapData != null && (bitmapData.width != width || bitmapData.height != height)) {
		bitmapData.dispose();
		return null;
	} else if(bitmapData != null) {
		return bitmapData;
	}
	return null;
};
flixel_util_FlxDestroyUtil.removeChild = function(parent,child) {
	if(parent != null && child != null && parent.contains(child)) {
		parent.removeChild(child);
	}
	return null;
};
var flixel_util_FlxDirection = {};
flixel_util_FlxDirection.toString = function(this1) {
	switch(this1) {
	case 1:
		return "L";
	case 16:
		return "R";
	case 256:
		return "U";
	case 4096:
		return "D";
	}
};
var flixel_util_FlxDirectionFlags = {};
flixel_util_FlxDirectionFlags.has = function(this1,dir) {
	return (this1 & dir) == dir;
};
flixel_util_FlxDirectionFlags.with = function(this1,dir) {
	return this1 | dir;
};
flixel_util_FlxDirectionFlags.without = function(this1,dir) {
	return this1 & ~dir;
};
flixel_util_FlxDirectionFlags.toString = function(this1) {
	if(this1 == 0) {
		return "NONE";
	}
	var str = "";
	var dir = 1;
	if((this1 & dir) == dir) {
		str += " | L";
	}
	var dir = 16;
	if((this1 & dir) == dir) {
		str += " | R";
	}
	var dir = 256;
	if((this1 & dir) == dir) {
		str += " | U";
	}
	var dir = 4096;
	if((this1 & dir) == dir) {
		str += " | D";
	}
	return HxOverrides.substr(str,3,null);
};
var flixel_util_FlxGradient = function() { };
$hxClasses["flixel.util.FlxGradient"] = flixel_util_FlxGradient;
flixel_util_FlxGradient.__name__ = "flixel.util.FlxGradient";
flixel_util_FlxGradient.createGradientMatrix = function(width,height,colors,chunkSize,rotation) {
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	var gradientMatrix = new openfl_geom_Matrix();
	var rot = rotation * (Math.PI / 180);
	gradientMatrix.createGradientBox(width,UInt.toFloat(height) / UInt.toFloat(chunkSize),rot,0,0);
	var alpha = [];
	var _g = 0;
	var _g1 = colors.length;
	while(_g < _g1) {
		var ai = _g++;
		alpha.push((colors[ai] >> 24 & 255) / 255);
	}
	var ratio = [];
	if(colors.length == 2) {
		ratio[0] = 0;
		ratio[1] = 255;
	} else {
		var spread = 255 / (colors.length - 1) | 0;
		ratio.push(0);
		var _g = 1;
		var _g1 = colors.length - 1;
		while(_g < _g1) {
			var ri = _g++;
			ratio.push(ri * spread);
		}
		ratio.push(255);
	}
	return { matrix : gradientMatrix, alpha : alpha, ratio : ratio};
};
flixel_util_FlxGradient.createGradientArray = function(width,height,colors,chunkSize,rotation,interpolate) {
	if(interpolate == null) {
		interpolate = true;
	}
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	var data = flixel_util_FlxGradient.createGradientBitmapData(width,height,colors,chunkSize,rotation,interpolate);
	var result = [];
	var _g = 0;
	var _g1 = data.height;
	while(_g < _g1) {
		var y = _g++;
		result.push(data.getPixel32(0,y));
	}
	return result;
};
flixel_util_FlxGradient.createGradientFlxSprite = function(width,height,colors,chunkSize,rotation,interpolate) {
	if(interpolate == null) {
		interpolate = true;
	}
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	var data = flixel_util_FlxGradient.createGradientBitmapData(width,height,colors,chunkSize,rotation,interpolate);
	var dest = new flixel_FlxSprite();
	dest.set_pixels(data);
	return dest;
};
flixel_util_FlxGradient.createGradientBitmapData = function(width,height,colors,chunkSize,rotation,interpolate) {
	if(interpolate == null) {
		interpolate = true;
	}
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	if(UInt.gt(1,width)) {
		width = 1;
	}
	if(UInt.gt(1,height)) {
		height = 1;
	}
	var gradient = flixel_util_FlxGradient.createGradientMatrix(width,height,colors,chunkSize,rotation);
	var shape = new openfl_display_Shape();
	var interpolationMethod = interpolate ? 1 : 0;
	shape.get_graphics().beginGradientFill(0,colors,gradient.alpha,gradient.ratio,gradient.matrix,0,interpolationMethod,0);
	shape.get_graphics().drawRect(0,0,UInt.toFloat(width),UInt.toFloat(height) / UInt.toFloat(chunkSize));
	var data = new openfl_display_BitmapData(width,height,true,0);
	if(chunkSize == 1) {
		data.draw(shape);
	} else {
		var tempBitmap = new openfl_display_Bitmap(new openfl_display_BitmapData(width,UInt.toFloat(height) / UInt.toFloat(chunkSize) | 0,true,0));
		tempBitmap.get_bitmapData().draw(shape);
		tempBitmap.set_scaleY(UInt.toFloat(chunkSize));
		var sM = new openfl_geom_Matrix();
		sM.scale(tempBitmap.get_scaleX(),tempBitmap.get_scaleY());
		data.draw(tempBitmap,sM);
		var remainingRect = tempBitmap.get_height();
		var remainingRect1 = UInt.toFloat(width);
		var b = tempBitmap.get_height();
		var remainingRect2 = new openfl_geom_Rectangle(0,remainingRect,remainingRect1,UInt.toFloat(height) - b);
		data.fillRect(remainingRect2,colors[colors.length - 1]);
	}
	return data;
};
flixel_util_FlxGradient.overlayGradientOnFlxSprite = function(dest,width,height,colors,destX,destY,chunkSize,rotation,interpolate) {
	if(interpolate == null) {
		interpolate = true;
	}
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	if(destY == null) {
		destY = 0;
	}
	if(destX == null) {
		destX = 0;
	}
	if(width > dest.get_width()) {
		width = dest.get_width() | 0;
	}
	if(height > dest.get_height()) {
		height = dest.get_height() | 0;
	}
	var source = flixel_util_FlxGradient.createGradientFlxSprite(width,height,colors,chunkSize,rotation,interpolate);
	dest.stamp(source,destX,destY);
	source.destroy();
	return dest;
};
flixel_util_FlxGradient.overlayGradientOnBitmapData = function(dest,width,height,colors,destX,destY,chunkSize,rotation,interpolate) {
	if(interpolate == null) {
		interpolate = true;
	}
	if(rotation == null) {
		rotation = 90;
	}
	if(chunkSize == null) {
		chunkSize = 1;
	}
	if(destY == null) {
		destY = 0;
	}
	if(destX == null) {
		destX = 0;
	}
	if(width > dest.width) {
		width = dest.width;
	}
	if(height > dest.height) {
		height = dest.height;
	}
	var source = flixel_util_FlxGradient.createGradientBitmapData(width,height,colors,chunkSize,rotation,interpolate);
	dest.copyPixels(source,new openfl_geom_Rectangle(0,0,source.width,source.height),new openfl_geom_Point(destX,destY),null,null,true);
	source.dispose();
	return dest;
};
var flixel_util_FlxHorizontalAlign = $hxEnums["flixel.util.FlxHorizontalAlign"] = { __ename__:"flixel.util.FlxHorizontalAlign",__constructs__:null
	,LEFT: {_hx_name:"LEFT",_hx_index:0,__enum__:"flixel.util.FlxHorizontalAlign",toString:$estr}
	,CENTER: {_hx_name:"CENTER",_hx_index:1,__enum__:"flixel.util.FlxHorizontalAlign",toString:$estr}
	,RIGHT: {_hx_name:"RIGHT",_hx_index:2,__enum__:"flixel.util.FlxHorizontalAlign",toString:$estr}
};
flixel_util_FlxHorizontalAlign.__constructs__ = [flixel_util_FlxHorizontalAlign.LEFT,flixel_util_FlxHorizontalAlign.CENTER,flixel_util_FlxHorizontalAlign.RIGHT];
var flixel_util_FlxPath = function(Nodes) {
	this._firstUpdate = false;
	this._wasObjectImmovable = null;
	this._autoRotate = false;
	this._inc = 1;
	this.finished = false;
	this.nodeIndex = 0;
	this.active = false;
	this.autoCenter = true;
	this.angle = 0;
	this.speed = 0;
	if(Nodes != null) {
		this._nodes = Nodes.slice();
	} else {
		this._nodes = [];
	}
};
$hxClasses["flixel.util.FlxPath"] = flixel_util_FlxPath;
flixel_util_FlxPath.__name__ = "flixel.util.FlxPath";
flixel_util_FlxPath.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util_FlxPath.prototype = {
	_nodes: null
	,speed: null
	,angle: null
	,autoCenter: null
	,active: null
	,onComplete: null
	,nodeIndex: null
	,finished: null
	,_mode: null
	,_inc: null
	,_autoRotate: null
	,_wasObjectImmovable: null
	,_firstUpdate: null
	,object: null
	,reset: function() {
		this.autoCenter = true;
		return this;
	}
	,setProperties: function(Speed,Mode,AutoRotate) {
		if(AutoRotate == null) {
			AutoRotate = false;
		}
		if(Mode == null) {
			Mode = 0;
		}
		if(Speed == null) {
			Speed = 100;
		}
		this.speed = Math.abs(Speed);
		this._mode = Mode;
		this._autoRotate = AutoRotate;
		return this;
	}
	,start: function(Nodes,Speed,Mode,AutoRotate,NodesAsReference) {
		if(NodesAsReference == null) {
			NodesAsReference = false;
		}
		if(AutoRotate == null) {
			AutoRotate = false;
		}
		if(Mode == null) {
			Mode = 0;
		}
		if(Speed == null) {
			Speed = 100;
		}
		if(Nodes != null) {
			if(NodesAsReference) {
				this._nodes = Nodes;
			} else {
				this._nodes = Nodes.slice();
			}
		}
		this.setProperties(Speed,Mode,AutoRotate);
		if(this._nodes.length > 0) {
			this.restart();
		}
		return this;
	}
	,restart: function() {
		this.finished = false;
		this._firstUpdate = true;
		this.active = this._nodes.length > 0;
		if(!this.active) {
			return this;
		}
		if(this._mode == 1 || this._mode == 256) {
			this.nodeIndex = this._nodes.length - 1;
			this._inc = -1;
		} else {
			this.nodeIndex = 0;
			this._inc = 1;
		}
		return this;
	}
	,setNode: function(NodeIndex) {
		if(NodeIndex < 0) {
			NodeIndex = 0;
		} else if(NodeIndex > this._nodes.length - 1) {
			NodeIndex = this._nodes.length - 1;
		}
		this.nodeIndex = NodeIndex;
		this.advancePath();
		return this;
	}
	,update: function(elapsed) {
		if(this.object == null) {
			return;
		}
		if(this._firstUpdate) {
			this._wasObjectImmovable = this.object.immovable;
			this.object.set_immovable(true);
			this._firstUpdate = false;
		}
		flixel_util_FlxPath._point.set_x(this.object.x);
		flixel_util_FlxPath._point.set_y(this.object.y);
		if(this.autoCenter) {
			var _this = flixel_util_FlxPath._point;
			var X = this.object.get_width() * 0.5;
			var Y = this.object.get_height() * 0.5;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.set_x(_this.x + X);
			_this.set_y(_this.y + Y);
		}
		var node = this._nodes[this.nodeIndex];
		var deltaX = node.x - flixel_util_FlxPath._point.x;
		var deltaY = node.y - flixel_util_FlxPath._point.y;
		var horizontalOnly = (this._mode & 65536) > 0;
		var verticalOnly = (this._mode & 1048576) > 0;
		if(horizontalOnly) {
			if((deltaX > 0 ? deltaX : -deltaX) < this.speed * elapsed) {
				node = this.advancePath();
			}
		} else if(verticalOnly) {
			if((deltaY > 0 ? deltaY : -deltaY) < this.speed * elapsed) {
				node = this.advancePath();
			}
		} else if(Math.sqrt(deltaX * deltaX + deltaY * deltaY) < this.speed * elapsed) {
			node = this.advancePath();
		}
		if(this.object != null && this.speed != 0) {
			flixel_util_FlxPath._point.set_x(this.object.x);
			flixel_util_FlxPath._point.set_y(this.object.y);
			if(this.autoCenter) {
				var _this = flixel_util_FlxPath._point;
				var X = this.object.get_width() * 0.5;
				var Y = this.object.get_height() * 0.5;
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				_this.set_x(_this.x + X);
				_this.set_y(_this.y + Y);
			}
			var _this = flixel_util_FlxPath._point;
			var result = Math.abs(_this.x - node.x) <= 0.0000001 && Math.abs(_this.y - node.y) <= 0.0000001;
			if(node._weak) {
				node.put();
			}
			if(!result) {
				this.calculateVelocity(node,horizontalOnly,verticalOnly);
			} else {
				this.object.velocity.set();
			}
			if(this._autoRotate) {
				this.object.angularVelocity = 0;
				this.object.angularAcceleration = 0;
				this.object.set_angle(this.angle);
			}
			if(this.finished) {
				this.cancel();
			}
		}
	}
	,calculateVelocity: function(node,horizontalOnly,verticalOnly) {
		if(horizontalOnly || flixel_util_FlxPath._point.y == node.y) {
			this.object.velocity.set_x(flixel_util_FlxPath._point.x < node.x ? this.speed : -this.speed);
			this.angle = this.object.velocity.x < 0 ? -90 : 90;
			if(!horizontalOnly) {
				this.object.velocity.set_y(0);
			}
		} else if(verticalOnly || flixel_util_FlxPath._point.x == node.x) {
			this.object.velocity.set_y(flixel_util_FlxPath._point.y < node.y ? this.speed : -this.speed);
			this.angle = this.object.velocity.y < 0 ? 0 : 180;
			if(!verticalOnly) {
				this.object.velocity.set_x(0);
			}
		} else {
			this.object.velocity.set_x(flixel_util_FlxPath._point.x < node.x ? this.speed : -this.speed);
			this.object.velocity.set_y(flixel_util_FlxPath._point.y < node.y ? this.speed : -this.speed);
			this.angle = flixel_util_FlxPath._point.angleBetween(node);
			this.object.velocity.set(0,-this.speed);
			var tmp = this.object.velocity;
			var X = 0;
			var Y = 0;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var X1 = X;
			var Y1 = Y;
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
			point._inPool = false;
			var point1 = point;
			point1._weak = true;
			tmp.rotate(point1,this.angle);
		}
	}
	,advancePath: function(Snap) {
		if(Snap == null) {
			Snap = true;
		}
		if(Snap) {
			var oldNode = this._nodes[this.nodeIndex];
			if(oldNode != null) {
				if((this._mode & 1048576) == 0) {
					this.object.set_x(oldNode.x);
					if(this.autoCenter) {
						var fh = this.object;
						fh.set_x(fh.x - this.object.get_width() * 0.5);
					}
				}
				if((this._mode & 65536) == 0) {
					this.object.set_y(oldNode.y);
					if(this.autoCenter) {
						var fh = this.object;
						fh.set_y(fh.y - this.object.get_height() * 0.5);
					}
				}
			}
		}
		var callComplete = false;
		this.nodeIndex += this._inc;
		if((this._mode & 1) > 0) {
			if(this.nodeIndex < 0) {
				this.nodeIndex = 0;
				callComplete = true;
				this.onEnd();
			}
		} else if((this._mode & 16) > 0) {
			if(this.nodeIndex >= this._nodes.length) {
				callComplete = true;
				this.nodeIndex = 0;
			}
		} else if((this._mode & 256) > 0) {
			if(this.nodeIndex < 0) {
				this.nodeIndex = this._nodes.length - 1;
				callComplete = true;
				if(this.nodeIndex < 0) {
					this.nodeIndex = 0;
				}
			}
		} else if((this._mode & 4096) > 0) {
			if(this._inc > 0) {
				if(this.nodeIndex >= this._nodes.length) {
					this.nodeIndex = this._nodes.length - 2;
					callComplete = true;
					if(this.nodeIndex < 0) {
						this.nodeIndex = 0;
					}
					this._inc = -this._inc;
				}
			} else if(this.nodeIndex < 0) {
				this.nodeIndex = 1;
				callComplete = true;
				if(this.nodeIndex >= this._nodes.length) {
					this.nodeIndex = this._nodes.length - 1;
				}
				if(this.nodeIndex < 0) {
					this.nodeIndex = 0;
				}
				this._inc = -this._inc;
			}
		} else if(this.nodeIndex >= this._nodes.length) {
			this.nodeIndex = this._nodes.length - 1;
			callComplete = true;
			this.onEnd();
		}
		if(callComplete && this.onComplete != null) {
			this.onComplete(this);
		}
		return this._nodes[this.nodeIndex];
	}
	,cancel: function() {
		this.onEnd();
		if(this.object != null) {
			this.object.velocity.set(0,0);
		}
		return this;
	}
	,onEnd: function() {
		this.finished = true;
		this.active = false;
		if(this._wasObjectImmovable != null) {
			this.object.set_immovable(this._wasObjectImmovable);
		}
		this._wasObjectImmovable = null;
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.putArray(this._nodes);
		this._nodes = null;
		this.object = null;
		this.onComplete = null;
	}
	,add: function(X,Y) {
		var tmp = this._nodes;
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		tmp.push(point);
		return this;
	}
	,addAt: function(X,Y,Index) {
		if(Index < 0) {
			return this;
		}
		var _this = this._nodes;
		var X1 = X;
		var Y1 = Y;
		if(Y1 == null) {
			Y1 = 0;
		}
		if(X1 == null) {
			X1 = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X1,Y1);
		point._inPool = false;
		_this.splice(Index,0,point);
		return this;
	}
	,addPoint: function(Node1,AsReference) {
		if(AsReference == null) {
			AsReference = false;
		}
		if(AsReference) {
			this._nodes.push(Node1);
		} else {
			var tmp = this._nodes;
			var X = Node1.x;
			var Y = Node1.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			tmp.push(point);
		}
		return this;
	}
	,addPointAt: function(Node1,Index,AsReference) {
		if(AsReference == null) {
			AsReference = false;
		}
		if(Index < 0) {
			return this;
		}
		if(AsReference) {
			this._nodes.splice(Index,0,Node1);
		} else {
			var _this = this._nodes;
			var X = Node1.x;
			var Y = Node1.y;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			_this.splice(Index,0,point);
		}
		return this;
	}
	,remove: function(Node1) {
		var index = this._nodes.indexOf(Node1);
		if(index >= 0) {
			return this._nodes.splice(index,1)[0];
		}
		return null;
	}
	,removeAt: function(Index) {
		if(this._nodes.length <= 0) {
			return null;
		}
		if(Index >= this._nodes.length - 1) {
			this._nodes.pop();
		}
		return this._nodes.splice(Index,1)[0];
	}
	,head: function() {
		if(this._nodes.length > 0) {
			return this._nodes[0];
		}
		return null;
	}
	,tail: function() {
		if(this._nodes.length > 0) {
			return this._nodes[this._nodes.length - 1];
		}
		return null;
	}
	,get_nodes: function() {
		return this._nodes;
	}
	,set_nodes: function(Nodes) {
		if(Nodes != null) {
			this._nodes = Nodes;
		}
		return this._nodes;
	}
	,__class__: flixel_util_FlxPath
	,__properties__: {set_nodes:"set_nodes",get_nodes:"get_nodes"}
};
var flixel_util_FlxPool = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool"] = flixel_util_FlxPool;
flixel_util_FlxPool.__name__ = "flixel.util.FlxPool";
flixel_util_FlxPool.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.destroy();
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.destroy();
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool
	,__properties__: {get_length:"get_length"}
};
var flixel_util_FlxPool_$flixel_$util_$LabelValuePair = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool_flixel_util_LabelValuePair"] = flixel_util_FlxPool_$flixel_$util_$LabelValuePair;
flixel_util_FlxPool_$flixel_$util_$LabelValuePair.__name__ = "flixel.util.FlxPool_flixel_util_LabelValuePair";
flixel_util_FlxPool_$flixel_$util_$LabelValuePair.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool_$flixel_$util_$LabelValuePair.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.label = null;
				obj.value = null;
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.label = null;
			obj.value = null;
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool_$flixel_$util_$LabelValuePair
	,__properties__: {get_length:"get_length"}
};
var flixel_util_FlxSaveStatus = $hxEnums["flixel.util.FlxSaveStatus"] = { __ename__:"flixel.util.FlxSaveStatus",__constructs__:null
	,SUCCESS: {_hx_name:"SUCCESS",_hx_index:0,__enum__:"flixel.util.FlxSaveStatus",toString:$estr}
	,PENDING: {_hx_name:"PENDING",_hx_index:1,__enum__:"flixel.util.FlxSaveStatus",toString:$estr}
	,ERROR: {_hx_name:"ERROR",_hx_index:2,__enum__:"flixel.util.FlxSaveStatus",toString:$estr}
};
flixel_util_FlxSaveStatus.__constructs__ = [flixel_util_FlxSaveStatus.SUCCESS,flixel_util_FlxSaveStatus.PENDING,flixel_util_FlxSaveStatus.ERROR];
var flixel_util__$FlxSignal_FlxSignalHandler = function(listener,dispatchOnce) {
	this.dispatchOnce = false;
	this.listener = listener;
	this.dispatchOnce = dispatchOnce;
};
$hxClasses["flixel.util._FlxSignal.FlxSignalHandler"] = flixel_util__$FlxSignal_FlxSignalHandler;
flixel_util__$FlxSignal_FlxSignalHandler.__name__ = "flixel.util._FlxSignal.FlxSignalHandler";
flixel_util__$FlxSignal_FlxSignalHandler.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util__$FlxSignal_FlxSignalHandler.prototype = {
	listener: null
	,dispatchOnce: null
	,destroy: function() {
		this.listener = null;
	}
	,__class__: flixel_util__$FlxSignal_FlxSignalHandler
};
var flixel_util_IFlxSignal = function() { };
$hxClasses["flixel.util.IFlxSignal"] = flixel_util_IFlxSignal;
flixel_util_IFlxSignal.__name__ = "flixel.util.IFlxSignal";
flixel_util_IFlxSignal.__isInterface__ = true;
flixel_util_IFlxSignal.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util_IFlxSignal.prototype = {
	dispatch: null
	,add: null
	,addOnce: null
	,remove: null
	,removeAll: null
	,has: null
	,__class__: flixel_util_IFlxSignal
};
var flixel_util__$FlxSignal_FlxBaseSignal = function() {
	this.processingListeners = false;
	this.handlers = [];
	this.pendingRemove = [];
};
$hxClasses["flixel.util._FlxSignal.FlxBaseSignal"] = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxBaseSignal.__name__ = "flixel.util._FlxSignal.FlxBaseSignal";
flixel_util__$FlxSignal_FlxBaseSignal.__interfaces__ = [flixel_util_IFlxSignal];
flixel_util__$FlxSignal_FlxBaseSignal.prototype = {
	dispatch: null
	,handlers: null
	,pendingRemove: null
	,processingListeners: null
	,add: function(listener) {
		if(listener != null) {
			this.registerListener(listener,false);
		}
	}
	,addOnce: function(listener) {
		if(listener != null) {
			this.registerListener(listener,true);
		}
	}
	,remove: function(listener) {
		if(listener != null) {
			var handler = this.getHandler(listener);
			if(handler != null) {
				if(this.processingListeners) {
					this.pendingRemove.push(handler);
				} else {
					HxOverrides.remove(this.handlers,handler);
					handler.destroy();
				}
			}
		}
	}
	,has: function(listener) {
		if(listener == null) {
			return false;
		}
		return this.getHandler(listener) != null;
	}
	,removeAll: function() {
		flixel_util_FlxDestroyUtil.destroyArray(this.handlers);
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.destroyArray(this.handlers);
		this.handlers = null;
		this.pendingRemove = null;
	}
	,registerListener: function(listener,dispatchOnce) {
		var handler = this.getHandler(listener);
		if(handler == null) {
			handler = new flixel_util__$FlxSignal_FlxSignalHandler(listener,dispatchOnce);
			this.handlers.push(handler);
			return handler;
		} else if(handler.dispatchOnce != dispatchOnce) {
			throw haxe_Exception.thrown("You cannot addOnce() then add() the same listener without removing the relationship first.");
		} else {
			return handler;
		}
	}
	,getHandler: function(listener) {
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			if(handler.listener == listener) {
				return handler;
			}
		}
		return null;
	}
	,__class__: flixel_util__$FlxSignal_FlxBaseSignal
};
var flixel_util__$FlxSignal_FlxSignal0 = function() {
	flixel_util__$FlxSignal_FlxBaseSignal.call(this);
	this.dispatch = $bind(this,this.dispatch0);
};
$hxClasses["flixel.util._FlxSignal.FlxSignal0"] = flixel_util__$FlxSignal_FlxSignal0;
flixel_util__$FlxSignal_FlxSignal0.__name__ = "flixel.util._FlxSignal.FlxSignal0";
flixel_util__$FlxSignal_FlxSignal0.__super__ = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxSignal0.prototype = $extend(flixel_util__$FlxSignal_FlxBaseSignal.prototype,{
	dispatch0: function() {
		this.processingListeners = true;
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			handler.listener();
			if(handler.dispatchOnce) {
				this.remove(handler.listener);
			}
		}
		this.processingListeners = false;
		var _g = 0;
		var _g1 = this.pendingRemove;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			this.remove(handler.listener);
		}
		if(this.pendingRemove.length > 0) {
			this.pendingRemove = [];
		}
	}
	,__class__: flixel_util__$FlxSignal_FlxSignal0
});
var flixel_util__$FlxSignal_FlxSignal1 = function() {
	flixel_util__$FlxSignal_FlxBaseSignal.call(this);
	this.dispatch = $bind(this,this.dispatch1);
};
$hxClasses["flixel.util._FlxSignal.FlxSignal1"] = flixel_util__$FlxSignal_FlxSignal1;
flixel_util__$FlxSignal_FlxSignal1.__name__ = "flixel.util._FlxSignal.FlxSignal1";
flixel_util__$FlxSignal_FlxSignal1.__super__ = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxSignal1.prototype = $extend(flixel_util__$FlxSignal_FlxBaseSignal.prototype,{
	dispatch1: function(value1) {
		this.processingListeners = true;
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			handler.listener(value1);
			if(handler.dispatchOnce) {
				this.remove(handler.listener);
			}
		}
		this.processingListeners = false;
		var _g = 0;
		var _g1 = this.pendingRemove;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			this.remove(handler.listener);
		}
		if(this.pendingRemove.length > 0) {
			this.pendingRemove = [];
		}
	}
	,__class__: flixel_util__$FlxSignal_FlxSignal1
});
var flixel_util__$FlxSignal_FlxSignal2 = function() {
	flixel_util__$FlxSignal_FlxBaseSignal.call(this);
	this.dispatch = $bind(this,this.dispatch2);
};
$hxClasses["flixel.util._FlxSignal.FlxSignal2"] = flixel_util__$FlxSignal_FlxSignal2;
flixel_util__$FlxSignal_FlxSignal2.__name__ = "flixel.util._FlxSignal.FlxSignal2";
flixel_util__$FlxSignal_FlxSignal2.__super__ = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxSignal2.prototype = $extend(flixel_util__$FlxSignal_FlxBaseSignal.prototype,{
	dispatch2: function(value1,value2) {
		this.processingListeners = true;
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			handler.listener(value1,value2);
			if(handler.dispatchOnce) {
				this.remove(handler.listener);
			}
		}
		this.processingListeners = false;
		var _g = 0;
		var _g1 = this.pendingRemove;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			this.remove(handler.listener);
		}
		if(this.pendingRemove.length > 0) {
			this.pendingRemove = [];
		}
	}
	,__class__: flixel_util__$FlxSignal_FlxSignal2
});
var flixel_util__$FlxSignal_FlxSignal3 = function() {
	flixel_util__$FlxSignal_FlxBaseSignal.call(this);
	this.dispatch = $bind(this,this.dispatch3);
};
$hxClasses["flixel.util._FlxSignal.FlxSignal3"] = flixel_util__$FlxSignal_FlxSignal3;
flixel_util__$FlxSignal_FlxSignal3.__name__ = "flixel.util._FlxSignal.FlxSignal3";
flixel_util__$FlxSignal_FlxSignal3.__super__ = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxSignal3.prototype = $extend(flixel_util__$FlxSignal_FlxBaseSignal.prototype,{
	dispatch3: function(value1,value2,value3) {
		this.processingListeners = true;
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			handler.listener(value1,value2,value3);
			if(handler.dispatchOnce) {
				this.remove(handler.listener);
			}
		}
		this.processingListeners = false;
		var _g = 0;
		var _g1 = this.pendingRemove;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			this.remove(handler.listener);
		}
		if(this.pendingRemove.length > 0) {
			this.pendingRemove = [];
		}
	}
	,__class__: flixel_util__$FlxSignal_FlxSignal3
});
var flixel_util__$FlxSignal_FlxSignal4 = function() {
	flixel_util__$FlxSignal_FlxBaseSignal.call(this);
	this.dispatch = $bind(this,this.dispatch4);
};
$hxClasses["flixel.util._FlxSignal.FlxSignal4"] = flixel_util__$FlxSignal_FlxSignal4;
flixel_util__$FlxSignal_FlxSignal4.__name__ = "flixel.util._FlxSignal.FlxSignal4";
flixel_util__$FlxSignal_FlxSignal4.__super__ = flixel_util__$FlxSignal_FlxBaseSignal;
flixel_util__$FlxSignal_FlxSignal4.prototype = $extend(flixel_util__$FlxSignal_FlxBaseSignal.prototype,{
	dispatch4: function(value1,value2,value3,value4) {
		this.processingListeners = true;
		var _g = 0;
		var _g1 = this.handlers;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			handler.listener(value1,value2,value3,value4);
			if(handler.dispatchOnce) {
				this.remove(handler.listener);
			}
		}
		this.processingListeners = false;
		var _g = 0;
		var _g1 = this.pendingRemove;
		while(_g < _g1.length) {
			var handler = _g1[_g];
			++_g;
			this.remove(handler.listener);
		}
		if(this.pendingRemove.length > 0) {
			this.pendingRemove = [];
		}
	}
	,__class__: flixel_util__$FlxSignal_FlxSignal4
});
var flixel_util__$FlxSignal_Macro = function() { };
$hxClasses["flixel.util._FlxSignal.Macro"] = flixel_util__$FlxSignal_Macro;
flixel_util__$FlxSignal_Macro.__name__ = "flixel.util._FlxSignal.Macro";
var flixel_util_FlxSort = function() { };
$hxClasses["flixel.util.FlxSort"] = flixel_util_FlxSort;
flixel_util_FlxSort.__name__ = "flixel.util.FlxSort";
flixel_util_FlxSort.byY = function(Order,Obj1,Obj2) {
	var Value1 = Obj1.y;
	var Value2 = Obj2.y;
	var result = 0;
	if(Value1 < Value2) {
		result = Order;
	} else if(Value1 > Value2) {
		result = -Order;
	}
	return result;
};
flixel_util_FlxSort.byValues = function(Order,Value1,Value2) {
	var result = 0;
	if(Value1 < Value2) {
		result = Order;
	} else if(Value1 > Value2) {
		result = -Order;
	}
	return result;
};
var flixel_util_FlxSpriteUtil = function() { };
$hxClasses["flixel.util.FlxSpriteUtil"] = flixel_util_FlxSpriteUtil;
flixel_util_FlxSpriteUtil.__name__ = "flixel.util.FlxSpriteUtil";
flixel_util_FlxSpriteUtil.alphaMask = function(output,source,mask) {
	var data = flixel_system_FlxAssets.resolveBitmapData(source);
	var maskData = flixel_system_FlxAssets.resolveBitmapData(mask);
	if(data == null || maskData == null) {
		return null;
	}
	data = data.clone();
	data.copyChannel(maskData,new openfl_geom_Rectangle(0,0,data.width,data.height),new openfl_geom_Point(),8,8);
	output.set_pixels(data);
	return output;
};
flixel_util_FlxSpriteUtil.alphaMaskFlxSprite = function(sprite,mask,output) {
	sprite.drawFrame();
	var data = sprite.get_pixels().clone();
	data.copyChannel(mask.get_pixels(),new openfl_geom_Rectangle(0,0,sprite.get_width(),sprite.get_height()),new openfl_geom_Point(),8,8);
	output.set_pixels(data);
	return output;
};
flixel_util_FlxSpriteUtil.screenWrap = function(sprite,Left,Right,Top,Bottom) {
	if(Bottom == null) {
		Bottom = true;
	}
	if(Top == null) {
		Top = true;
	}
	if(Right == null) {
		Right = true;
	}
	if(Left == null) {
		Left = true;
	}
	if(Left && sprite.x + sprite.frameWidth / 2 <= 0) {
		sprite.set_x(flixel_FlxG.width);
	} else if(Right && sprite.x >= flixel_FlxG.width) {
		sprite.set_x(0);
	}
	if(Top && sprite.y + sprite.frameHeight / 2 <= 0) {
		sprite.set_y(flixel_FlxG.height);
	} else if(Bottom && sprite.y >= flixel_FlxG.height) {
		sprite.set_y(0);
	}
	return sprite;
};
flixel_util_FlxSpriteUtil.bound = function(sprite,MinX,MaxX,MinY,MaxY) {
	if(MaxY == null) {
		MaxY = 0;
	}
	if(MinY == null) {
		MinY = 0;
	}
	if(MaxX == null) {
		MaxX = 0;
	}
	if(MinX == null) {
		MinX = 0;
	}
	if(MaxX <= 0) {
		MaxX = flixel_FlxG.width;
	}
	if(MaxY <= 0) {
		MaxY = flixel_FlxG.height;
	}
	MaxX -= sprite.frameWidth;
	MaxY -= sprite.frameHeight;
	var Value = sprite.x;
	var lowerBound = MinX != null && Value < MinX ? MinX : Value;
	sprite.set_x(MaxX != null && lowerBound > MaxX ? MaxX : lowerBound);
	var Value = sprite.y;
	var lowerBound = MinY != null && Value < MinY ? MinY : Value;
	sprite.set_y(MaxY != null && lowerBound > MaxY ? MaxY : lowerBound);
	return sprite;
};
flixel_util_FlxSpriteUtil.cameraWrap = function(sprite,camera,edges) {
	if(edges == null) {
		edges = 4369;
	}
	if(camera == null) {
		camera = flixel_FlxG.camera;
	}
	var spriteBounds = sprite.getScreenBounds(null,camera);
	var viewBounds = camera.getViewRect();
	var X = sprite.x - spriteBounds.x - camera.scroll.x;
	var Y = sprite.y - spriteBounds.y - camera.scroll.y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	var offset = point;
	var dir = 1;
	if((edges & dir) == dir && spriteBounds.x + spriteBounds.width < viewBounds.x) {
		sprite.set_x(camera.scroll.x + (viewBounds.x + viewBounds.width) + offset.x);
	} else {
		var dir = 16;
		if((edges & dir) == dir && spriteBounds.x > viewBounds.x + viewBounds.width) {
			sprite.set_x(camera.scroll.x + viewBounds.x + offset.x - spriteBounds.width);
		}
	}
	var dir = 256;
	if((edges & dir) == dir && spriteBounds.y + spriteBounds.height < viewBounds.y) {
		sprite.set_y(camera.scroll.y + (viewBounds.y + viewBounds.height) + offset.y);
	} else {
		var dir = 4096;
		if((edges & dir) == dir && spriteBounds.y > viewBounds.y + viewBounds.height) {
			sprite.set_y(camera.scroll.y + viewBounds.y + offset.y - spriteBounds.height);
		}
	}
	if(!spriteBounds._inPool) {
		spriteBounds._inPool = true;
		spriteBounds._weak = false;
		flixel_math_FlxRect._pool.putUnsafe(spriteBounds);
	}
	if(!viewBounds._inPool) {
		viewBounds._inPool = true;
		viewBounds._weak = false;
		flixel_math_FlxRect._pool.putUnsafe(viewBounds);
	}
	offset.put();
	return sprite;
};
flixel_util_FlxSpriteUtil.cameraBound = function(sprite,camera,edges) {
	if(edges == null) {
		edges = 4369;
	}
	if(camera == null) {
		camera = flixel_FlxG.camera;
	}
	var spriteBounds = sprite.getScreenBounds(null,camera);
	var viewBounds = camera.getViewRect();
	var X = sprite.x - spriteBounds.x - camera.scroll.x;
	var Y = sprite.y - spriteBounds.y - camera.scroll.y;
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var point = flixel_math_FlxPoint._pool.get().set(X,Y);
	point._inPool = false;
	var offset = point;
	var dir = 1;
	if((edges & dir) == dir && spriteBounds.x < viewBounds.x) {
		sprite.set_x(camera.scroll.x + viewBounds.x + offset.x);
	} else {
		var dir = 16;
		if((edges & dir) == dir && spriteBounds.x + spriteBounds.width > viewBounds.x + viewBounds.width) {
			sprite.set_x(camera.scroll.x + (viewBounds.x + viewBounds.width) + offset.x - spriteBounds.width);
		}
	}
	var dir = 256;
	if((edges & dir) == dir && spriteBounds.y < viewBounds.y) {
		sprite.set_y(camera.scroll.y + viewBounds.y + offset.y);
	} else {
		var dir = 4096;
		if((edges & dir) == dir && spriteBounds.y + spriteBounds.height > viewBounds.y + viewBounds.height) {
			sprite.set_y(camera.scroll.y + (viewBounds.y + viewBounds.height) + offset.y - spriteBounds.height);
		}
	}
	if(!spriteBounds._inPool) {
		spriteBounds._inPool = true;
		spriteBounds._weak = false;
		flixel_math_FlxRect._pool.putUnsafe(spriteBounds);
	}
	if(!viewBounds._inPool) {
		viewBounds._inPool = true;
		viewBounds._weak = false;
		flixel_math_FlxRect._pool.putUnsafe(viewBounds);
	}
	offset.put();
	return sprite;
};
flixel_util_FlxSpriteUtil.space = function(objects,startX,startY,horizontalSpacing,verticalSpacing,spaceFromBounds,position) {
	if(spaceFromBounds == null) {
		spaceFromBounds = false;
	}
	var prevWidth = 0;
	var runningX = 0;
	if(horizontalSpacing != null) {
		if(spaceFromBounds) {
			prevWidth = objects[0].get_width();
		}
		runningX = startX;
	} else {
		runningX = objects[0].x;
	}
	var prevHeight = 0;
	var runningY = 0;
	if(verticalSpacing != null) {
		if(spaceFromBounds) {
			prevHeight = objects[0].get_height();
		}
		runningY = startY;
	} else {
		runningY = objects[0].y;
	}
	if(position != null) {
		position(objects[0],runningX,runningY);
	} else {
		objects[0].set_x(runningX);
		objects[0].set_y(runningY);
	}
	var curX = 0;
	var curY = 0;
	var _g = 1;
	var _g1 = objects.length;
	while(_g < _g1) {
		var i = _g++;
		var object = objects[i];
		if(horizontalSpacing != null) {
			curX = runningX + prevWidth + horizontalSpacing;
			runningX = curX;
		} else {
			curX = object.x;
		}
		if(verticalSpacing != null) {
			curY = runningY + prevHeight + verticalSpacing;
			runningY = curY;
		} else {
			curY = object.y;
		}
		if(position != null) {
			position(object,curX,curY);
		} else {
			object.set_x(curX);
			object.set_y(curY);
		}
		if(spaceFromBounds) {
			prevWidth = object.get_width();
			prevHeight = object.get_height();
		}
	}
};
flixel_util_FlxSpriteUtil.drawLine = function(sprite,StartX,StartY,EndX,EndY,lineStyle,drawStyle) {
	var lineStyle1 = lineStyle;
	if(lineStyle1 == null) {
		lineStyle1 = { thickness : 1, color : -1};
	}
	if(lineStyle1.thickness == null) {
		lineStyle1.thickness = 1;
	}
	if(lineStyle1.color == null) {
		lineStyle1.color = -1;
	}
	lineStyle = lineStyle1;
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(0 != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(0,0.);
	}
	flixel_util_FlxSpriteUtil.flashGfx.moveTo(StartX,StartY);
	flixel_util_FlxSpriteUtil.flashGfx.lineTo(EndX,EndY);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawCurve = function(sprite,StartX,StartY,EndX,EndY,ControlX,ControlY,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = 0;
	}
	var lineStyle1 = lineStyle;
	if(lineStyle1 == null) {
		lineStyle1 = { thickness : 1, color : -1};
	}
	if(lineStyle1.thickness == null) {
		lineStyle1.thickness = 1;
	}
	if(lineStyle1.color == null) {
		lineStyle1.color = -1;
	}
	lineStyle = lineStyle1;
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.moveTo(StartX,StartY);
	flixel_util_FlxSpriteUtil.flashGfx.curveTo(EndX,EndY,ControlX,ControlY);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawRect = function(sprite,X,Y,Width,Height,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.drawRect(X,Y,Width,Height);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawRoundRect = function(sprite,X,Y,Width,Height,EllipseWidth,EllipseHeight,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.drawRoundRect(X,Y,Width,Height,EllipseWidth,EllipseHeight);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawRoundRectComplex = function(sprite,X,Y,Width,Height,TopLeftRadius,TopRightRadius,BottomLeftRadius,BottomRightRadius,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.drawRoundRectComplex(X,Y,Width,Height,TopLeftRadius,TopRightRadius,BottomLeftRadius,BottomRightRadius);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawCircle = function(sprite,X,Y,Radius,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	if(Radius == null) {
		Radius = -1;
	}
	if(Y == null) {
		Y = -1;
	}
	if(X == null) {
		X = -1;
	}
	if(X == -1 || Y == -1) {
		var midPoint = sprite.getGraphicMidpoint();
		if(X == -1) {
			X = midPoint.x - sprite.x;
		}
		if(Y == -1) {
			Y = midPoint.y - sprite.y;
		}
		midPoint.put();
	}
	if(Radius < 1) {
		var minVal = Math.min(sprite.frameWidth,sprite.frameHeight);
		Radius = minVal / 2;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.drawCircle(X,Y,Radius);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawEllipse = function(sprite,X,Y,Width,Height,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.drawEllipse(X,Y,Width,Height);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawTriangle = function(sprite,X,Y,Height,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	flixel_util_FlxSpriteUtil.flashGfx.moveTo(X + Height / 2,Y);
	flixel_util_FlxSpriteUtil.flashGfx.lineTo(X + Height,Height + Y);
	flixel_util_FlxSpriteUtil.flashGfx.lineTo(X,Height + Y);
	flixel_util_FlxSpriteUtil.flashGfx.lineTo(X + Height / 2,Y);
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.drawPolygon = function(sprite,Vertices,FillColor,lineStyle,drawStyle) {
	if(FillColor == null) {
		FillColor = -1;
	}
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
	var p = Vertices.shift();
	flixel_util_FlxSpriteUtil.flashGfx.moveTo(p.x,p.y);
	var _g = 0;
	while(_g < Vertices.length) {
		var p1 = Vertices[_g];
		++_g;
		flixel_util_FlxSpriteUtil.flashGfx.lineTo(p1.x,p1.y);
	}
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	Vertices.unshift(p);
	return sprite;
};
flixel_util_FlxSpriteUtil.beginDraw = function(FillColor,lineStyle) {
	flixel_util_FlxSpriteUtil.flashGfx.clear();
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
	if(FillColor != 0) {
		flixel_util_FlxSpriteUtil.flashGfx.beginFill(FillColor & 16777215,(FillColor >> 24 & 255) / 255);
	}
};
flixel_util_FlxSpriteUtil.endDraw = function(sprite,drawStyle) {
	flixel_util_FlxSpriteUtil.flashGfx.endFill();
	flixel_util_FlxSpriteUtil.updateSpriteGraphic(sprite,drawStyle);
	return sprite;
};
flixel_util_FlxSpriteUtil.updateSpriteGraphic = function(sprite,drawStyle) {
	if(drawStyle == null) {
		drawStyle = { smoothing : false};
	} else if(drawStyle.smoothing == null) {
		drawStyle.smoothing = false;
	}
	sprite.get_pixels().draw(flixel_util_FlxSpriteUtil.flashGfxSprite,drawStyle.matrix,drawStyle.colorTransform,drawStyle.blendMode,drawStyle.clipRect,drawStyle.smoothing);
	sprite.dirty = true;
	return sprite;
};
flixel_util_FlxSpriteUtil.setLineStyle = function(lineStyle) {
	if(lineStyle != null) {
		var color = lineStyle.color == null ? -16777216 : lineStyle.color;
		if(lineStyle.thickness == null) {
			lineStyle.thickness = 1;
		}
		if(lineStyle.pixelHinting == null) {
			lineStyle.pixelHinting = false;
		}
		if(lineStyle.miterLimit == null) {
			lineStyle.miterLimit = 3;
		}
		flixel_util_FlxSpriteUtil.flashGfx.lineStyle(lineStyle.thickness,color & 16777215,(color >> 24 & 255) / 255,lineStyle.pixelHinting,lineStyle.scaleMode,lineStyle.capsStyle,lineStyle.jointStyle,lineStyle.miterLimit);
	}
};
flixel_util_FlxSpriteUtil.getDefaultLineStyle = function(lineStyle) {
	if(lineStyle == null) {
		lineStyle = { thickness : 1, color : -1};
	}
	if(lineStyle.thickness == null) {
		lineStyle.thickness = 1;
	}
	if(lineStyle.color == null) {
		lineStyle.color = -1;
	}
	return lineStyle;
};
flixel_util_FlxSpriteUtil.fill = function(sprite,FillColor) {
	sprite.get_pixels().fillRect(sprite.get_pixels().rect,FillColor);
	if(sprite.get_pixels() != sprite.framePixels) {
		sprite.dirty = true;
	}
	return sprite;
};
flixel_util_FlxSpriteUtil.flicker = function(Object1,Duration,Interval,EndVisibility,ForceRestart,CompletionCallback,ProgressCallback) {
	if(ForceRestart == null) {
		ForceRestart = true;
	}
	if(EndVisibility == null) {
		EndVisibility = true;
	}
	if(Interval == null) {
		Interval = 0.04;
	}
	if(Duration == null) {
		Duration = 1;
	}
	return flixel_effects_FlxFlicker.flicker(Object1,Duration,Interval,EndVisibility,ForceRestart,CompletionCallback,ProgressCallback);
};
flixel_util_FlxSpriteUtil.isFlickering = function(Object1) {
	return flixel_effects_FlxFlicker.isFlickering(Object1);
};
flixel_util_FlxSpriteUtil.stopFlickering = function(Object1) {
	flixel_effects_FlxFlicker.stopFlickering(Object1);
	return Object1;
};
flixel_util_FlxSpriteUtil.fadeIn = function(sprite,Duration,ResetAlpha,OnComplete) {
	if(Duration == null) {
		Duration = 1;
	}
	if(ResetAlpha) {
		sprite.set_alpha(0);
	}
	var sprite1 = sprite;
	var tmp = function(f) {
		flixel_util_FlxSpriteUtil.alphaTween(sprite1,f);
	};
	flixel_tweens_FlxTween.num(sprite.alpha,1,Duration,{ onComplete : OnComplete},tmp);
	return sprite;
};
flixel_util_FlxSpriteUtil.fadeOut = function(sprite,Duration,OnComplete) {
	if(Duration == null) {
		Duration = 1;
	}
	var sprite1 = sprite;
	var tmp = function(f) {
		flixel_util_FlxSpriteUtil.alphaTween(sprite1,f);
	};
	flixel_tweens_FlxTween.num(sprite.alpha,0,Duration,{ onComplete : OnComplete},tmp);
	return sprite;
};
flixel_util_FlxSpriteUtil.alphaTween = function(sprite,f) {
	sprite.set_alpha(f);
};
var flixel_util_FlxStringUtil = function() { };
$hxClasses["flixel.util.FlxStringUtil"] = flixel_util_FlxStringUtil;
flixel_util_FlxStringUtil.__name__ = "flixel.util.FlxStringUtil";
flixel_util_FlxStringUtil.formatTicks = function(StartTicks,EndTicks) {
	return Math.abs(EndTicks - StartTicks) / 1000 + "s";
};
flixel_util_FlxStringUtil.formatTime = function(Seconds,ShowMS) {
	if(ShowMS == null) {
		ShowMS = false;
	}
	var timeString = (Seconds / 60 | 0) + ":";
	var timeStringHelper = (Seconds | 0) % 60;
	if(timeStringHelper < 10) {
		timeString += "0";
	}
	timeString += timeStringHelper;
	if(ShowMS) {
		timeString += ".";
		timeStringHelper = (Seconds - (Seconds | 0)) * 100 | 0;
		if(timeStringHelper < 10) {
			timeString += "0";
		}
		timeString += timeStringHelper;
	}
	return timeString;
};
flixel_util_FlxStringUtil.formatArray = function(AnyArray) {
	var string = "";
	if(AnyArray != null && AnyArray.length > 0) {
		string = Std.string(AnyArray[0]);
		var i = 1;
		var l = AnyArray.length;
		while(i < l) string += ", " + Std.string(AnyArray[i++]);
	}
	return string;
};
flixel_util_FlxStringUtil.formatStringMap = function(AnyMap) {
	var string = "";
	var h = AnyMap.h;
	var key_h = h;
	var key_keys = Object.keys(h);
	var key_length = key_keys.length;
	var key_current = 0;
	while(key_current < key_length) {
		var key = key_keys[key_current++];
		string += key == null ? "null" : "" + key;
		string += ", ";
	}
	return string.substring(0,string.length - 2);
};
flixel_util_FlxStringUtil.formatMoney = function(Amount,ShowDecimal,EnglishStyle) {
	if(EnglishStyle == null) {
		EnglishStyle = true;
	}
	if(ShowDecimal == null) {
		ShowDecimal = true;
	}
	var isNegative = Amount < 0;
	Amount = Math.abs(Amount);
	var string = "";
	var comma = "";
	var amount = Math.floor(Amount);
	while(amount > 0) {
		if(string.length > 0 && comma.length <= 0) {
			comma = EnglishStyle ? "," : ".";
		}
		var zeroes = "";
		var helper = amount - Math.floor(amount / 1000) * 1000;
		amount = Math.floor(amount / 1000);
		if(amount > 0) {
			if(helper < 100) {
				zeroes += "0";
			}
			if(helper < 10) {
				zeroes += "0";
			}
		}
		string = zeroes + helper + comma + string;
	}
	if(string == "") {
		string = "0";
	}
	if(ShowDecimal) {
		amount = Math.floor(Amount * 100) - Math.floor(Amount) * 100;
		string += EnglishStyle ? "." : ",";
		if(amount < 10) {
			string += "0";
		}
		string += amount;
	}
	if(isNegative) {
		string = "-" + string;
	}
	return string;
};
flixel_util_FlxStringUtil.formatBytes = function(Bytes,Precision) {
	if(Precision == null) {
		Precision = 2;
	}
	var units = ["Bytes","kB","MB","GB","TB","PB"];
	var curUnit = 0;
	while(Bytes >= 1024 && curUnit < units.length - 1) {
		Bytes /= 1024;
		++curUnit;
	}
	return flixel_math_FlxMath.roundDecimal(Bytes,Precision) + units[curUnit];
};
flixel_util_FlxStringUtil.filterDigits = function(Input) {
	var output_b = "";
	var _g = 0;
	var _g1 = Input.length;
	while(_g < _g1) {
		var i = _g++;
		var c = HxOverrides.cca(Input,i);
		if(c >= 48 && c <= 57) {
			output_b += String.fromCodePoint(c);
		}
	}
	return output_b;
};
flixel_util_FlxStringUtil.htmlFormat = function(Text1,Size,Color,Bold,Italic,Underlined) {
	if(Underlined == null) {
		Underlined = false;
	}
	if(Italic == null) {
		Italic = false;
	}
	if(Bold == null) {
		Bold = false;
	}
	if(Color == null) {
		Color = "FFFFFF";
	}
	if(Size == null) {
		Size = 12;
	}
	var prefix = "<font size='" + Size + "' color='#" + Color + "'>";
	var suffix = "</font>";
	if(Bold) {
		prefix = "<b>" + prefix;
		suffix += "</b>";
	}
	if(Italic) {
		prefix = "<i>" + prefix;
		suffix += "</i>";
	}
	if(Underlined) {
		prefix = "<u>" + prefix;
		suffix += "</u>";
	}
	return prefix + Text1 + suffix;
};
flixel_util_FlxStringUtil.getClassName = function(objectOrClass,simple) {
	if(simple == null) {
		simple = false;
	}
	var cl;
	if(js_Boot.__instanceof(objectOrClass,Class)) {
		cl = objectOrClass;
	} else {
		cl = js_Boot.getClass(objectOrClass);
	}
	return flixel_util_FlxStringUtil.formatPackage(cl.__name__,simple);
};
flixel_util_FlxStringUtil.getEnumName = function(enumValueOrEnum,simple) {
	if(simple == null) {
		simple = false;
	}
	var e;
	if(js_Boot.__instanceof(enumValueOrEnum,Enum)) {
		e = enumValueOrEnum;
	} else {
		e = Type.getEnum(enumValueOrEnum);
	}
	return flixel_util_FlxStringUtil.formatPackage(e.__ename__,simple);
};
flixel_util_FlxStringUtil.formatPackage = function(s,simple) {
	if(s == null) {
		return null;
	}
	s = StringTools.replace(s,"::",".");
	if(simple) {
		s = HxOverrides.substr(s,s.lastIndexOf(".") + 1,null);
	}
	return s;
};
flixel_util_FlxStringUtil.getHost = function(url) {
	var hostFromURL = new EReg("^(?:[a-z][a-z0-9+\\-.]*://)?(?:[a-z0-9\\-._~%!$&'()*+,;=]+@)?([a-z0-9\\-._~%]{3,}|\\[[a-f0-9:.]+\\])?(?::[0-9]+)?","i");
	if(hostFromURL.match(url)) {
		var host = hostFromURL.matched(1);
		if(host != null) {
			return decodeURIComponent(host.split("+").join(" ")).toLowerCase();
		} else {
			return "";
		}
	}
	return "";
};
flixel_util_FlxStringUtil.getDomain = function(url) {
	var host = flixel_util_FlxStringUtil.getHost(url);
	var isLocalhostOrIpAddress = new EReg("^(localhost|[0-9.]+|\\[[a-f0-9:.]+\\])$","i");
	var domainFromHost = new EReg("^(?:[a-z0-9\\-]+\\.)*([a-z0-9\\-]+\\.[a-z0-9\\-]+)$","i");
	if(!isLocalhostOrIpAddress.match(host) && domainFromHost.match(host)) {
		var domain = domainFromHost.matched(1);
		if(domain != null) {
			return domain.toLowerCase();
		} else {
			return "";
		}
	}
	return "";
};
flixel_util_FlxStringUtil.sameClassName = function(Obj1,Obj2,Simple) {
	if(Simple == null) {
		Simple = true;
	}
	return flixel_util_FlxStringUtil.getClassName(Obj1,Simple) == flixel_util_FlxStringUtil.getClassName(Obj2,Simple);
};
flixel_util_FlxStringUtil.toIntArray = function(Data) {
	if(Data != null && Data != "") {
		var strArray = Data.split(",");
		var iArray = [];
		var _g = 0;
		while(_g < strArray.length) {
			var str = strArray[_g];
			++_g;
			iArray.push(Std.parseInt(str));
		}
		return iArray;
	}
	return null;
};
flixel_util_FlxStringUtil.toFloatArray = function(Data) {
	if(Data != null && Data != "") {
		var strArray = Data.split(",");
		var fArray = [];
		var _g = 0;
		while(_g < strArray.length) {
			var str = strArray[_g];
			++_g;
			fArray.push(parseFloat(str));
		}
		return fArray;
	}
	return null;
};
flixel_util_FlxStringUtil.arrayToCSV = function(Data,Width,Invert) {
	if(Invert == null) {
		Invert = false;
	}
	var row = 0;
	var column;
	var csv = "";
	var height = Data.length / Width | 0;
	var index;
	var offset = 0;
	while(row < height) {
		column = 0;
		while(column < Width) {
			index = Data[offset];
			if(Invert) {
				if(index == 0) {
					index = 1;
				} else if(index == 1) {
					index = 0;
				}
			}
			if(column == 0) {
				if(row == 0) {
					csv += index;
				} else {
					csv += "\n" + index;
				}
			} else {
				csv += ", " + index;
			}
			++column;
			++offset;
		}
		++row;
	}
	return csv;
};
flixel_util_FlxStringUtil.bitmapToCSV = function(Bitmap,Invert,Scale,ColorMap) {
	if(Scale == null) {
		Scale = 1;
	}
	if(Invert == null) {
		Invert = false;
	}
	if(Scale < 1) {
		Scale = 1;
	}
	if(Scale > 1) {
		var bd = Bitmap;
		Bitmap = new openfl_display_BitmapData(Bitmap.width * Scale,Bitmap.height * Scale);
		var bdW = bd.width;
		var bdH = bd.height;
		var pCol = 0;
		var _g = 0;
		var _g1 = bdW;
		while(_g < _g1) {
			var i = _g++;
			var _g2 = 0;
			var _g3 = bdH;
			while(_g2 < _g3) {
				var j = _g2++;
				pCol = bd.getPixel(i,j);
				var _g4 = 0;
				var _g5 = Scale;
				while(_g4 < _g5) {
					var k = _g4++;
					var _g6 = 0;
					var _g7 = Scale;
					while(_g6 < _g7) {
						var m = _g6++;
						Bitmap.setPixel(i * Scale + k,j * Scale + m,pCol);
					}
				}
			}
		}
	}
	if(ColorMap != null) {
		var _g = 0;
		var _g1 = ColorMap.length;
		while(_g < _g1) {
			var i = _g++;
			ColorMap[i] = ColorMap[i] & 16777215;
		}
	}
